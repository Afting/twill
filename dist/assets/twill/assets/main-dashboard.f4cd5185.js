import{n as m,m as k,f as h,h as $,i as M,s as _,j as A,k as P,o as D}from"./form.3ed58db1.js";import{D as R,l as B}from"./language.2baf5859.js";import{d as S}from"./datatable.06f2efa1.js";import"./pushState.5b409387.js";var E=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"shortcutCreator"},[t.entities.length?a("div",{staticClass:"container"},[a("div",{staticClass:"wrapper wrapper--reverse"},[a("div",{staticClass:"shortcutCreator__create"},[a("a17-dropdown",{ref:"createNewDropdown",staticClass:"shortcutCreator__dropdown",attrs:{position:"bottom-right",width:"full",offset:0}},[a("a17-button",{staticClass:"shortcutCreator__btn",attrs:{type:"button",variant:"action"},on:{click:function(e){return t.$refs.createNewDropdown.toggle()}}},[t._v(" "+t._s(t.$trans("dashboard.create-new","Create new"))+" "),a("span",{staticClass:"shortcutCreator__trigger"},[a("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})])]),a("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[a("ul",[t._l(t.entities,function(e,i){return[e.createUrl?a("li",{key:i},[a("a",{attrs:{href:e.createUrl}},[t._v(t._s(e.singular))])]):t._e()]})],2)])],1)],1),a("div",{staticClass:"shortcutCreator__listing"},[t._l(t.entities,function(e,i){return[e.number?a("a",{key:i,staticClass:"shortcutCreator__listingItem",attrs:{href:e.url}},[a("span",{staticClass:"shortcutCreator__label"},[t._v(t._s(e.label))]),a("h3",{staticClass:"shortcutCreator__sum f--heading"},[t._v(t._s(e.number))])]):t._e()]})],2)])]):t._e()])},N=[];const T={name:"A17ShortcutCreator",props:{entities:{type:Array,default:function(){return[]}}},computed:{},methods:{}},x={};var L=m(T,E,N,!1,j,"137bc114",null,null);function j(t){for(let n in x)this[n]=x[n]}var O=function(){return L.exports}(),U=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("tr",{staticClass:"activityRow"},[t._l(t.columns,function(e){return a("td",{key:e.name,staticClass:"activityCell",class:t.cellClasses(e)},[t.isSpecificColumn(e)?[e.name==="published"?a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"activityCell__pubstate",class:{"activityCell__pubstate--live":t.row[e.name]},attrs:{"data-tooltip-title":t.row[e.name]?"Published":"Draft"}}):t._e(),t._v(" "),e.name==="thumbnail"?a("a",{staticClass:"activityCell__thumb",attrs:{href:t.row.edit}},[a("img",{attrs:{src:t.row[e.name]}})]):t._e()]:[e.name==="name"?[a("a",{staticClass:"activityCell__link",attrs:{href:t.row.edit}},[t._v(t._s(t.row[e.name]))]),a("p",{staticClass:"activityCell__meta f--note"},[t._v(" "+t._s(t.row.activity)+" "),a("timeago",{attrs:{"auto-update":1,datetime:new Date(t.row.date)}}),t._v(" "+t._s(t.$trans("dashboard.activity-row.by","by"))+" "+t._s(t.row.author)+" "),a("span",{staticClass:"activityCell__type"},[t._v(t._s(t.row.type))])],1)]:t._e()]],2)}),a("td",{staticClass:"activityCell activityCell--icon"},[a("a17-dropdown",{ref:"activityRowSetupDropdown",attrs:{position:"bottom-right"}},[a("a17-button",{attrs:{variant:"icon"},on:{click:function(e){return t.$refs.activityRowSetupDropdown.toggle()}}},[a("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),a("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t.row.hasOwnProperty("permalink")?a("a",{attrs:{href:t.row.permalink,target:"_blank"}},[t._v(t._s(t.$trans("dashboard.activity-row.view-permalink","View Permalink")))]):t._e(),t.row.hasOwnProperty("edit")?a("a",{attrs:{href:t.row.edit}},[t._v(t._s(t.$trans("dashboard.activity-row.edit","Edit")))]):t._e()])],1)],1)],2)},V=[];const Y={name:"A17ActivityRow",props:{index:{type:Number,default:0},row:{type:Object,default:function(){return{}}},columns:{type:Array,default:function(){return[]}}},computed:{},methods:{cellClasses:function(t){return{"activityCell--icon":t.name==="featured"||t.name==="published","activityCell--pub hide--xsmall":t.name==="published","activityCell--thumb hide--xsmall":t.name==="thumbnail"}},isSpecificColumn:function(t){return t.name==="featured"||t.name==="published"||t.name==="thumbnail"}}},g={};var z=m(Y,U,V,!1,X,"571ea5c6",null,null);function X(t){for(let n in g)this[n]=g[n]}var G=function(){return z.exports}(),q=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"box activityFeed"},[a("header",{staticClass:"box__header"},[t._t("default"),a("ul",{staticClass:"box__filter"},t._l(t.navFilters,function(e,i){return a("li",{key:i},[a("a",{class:{"s--on":t.navActive===i},attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.filterStatus(i,e.slug)}}},[t._v(t._s(e.name))])])}),0)],2),a("div",{staticClass:"box__body"},[t.rows.length>0?a("table",{staticClass:"activityFeed__table"},[t._l(t.rows,function(e,i){return[a("a17-activity-row",{key:e.id,attrs:{row:e,index:i,columns:t.columns}})]})],2):[a("div",{staticClass:"activityFeed__empty"},[a("h4",[t._v(t._s(t.emptyMessage))])])]],2)])},H=[];const W={name:"A17ActivityFeed",components:{"a17-activity-row":G},props:{emptyMessage:{type:String,default:"You don't have any activity yet."}},data:function(){return{navFilters:[{name:this.$trans("dashboard.all-activity","All activity"),slug:"all"},{name:this.$trans("dashboard.my-activity","My activity"),slug:"mine"}],navActive:0}},computed:{rows:{get(){return this.$store.state.datatable.data},set(t){this.$store.commit(R.UPDATE_DATATABLE_DATA,t)}},...k({page:t=>t.datatable.page,maxPage:t=>t.datatable.maxPage,columns:t=>t.datatable.columns})},methods:{filterStatus:function(t,n){this.navActive!==t&&(this.navActive=t,window[{}.VUE_APP_NAME].STORE.datatable&&window[{}.VUE_APP_NAME].STORE.datatable.hasOwnProperty(n)&&(this.rows=window[{}.VUE_APP_NAME].STORE.datatable[n]))}}},y={};var J=m(W,q,H,!1,K,"15ee17c6",null,null);function K(t){for(let n in y)this[n]=y[n]}var Q=function(){return J.exports}();function w(t){return parseInt(t,10)}function Z(t,n,a){return w(t.x+a.x)===w(2*n.x)&&w(t.y+a.y)===w(2*n.y)}function b(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function I(t,n,a){var e={x:t.x-n.x,y:t.y-n.y},i=Math.sqrt(e.x*e.x+e.y*e.y),r={x:e.x/i,y:e.y/i};return{x:n.x+r.x*a,y:n.y+r.y*a}}function tt(t,n,a){var e=n.minX,i=n.minY,r=n.maxX,o=n.maxY,f=a.max,s=a.min;t=t.map(function(l){return typeof l=="number"?l:l.value});var d=Math.min.apply(Math,t.concat([s]))-.001,c=(r-e)/(t.length-1),p=(o-i)/(Math.max.apply(Math,t.concat([f]))+.001-d);return t.map(function(l,v){return{x:v*c+e,y:o-(l-d)*p+ +(v===t.length-1)*1e-5-+(v===0)*1e-5}})}function at(t,n){var a=t.shift();return"M"+a.x+" "+a.y+t.map(function(e,i){var r=t[i+1],o=t[i-1]||a,f=r&&Z(r,e,o);if(!r||f)return"L"+e.x+" "+e.y;var s=Math.min(b(o,e),b(r,e)),d=s/2<n,c=d?s/2:n,p=I(o,e,c),l=I(r,e,c);return"L"+p.x+" "+p.y+"S"+e.x+" "+e.y+" "+l.x+" "+l.y}).join("")}var et={props:["smooth","data","boundary","radius","id","max","min"],render:function(n){var a=this,e=a.data,i=a.smooth,r=a.boundary,o=a.radius,f=a.id,s=a.max,d=a.min,c=tt(e,r,{max:s,min:d}),p=at(c,i?o:0);return n("path",{attrs:{d:p,fill:"none",stroke:"url(#"+f+")"}})}},nt={props:["gradient","gradientDirection","id"],render:function(n){var a=this,e=a.gradient,i=a.gradientDirection,r=a.id,o=e.length-1||1,f=e.slice().reverse().map(function(s,d){return n("stop",{attrs:{offset:d/o,"stop-color":s}})});return n("defs",[n("linearGradient",{attrs:{id:r,x1:+(i==="left"),y1:+(i==="top"),x2:+(i==="right"),y2:+(i==="bottom")}},f)])}},u={name:"Trend",props:{data:{type:Array,required:!0},autoDraw:Boolean,autoDrawDuration:{type:Number,default:2e3},autoDrawEasing:{type:String,default:"ease"},gradient:{type:Array,default:function(){return["#000"]}},gradientDirection:{type:String,default:"top"},max:{type:Number,default:-1/0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},watch:{data:{immediate:!0,handler:function(n){var a=this;this.$nextTick(function(){if(!(a.$isServer||!a.$refs.path||!a.autoDraw)){var e=a.$refs.path.$el,i=e.getTotalLength();e.style.transition="none",e.style.strokeDasharray=i+" "+i,e.style.strokeDashoffset=Math.abs(i-(a.lastLength||0)),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset "+a.autoDrawDuration+"ms "+a.autoDrawEasing,e.style.strokeDashoffset=0,a.lastLength=i}})}}},render:function(n){if(!(!this.data||this.data.length<2)){var a=this,e=a.width,i=a.height,r=a.padding,o=e||300,f=i||75,s={minX:r,minY:r,maxX:o-r,maxY:f-r},d=this.$props;return d.boundary=s,d.id="vue-trend-"+this._uid,n("svg",{attrs:{width:e||"100%",height:i||"25%",viewBox:"0 0 "+o+" "+f}},[n(nt,{props:d}),n(et,{props:d,ref:"path"})])}}};u.install=function(t){t.component(u.name,u)};typeof window!="undefined"&&window.Vue&&window.Vue.use(u);var it=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"box statFeed"},[a("header",{staticClass:"box__header"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"col--double"},[a("b",[t._t("default")],2)]),a("div",{staticClass:"col--double"},[a("div",{staticClass:"statFeed__dropdown"},[a("a17-dropdown",{ref:"statPeriodDropdown",attrs:{position:"bottom-right"}},[a("a17-button",{attrs:{variant:"ghost"},on:{click:function(e){return t.$refs.statPeriodDropdown.toggle()}}},[t._v(t._s(t.selectedPeriodLabel)+" "),a("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"statFeed__dropdownIcon",attrs:{symbol:"dropdown_module"}})]),a("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._l(t.periods,function(e,i){return[e.value!==t.selectedPeriod?a("button",{key:i,attrs:{type:"button"},on:{click:function(r){return t.selectPeriod(e.value)}}},[t._v(t._s(e.label))]):t._e()]})],2)],1)],1)])])]),a("div",{staticClass:"box__body"},[t._l(t.factsForSelectedPeriod,function(e,i){return[a("a",{key:i,staticClass:"statFeed__item",attrs:{href:e.url,target:"_blank"}},[a("h3",{staticClass:"statFeed__numb f--heading",class:t.trending(i)},[t._v(t._s(e.figure))]),a("div",{staticClass:"statFeed__info"},[a("h4",{staticClass:"statFeed__label"},[t._v(t._s(e.label))]),a("p",{staticClass:"statFeed__meta f--note f--small"},[t._v(t._s(e.insight))])]),a("div",{staticClass:"statFeed__line"},[a("trend",{attrs:{data:e.data,gradient:["#cccccc"],"stroke-width":"2",padding:0,"auto-draw":"",smooth:"",width:"100",height:"50"}})],1)])]})],2),t._m(0)])},rt=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("footer",{staticClass:"box__footer statFeed__footer"},[a("a",{staticClass:"f--external",attrs:{href:"https://analytics.google.com/analytics/web",target:"_blank"}},[t._v("Google Analytics")])])}];h.use(u);const ot={name:"A17StatFeed",props:{facts:{type:Object,default:function(){return{}}}},data:function(){return{selectedPeriod:"yesterday",periods:[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"This week",value:"week"},{label:"This month",value:"month"}]}},computed:{factsForSelectedPeriod(){return this.facts[this.selectedPeriod]},selectedPeriodLabel(){return this.periods.find(t=>t.value===this.selectedPeriod).label}},methods:{trending:function(t){return"statFeed__numb--"+this.factsForSelectedPeriod[t].trend},selectPeriod:function(t){this.selectedPeriod=t}}},C={};var dt=m(ot,it,rt,!1,ft,"7e20b764",null,null);function ft(t){for(let n in C)this[n]=C[n]}var st=function(){return dt.exports}(),lt=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"box genericFeed"},[a("header",{staticClass:"box__header"},[a("b",[t._t("default")],2)]),a("div",{staticClass:"box__body"},[a("ol",{staticClass:"genericFeed__list",class:{"genericFeed__list--numbered":t.hasNumber}},t._l(t.entities,function(e,i){return a("li",{key:i},[a("a",{staticClass:"genericFeed__item",attrs:{href:e.url,target:t.target(e)}},[e.thumbnail?a("span",{staticClass:"genericFeed__thumbnails"},[a("img",{attrs:{src:e.thumbnail}})]):t._e(),a("span",{staticClass:"genericFeed__label"},[a("span",[a("span",{staticClass:"genericFeed__hover"},[t._v(t._s(e.name))])])]),e.number?a("span",{staticClass:"genericFeed__views f--tiny"},[t._v(t._s(e.number))]):t._e(),e.type?a("span",{staticClass:"genericFeed__type"},[t._v(t._s(e.type))]):t._e()])])}),0)])])},ct=[];const pt={name:"A17GenericFeed",props:{entities:{type:Array,default:function(){return[]}}},computed:{hasNumber:function(){return this.entities.filter(t=>t.hasOwnProperty("number")).length}},methods:{target:function(t){return t.hasOwnProperty("external")?"_blank":!1}}},F={};var ut=m(pt,lt,ct,!1,mt,"3580f989",null,null);function mt(t){for(let n in F)this[n]=F[n]}var wt=function(){return ut.exports}();h.use($);h.use(M);_.registerModule("datatable",S);_.registerModule("language",B);_.registerModule("form",A);window[{}.VUE_APP_NAME].vm=window.vm=new h({store:_,el:"#app",components:{"a17-shortcut-creator":O,"a17-activity-feed":Q,"a17-stat-feed":st,"a17-feed":wt},created:function(){D()}});document.addEventListener("DOMContentLoaded",P);
