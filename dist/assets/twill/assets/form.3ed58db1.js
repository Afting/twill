var ct=Object.defineProperty;var ut=(e,t,n)=>t in e?ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Te=(e,t,n)=>(ut(e,typeof t!="symbol"?t+"":t,n),n);/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */var emptyObject=Object.freeze({});function isUndef(e){return e==null}function isDef(e){return e!=null}function isTrue(e){return e===!0}function isFalse(e){return e===!1}function isPrimitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function isObject$h(e){return e!==null&&typeof e=="object"}var _toString=Object.prototype.toString;function toRawType$1(e){return _toString.call(e).slice(8,-1)}function isPlainObject$4(e){return _toString.call(e)==="[object Object]"}function isRegExp(e){return _toString.call(e)==="[object RegExp]"}function isValidArrayIndex(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function isPromise$1(e){return isDef(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function toString$4(e){return e==null?"":Array.isArray(e)||isPlainObject$4(e)&&e.toString===_toString?JSON.stringify(e,null,2):String(e)}function toNumber$2(e){var t=parseFloat(e);return isNaN(t)?e:t}function makeMap$1(e,t){for(var n=Object.create(null),r=e.split(","),a=0;a<r.length;a++)n[r[a]]=!0;return t?function(o){return n[o.toLowerCase()]}:function(o){return n[o]}}makeMap$1("slot,component",!0);var isReservedAttribute=makeMap$1("key,ref,slot,slot-scope,is");function remove(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var hasOwnProperty$h=Object.prototype.hasOwnProperty;function hasOwn$1(e,t){return hasOwnProperty$h.call(e,t)}function cached(e){var t=Object.create(null);return function(r){var a=t[r];return a||(t[r]=e(r))}}var camelizeRE=/-(\w)/g,camelize=cached(function(e){return e.replace(camelizeRE,function(t,n){return n?n.toUpperCase():""})}),capitalize=cached(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),hyphenateRE=/\B([A-Z])/g,hyphenate=cached(function(e){return e.replace(hyphenateRE,"-$1").toLowerCase()});function polyfillBind(e,t){function n(r){var a=arguments.length;return a?a>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return n._length=e.length,n}function nativeBind(e,t){return e.bind(t)}var bind$5=Function.prototype.bind?nativeBind:polyfillBind;function toArray$1(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function extend$3(e,t){for(var n in t)e[n]=t[n];return e}function toObject$1(e){for(var t={},n=0;n<e.length;n++)e[n]&&extend$3(t,e[n]);return t}function noop(e,t,n){}var no=function(e,t,n){return!1},identity$4=function(e){return e};function looseEqual(e,t){if(e===t)return!0;var n=isObject$h(e),r=isObject$h(t);if(n&&r)try{var a=Array.isArray(e),o=Array.isArray(t);if(a&&o)return e.length===t.length&&e.every(function(c,u){return looseEqual(c,t[u])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!a&&!o){var s=Object.keys(e),l=Object.keys(t);return s.length===l.length&&s.every(function(c){return looseEqual(e[c],t[c])})}else return!1}catch{return!1}else return!n&&!r?String(e)===String(t):!1}function looseIndexOf(e,t){for(var n=0;n<e.length;n++)if(looseEqual(e[n],t))return n;return-1}function once$1(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var SSR_ATTR="data-server-rendered",ASSET_TYPES=["component","directive","filter"],LIFECYCLE_HOOKS=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],config$1={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:no,isReservedAttr:no,isUnknownElement:no,getTagNamespace:noop,parsePlatformTagName:identity$4,mustUseProp:no,async:!0,_lifecycleHooks:LIFECYCLE_HOOKS},unicodeRegExp=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function isReserved(e){var t=(e+"").charCodeAt(0);return t===36||t===95}function def(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var bailRE=new RegExp("[^"+unicodeRegExp.source+".$_\\d]");function parsePath(e){if(!bailRE.test(e)){var t=e.split(".");return function(n){for(var r=0;r<t.length;r++){if(!n)return;n=n[t[r]]}return n}}}var hasProto="__proto__"in{},inBrowser=typeof window!="undefined",inWeex=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,weexPlatform=inWeex&&WXEnvironment.platform.toLowerCase(),UA=inBrowser&&window.navigator.userAgent.toLowerCase(),isIE=UA&&/msie|trident/.test(UA),isIE9=UA&&UA.indexOf("msie 9.0")>0,isEdge=UA&&UA.indexOf("edge/")>0;UA&&UA.indexOf("android")>0;var isIOS=UA&&/iphone|ipad|ipod|ios/.test(UA)||weexPlatform==="ios";UA&&/chrome\/\d+/.test(UA);UA&&/phantomjs/.test(UA);var isFF=UA&&UA.match(/firefox\/(\d+)/),nativeWatch={}.watch,supportsPassive=!1;if(inBrowser)try{var opts={};Object.defineProperty(opts,"passive",{get:function(){supportsPassive=!0}}),window.addEventListener("test-passive",null,opts)}catch{}var _isServer,isServerRendering=function(){return _isServer===void 0&&(!inBrowser&&!inWeex&&typeof global!="undefined"?_isServer=global.process&&global.process.env.VUE_ENV==="server":_isServer=!1),_isServer},devtools=inBrowser&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function isNative(e){return typeof e=="function"&&/native code/.test(e.toString())}var hasSymbol=typeof Symbol!="undefined"&&isNative(Symbol)&&typeof Reflect!="undefined"&&isNative(Reflect.ownKeys),_Set$1;typeof Set!="undefined"&&isNative(Set)?_Set$1=Set:_Set$1=function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(n){return this.set[n]===!0},e.prototype.add=function(n){this.set[n]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var warn$2=noop,uid$1=0,Dep=function(){this.id=uid$1++,this.subs=[]};Dep.prototype.addSub=function(t){this.subs.push(t)};Dep.prototype.removeSub=function(t){remove(this.subs,t)};Dep.prototype.depend=function(){Dep.target&&Dep.target.addDep(this)};Dep.prototype.notify=function(){for(var t=this.subs.slice(),n=0,r=t.length;n<r;n++)t[n].update()};Dep.target=null;var targetStack=[];function pushTarget(e){targetStack.push(e),Dep.target=e}function popTarget(){targetStack.pop(),Dep.target=targetStack[targetStack.length-1]}var VNode=function(t,n,r,a,o,s,l,c){this.tag=t,this.data=n,this.children=r,this.text=a,this.elm=o,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=l,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},prototypeAccessors$8={child:{configurable:!0}};prototypeAccessors$8.child.get=function(){return this.componentInstance};Object.defineProperties(VNode.prototype,prototypeAccessors$8);var createEmptyVNode=function(e){e===void 0&&(e="");var t=new VNode;return t.text=e,t.isComment=!0,t};function createTextVNode(e){return new VNode(void 0,void 0,void 0,String(e))}function cloneVNode(e){var t=new VNode(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var arrayProto$1=Array.prototype,arrayMethods=Object.create(arrayProto$1),methodsToPatch=["push","pop","shift","unshift","splice","sort","reverse"];methodsToPatch.forEach(function(e){var t=arrayProto$1[e];def(arrayMethods,e,function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var o=t.apply(this,r),s=this.__ob__,l;switch(e){case"push":case"unshift":l=r;break;case"splice":l=r.slice(2);break}return l&&s.observeArray(l),s.dep.notify(),o})});var arrayKeys=Object.getOwnPropertyNames(arrayMethods),shouldObserve=!0;function toggleObserving(e){shouldObserve=e}var Observer=function(t){this.value=t,this.dep=new Dep,this.vmCount=0,def(t,"__ob__",this),Array.isArray(t)?(hasProto?protoAugment(t,arrayMethods):copyAugment(t,arrayMethods,arrayKeys),this.observeArray(t)):this.walk(t)};Observer.prototype.walk=function(t){for(var n=Object.keys(t),r=0;r<n.length;r++)defineReactive$$1(t,n[r])};Observer.prototype.observeArray=function(t){for(var n=0,r=t.length;n<r;n++)observe(t[n])};function protoAugment(e,t){e.__proto__=t}function copyAugment(e,t,n){for(var r=0,a=n.length;r<a;r++){var o=n[r];def(e,o,t[o])}}function observe(e,t){if(!(!isObject$h(e)||e instanceof VNode)){var n;return hasOwn$1(e,"__ob__")&&e.__ob__ instanceof Observer?n=e.__ob__:shouldObserve&&!isServerRendering()&&(Array.isArray(e)||isPlainObject$4(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Observer(e)),t&&n&&n.vmCount++,n}}function defineReactive$$1(e,t,n,r,a){var o=new Dep,s=Object.getOwnPropertyDescriptor(e,t);if(!(s&&s.configurable===!1)){var l=s&&s.get,c=s&&s.set;(!l||c)&&arguments.length===2&&(n=e[t]);var u=!a&&observe(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var m=l?l.call(e):n;return Dep.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(m)&&dependArray(m))),m},set:function(m){var h=l?l.call(e):n;m===h||m!==m&&h!==h||l&&!c||(c?c.call(e,m):n=m,u=!a&&observe(m),o.notify())}})}}function set$2(e,t,n){if(Array.isArray(e)&&isValidArrayIndex(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(defineReactive$$1(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function del$1(e,t){if(Array.isArray(e)&&isValidArrayIndex(t)){e.splice(t,1);return}var n=e.__ob__;e._isVue||n&&n.vmCount||!hasOwn$1(e,t)||(delete e[t],n&&n.dep.notify())}function dependArray(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&dependArray(t)}var strats=config$1.optionMergeStrategies;function mergeData(e,t){if(!t)return e;for(var n,r,a,o=hasSymbol?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],n!=="__ob__"&&(r=e[n],a=t[n],hasOwn$1(e,n)?r!==a&&isPlainObject$4(r)&&isPlainObject$4(a)&&mergeData(r,a):set$2(e,n,a));return e}function mergeDataOrFn(e,t,n){return n?function(){var a=typeof t=="function"?t.call(n,n):t,o=typeof e=="function"?e.call(n,n):e;return a?mergeData(a,o):o}:t?e?function(){return mergeData(typeof t=="function"?t.call(this,this):t,typeof e=="function"?e.call(this,this):e)}:t:e}strats.data=function(e,t,n){return n?mergeDataOrFn(e,t,n):t&&typeof t!="function"?e:mergeDataOrFn(e,t)};function mergeHook(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n&&dedupeHooks(n)}function dedupeHooks(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}LIFECYCLE_HOOKS.forEach(function(e){strats[e]=mergeHook});function mergeAssets(e,t,n,r){var a=Object.create(e||null);return t?extend$3(a,t):a}ASSET_TYPES.forEach(function(e){strats[e+"s"]=mergeAssets});strats.watch=function(e,t,n,r){if(e===nativeWatch&&(e=void 0),t===nativeWatch&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var a={};extend$3(a,e);for(var o in t){var s=a[o],l=t[o];s&&!Array.isArray(s)&&(s=[s]),a[o]=s?s.concat(l):Array.isArray(l)?l:[l]}return a};strats.props=strats.methods=strats.inject=strats.computed=function(e,t,n,r){if(!e)return t;var a=Object.create(null);return extend$3(a,e),t&&extend$3(a,t),a};strats.provide=mergeDataOrFn;var defaultStrat=function(e,t){return t===void 0?e:t};function normalizeProps(e,t){var n=e.props;if(!!n){var r={},a,o,s;if(Array.isArray(n))for(a=n.length;a--;)o=n[a],typeof o=="string"&&(s=camelize(o),r[s]={type:null});else if(isPlainObject$4(n))for(var l in n)o=n[l],s=camelize(l),r[s]=isPlainObject$4(o)?o:{type:o};e.props=r}}function normalizeInject(e,t){var n=e.inject;if(!!n){var r=e.inject={};if(Array.isArray(n))for(var a=0;a<n.length;a++)r[n[a]]={from:n[a]};else if(isPlainObject$4(n))for(var o in n){var s=n[o];r[o]=isPlainObject$4(s)?extend$3({from:o},s):{from:s}}}}function normalizeDirectives(e){var t=e.directives;if(t)for(var n in t){var r=t[n];typeof r=="function"&&(t[n]={bind:r,update:r})}}function assertObjectType(e,t,n){isPlainObject$4(t)||warn$2('Invalid value for option "'+e+'": expected an Object, but got '+toRawType$1(t)+".")}function mergeOptions(e,t,n){if(typeof t=="function"&&(t=t.options),normalizeProps(t),normalizeInject(t),normalizeDirectives(t),!t._base&&(t.extends&&(e=mergeOptions(e,t.extends,n)),t.mixins))for(var r=0,a=t.mixins.length;r<a;r++)e=mergeOptions(e,t.mixins[r],n);var o={},s;for(s in e)l(s);for(s in t)hasOwn$1(e,s)||l(s);function l(c){var u=strats[c]||defaultStrat;o[c]=u(e[c],t[c],n,c)}return o}function resolveAsset(e,t,n,r){if(typeof n=="string"){var a=e[t];if(hasOwn$1(a,n))return a[n];var o=camelize(n);if(hasOwn$1(a,o))return a[o];var s=capitalize(o);if(hasOwn$1(a,s))return a[s];var l=a[n]||a[o]||a[s];return l}}function validateProp(e,t,n,r){var a=t[e],o=!hasOwn$1(n,e),s=n[e],l=getTypeIndex(Boolean,a.type);if(l>-1){if(o&&!hasOwn$1(a,"default"))s=!1;else if(s===""||s===hyphenate(e)){var c=getTypeIndex(String,a.type);(c<0||l<c)&&(s=!0)}}if(s===void 0){s=getPropDefaultValue(r,a,e);var u=shouldObserve;toggleObserving(!0),observe(s),toggleObserving(u)}return s}function getPropDefaultValue(e,t,n){if(!!hasOwn$1(t,"default")){var r=t.default;return e&&e.$options.propsData&&e.$options.propsData[n]===void 0&&e._props[n]!==void 0?e._props[n]:typeof r=="function"&&getType(t.type)!=="Function"?r.call(e):r}}function getType(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){if(!Array.isArray(t))return isSameType(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(isSameType(t[n],e))return n;return-1}function handleError$1(e,t,n){pushTarget();try{if(t)for(var r=t;r=r.$parent;){var a=r.$options.errorCaptured;if(a)for(var o=0;o<a.length;o++)try{var s=a[o].call(r,e,t,n)===!1;if(s)return}catch(l){globalHandleError(l,r,"errorCaptured hook")}}globalHandleError(e,t,n)}finally{popTarget()}}function invokeWithErrorHandling(e,t,n,r,a){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&isPromise$1(o)&&!o._handled&&(o.catch(function(s){return handleError$1(s,r,a+" (Promise/async)")}),o._handled=!0)}catch(s){handleError$1(s,r,a)}return o}function globalHandleError(e,t,n){if(config$1.errorHandler)try{return config$1.errorHandler.call(null,e,t,n)}catch(r){r!==e&&logError(r)}logError(e)}function logError(e,t,n){if((inBrowser||inWeex)&&typeof console!="undefined")console.error(e);else throw e}var isUsingMicroTask=!1,callbacks$1=[],pending=!1;function flushCallbacks(){pending=!1;var e=callbacks$1.slice(0);callbacks$1.length=0;for(var t=0;t<e.length;t++)e[t]()}var timerFunc;if(typeof Promise!="undefined"&&isNative(Promise)){var p=Promise.resolve();timerFunc=function(){p.then(flushCallbacks),isIOS&&setTimeout(noop)},isUsingMicroTask=!0}else if(!isIE&&typeof MutationObserver!="undefined"&&(isNative(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var counter=1,observer$1=new MutationObserver(flushCallbacks),textNode=document.createTextNode(String(counter));observer$1.observe(textNode,{characterData:!0}),timerFunc=function(){counter=(counter+1)%2,textNode.data=String(counter)},isUsingMicroTask=!0}else typeof setImmediate!="undefined"&&isNative(setImmediate)?timerFunc=function(){setImmediate(flushCallbacks)}:timerFunc=function(){setTimeout(flushCallbacks,0)};function nextTick$1(e,t){var n;if(callbacks$1.push(function(){if(e)try{e.call(t)}catch(r){handleError$1(r,t,"nextTick")}else n&&n(t)}),pending||(pending=!0,timerFunc()),!e&&typeof Promise!="undefined")return new Promise(function(r){n=r})}var seenObjects=new _Set$1;function traverse(e){_traverse(e,seenObjects),seenObjects.clear()}function _traverse(e,t){var n,r,a=Array.isArray(e);if(!(!a&&!isObject$h(e)||Object.isFrozen(e)||e instanceof VNode)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(a)for(n=e.length;n--;)_traverse(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)_traverse(e[r[n]],t)}}var normalizeEvent=cached(function(e){var t=e.charAt(0)==="&";e=t?e.slice(1):e;var n=e.charAt(0)==="~";e=n?e.slice(1):e;var r=e.charAt(0)==="!";return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}});function createFnInvoker(e,t){function n(){var r=arguments,a=n.fns;if(Array.isArray(a))for(var o=a.slice(),s=0;s<o.length;s++)invokeWithErrorHandling(o[s],null,r,t,"v-on handler");else return invokeWithErrorHandling(a,null,arguments,t,"v-on handler")}return n.fns=e,n}function updateListeners(e,t,n,r,a,o){var s,l,c,u;for(s in e)l=e[s],c=t[s],u=normalizeEvent(s),isUndef(l)||(isUndef(c)?(isUndef(l.fns)&&(l=e[s]=createFnInvoker(l,o)),isTrue(u.once)&&(l=e[s]=a(u.name,l,u.capture)),n(u.name,l,u.capture,u.passive,u.params)):l!==c&&(c.fns=l,e[s]=c));for(s in t)isUndef(e[s])&&(u=normalizeEvent(s),r(u.name,t[s],u.capture))}function mergeVNodeHook(e,t,n){e instanceof VNode&&(e=e.data.hook||(e.data.hook={}));var r,a=e[t];function o(){n.apply(this,arguments),remove(r.fns,o)}isUndef(a)?r=createFnInvoker([o]):isDef(a.fns)&&isTrue(a.merged)?(r=a,r.fns.push(o)):r=createFnInvoker([a,o]),r.merged=!0,e[t]=r}function extractPropsFromVNodeData(e,t,n){var r=t.options.props;if(!isUndef(r)){var a={},o=e.attrs,s=e.props;if(isDef(o)||isDef(s))for(var l in r){var c=hyphenate(l);checkProp(a,s,l,c,!0)||checkProp(a,o,l,c,!1)}return a}}function checkProp(e,t,n,r,a){if(isDef(t)){if(hasOwn$1(t,n))return e[n]=t[n],a||delete t[n],!0;if(hasOwn$1(t,r))return e[n]=t[r],a||delete t[r],!0}return!1}function simpleNormalizeChildren(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function normalizeChildren(e){return isPrimitive(e)?[createTextVNode(e)]:Array.isArray(e)?normalizeArrayChildren(e):void 0}function isTextNode(e){return isDef(e)&&isDef(e.text)&&isFalse(e.isComment)}function normalizeArrayChildren(e,t){var n=[],r,a,o,s;for(r=0;r<e.length;r++)a=e[r],!(isUndef(a)||typeof a=="boolean")&&(o=n.length-1,s=n[o],Array.isArray(a)?a.length>0&&(a=normalizeArrayChildren(a,(t||"")+"_"+r),isTextNode(a[0])&&isTextNode(s)&&(n[o]=createTextVNode(s.text+a[0].text),a.shift()),n.push.apply(n,a)):isPrimitive(a)?isTextNode(s)?n[o]=createTextVNode(s.text+a):a!==""&&n.push(createTextVNode(a)):isTextNode(a)&&isTextNode(s)?n[o]=createTextVNode(s.text+a.text):(isTrue(e._isVList)&&isDef(a.tag)&&isUndef(a.key)&&isDef(t)&&(a.key="__vlist"+t+"_"+r+"__"),n.push(a)));return n}function initProvide(e){var t=e.$options.provide;t&&(e._provided=typeof t=="function"?t.call(e):t)}function initInjections(e){var t=resolveInject(e.$options.inject,e);t&&(toggleObserving(!1),Object.keys(t).forEach(function(n){defineReactive$$1(e,n,t[n])}),toggleObserving(!0))}function resolveInject(e,t){if(e){for(var n=Object.create(null),r=hasSymbol?Reflect.ownKeys(e):Object.keys(e),a=0;a<r.length;a++){var o=r[a];if(o!=="__ob__"){for(var s=e[o].from,l=t;l;){if(l._provided&&hasOwn$1(l._provided,s)){n[o]=l._provided[s];break}l=l.$parent}if(!l&&"default"in e[o]){var c=e[o].default;n[o]=typeof c=="function"?c.call(t):c}}}return n}}function resolveSlots(e,t){if(!e||!e.length)return{};for(var n={},r=0,a=e.length;r<a;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,(o.context===t||o.fnContext===t)&&s&&s.slot!=null){var l=s.slot,c=n[l]||(n[l]=[]);o.tag==="template"?c.push.apply(c,o.children||[]):c.push(o)}else(n.default||(n.default=[])).push(o)}for(var u in n)n[u].every(isWhitespace)&&delete n[u];return n}function isWhitespace(e){return e.isComment&&!e.asyncFactory||e.text===" "}function normalizeScopedSlots(e,t,n){var r,a=Object.keys(t).length>0,o=e?!!e.$stable:!a,s=e&&e.$key;if(!e)r={};else{if(e._normalized)return e._normalized;if(o&&n&&n!==emptyObject&&s===n.$key&&!a&&!n.$hasNormal)return n;r={};for(var l in e)e[l]&&l[0]!=="$"&&(r[l]=normalizeScopedSlot(t,l,e[l]))}for(var c in t)c in r||(r[c]=proxyNormalSlot(t,c));return e&&Object.isExtensible(e)&&(e._normalized=r),def(r,"$stable",o),def(r,"$key",s),def(r,"$hasNormal",a),r}function normalizeScopedSlot(e,t,n){var r=function(){var a=arguments.length?n.apply(null,arguments):n({});return a=a&&typeof a=="object"&&!Array.isArray(a)?[a]:normalizeChildren(a),a&&(a.length===0||a.length===1&&a[0].isComment)?void 0:a};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function proxyNormalSlot(e,t){return function(){return e[t]}}function renderList(e,t){var n,r,a,o,s;if(Array.isArray(e)||typeof e=="string")for(n=new Array(e.length),r=0,a=e.length;r<a;r++)n[r]=t(e[r],r);else if(typeof e=="number")for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(isObject$h(e))if(hasSymbol&&e[Symbol.iterator]){n=[];for(var l=e[Symbol.iterator](),c=l.next();!c.done;)n.push(t(c.value,n.length)),c=l.next()}else for(o=Object.keys(e),n=new Array(o.length),r=0,a=o.length;r<a;r++)s=o[r],n[r]=t(e[s],s,r);return isDef(n)||(n=[]),n._isVList=!0,n}function renderSlot(e,t,n,r){var a=this.$scopedSlots[e],o;a?(n=n||{},r&&(n=extend$3(extend$3({},r),n)),o=a(n)||t):o=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function resolveFilter(e){return resolveAsset(this.$options,"filters",e)||identity$4}function isKeyNotMatch(e,t){return Array.isArray(e)?e.indexOf(t)===-1:e!==t}function checkKeyCodes(e,t,n,r,a){var o=config$1.keyCodes[t]||n;if(a&&r&&!config$1.keyCodes[t])return isKeyNotMatch(a,r);if(o)return isKeyNotMatch(o,e);if(r)return hyphenate(r)!==t}function bindObjectProps(e,t,n,r,a){if(n&&isObject$h(n)){Array.isArray(n)&&(n=toObject$1(n));var o,s=function(c){if(c==="class"||c==="style"||isReservedAttribute(c))o=e;else{var u=e.attrs&&e.attrs.type;o=r||config$1.mustUseProp(t,u,c)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var f=camelize(c),m=hyphenate(c);if(!(f in o)&&!(m in o)&&(o[c]=n[c],a)){var h=e.on||(e.on={});h["update:"+c]=function(d){n[c]=d}}};for(var l in n)s(l)}return e}function renderStatic(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),markStatic(r,"__static__"+e,!1)),r}function markOnce(e,t,n){return markStatic(e,"__once__"+t+(n?"_"+n:""),!0),e}function markStatic(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&typeof e[r]!="string"&&markStaticNode(e[r],t+"_"+r,n);else markStaticNode(e,t,n)}function markStaticNode(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function bindObjectListeners(e,t){if(t&&isPlainObject$4(t)){var n=e.on=e.on?extend$3({},e.on):{};for(var r in t){var a=n[r],o=t[r];n[r]=a?[].concat(a,o):o}}return e}function resolveScopedSlots(e,t,n,r){t=t||{$stable:!n};for(var a=0;a<e.length;a++){var o=e[a];Array.isArray(o)?resolveScopedSlots(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function bindDynamicKeys(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];typeof r=="string"&&r&&(e[t[n]]=t[n+1])}return e}function prependModifier(e,t){return typeof e=="string"?t+e:e}function installRenderHelpers(e){e._o=markOnce,e._n=toNumber$2,e._s=toString$4,e._l=renderList,e._t=renderSlot,e._q=looseEqual,e._i=looseIndexOf,e._m=renderStatic,e._f=resolveFilter,e._k=checkKeyCodes,e._b=bindObjectProps,e._v=createTextVNode,e._e=createEmptyVNode,e._u=resolveScopedSlots,e._g=bindObjectListeners,e._d=bindDynamicKeys,e._p=prependModifier}function FunctionalRenderContext(e,t,n,r,a){var o=this,s=a.options,l;hasOwn$1(r,"_uid")?(l=Object.create(r),l._original=r):(l=r,r=r._original);var c=isTrue(s._compiled),u=!c;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||emptyObject,this.injections=resolveInject(s.inject,r),this.slots=function(){return o.$slots||normalizeScopedSlots(e.scopedSlots,o.$slots=resolveSlots(n,r)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return normalizeScopedSlots(e.scopedSlots,this.slots())}}),c&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=normalizeScopedSlots(e.scopedSlots,this.$slots)),s._scopeId?this._c=function(f,m,h,d){var g=createElement(l,f,m,h,d,u);return g&&!Array.isArray(g)&&(g.fnScopeId=s._scopeId,g.fnContext=r),g}:this._c=function(f,m,h,d){return createElement(l,f,m,h,d,u)}}installRenderHelpers(FunctionalRenderContext.prototype);function createFunctionalComponent(e,t,n,r,a){var o=e.options,s={},l=o.props;if(isDef(l))for(var c in l)s[c]=validateProp(c,l,t||emptyObject);else isDef(n.attrs)&&mergeProps(s,n.attrs),isDef(n.props)&&mergeProps(s,n.props);var u=new FunctionalRenderContext(n,s,a,r,e),f=o.render.call(null,u._c,u);if(f instanceof VNode)return cloneAndMarkFunctionalResult(f,n,u.parent,o);if(Array.isArray(f)){for(var m=normalizeChildren(f)||[],h=new Array(m.length),d=0;d<m.length;d++)h[d]=cloneAndMarkFunctionalResult(m[d],n,u.parent,o);return h}}function cloneAndMarkFunctionalResult(e,t,n,r,a){var o=cloneVNode(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function mergeProps(e,t){for(var n in t)e[camelize(n)]=t[n]}var componentVNodeHooks={init:function(t,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;componentVNodeHooks.prepatch(r,r)}else{var a=t.componentInstance=createComponentInstanceForVnode(t,activeInstance);a.$mount(n?t.elm:void 0,n)}},prepatch:function(t,n){var r=n.componentOptions,a=n.componentInstance=t.componentInstance;updateChildComponent(a,r.propsData,r.listeners,n,r.children)},insert:function(t){var n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,callHook(r,"mounted")),t.data.keepAlive&&(n._isMounted?queueActivatedComponent(r):activateChildComponent(r,!0))},destroy:function(t){var n=t.componentInstance;n._isDestroyed||(t.data.keepAlive?deactivateChildComponent(n,!0):n.$destroy())}},hooksToMerge=Object.keys(componentVNodeHooks);function createComponent(e,t,n,r,a){if(!isUndef(e)){var o=n.$options._base;if(isObject$h(e)&&(e=o.extend(e)),typeof e=="function"){var s;if(isUndef(e.cid)&&(s=e,e=resolveAsyncComponent(s,o),e===void 0))return createAsyncPlaceholder(s,t,n,r,a);t=t||{},resolveConstructorOptions(e),isDef(t.model)&&transformModel(e.options,t);var l=extractPropsFromVNodeData(t,e);if(isTrue(e.options.functional))return createFunctionalComponent(e,l,t,n,r);var c=t.on;if(t.on=t.nativeOn,isTrue(e.options.abstract)){var u=t.slot;t={},u&&(t.slot=u)}installComponentHooks(t);var f=e.options.name||a,m=new VNode("vue-component-"+e.cid+(f?"-"+f:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:l,listeners:c,tag:a,children:r},s);return m}}}function createComponentInstanceForVnode(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return isDef(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function installComponentHooks(e){for(var t=e.hook||(e.hook={}),n=0;n<hooksToMerge.length;n++){var r=hooksToMerge[n],a=t[r],o=componentVNodeHooks[r];a!==o&&!(a&&a._merged)&&(t[r]=a?mergeHook$1(o,a):o)}}function mergeHook$1(e,t){var n=function(r,a){e(r,a),t(r,a)};return n._merged=!0,n}function transformModel(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var a=t.on||(t.on={}),o=a[r],s=t.model.callback;isDef(o)?(Array.isArray(o)?o.indexOf(s)===-1:o!==s)&&(a[r]=[s].concat(o)):a[r]=s}var SIMPLE_NORMALIZE=1,ALWAYS_NORMALIZE=2;function createElement(e,t,n,r,a,o){return(Array.isArray(n)||isPrimitive(n))&&(a=r,r=n,n=void 0),isTrue(o)&&(a=ALWAYS_NORMALIZE),_createElement(e,t,n,r,a)}function _createElement(e,t,n,r,a){if(isDef(n)&&isDef(n.__ob__)||(isDef(n)&&isDef(n.is)&&(t=n.is),!t))return createEmptyVNode();Array.isArray(r)&&typeof r[0]=="function"&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),a===ALWAYS_NORMALIZE?r=normalizeChildren(r):a===SIMPLE_NORMALIZE&&(r=simpleNormalizeChildren(r));var o,s;if(typeof t=="string"){var l;s=e.$vnode&&e.$vnode.ns||config$1.getTagNamespace(t),config$1.isReservedTag(t)?o=new VNode(config$1.parsePlatformTagName(t),n,r,void 0,void 0,e):(!n||!n.pre)&&isDef(l=resolveAsset(e.$options,"components",t))?o=createComponent(l,n,e,r,t):o=new VNode(t,n,r,void 0,void 0,e)}else o=createComponent(t,n,e,r);return Array.isArray(o)?o:isDef(o)?(isDef(s)&&applyNS(o,s),isDef(n)&&registerDeepBindings(n),o):createEmptyVNode()}function applyNS(e,t,n){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,n=!0),isDef(e.children))for(var r=0,a=e.children.length;r<a;r++){var o=e.children[r];isDef(o.tag)&&(isUndef(o.ns)||isTrue(n)&&o.tag!=="svg")&&applyNS(o,t,n)}}function registerDeepBindings(e){isObject$h(e.style)&&traverse(e.style),isObject$h(e.class)&&traverse(e.class)}function initRender(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=resolveSlots(t._renderChildren,r),e.$scopedSlots=emptyObject,e._c=function(o,s,l,c){return createElement(e,o,s,l,c,!1)},e.$createElement=function(o,s,l,c){return createElement(e,o,s,l,c,!0)};var a=n&&n.data;defineReactive$$1(e,"$attrs",a&&a.attrs||emptyObject,null,!0),defineReactive$$1(e,"$listeners",t._parentListeners||emptyObject,null,!0)}var currentRenderingInstance=null;function renderMixin(e){installRenderHelpers(e.prototype),e.prototype.$nextTick=function(t){return nextTick$1(t,this)},e.prototype._render=function(){var t=this,n=t.$options,r=n.render,a=n._parentVnode;a&&(t.$scopedSlots=normalizeScopedSlots(a.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=a;var o;try{currentRenderingInstance=t,o=r.call(t._renderProxy,t.$createElement)}catch(s){handleError$1(s,t,"render"),o=t._vnode}finally{currentRenderingInstance=null}return Array.isArray(o)&&o.length===1&&(o=o[0]),o instanceof VNode||(o=createEmptyVNode()),o.parent=a,o}}function ensureCtor(e,t){return(e.__esModule||hasSymbol&&e[Symbol.toStringTag]==="Module")&&(e=e.default),isObject$h(e)?t.extend(e):e}function createAsyncPlaceholder(e,t,n,r,a){var o=createEmptyVNode();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:a},o}function resolveAsyncComponent(e,t){if(isTrue(e.error)&&isDef(e.errorComp))return e.errorComp;if(isDef(e.resolved))return e.resolved;var n=currentRenderingInstance;if(n&&isDef(e.owners)&&e.owners.indexOf(n)===-1&&e.owners.push(n),isTrue(e.loading)&&isDef(e.loadingComp))return e.loadingComp;if(n&&!isDef(e.owners)){var r=e.owners=[n],a=!0,o=null,s=null;n.$on("hook:destroyed",function(){return remove(r,n)});var l=function(m){for(var h=0,d=r.length;h<d;h++)r[h].$forceUpdate();m&&(r.length=0,o!==null&&(clearTimeout(o),o=null),s!==null&&(clearTimeout(s),s=null))},c=once$1(function(m){e.resolved=ensureCtor(m,t),a?r.length=0:l(!0)}),u=once$1(function(m){isDef(e.errorComp)&&(e.error=!0,l(!0))}),f=e(c,u);return isObject$h(f)&&(isPromise$1(f)?isUndef(e.resolved)&&f.then(c,u):isPromise$1(f.component)&&(f.component.then(c,u),isDef(f.error)&&(e.errorComp=ensureCtor(f.error,t)),isDef(f.loading)&&(e.loadingComp=ensureCtor(f.loading,t),f.delay===0?e.loading=!0:o=setTimeout(function(){o=null,isUndef(e.resolved)&&isUndef(e.error)&&(e.loading=!0,l(!1))},f.delay||200)),isDef(f.timeout)&&(s=setTimeout(function(){s=null,isUndef(e.resolved)&&u(null)},f.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function isAsyncPlaceholder(e){return e.isComment&&e.asyncFactory}function getFirstComponentChild(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(isDef(n)&&(isDef(n.componentOptions)||isAsyncPlaceholder(n)))return n}}function initEvents(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&updateComponentListeners(e,t)}var target$1;function add$1(e,t){target$1.$on(e,t)}function remove$1(e,t){target$1.$off(e,t)}function createOnceHandler(e,t){var n=target$1;return function r(){var a=t.apply(null,arguments);a!==null&&n.$off(e,r)}}function updateComponentListeners(e,t,n){target$1=e,updateListeners(t,n||{},add$1,remove$1,createOnceHandler,e),target$1=void 0}function eventsMixin(e){var t=/^hook:/;e.prototype.$on=function(n,r){var a=this;if(Array.isArray(n))for(var o=0,s=n.length;o<s;o++)a.$on(n[o],r);else(a._events[n]||(a._events[n]=[])).push(r),t.test(n)&&(a._hasHookEvent=!0);return a},e.prototype.$once=function(n,r){var a=this;function o(){a.$off(n,o),r.apply(a,arguments)}return o.fn=r,a.$on(n,o),a},e.prototype.$off=function(n,r){var a=this;if(!arguments.length)return a._events=Object.create(null),a;if(Array.isArray(n)){for(var o=0,s=n.length;o<s;o++)a.$off(n[o],r);return a}var l=a._events[n];if(!l)return a;if(!r)return a._events[n]=null,a;for(var c,u=l.length;u--;)if(c=l[u],c===r||c.fn===r){l.splice(u,1);break}return a},e.prototype.$emit=function(n){var r=this,a=r._events[n];if(a){a=a.length>1?toArray$1(a):a;for(var o=toArray$1(arguments,1),s='event handler for "'+n+'"',l=0,c=a.length;l<c;l++)invokeWithErrorHandling(a[l],r,o,r,s)}return r}}var activeInstance=null;function setActiveInstance(e){var t=activeInstance;return activeInstance=e,function(){activeInstance=t}}function initLifecycle(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function lifecycleMixin(e){e.prototype._update=function(t,n){var r=this,a=r.$el,o=r._vnode,s=setActiveInstance(r);r._vnode=t,o?r.$el=r.__patch__(o,t):r.$el=r.__patch__(r.$el,t,n,!1),s(),a&&(a.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},e.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){callHook(t,"beforeDestroy"),t._isBeingDestroyed=!0;var n=t.$parent;n&&!n._isBeingDestroyed&&!t.$options.abstract&&remove(n.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),callHook(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function mountComponent(e,t,n){e.$el=t,e.$options.render||(e.$options.render=createEmptyVNode),callHook(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},new Watcher(e,r,noop,{before:function(){e._isMounted&&!e._isDestroyed&&callHook(e,"beforeUpdate")}},!0),n=!1,e.$vnode==null&&(e._isMounted=!0,callHook(e,"mounted")),e}function updateChildComponent(e,t,n,r,a){var o=r.data.scopedSlots,s=e.$scopedSlots,l=!!(o&&!o.$stable||s!==emptyObject&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),c=!!(a||e.$options._renderChildren||l);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=a,e.$attrs=r.data.attrs||emptyObject,e.$listeners=n||emptyObject,t&&e.$options.props){toggleObserving(!1);for(var u=e._props,f=e.$options._propKeys||[],m=0;m<f.length;m++){var h=f[m],d=e.$options.props;u[h]=validateProp(h,d,t,e)}toggleObserving(!0),e.$options.propsData=t}n=n||emptyObject;var g=e.$options._parentListeners;e.$options._parentListeners=n,updateComponentListeners(e,n,g),c&&(e.$slots=resolveSlots(a,r.context),e.$forceUpdate())}function isInInactiveTree(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function activateChildComponent(e,t){if(t){if(e._directInactive=!1,isInInactiveTree(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(var n=0;n<e.$children.length;n++)activateChildComponent(e.$children[n]);callHook(e,"activated")}}function deactivateChildComponent(e,t){if(!(t&&(e._directInactive=!0,isInInactiveTree(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)deactivateChildComponent(e.$children[n]);callHook(e,"deactivated")}}function callHook(e,t){pushTarget();var n=e.$options[t],r=t+" hook";if(n)for(var a=0,o=n.length;a<o;a++)invokeWithErrorHandling(n[a],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),popTarget()}var queue$1=[],activatedChildren=[],has$2={},waiting=!1,flushing$1=!1,index$2=0;function resetSchedulerState(){index$2=queue$1.length=activatedChildren.length=0,has$2={},waiting=flushing$1=!1}var currentFlushTimestamp=0,getNow=Date.now;if(inBrowser&&!isIE){var performance=window.performance;performance&&typeof performance.now=="function"&&getNow()>document.createEvent("Event").timeStamp&&(getNow=function(){return performance.now()})}function flushSchedulerQueue(){currentFlushTimestamp=getNow(),flushing$1=!0;var e,t;for(queue$1.sort(function(a,o){return a.id-o.id}),index$2=0;index$2<queue$1.length;index$2++)e=queue$1[index$2],e.before&&e.before(),t=e.id,has$2[t]=null,e.run();var n=activatedChildren.slice(),r=queue$1.slice();resetSchedulerState(),callActivatedHooks(n),callUpdatedHooks(r),devtools&&config$1.devtools&&devtools.emit("flush")}function callUpdatedHooks(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&callHook(r,"updated")}}function queueActivatedComponent(e){e._inactive=!1,activatedChildren.push(e)}function callActivatedHooks(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,activateChildComponent(e[t],!0)}function queueWatcher(e){var t=e.id;if(has$2[t]==null){if(has$2[t]=!0,!flushing$1)queue$1.push(e);else{for(var n=queue$1.length-1;n>index$2&&queue$1[n].id>e.id;)n--;queue$1.splice(n+1,0,e)}waiting||(waiting=!0,nextTick$1(flushSchedulerQueue))}}var uid$2=0,Watcher=function(t,n,r,a,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++uid$2,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _Set$1,this.newDepIds=new _Set$1,this.expression="",typeof n=="function"?this.getter=n:(this.getter=parsePath(n),this.getter||(this.getter=noop)),this.value=this.lazy?void 0:this.get()};Watcher.prototype.get=function(){pushTarget(this);var t,n=this.vm;try{t=this.getter.call(n,n)}catch(r){if(this.user)handleError$1(r,n,'getter for watcher "'+this.expression+'"');else throw r}finally{this.deep&&traverse(t),popTarget(),this.cleanupDeps()}return t};Watcher.prototype.addDep=function(t){var n=t.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(t),this.depIds.has(n)||t.addSub(this))};Watcher.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0};Watcher.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():queueWatcher(this)};Watcher.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||isObject$h(t)||this.deep){var n=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,n)}catch(r){handleError$1(r,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,n)}}};Watcher.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1};Watcher.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()};Watcher.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||remove(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var sharedPropertyDefinition={enumerable:!0,configurable:!0,get:noop,set:noop};function proxy(e,t,n){sharedPropertyDefinition.get=function(){return this[t][n]},sharedPropertyDefinition.set=function(a){this[t][n]=a},Object.defineProperty(e,n,sharedPropertyDefinition)}function initState(e){e._watchers=[];var t=e.$options;t.props&&initProps(e,t.props),t.methods&&initMethods(e,t.methods),t.data?initData(e):observe(e._data={},!0),t.computed&&initComputed(e,t.computed),t.watch&&t.watch!==nativeWatch&&initWatch(e,t.watch)}function initProps(e,t){var n=e.$options.propsData||{},r=e._props={},a=e.$options._propKeys=[],o=!e.$parent;o||toggleObserving(!1);var s=function(c){a.push(c);var u=validateProp(c,t,n,e);defineReactive$$1(r,c,u),c in e||proxy(e,"_props",c)};for(var l in t)s(l);toggleObserving(!0)}function initData(e){var t=e.$options.data;t=e._data=typeof t=="function"?getData$1(t,e):t||{},isPlainObject$4(t)||(t={});var n=Object.keys(t),r=e.$options.props;e.$options.methods;for(var a=n.length;a--;){var o=n[a];r&&hasOwn$1(r,o)||isReserved(o)||proxy(e,"_data",o)}observe(t,!0)}function getData$1(e,t){pushTarget();try{return e.call(t,t)}catch(n){return handleError$1(n,t,"data()"),{}}finally{popTarget()}}var computedWatcherOptions={lazy:!0};function initComputed(e,t){var n=e._computedWatchers=Object.create(null),r=isServerRendering();for(var a in t){var o=t[a],s=typeof o=="function"?o:o.get;r||(n[a]=new Watcher(e,s||noop,noop,computedWatcherOptions)),a in e||defineComputed(e,a,o)}}function defineComputed(e,t,n){var r=!isServerRendering();typeof n=="function"?(sharedPropertyDefinition.get=r?createComputedGetter(t):createGetterInvoker(n),sharedPropertyDefinition.set=noop):(sharedPropertyDefinition.get=n.get?r&&n.cache!==!1?createComputedGetter(t):createGetterInvoker(n.get):noop,sharedPropertyDefinition.set=n.set||noop),Object.defineProperty(e,t,sharedPropertyDefinition)}function createComputedGetter(e){return function(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),Dep.target&&n.depend(),n.value}}function createGetterInvoker(e){return function(){return e.call(this,this)}}function initMethods(e,t){e.$options.props;for(var n in t)e[n]=typeof t[n]!="function"?noop:bind$5(t[n],e)}function initWatch(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var a=0;a<r.length;a++)createWatcher(e,n,r[a]);else createWatcher(e,n,r)}}function createWatcher(e,t,n,r){return isPlainObject$4(n)&&(r=n,n=n.handler),typeof n=="string"&&(n=e[n]),e.$watch(t,n,r)}function stateMixin(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=set$2,e.prototype.$delete=del$1,e.prototype.$watch=function(r,a,o){var s=this;if(isPlainObject$4(a))return createWatcher(s,r,a,o);o=o||{},o.user=!0;var l=new Watcher(s,r,a,o);if(o.immediate)try{a.call(s,l.value)}catch(c){handleError$1(c,s,'callback for immediate watcher "'+l.expression+'"')}return function(){l.teardown()}}}var uid$3=0;function initMixin(e){e.prototype._init=function(t){var n=this;n._uid=uid$3++,n._isVue=!0,t&&t._isComponent?initInternalComponent(n,t):n.$options=mergeOptions(resolveConstructorOptions(n.constructor),t||{},n),n._renderProxy=n,n._self=n,initLifecycle(n),initEvents(n),initRender(n),callHook(n,"beforeCreate"),initInjections(n),initState(n),initProvide(n),callHook(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}function initInternalComponent(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var a=r.componentOptions;n.propsData=a.propsData,n._parentListeners=a.listeners,n._renderChildren=a.children,n._componentTag=a.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function resolveConstructorOptions(e){var t=e.options;if(e.super){var n=resolveConstructorOptions(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var a=resolveModifiedOptions(e);a&&extend$3(e.extendOptions,a),t=e.options=mergeOptions(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function resolveModifiedOptions(e){var t,n=e.options,r=e.sealedOptions;for(var a in n)n[a]!==r[a]&&(t||(t={}),t[a]=n[a]);return t}function Vue$1(e){this._init(e)}initMixin(Vue$1);stateMixin(Vue$1);eventsMixin(Vue$1);lifecycleMixin(Vue$1);renderMixin(Vue$1);function initUse(e){e.use=function(t){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(t)>-1)return this;var r=toArray$1(arguments,1);return r.unshift(this),typeof t.install=="function"?t.install.apply(t,r):typeof t=="function"&&t.apply(null,r),n.push(t),this}}function initMixin$1(e){e.mixin=function(t){return this.options=mergeOptions(this.options,t),this}}function initExtend(e){e.cid=0;var t=1;e.extend=function(n){n=n||{};var r=this,a=r.cid,o=n._Ctor||(n._Ctor={});if(o[a])return o[a];var s=n.name||r.options.name,l=function(u){this._init(u)};return l.prototype=Object.create(r.prototype),l.prototype.constructor=l,l.cid=t++,l.options=mergeOptions(r.options,n),l.super=r,l.options.props&&initProps$1(l),l.options.computed&&initComputed$1(l),l.extend=r.extend,l.mixin=r.mixin,l.use=r.use,ASSET_TYPES.forEach(function(c){l[c]=r[c]}),s&&(l.options.components[s]=l),l.superOptions=r.options,l.extendOptions=n,l.sealedOptions=extend$3({},l.options),o[a]=l,l}}function initProps$1(e){var t=e.options.props;for(var n in t)proxy(e.prototype,"_props",n)}function initComputed$1(e){var t=e.options.computed;for(var n in t)defineComputed(e.prototype,n,t[n])}function initAssetRegisters(e){ASSET_TYPES.forEach(function(t){e[t]=function(n,r){return r?(t==="component"&&isPlainObject$4(r)&&(r.name=r.name||n,r=this.options._base.extend(r)),t==="directive"&&typeof r=="function"&&(r={bind:r,update:r}),this.options[t+"s"][n]=r,r):this.options[t+"s"][n]}})}function getComponentName(e){return e&&(e.Ctor.options.name||e.tag)}function matches$2(e,t){return Array.isArray(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:isRegExp(e)?e.test(t):!1}function pruneCache(e,t){var n=e.cache,r=e.keys,a=e._vnode;for(var o in n){var s=n[o];if(s){var l=getComponentName(s.componentOptions);l&&!t(l)&&pruneCacheEntry(n,o,r,a)}}}function pruneCacheEntry(e,t,n,r){var a=e[t];a&&(!r||a.tag!==r.tag)&&a.componentInstance.$destroy(),e[t]=null,remove(n,t)}var patternTypes=[String,RegExp,Array],KeepAlive={name:"keep-alive",abstract:!0,props:{include:patternTypes,exclude:patternTypes,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)pruneCacheEntry(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(n){pruneCache(t,function(r){return matches$2(n,r)})}),this.$watch("exclude",function(n){pruneCache(t,function(r){return!matches$2(n,r)})})},render:function(){var t=this.$slots.default,n=getFirstComponentChild(t),r=n&&n.componentOptions;if(r){var a=getComponentName(r),o=this,s=o.include,l=o.exclude;if(s&&(!a||!matches$2(s,a))||l&&a&&matches$2(l,a))return n;var c=this,u=c.cache,f=c.keys,m=n.key==null?r.Ctor.cid+(r.tag?"::"+r.tag:""):n.key;u[m]?(n.componentInstance=u[m].componentInstance,remove(f,m),f.push(m)):(u[m]=n,f.push(m),this.max&&f.length>parseInt(this.max)&&pruneCacheEntry(u,f[0],f,this._vnode)),n.data.keepAlive=!0}return n||t&&t[0]}},builtInComponents={KeepAlive};function initGlobalAPI(e){var t={};t.get=function(){return config$1},Object.defineProperty(e,"config",t),e.util={warn:warn$2,extend:extend$3,mergeOptions,defineReactive:defineReactive$$1},e.set=set$2,e.delete=del$1,e.nextTick=nextTick$1,e.observable=function(n){return observe(n),n},e.options=Object.create(null),ASSET_TYPES.forEach(function(n){e.options[n+"s"]=Object.create(null)}),e.options._base=e,extend$3(e.options.components,builtInComponents),initUse(e),initMixin$1(e),initExtend(e),initAssetRegisters(e)}initGlobalAPI(Vue$1);Object.defineProperty(Vue$1.prototype,"$isServer",{get:isServerRendering});Object.defineProperty(Vue$1.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(Vue$1,"FunctionalRenderContext",{value:FunctionalRenderContext});Vue$1.version="2.6.12";var isReservedAttr=makeMap$1("style,class"),acceptValue=makeMap$1("input,textarea,option,select,progress"),mustUseProp=function(e,t,n){return n==="value"&&acceptValue(e)&&t!=="button"||n==="selected"&&e==="option"||n==="checked"&&e==="input"||n==="muted"&&e==="video"},isEnumeratedAttr=makeMap$1("contenteditable,draggable,spellcheck"),isValidContentEditableValue=makeMap$1("events,caret,typing,plaintext-only"),convertEnumeratedValue=function(e,t){return isFalsyAttrValue(t)||t==="false"?"false":e==="contenteditable"&&isValidContentEditableValue(t)?t:"true"},isBooleanAttr$1=makeMap$1("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),xlinkNS="http://www.w3.org/1999/xlink",isXlink=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"},getXlinkProp=function(e){return isXlink(e)?e.slice(6,e.length):""},isFalsyAttrValue=function(e){return e==null||e===!1};function genClassForVnode(e){for(var t=e.data,n=e,r=e;isDef(r.componentInstance);)r=r.componentInstance._vnode,r&&r.data&&(t=mergeClassData(r.data,t));for(;isDef(n=n.parent);)n&&n.data&&(t=mergeClassData(t,n.data));return renderClass(t.staticClass,t.class)}function mergeClassData(e,t){return{staticClass:concat$1(e.staticClass,t.staticClass),class:isDef(e.class)?[e.class,t.class]:t.class}}function renderClass(e,t){return isDef(e)||isDef(t)?concat$1(e,stringifyClass(t)):""}function concat$1(e,t){return e?t?e+" "+t:e:t||""}function stringifyClass(e){return Array.isArray(e)?stringifyArray(e):isObject$h(e)?stringifyObject(e):typeof e=="string"?e:""}function stringifyArray(e){for(var t="",n,r=0,a=e.length;r<a;r++)isDef(n=stringifyClass(e[r]))&&n!==""&&(t&&(t+=" "),t+=n);return t}function stringifyObject(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var namespaceMap={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},isHTMLTag=makeMap$1("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),isSVG=makeMap$1("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),isReservedTag=function(e){return isHTMLTag(e)||isSVG(e)};function getTagNamespace(e){if(isSVG(e))return"svg";if(e==="math")return"math"}var unknownElementCache=Object.create(null);function isUnknownElement(e){if(!inBrowser)return!0;if(isReservedTag(e))return!1;if(e=e.toLowerCase(),unknownElementCache[e]!=null)return unknownElementCache[e];var t=document.createElement(e);return e.indexOf("-")>-1?unknownElementCache[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:unknownElementCache[e]=/HTMLUnknownElement/.test(t.toString())}var isTextInputType=makeMap$1("text,number,password,search,email,tel,url");function query(e){if(typeof e=="string"){var t=document.querySelector(e);return t||document.createElement("div")}else return e}function createElement$1(e,t){var n=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&n.setAttribute("multiple","multiple"),n}function createElementNS(e,t){return document.createElementNS(namespaceMap[e],t)}function createTextNode(e){return document.createTextNode(e)}function createComment(e){return document.createComment(e)}function insertBefore(e,t,n){e.insertBefore(t,n)}function removeChild(e,t){e.removeChild(t)}function appendChild(e,t){e.appendChild(t)}function parentNode$1(e){return e.parentNode}function nextSibling(e){return e.nextSibling}function tagName(e){return e.tagName}function setTextContent(e,t){e.textContent=t}function setStyleScope(e,t){e.setAttribute(t,"")}var nodeOps=Object.freeze({createElement:createElement$1,createElementNS,createTextNode,createComment,insertBefore,removeChild,appendChild,parentNode:parentNode$1,nextSibling,tagName,setTextContent,setStyleScope}),ref={create:function(t,n){registerRef(n)},update:function(t,n){t.data.ref!==n.data.ref&&(registerRef(t,!0),registerRef(n))},destroy:function(t){registerRef(t,!0)}};function registerRef(e,t){var n=e.data.ref;if(!!isDef(n)){var r=e.context,a=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?remove(o[n],a):o[n]===a&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}var emptyNode=new VNode("",{},[]),hooks=["create","activate","update","remove","destroy"];function sameVnode(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&isDef(e.data)===isDef(t.data)&&sameInputType(e,t)||isTrue(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&isUndef(t.asyncFactory.error))}function sameInputType(e,t){if(e.tag!=="input")return!0;var n,r=isDef(n=e.data)&&isDef(n=n.attrs)&&n.type,a=isDef(n=t.data)&&isDef(n=n.attrs)&&n.type;return r===a||isTextInputType(r)&&isTextInputType(a)}function createKeyToOldIdx(e,t,n){var r,a,o={};for(r=t;r<=n;++r)a=e[r].key,isDef(a)&&(o[a]=r);return o}function createPatchFunction(e){var t,n,r={},a=e.modules,o=e.nodeOps;for(t=0;t<hooks.length;++t)for(r[hooks[t]]=[],n=0;n<a.length;++n)isDef(a[n][hooks[t]])&&r[hooks[t]].push(a[n][hooks[t]]);function s(I){return new VNode(o.tagName(I).toLowerCase(),{},[],void 0,I)}function l(I,O){function D(){--D.listeners===0&&c(I)}return D.listeners=O,D}function c(I){var O=o.parentNode(I);isDef(O)&&o.removeChild(O,I)}function u(I,O,D,R,w,B,G){if(isDef(I.elm)&&isDef(B)&&(I=B[G]=cloneVNode(I)),I.isRootInsert=!w,!f(I,O,D,R)){var U=I.data,$=I.children,P=I.tag;isDef(P)?(I.elm=I.ns?o.createElementNS(I.ns,P):o.createElement(P,I),y(I),g(I,$,O),isDef(U)&&_(I,O),d(D,I.elm,R)):isTrue(I.isComment)?(I.elm=o.createComment(I.text),d(D,I.elm,R)):(I.elm=o.createTextNode(I.text),d(D,I.elm,R))}}function f(I,O,D,R){var w=I.data;if(isDef(w)){var B=isDef(I.componentInstance)&&w.keepAlive;if(isDef(w=w.hook)&&isDef(w=w.init)&&w(I,!1),isDef(I.componentInstance))return m(I,O),d(D,I.elm,R),isTrue(B)&&h(I,O,D,R),!0}}function m(I,O){isDef(I.data.pendingInsert)&&(O.push.apply(O,I.data.pendingInsert),I.data.pendingInsert=null),I.elm=I.componentInstance.$el,v(I)?(_(I,O),y(I)):(registerRef(I),O.push(I))}function h(I,O,D,R){for(var w,B=I;B.componentInstance;)if(B=B.componentInstance._vnode,isDef(w=B.data)&&isDef(w=w.transition)){for(w=0;w<r.activate.length;++w)r.activate[w](emptyNode,B);O.push(B);break}d(D,I.elm,R)}function d(I,O,D){isDef(I)&&(isDef(D)?o.parentNode(D)===I&&o.insertBefore(I,O,D):o.appendChild(I,O))}function g(I,O,D){if(Array.isArray(O))for(var R=0;R<O.length;++R)u(O[R],D,I.elm,null,!0,O,R);else isPrimitive(I.text)&&o.appendChild(I.elm,o.createTextNode(String(I.text)))}function v(I){for(;I.componentInstance;)I=I.componentInstance._vnode;return isDef(I.tag)}function _(I,O){for(var D=0;D<r.create.length;++D)r.create[D](emptyNode,I);t=I.data.hook,isDef(t)&&(isDef(t.create)&&t.create(emptyNode,I),isDef(t.insert)&&O.push(I))}function y(I){var O;if(isDef(O=I.fnScopeId))o.setStyleScope(I.elm,O);else for(var D=I;D;)isDef(O=D.context)&&isDef(O=O.$options._scopeId)&&o.setStyleScope(I.elm,O),D=D.parent;isDef(O=activeInstance)&&O!==I.context&&O!==I.fnContext&&isDef(O=O.$options._scopeId)&&o.setStyleScope(I.elm,O)}function q(I,O,D,R,w,B){for(;R<=w;++R)u(D[R],B,I,O,!1,D,R)}function b(I){var O,D,R=I.data;if(isDef(R))for(isDef(O=R.hook)&&isDef(O=O.destroy)&&O(I),O=0;O<r.destroy.length;++O)r.destroy[O](I);if(isDef(O=I.children))for(D=0;D<I.children.length;++D)b(I.children[D])}function x(I,O,D){for(;O<=D;++O){var R=I[O];isDef(R)&&(isDef(R.tag)?(E(R),b(R)):c(R.elm))}}function E(I,O){if(isDef(O)||isDef(I.data)){var D,R=r.remove.length+1;for(isDef(O)?O.listeners+=R:O=l(I.elm,R),isDef(D=I.componentInstance)&&isDef(D=D._vnode)&&isDef(D.data)&&E(D,O),D=0;D<r.remove.length;++D)r.remove[D](I,O);isDef(D=I.data.hook)&&isDef(D=D.remove)?D(I,O):O()}else c(I.elm)}function T(I,O,D,R,w){for(var B=0,G=0,U=O.length-1,$=O[0],P=O[U],F=D.length-1,N=D[0],z=D[F],V,L,j,J,Q=!w;B<=U&&G<=F;)isUndef($)?$=O[++B]:isUndef(P)?P=O[--U]:sameVnode($,N)?(A($,N,R,D,G),$=O[++B],N=D[++G]):sameVnode(P,z)?(A(P,z,R,D,F),P=O[--U],z=D[--F]):sameVnode($,z)?(A($,z,R,D,F),Q&&o.insertBefore(I,$.elm,o.nextSibling(P.elm)),$=O[++B],z=D[--F]):sameVnode(P,N)?(A(P,N,R,D,G),Q&&o.insertBefore(I,P.elm,$.elm),P=O[--U],N=D[++G]):(isUndef(V)&&(V=createKeyToOldIdx(O,B,U)),L=isDef(N.key)?V[N.key]:k(N,O,B,U),isUndef(L)?u(N,R,I,$.elm,!1,D,G):(j=O[L],sameVnode(j,N)?(A(j,N,R,D,G),O[L]=void 0,Q&&o.insertBefore(I,j.elm,$.elm)):u(N,R,I,$.elm,!1,D,G)),N=D[++G]);B>U?(J=isUndef(D[F+1])?null:D[F+1].elm,q(I,J,D,G,F,R)):G>F&&x(O,B,U)}function k(I,O,D,R){for(var w=D;w<R;w++){var B=O[w];if(isDef(B)&&sameVnode(I,B))return w}}function A(I,O,D,R,w,B){if(I!==O){isDef(O.elm)&&isDef(R)&&(O=R[w]=cloneVNode(O));var G=O.elm=I.elm;if(isTrue(I.isAsyncPlaceholder)){isDef(O.asyncFactory.resolved)?C(I.elm,O,D):O.isAsyncPlaceholder=!0;return}if(isTrue(O.isStatic)&&isTrue(I.isStatic)&&O.key===I.key&&(isTrue(O.isCloned)||isTrue(O.isOnce))){O.componentInstance=I.componentInstance;return}var U,$=O.data;isDef($)&&isDef(U=$.hook)&&isDef(U=U.prepatch)&&U(I,O);var P=I.children,F=O.children;if(isDef($)&&v(O)){for(U=0;U<r.update.length;++U)r.update[U](I,O);isDef(U=$.hook)&&isDef(U=U.update)&&U(I,O)}isUndef(O.text)?isDef(P)&&isDef(F)?P!==F&&T(G,P,F,D,B):isDef(F)?(isDef(I.text)&&o.setTextContent(G,""),q(G,null,F,0,F.length-1,D)):isDef(P)?x(P,0,P.length-1):isDef(I.text)&&o.setTextContent(G,""):I.text!==O.text&&o.setTextContent(G,O.text),isDef($)&&isDef(U=$.hook)&&isDef(U=U.postpatch)&&U(I,O)}}function M(I,O,D){if(isTrue(D)&&isDef(I.parent))I.parent.data.pendingInsert=O;else for(var R=0;R<O.length;++R)O[R].data.hook.insert(O[R])}var S=makeMap$1("attrs,class,staticClass,staticStyle,key");function C(I,O,D,R){var w,B=O.tag,G=O.data,U=O.children;if(R=R||G&&G.pre,O.elm=I,isTrue(O.isComment)&&isDef(O.asyncFactory))return O.isAsyncPlaceholder=!0,!0;if(isDef(G)&&(isDef(w=G.hook)&&isDef(w=w.init)&&w(O,!0),isDef(w=O.componentInstance)))return m(O,D),!0;if(isDef(B)){if(isDef(U))if(!I.hasChildNodes())g(O,U,D);else if(isDef(w=G)&&isDef(w=w.domProps)&&isDef(w=w.innerHTML)){if(w!==I.innerHTML)return!1}else{for(var $=!0,P=I.firstChild,F=0;F<U.length;F++){if(!P||!C(P,U[F],D,R)){$=!1;break}P=P.nextSibling}if(!$||P)return!1}if(isDef(G)){var N=!1;for(var z in G)if(!S(z)){N=!0,_(O,D);break}!N&&G.class&&traverse(G.class)}}else I.data!==O.text&&(I.data=O.text);return!0}return function(O,D,R,w){if(isUndef(D)){isDef(O)&&b(O);return}var B=!1,G=[];if(isUndef(O))B=!0,u(D,G);else{var U=isDef(O.nodeType);if(!U&&sameVnode(O,D))A(O,D,G,null,null,w);else{if(U){if(O.nodeType===1&&O.hasAttribute(SSR_ATTR)&&(O.removeAttribute(SSR_ATTR),R=!0),isTrue(R)&&C(O,D,G))return M(D,G,!0),O;O=s(O)}var $=O.elm,P=o.parentNode($);if(u(D,G,$._leaveCb?null:P,o.nextSibling($)),isDef(D.parent))for(var F=D.parent,N=v(D);F;){for(var z=0;z<r.destroy.length;++z)r.destroy[z](F);if(F.elm=D.elm,N){for(var V=0;V<r.create.length;++V)r.create[V](emptyNode,F);var L=F.data.hook.insert;if(L.merged)for(var j=1;j<L.fns.length;j++)L.fns[j]()}else registerRef(F);F=F.parent}isDef(P)?x([O],0,0):isDef(O.tag)&&b(O)}}return M(D,G,B),D.elm}}var directives$1={create:updateDirectives,update:updateDirectives,destroy:function(t){updateDirectives(t,emptyNode)}};function updateDirectives(e,t){(e.data.directives||t.data.directives)&&_update(e,t)}function _update(e,t){var n=e===emptyNode,r=t===emptyNode,a=normalizeDirectives$1(e.data.directives,e.context),o=normalizeDirectives$1(t.data.directives,t.context),s=[],l=[],c,u,f;for(c in o)u=a[c],f=o[c],u?(f.oldValue=u.value,f.oldArg=u.arg,callHook$1(f,"update",t,e),f.def&&f.def.componentUpdated&&l.push(f)):(callHook$1(f,"bind",t,e),f.def&&f.def.inserted&&s.push(f));if(s.length){var m=function(){for(var h=0;h<s.length;h++)callHook$1(s[h],"inserted",t,e)};n?mergeVNodeHook(t,"insert",m):m()}if(l.length&&mergeVNodeHook(t,"postpatch",function(){for(var h=0;h<l.length;h++)callHook$1(l[h],"componentUpdated",t,e)}),!n)for(c in a)o[c]||callHook$1(a[c],"unbind",e,e,r)}var emptyModifiers=Object.create(null);function normalizeDirectives$1(e,t){var n=Object.create(null);if(!e)return n;var r,a;for(r=0;r<e.length;r++)a=e[r],a.modifiers||(a.modifiers=emptyModifiers),n[getRawDirName(a)]=a,a.def=resolveAsset(t.$options,"directives",a.name);return n}function getRawDirName(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function callHook$1(e,t,n,r,a){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,a)}catch(s){handleError$1(s,n.context,"directive "+e.name+" "+t+" hook")}}var baseModules=[ref,directives$1];function updateAttrs(e,t){var n=t.componentOptions;if(!(isDef(n)&&n.Ctor.options.inheritAttrs===!1)&&!(isUndef(e.data.attrs)&&isUndef(t.data.attrs))){var r,a,o,s=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};isDef(c.__ob__)&&(c=t.data.attrs=extend$3({},c));for(r in c)a=c[r],o=l[r],o!==a&&setAttr$1(s,r,a);(isIE||isEdge)&&c.value!==l.value&&setAttr$1(s,"value",c.value);for(r in l)isUndef(c[r])&&(isXlink(r)?s.removeAttributeNS(xlinkNS,getXlinkProp(r)):isEnumeratedAttr(r)||s.removeAttribute(r))}}function setAttr$1(e,t,n){e.tagName.indexOf("-")>-1?baseSetAttr(e,t,n):isBooleanAttr$1(t)?isFalsyAttrValue(n)?e.removeAttribute(t):(n=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,n)):isEnumeratedAttr(t)?e.setAttribute(t,convertEnumeratedValue(t,n)):isXlink(t)?isFalsyAttrValue(n)?e.removeAttributeNS(xlinkNS,getXlinkProp(t)):e.setAttributeNS(xlinkNS,t,n):baseSetAttr(e,t,n)}function baseSetAttr(e,t,n){if(isFalsyAttrValue(n))e.removeAttribute(t);else{if(isIE&&!isIE9&&e.tagName==="TEXTAREA"&&t==="placeholder"&&n!==""&&!e.__ieph){var r=function(a){a.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var attrs={create:updateAttrs,update:updateAttrs};function updateClass(e,t){var n=t.elm,r=t.data,a=e.data;if(!(isUndef(r.staticClass)&&isUndef(r.class)&&(isUndef(a)||isUndef(a.staticClass)&&isUndef(a.class)))){var o=genClassForVnode(t),s=n._transitionClasses;isDef(s)&&(o=concat$1(o,stringifyClass(s))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var klass={create:updateClass,update:updateClass},RANGE_TOKEN="__r",CHECKBOX_RADIO_TOKEN="__c";function normalizeEvents(e){if(isDef(e[RANGE_TOKEN])){var t=isIE?"change":"input";e[t]=[].concat(e[RANGE_TOKEN],e[t]||[]),delete e[RANGE_TOKEN]}isDef(e[CHECKBOX_RADIO_TOKEN])&&(e.change=[].concat(e[CHECKBOX_RADIO_TOKEN],e.change||[]),delete e[CHECKBOX_RADIO_TOKEN])}var target$1$1;function createOnceHandler$1(e,t,n){var r=target$1$1;return function a(){var o=t.apply(null,arguments);o!==null&&remove$2(e,a,n,r)}}var useMicrotaskFix=isUsingMicroTask&&!(isFF&&Number(isFF[1])<=53);function add$1$1(e,t,n,r){if(useMicrotaskFix){var a=currentFlushTimestamp,o=t;t=o._wrapper=function(s){if(s.target===s.currentTarget||s.timeStamp>=a||s.timeStamp<=0||s.target.ownerDocument!==document)return o.apply(this,arguments)}}target$1$1.addEventListener(e,t,supportsPassive?{capture:n,passive:r}:n)}function remove$2(e,t,n,r){(r||target$1$1).removeEventListener(e,t._wrapper||t,n)}function updateDOMListeners(e,t){if(!(isUndef(e.data.on)&&isUndef(t.data.on))){var n=t.data.on||{},r=e.data.on||{};target$1$1=t.elm,normalizeEvents(n),updateListeners(n,r,add$1$1,remove$2,createOnceHandler$1,t.context),target$1$1=void 0}}var events$1={create:updateDOMListeners,update:updateDOMListeners},svgContainer;function updateDOMProps(e,t){if(!(isUndef(e.data.domProps)&&isUndef(t.data.domProps))){var n,r,a=t.elm,o=e.data.domProps||{},s=t.data.domProps||{};isDef(s.__ob__)&&(s=t.data.domProps=extend$3({},s));for(n in o)n in s||(a[n]="");for(n in s){if(r=s[n],n==="textContent"||n==="innerHTML"){if(t.children&&(t.children.length=0),r===o[n])continue;a.childNodes.length===1&&a.removeChild(a.childNodes[0])}if(n==="value"&&a.tagName!=="PROGRESS"){a._value=r;var l=isUndef(r)?"":String(r);shouldUpdateValue(a,l)&&(a.value=l)}else if(n==="innerHTML"&&isSVG(a.tagName)&&isUndef(a.innerHTML)){svgContainer=svgContainer||document.createElement("div"),svgContainer.innerHTML="<svg>"+r+"</svg>";for(var c=svgContainer.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(r!==o[n])try{a[n]=r}catch{}}}}function shouldUpdateValue(e,t){return!e.composing&&(e.tagName==="OPTION"||isNotInFocusAndDirty(e,t)||isDirtyWithModifiers(e,t))}function isNotInFocusAndDirty(e,t){var n=!0;try{n=document.activeElement!==e}catch{}return n&&e.value!==t}function isDirtyWithModifiers(e,t){var n=e.value,r=e._vModifiers;if(isDef(r)){if(r.number)return toNumber$2(n)!==toNumber$2(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var domProps={create:updateDOMProps,update:updateDOMProps},parseStyleText=cached(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(a){if(a){var o=a.split(r);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t});function normalizeStyleData(e){var t=normalizeStyleBinding(e.style);return e.staticStyle?extend$3(e.staticStyle,t):t}function normalizeStyleBinding(e){return Array.isArray(e)?toObject$1(e):typeof e=="string"?parseStyleText(e):e}function getStyle(e,t){var n={},r;if(t)for(var a=e;a.componentInstance;)a=a.componentInstance._vnode,a&&a.data&&(r=normalizeStyleData(a.data))&&extend$3(n,r);(r=normalizeStyleData(e.data))&&extend$3(n,r);for(var o=e;o=o.parent;)o.data&&(r=normalizeStyleData(o.data))&&extend$3(n,r);return n}var cssVarRE=/^--/,importantRE=/\s*!important$/,setProp=function(e,t,n){if(cssVarRE.test(t))e.style.setProperty(t,n);else if(importantRE.test(n))e.style.setProperty(hyphenate(t),n.replace(importantRE,""),"important");else{var r=normalize$1(t);if(Array.isArray(n))for(var a=0,o=n.length;a<o;a++)e.style[r]=n[a];else e.style[r]=n}},vendorNames=["Webkit","Moz","ms"],emptyStyle,normalize$1=cached(function(e){if(emptyStyle=emptyStyle||document.createElement("div").style,e=camelize(e),e!=="filter"&&e in emptyStyle)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<vendorNames.length;n++){var r=vendorNames[n]+t;if(r in emptyStyle)return r}});function updateStyle(e,t){var n=t.data,r=e.data;if(!(isUndef(n.staticStyle)&&isUndef(n.style)&&isUndef(r.staticStyle)&&isUndef(r.style))){var a,o,s=t.elm,l=r.staticStyle,c=r.normalizedStyle||r.style||{},u=l||c,f=normalizeStyleBinding(t.data.style)||{};t.data.normalizedStyle=isDef(f.__ob__)?extend$3({},f):f;var m=getStyle(t,!0);for(o in u)isUndef(m[o])&&setProp(s,o,"");for(o in m)a=m[o],a!==u[o]&&setProp(s,o,a==null?"":a)}}var style={create:updateStyle,update:updateStyle},whitespaceRE=/\s+/;function addClass$1(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(whitespaceRE).forEach(function(r){return e.classList.add(r)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function removeClass$1(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(whitespaceRE).forEach(function(a){return e.classList.remove(a)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function resolveTransition(e){if(!!e){if(typeof e=="object"){var t={};return e.css!==!1&&extend$3(t,autoCssTransition(e.name||"v")),extend$3(t,e),t}else if(typeof e=="string")return autoCssTransition(e)}}var autoCssTransition=cached(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),hasTransition=inBrowser&&!isIE9,TRANSITION="transition",ANIMATION="animation",transitionProp="transition",transitionEndEvent="transitionend",animationProp="animation",animationEndEvent="animationend";hasTransition&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(transitionProp="WebkitTransition",transitionEndEvent="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(animationProp="WebkitAnimation",animationEndEvent="webkitAnimationEnd"));var raf=inBrowser?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function nextFrame(e){raf(function(){raf(e)})}function addTransitionClass(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),addClass$1(e,t))}function removeTransitionClass(e,t){e._transitionClasses&&remove(e._transitionClasses,t),removeClass$1(e,t)}function whenTransitionEnds(e,t,n){var r=getTransitionInfo(e,t),a=r.type,o=r.timeout,s=r.propCount;if(!a)return n();var l=a===TRANSITION?transitionEndEvent:animationEndEvent,c=0,u=function(){e.removeEventListener(l,f),n()},f=function(m){m.target===e&&++c>=s&&u()};setTimeout(function(){c<s&&u()},o+1),e.addEventListener(l,f)}var transformRE=/\b(transform|all)(,|$)/;function getTransitionInfo(e,t){var n=window.getComputedStyle(e),r=(n[transitionProp+"Delay"]||"").split(", "),a=(n[transitionProp+"Duration"]||"").split(", "),o=getTimeout(r,a),s=(n[animationProp+"Delay"]||"").split(", "),l=(n[animationProp+"Duration"]||"").split(", "),c=getTimeout(s,l),u,f=0,m=0;t===TRANSITION?o>0&&(u=TRANSITION,f=o,m=a.length):t===ANIMATION?c>0&&(u=ANIMATION,f=c,m=l.length):(f=Math.max(o,c),u=f>0?o>c?TRANSITION:ANIMATION:null,m=u?u===TRANSITION?a.length:l.length:0);var h=u===TRANSITION&&transformRE.test(n[transitionProp+"Property"]);return{type:u,timeout:f,propCount:m,hasTransform:h}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(n,r){return toMs(n)+toMs(e[r])}))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function enter(e,t){var n=e.elm;isDef(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=resolveTransition(e.data.transition);if(!isUndef(r)&&!(isDef(n._enterCb)||n.nodeType!==1)){for(var a=r.css,o=r.type,s=r.enterClass,l=r.enterToClass,c=r.enterActiveClass,u=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,h=r.beforeEnter,d=r.enter,g=r.afterEnter,v=r.enterCancelled,_=r.beforeAppear,y=r.appear,q=r.afterAppear,b=r.appearCancelled,x=r.duration,E=activeInstance,T=activeInstance.$vnode;T&&T.parent;)E=T.context,T=T.parent;var k=!E._isMounted||!e.isRootInsert;if(!(k&&!y&&y!=="")){var A=k&&u?u:s,M=k&&m?m:c,S=k&&f?f:l,C=k&&_||h,I=k&&typeof y=="function"?y:d,O=k&&q||g,D=k&&b||v,R=toNumber$2(isObject$h(x)?x.enter:x),w=a!==!1&&!isIE9,B=getHookArgumentsLength(I),G=n._enterCb=once$1(function(){w&&(removeTransitionClass(n,S),removeTransitionClass(n,M)),G.cancelled?(w&&removeTransitionClass(n,A),D&&D(n)):O&&O(n),n._enterCb=null});e.data.show||mergeVNodeHook(e,"insert",function(){var U=n.parentNode,$=U&&U._pending&&U._pending[e.key];$&&$.tag===e.tag&&$.elm._leaveCb&&$.elm._leaveCb(),I&&I(n,G)}),C&&C(n),w&&(addTransitionClass(n,A),addTransitionClass(n,M),nextFrame(function(){removeTransitionClass(n,A),G.cancelled||(addTransitionClass(n,S),B||(isValidDuration(R)?setTimeout(G,R):whenTransitionEnds(n,o,G)))})),e.data.show&&(t&&t(),I&&I(n,G)),!w&&!B&&G()}}}function leave(e,t){var n=e.elm;isDef(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=resolveTransition(e.data.transition);if(isUndef(r)||n.nodeType!==1)return t();if(isDef(n._leaveCb))return;var a=r.css,o=r.type,s=r.leaveClass,l=r.leaveToClass,c=r.leaveActiveClass,u=r.beforeLeave,f=r.leave,m=r.afterLeave,h=r.leaveCancelled,d=r.delayLeave,g=r.duration,v=a!==!1&&!isIE9,_=getHookArgumentsLength(f),y=toNumber$2(isObject$h(g)?g.leave:g),q=n._leaveCb=once$1(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),v&&(removeTransitionClass(n,l),removeTransitionClass(n,c)),q.cancelled?(v&&removeTransitionClass(n,s),h&&h(n)):(t(),m&&m(n)),n._leaveCb=null});d?d(b):b();function b(){q.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),u&&u(n),v&&(addTransitionClass(n,s),addTransitionClass(n,c),nextFrame(function(){removeTransitionClass(n,s),q.cancelled||(addTransitionClass(n,l),_||(isValidDuration(y)?setTimeout(q,y):whenTransitionEnds(n,o,q)))})),f&&f(n,q),!v&&!_&&q())}}function isValidDuration(e){return typeof e=="number"&&!isNaN(e)}function getHookArgumentsLength(e){if(isUndef(e))return!1;var t=e.fns;return isDef(t)?getHookArgumentsLength(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function _enter(e,t){t.data.show!==!0&&enter(t)}var transition$1=inBrowser?{create:_enter,activate:_enter,remove:function(t,n){t.data.show!==!0?leave(t,n):n()}}:{},platformModules=[attrs,klass,events$1,domProps,style,transition$1],modules=platformModules.concat(baseModules),patch=createPatchFunction({nodeOps,modules});isIE9&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&trigger$1(e,"input")});var directive$1={inserted:function(t,n,r,a){r.tag==="select"?(a.elm&&!a.elm._vOptions?mergeVNodeHook(r,"postpatch",function(){directive$1.componentUpdated(t,n,r)}):setSelected(t,n,r.context),t._vOptions=[].map.call(t.options,getValue$2)):(r.tag==="textarea"||isTextInputType(t.type))&&(t._vModifiers=n.modifiers,n.modifiers.lazy||(t.addEventListener("compositionstart",onCompositionStart),t.addEventListener("compositionend",onCompositionEnd),t.addEventListener("change",onCompositionEnd),isIE9&&(t.vmodel=!0)))},componentUpdated:function(t,n,r){if(r.tag==="select"){setSelected(t,n,r.context);var a=t._vOptions,o=t._vOptions=[].map.call(t.options,getValue$2);if(o.some(function(l,c){return!looseEqual(l,a[c])})){var s=t.multiple?n.value.some(function(l){return hasNoMatchingOption(l,o)}):n.value!==n.oldValue&&hasNoMatchingOption(n.value,o);s&&trigger$1(t,"change")}}}};function setSelected(e,t,n){actuallySetSelected(e,t),(isIE||isEdge)&&setTimeout(function(){actuallySetSelected(e,t)},0)}function actuallySetSelected(e,t,n){var r=t.value,a=e.multiple;if(!(a&&!Array.isArray(r))){for(var o,s,l=0,c=e.options.length;l<c;l++)if(s=e.options[l],a)o=looseIndexOf(r,getValue$2(s))>-1,s.selected!==o&&(s.selected=o);else if(looseEqual(getValue$2(s),r)){e.selectedIndex!==l&&(e.selectedIndex=l);return}a||(e.selectedIndex=-1)}}function hasNoMatchingOption(e,t){return t.every(function(n){return!looseEqual(n,e)})}function getValue$2(e){return"_value"in e?e._value:e.value}function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){!e.target.composing||(e.target.composing=!1,trigger$1(e.target,"input"))}function trigger$1(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function locateNode(e){return e.componentInstance&&(!e.data||!e.data.transition)?locateNode(e.componentInstance._vnode):e}var show={bind:function(t,n,r){var a=n.value;r=locateNode(r);var o=r.data&&r.data.transition,s=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;a&&o?(r.data.show=!0,enter(r,function(){t.style.display=s})):t.style.display=a?s:"none"},update:function(t,n,r){var a=n.value,o=n.oldValue;if(!a!=!o){r=locateNode(r);var s=r.data&&r.data.transition;s?(r.data.show=!0,a?enter(r,function(){t.style.display=t.__vOriginalDisplay}):leave(r,function(){t.style.display="none"})):t.style.display=a?t.__vOriginalDisplay:"none"}},unbind:function(t,n,r,a,o){o||(t.style.display=t.__vOriginalDisplay)}},platformDirectives={model:directive$1,show},transitionProps={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function getRealChild(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?getRealChild(getFirstComponentChild(t.children)):e}function extractTransitionData(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var a=n._parentListeners;for(var o in a)t[camelize(o)]=a[o];return t}function placeholder(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function hasParentTransition(e){for(;e=e.parent;)if(e.data.transition)return!0}function isSameChild(e,t){return t.key===e.key&&t.tag===e.tag}var isNotTextNode=function(e){return e.tag||isAsyncPlaceholder(e)},isVShowDirective=function(e){return e.name==="show"},Transition={name:"transition",props:transitionProps,abstract:!0,render:function(t){var n=this,r=this.$slots.default;if(!!r&&(r=r.filter(isNotTextNode),!!r.length)){var a=this.mode,o=r[0];if(hasParentTransition(this.$vnode))return o;var s=getRealChild(o);if(!s)return o;if(this._leaving)return placeholder(t,o);var l="__transition-"+this._uid+"-";s.key=s.key==null?s.isComment?l+"comment":l+s.tag:isPrimitive(s.key)?String(s.key).indexOf(l)===0?s.key:l+s.key:s.key;var c=(s.data||(s.data={})).transition=extractTransitionData(this),u=this._vnode,f=getRealChild(u);if(s.data.directives&&s.data.directives.some(isVShowDirective)&&(s.data.show=!0),f&&f.data&&!isSameChild(s,f)&&!isAsyncPlaceholder(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var m=f.data.transition=extend$3({},c);if(a==="out-in")return this._leaving=!0,mergeVNodeHook(m,"afterLeave",function(){n._leaving=!1,n.$forceUpdate()}),placeholder(t,o);if(a==="in-out"){if(isAsyncPlaceholder(s))return u;var h,d=function(){h()};mergeVNodeHook(c,"afterEnter",d),mergeVNodeHook(c,"enterCancelled",d),mergeVNodeHook(m,"delayLeave",function(g){h=g})}}return o}}},props=extend$3({tag:String,moveClass:String},transitionProps);delete props.mode;var TransitionGroup={props,beforeMount:function(){var t=this,n=this._update;this._update=function(r,a){var o=setActiveInstance(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),n.call(t,r,a)}},render:function(t){for(var n=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),a=this.prevChildren=this.children,o=this.$slots.default||[],s=this.children=[],l=extractTransitionData(this),c=0;c<o.length;c++){var u=o[c];u.tag&&u.key!=null&&String(u.key).indexOf("__vlist")!==0&&(s.push(u),r[u.key]=u,(u.data||(u.data={})).transition=l)}if(a){for(var f=[],m=[],h=0;h<a.length;h++){var d=a[h];d.data.transition=l,d.data.pos=d.elm.getBoundingClientRect(),r[d.key]?f.push(d):m.push(d)}this.kept=t(n,null,f),this.removed=m}return t(n,null,s)},updated:function(){var t=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";!t.length||!this.hasMove(t[0].elm,n)||(t.forEach(callPendingCbs),t.forEach(recordPosition),t.forEach(applyTranslation),this._reflow=document.body.offsetHeight,t.forEach(function(r){if(r.data.moved){var a=r.elm,o=a.style;addTransitionClass(a,n),o.transform=o.WebkitTransform=o.transitionDuration="",a.addEventListener(transitionEndEvent,a._moveCb=function s(l){l&&l.target!==a||(!l||/transform$/.test(l.propertyName))&&(a.removeEventListener(transitionEndEvent,s),a._moveCb=null,removeTransitionClass(a,n))})}}))},methods:{hasMove:function(t,n){if(!hasTransition)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(o){removeClass$1(r,o)}),addClass$1(r,n),r.style.display="none",this.$el.appendChild(r);var a=getTransitionInfo(r);return this.$el.removeChild(r),this._hasMove=a.hasTransform}}};function callPendingCbs(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function recordPosition(e){e.data.newPos=e.elm.getBoundingClientRect()}function applyTranslation(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,a=t.top-n.top;if(r||a){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+a+"px)",o.transitionDuration="0s"}}var platformComponents={Transition,TransitionGroup};Vue$1.config.mustUseProp=mustUseProp;Vue$1.config.isReservedTag=isReservedTag;Vue$1.config.isReservedAttr=isReservedAttr;Vue$1.config.getTagNamespace=getTagNamespace;Vue$1.config.isUnknownElement=isUnknownElement;extend$3(Vue$1.options.directives,platformDirectives);extend$3(Vue$1.options.components,platformComponents);Vue$1.prototype.__patch__=inBrowser?patch:noop;Vue$1.prototype.$mount=function(e,t){return e=e&&inBrowser?query(e):void 0,mountComponent(this,e,t)};inBrowser&&setTimeout(function(){config$1.devtools&&devtools&&devtools.emit("init",Vue$1)},0);/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function applyMixin(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var n=e.prototype._init;e.prototype._init=function(a){a===void 0&&(a={}),a.init=a.init?[r].concat(a.init):r,n.call(this,a)}}function r(){var a=this.$options;a.store?this.$store=typeof a.store=="function"?a.store():a.store:a.parent&&a.parent.$store&&(this.$store=a.parent.$store)}}var target=typeof window!="undefined"?window:typeof global!="undefined"?global:{},devtoolHook=target.__VUE_DEVTOOLS_GLOBAL_HOOK__;function devtoolPlugin(e){!devtoolHook||(e._devtoolHook=devtoolHook,devtoolHook.emit("vuex:init",e),devtoolHook.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,n){devtoolHook.emit("vuex:mutation",t,n)},{prepend:!0}),e.subscribeAction(function(t,n){devtoolHook.emit("vuex:action",t,n)},{prepend:!0}))}function find$1(e,t){return e.filter(t)[0]}function deepCopy(e,t){if(t===void 0&&(t=[]),e===null||typeof e!="object")return e;var n=find$1(t,function(a){return a.original===e});if(n)return n.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach(function(a){r[a]=deepCopy(e[a],t)}),r}function forEachValue(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function isObject$g(e){return e!==null&&typeof e=="object"}function isPromise(e){return e&&typeof e.then=="function"}function partial(e,t){return function(){return e(t)}}var Module=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},prototypeAccessors$7={namespaced:{configurable:!0}};prototypeAccessors$7.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(t,n){this._children[t]=n};Module.prototype.removeChild=function(t){delete this._children[t]};Module.prototype.getChild=function(t){return this._children[t]};Module.prototype.hasChild=function(t){return t in this._children};Module.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Module.prototype.forEachChild=function(t){forEachValue(this._children,t)};Module.prototype.forEachGetter=function(t){this._rawModule.getters&&forEachValue(this._rawModule.getters,t)};Module.prototype.forEachAction=function(t){this._rawModule.actions&&forEachValue(this._rawModule.actions,t)};Module.prototype.forEachMutation=function(t){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,t)};Object.defineProperties(Module.prototype,prototypeAccessors$7);var ModuleCollection=function(t){this.register([],t,!1)};ModuleCollection.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};ModuleCollection.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};ModuleCollection.prototype.update=function(t){update([],this.root,t)};ModuleCollection.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var o=new Module(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&forEachValue(n.modules,function(l,c){a.register(t.concat(c),l,r)})};ModuleCollection.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);!a||!a.runtime||n.removeChild(r)};ModuleCollection.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function update(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;update(e.concat(r),t.getChild(r),n.modules[r])}}var Vue,Store=function(t){var n=this;t===void 0&&(t={}),!Vue&&typeof window!="undefined"&&window.Vue&&install$1(window.Vue);var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Vue,this._makeLocalGettersCache=Object.create(null);var o=this,s=this,l=s.dispatch,c=s.commit;this.dispatch=function(h,d){return l.call(o,h,d)},this.commit=function(h,d,g){return c.call(o,h,d,g)},this.strict=a;var u=this._modules.root.state;installModule(this,u,[],this._modules.root),resetStoreVM(this,u),r.forEach(function(m){return m(n)});var f=t.devtools!==void 0?t.devtools:Vue.config.devtools;f&&devtoolPlugin(this)},prototypeAccessors$1$4={state:{configurable:!0}};prototypeAccessors$1$4.state.get=function(){return this._vm._data.$$state};prototypeAccessors$1$4.state.set=function(e){};Store.prototype.commit=function(t,n,r){var a=this,o=unifyObjectStyle(t,n,r),s=o.type,l=o.payload,c={type:s,payload:l},u=this._mutations[s];!u||(this._withCommit(function(){u.forEach(function(m){m(l)})}),this._subscribers.slice().forEach(function(f){return f(c,a.state)}))};Store.prototype.dispatch=function(t,n){var r=this,a=unifyObjectStyle(t,n),o=a.type,s=a.payload,l={type:o,payload:s},c=this._actions[o];if(!!c){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(l,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(f){return f(s)})):c[0](s);return new Promise(function(f,m){u.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(l,r.state)})}catch{}f(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(l,r.state,h)})}catch{}m(h)})})}};Store.prototype.subscribe=function(t,n){return genericSubscribe(t,this._subscribers,n)};Store.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return genericSubscribe(r,this._actionSubscribers,n)};Store.prototype.watch=function(t,n,r){var a=this;return this._watcherVM.$watch(function(){return t(a.state,a.getters)},n,r)};Store.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._vm._data.$$state=t})};Store.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),installModule(this,this.state,t,this._modules.get(t),r.preserveState),resetStoreVM(this,this.state)};Store.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=getNestedState(n.state,t.slice(0,-1));Vue.delete(r,t[t.length-1])}),resetStore(this)};Store.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Store.prototype.hotUpdate=function(t){this._modules.update(t),resetStore(this,!0)};Store.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Store.prototype,prototypeAccessors$1$4);function genericSubscribe(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function resetStore(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;installModule(e,n,[],e._modules.root,!0),resetStoreVM(e,n,t)}function resetStoreVM(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,o={};forEachValue(a,function(l,c){o[c]=partial(l,e),Object.defineProperty(e.getters,c,{get:function(){return e._vm[c]},enumerable:!0})});var s=Vue.config.silent;Vue.config.silent=!0,e._vm=new Vue({data:{$$state:t},computed:o}),Vue.config.silent=s,e.strict&&enableStrictMode(e),r&&(n&&e._withCommit(function(){r._data.$$state=null}),Vue.nextTick(function(){return r.$destroy()}))}function installModule(e,t,n,r,a){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!a){var l=getNestedState(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){Vue.set(l,c,r.state)})}var u=r.context=makeLocalContext(e,s,n);r.forEachMutation(function(f,m){var h=s+m;registerMutation(e,h,f,u)}),r.forEachAction(function(f,m){var h=f.root?m:s+m,d=f.handler||f;registerAction(e,h,d,u)}),r.forEachGetter(function(f,m){var h=s+m;registerGetter(e,h,f,u)}),r.forEachChild(function(f,m){installModule(e,t,n.concat(m),f,a)})}function makeLocalContext(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(o,s,l){var c=unifyObjectStyle(o,s,l),u=c.payload,f=c.options,m=c.type;return(!f||!f.root)&&(m=t+m),e.dispatch(m,u)},commit:r?e.commit:function(o,s,l){var c=unifyObjectStyle(o,s,l),u=c.payload,f=c.options,m=c.type;(!f||!f.root)&&(m=t+m),e.commit(m,u,f)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return makeLocalGetters(e,t)}},state:{get:function(){return getNestedState(e.state,n)}}}),a}function makeLocalGetters(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var o=a.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function registerMutation(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(s){n.call(e,r.state,s)})}function registerAction(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(s){var l=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return isPromise(l)||(l=Promise.resolve(l)),e._devtoolHook?l.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):l})}function registerGetter(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function enableStrictMode(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function getNestedState(e,t){return t.reduce(function(n,r){return n[r]},e)}function unifyObjectStyle(e,t,n){return isObject$g(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function install$1(e){Vue&&e===Vue||(Vue=e,applyMixin(Vue))}var mapState=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var a=r.key,o=r.val;n[a]=function(){var l=this.$store.state,c=this.$store.getters;if(e){var u=getModuleByNamespace(this.$store,"mapState",e);if(!u)return;l=u.context.state,c=u.context.getters}return typeof o=="function"?o.call(this,l,c):l[o]},n[a].vuex=!0}),n}),mapMutations=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var a=r.key,o=r.val;n[a]=function(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];var u=this.$store.commit;if(e){var f=getModuleByNamespace(this.$store,"mapMutations",e);if(!f)return;u=f.context.commit}return typeof o=="function"?o.apply(this,[u].concat(l)):u.apply(this.$store,[o].concat(l))}}),n}),mapGetters=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var a=r.key,o=r.val;o=e+o,n[a]=function(){if(!(e&&!getModuleByNamespace(this.$store,"mapGetters",e)))return this.$store.getters[o]},n[a].vuex=!0}),n}),mapActions=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(r){var a=r.key,o=r.val;n[a]=function(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];var u=this.$store.dispatch;if(e){var f=getModuleByNamespace(this.$store,"mapActions",e);if(!f)return;u=f.context.dispatch}return typeof o=="function"?o.apply(this,[u].concat(l)):u.apply(this.$store,[o].concat(l))}}),n}),createNamespacedHelpers=function(e){return{mapState:mapState.bind(null,e),mapGetters:mapGetters.bind(null,e),mapMutations:mapMutations.bind(null,e),mapActions:mapActions.bind(null,e)}};function normalizeMap(e){return isValidMap(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function isValidMap(e){return Array.isArray(e)||isObject$g(e)}function normalizeNamespace(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function getModuleByNamespace(e,t,n){var r=e._modulesNamespaceMap[n];return r}function createLogger(e){e===void 0&&(e={});var t=e.collapsed;t===void 0&&(t=!0);var n=e.filter;n===void 0&&(n=function(f,m,h){return!0});var r=e.transformer;r===void 0&&(r=function(f){return f});var a=e.mutationTransformer;a===void 0&&(a=function(f){return f});var o=e.actionFilter;o===void 0&&(o=function(f,m){return!0});var s=e.actionTransformer;s===void 0&&(s=function(f){return f});var l=e.logMutations;l===void 0&&(l=!0);var c=e.logActions;c===void 0&&(c=!0);var u=e.logger;return u===void 0&&(u=console),function(f){var m=deepCopy(f.state);typeof u!="undefined"&&(l&&f.subscribe(function(h,d){var g=deepCopy(d);if(n(h,m,g)){var v=getFormattedTime(),_=a(h),y="mutation "+h.type+v;startMessage(u,y,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(m)),u.log("%c mutation","color: #03A9F4; font-weight: bold",_),u.log("%c next state","color: #4CAF50; font-weight: bold",r(g)),endMessage(u)}m=g}),c&&f.subscribeAction(function(h,d){if(o(h,d)){var g=getFormattedTime(),v=s(h),_="action "+h.type+g;startMessage(u,_,t),u.log("%c action","color: #03A9F4; font-weight: bold",v),endMessage(u)}}))}}function startMessage(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch{e.log(t)}}function endMessage(e){try{e.groupEnd()}catch{e.log("\u2014\u2014 log end \u2014\u2014")}}function getFormattedTime(){var e=new Date;return" @ "+pad(e.getHours(),2)+":"+pad(e.getMinutes(),2)+":"+pad(e.getSeconds(),2)+"."+pad(e.getMilliseconds(),3)}function repeat(e,t){return new Array(t+1).join(e)}function pad(e,t){return repeat("0",t-e.toString().length)+e}var index$1={Store,install:install$1,version:"3.6.2",mapState,mapMutations,mapGetters,mapActions,createNamespacedHelpers,createLogger},Vuex=index$1,commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$5(e,t){return e===t||e!==e&&t!==t}var eq_1=eq$5,eq$4=eq_1;function assocIndexOf$4(e,t){for(var n=e.length;n--;)if(eq$4(e[n][0],t))return n;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,n=assocIndexOf$3(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():splice.call(t,n,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,n=assocIndexOf$2(t,e);return n<0?void 0:t[n][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$6=root$8.Symbol,_Symbol=Symbol$6,Symbol$5=_Symbol,objectProto$g=Object.prototype,hasOwnProperty$g=objectProto$g.hasOwnProperty,nativeObjectToString$1=objectProto$g.toString,symToStringTag$1=Symbol$5?Symbol$5.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$g.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var r=!0}catch{}var a=nativeObjectToString$1.call(e);return r&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),a}var _getRawTag=getRawTag$1,objectProto$f=Object.prototype,nativeObjectToString=objectProto$f.toString;function objectToString$2(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$2,Symbol$4=_Symbol,getRawTag=_getRawTag,objectToString$1=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag$6(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString$1(e)}var _baseGetTag=baseGetTag$6;function isObject$f(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var isObject_1=isObject$f,baseGetTag$5=_baseGetTag,isObject$e=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$5(e){if(!isObject$e(e))return!1;var t=baseGetTag$5(e);return t==funcTag$2||t==genTag$1||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$5,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(e){if(e!=null){try{return funcToString$2.call(e)}catch{}try{return e+""}catch{}}return""}var _toSource=toSource$2,isFunction$4=isFunction_1,isMasked=_isMasked,isObject$d=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$e=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$f=objectProto$e.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$f).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){if(!isObject$d(e)||isMasked(e))return!1;var t=isFunction$4(e)?reIsNative:reIsHostCtor;return t.test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return e==null?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$4=getNative$6(root$6,"Map"),_Map=Map$4,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$d=Object.prototype,hasOwnProperty$e=objectProto$d.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var n=t[e];return n===HASH_UNDEFINED$2?void 0:n}return hasOwnProperty$e.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$c=Object.prototype,hasOwnProperty$d=objectProto$c.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?t[e]!==void 0:hasOwnProperty$d.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&t===void 0?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var n=e.__data__;return isKeyable(t)?n[typeof t=="string"?"string":"hash"]:n.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$2=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,t){var n=this.__data__;if(n instanceof ListCache$1){var r=n.__data__;if(!Map$2||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache$2(r)}return n.set(e,t),this.size=n.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$4(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack$4.prototype.clear=stackClear;Stack$4.prototype.delete=stackDelete;Stack$4.prototype.get=stackGet;Stack$4.prototype.has=stackHas;Stack$4.prototype.set=stackSet;var _Stack=Stack$4;function arrayEach$1(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var _arrayEach=arrayEach$1,getNative$4=_getNative,defineProperty$2=function(){try{var e=getNative$4(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_defineProperty$2=defineProperty$2,defineProperty$1=_defineProperty$2;function baseAssignValue$4(e,t,n){t=="__proto__"&&defineProperty$1?defineProperty$1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _baseAssignValue=baseAssignValue$4,baseAssignValue$3=_baseAssignValue,eq$3=eq_1,objectProto$b=Object.prototype,hasOwnProperty$c=objectProto$b.hasOwnProperty;function assignValue$2(e,t,n){var r=e[t];(!(hasOwnProperty$c.call(e,t)&&eq$3(r,n))||n===void 0&&!(t in e))&&baseAssignValue$3(e,t,n)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue$2=_baseAssignValue;function copyObject$5(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),a?baseAssignValue$2(n,l,c):assignValue$1(n,l,c)}return n}var _copyObject=copyObject$5;function baseTimes$1(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _baseTimes=baseTimes$1;function isObjectLike$9(e){return e!=null&&typeof e=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$4=_baseGetTag,isObjectLike$8=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$8(e)&&baseGetTag$4(e)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$7=isObjectLike_1,objectProto$a=Object.prototype,hasOwnProperty$b=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$7(e)&&hasOwnProperty$b.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments$4,isArray$d=Array.isArray,isArray_1=isArray$d,isBuffer$6={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(e,t){var n=_root,r=stubFalse_1,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===a,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(isBuffer$6,isBuffer$6.exports);var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(e,t){var n=typeof e;return t=t==null?MAX_SAFE_INTEGER$1:t,!!t&&(n=="number"||n!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$3,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$6]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$6]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(e){return isObjectLike$6(e)&&isLength$2(e.length)&&!!typedArrayTags[baseGetTag$3(e)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(e){return function(t){return e(t)}}var _baseUnary=baseUnary$3,_nodeUtil={exports:{}};(function(e,t){var n=_freeGlobal,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,s=o&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtil.exports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$c=isArray_1,isBuffer$5=isBuffer$6.exports,isIndex$2=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$9=Object.prototype,hasOwnProperty$a=objectProto$9.hasOwnProperty;function arrayLikeKeys$2(e,t){var n=isArray$c(e),r=!n&&isArguments$3(e),a=!n&&!r&&isBuffer$5(e),o=!n&&!r&&!a&&isTypedArray$3(e),s=n||r||a||o,l=s?baseTimes(e.length,String):[],c=l.length;for(var u in e)(t||hasOwnProperty$a.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||isIndex$2(u,c)))&&l.push(u);return l}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$8=Object.prototype;function isPrototype$4(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||objectProto$8;return e===n}var _isPrototype=isPrototype$4;function overArg$2(e,t){return function(n){return e(t(n))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$3=_isPrototype,nativeKeys=_nativeKeys,objectProto$7=Object.prototype,hasOwnProperty$9=objectProto$7.hasOwnProperty;function baseKeys$2(e){if(!isPrototype$3(e))return nativeKeys(e);var t=[];for(var n in Object(e))hasOwnProperty$9.call(e,n)&&n!="constructor"&&t.push(n);return t}var _baseKeys=baseKeys$2,isFunction$3=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(e){return e!=null&&isLength$1(e.length)&&!isFunction$3(e)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys$1=_arrayLikeKeys,baseKeys$1=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$6(e){return isArrayLike$4(e)?arrayLikeKeys$1(e):baseKeys$1(e)}var keys_1=keys$6,copyObject$4=_copyObject,keys$5=keys_1;function baseAssign$1(e,t){return e&&copyObject$4(t,keys$5(t),e)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var _nativeKeysIn=nativeKeysIn$1,isObject$c=isObject_1,isPrototype$2=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$6=Object.prototype,hasOwnProperty$8=objectProto$6.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$c(e))return nativeKeysIn(e);var t=isPrototype$2(e),n=[];for(var r in e)r=="constructor"&&(t||!hasOwnProperty$8.call(e,r))||n.push(r);return n}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$3=isArrayLike_1;function keysIn$5(e){return isArrayLike$3(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$5,copyObject$3=_copyObject,keysIn$4=keysIn_1;function baseAssignIn$1(e,t){return e&&copyObject$3(t,keysIn$4(t),e)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};(function(e,t){var n=_root,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,s=o?n.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(u,f){if(f)return u.slice();var m=u.length,h=l?l(m):new u.constructor(m);return u.copy(h),h}e.exports=c})(_cloneBuffer,_cloneBuffer.exports);function copyArray$2(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _copyArray=copyArray$2;function arrayFilter$1(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),function(t){return propertyIsEnumerable.call(e,t)}))}:stubArray$1,_getSymbols=getSymbols$3,copyObject$2=_copyObject,getSymbols$2=_getSymbols;function copySymbols$1(e,t){return copyObject$2(e,getSymbols$2(e),t)}var _copySymbols=copySymbols$1;function arrayPush$2(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var _arrayPush=arrayPush$2,overArg=_overArg,getPrototype$3=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$3,arrayPush$1=_arrayPush,getPrototype$2=_getPrototype,getSymbols$1=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(e){for(var t=[];e;)arrayPush$1(t,getSymbols$1(e)),e=getPrototype$2(e);return t}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$1=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(e,t){return copyObject$1(e,getSymbolsIn$1(e),t)}var _copySymbolsIn=copySymbolsIn$1,arrayPush=_arrayPush,isArray$b=isArray_1;function baseGetAllKeys$2(e,t,n){var r=t(e);return isArray$b(e)?r:arrayPush(r,n(e))}var _baseGetAllKeys=baseGetAllKeys$2,baseGetAllKeys$1=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$2(e){return baseGetAllKeys$1(e,keys$4,getSymbols)}var _getAllKeys=getAllKeys$2,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$3=keysIn_1;function getAllKeysIn$1(e){return baseGetAllKeys(e,keysIn$3,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,getNative$3=_getNative,root$5=_root,DataView$2=getNative$3(root$5,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$4=_root,Promise$2=getNative$2(root$4,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$3=_root,Set$2=getNative$1(root$3,"Set"),_Set=Set$2,getNative=_getNative,root$2=_root,WeakMap$2=getNative(root$2,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag$5="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$5="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$5=baseGetTag$2;(DataView$1&&getTag$5(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag$5(new Map$1)!=mapTag$5||Promise$1&&getTag$5(Promise$1.resolve())!=promiseTag||Set$1&&getTag$5(new Set$1)!=setTag$5||WeakMap$1&&getTag$5(new WeakMap$1)!=weakMapTag$1)&&(getTag$5=function(e){var t=baseGetTag$2(e),n=t==objectTag$3?e.constructor:void 0,r=n?toSource(n):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$5;case promiseCtorString:return promiseTag;case setCtorString:return setTag$5;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag$5,objectProto$4=Object.prototype,hasOwnProperty$7=objectProto$4.hasOwnProperty;function initCloneArray$1(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty$7.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var _initCloneArray=initCloneArray$1,root$1=_root,Uint8Array$3=root$1.Uint8Array,_Uint8Array=Uint8Array$3,Uint8Array$2=_Uint8Array;function cloneArrayBuffer$3(e){var t=new e.constructor(e.byteLength);return new Uint8Array$2(t).set(new Uint8Array$2(e)),t}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(e,t){var n=t?cloneArrayBuffer$2(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var _cloneRegExp=cloneRegExp$1,Symbol$3=_Symbol,symbolProto$2=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol$1(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$2(e,t){var n=t?cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray$2,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray$1=_cloneTypedArray,boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(e,t,n){var r=e.constructor;switch(t){case arrayBufferTag$2:return cloneArrayBuffer(e);case boolTag$2:case dateTag$2:return new r(+e);case dataViewTag$2:return cloneDataView(e,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray$1(e,n);case mapTag$4:return new r;case numberTag$2:case stringTag$2:return new r(e);case regexpTag$2:return cloneRegExp(e);case setTag$4:return new r;case symbolTag$3:return cloneSymbol(e)}}var _initCloneByTag=initCloneByTag$1,isObject$b=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function e(){}return function(t){if(!isObject$b(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype$1=_isPrototype;function initCloneObject$2(e){return typeof e.constructor=="function"&&!isPrototype$1(e)?baseCreate(getPrototype$1(e)):{}}var _initCloneObject=initCloneObject$2,getTag$4=_getTag,isObjectLike$5=isObjectLike_1,mapTag$3="[object Map]";function baseIsMap$1(e){return isObjectLike$5(e)&&getTag$4(e)==mapTag$3}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtil.exports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$2=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$2,getTag$3=_getTag,isObjectLike$4=isObjectLike_1,setTag$3="[object Set]";function baseIsSet$1(e){return isObjectLike$4(e)&&getTag$3(e)==setTag$3}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack$3=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer$1=_cloneBuffer.exports,copyArray$1=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys$1=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag$2=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject$1=_initCloneObject,isArray$a=isArray_1,isBuffer$4=isBuffer$6.exports,isMap$1=isMap_1,isObject$a=isObject_1,isSet=isSet_1,keys$3=keys_1,keysIn$2=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$2="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$2]=cloneableTags[numberTag$1]=cloneableTags[objectTag$2]=cloneableTags[regexpTag$1]=cloneableTags[setTag$2]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$2]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(e,t,n,r,a,o){var s,l=t&CLONE_DEEP_FLAG$1,c=t&CLONE_FLAT_FLAG,u=t&CLONE_SYMBOLS_FLAG$1;if(n&&(s=a?n(e,r,a,o):n(e)),s!==void 0)return s;if(!isObject$a(e))return e;var f=isArray$a(e);if(f){if(s=initCloneArray(e),!l)return copyArray$1(e,s)}else{var m=getTag$2(e),h=m==funcTag||m==genTag;if(isBuffer$4(e))return cloneBuffer$1(e,l);if(m==objectTag$2||m==argsTag$1||h&&!a){if(s=c||h?{}:initCloneObject$1(e),!l)return c?copySymbolsIn(e,baseAssignIn(s,e)):copySymbols(e,baseAssign(s,e))}else{if(!cloneableTags[m])return a?e:{};s=initCloneByTag(e,m,l)}}o||(o=new Stack$3);var d=o.get(e);if(d)return d;o.set(e,s),isSet(e)?e.forEach(function(_){s.add(baseClone$1(_,t,n,_,e,o))}):isMap$1(e)&&e.forEach(function(_,y){s.set(y,baseClone$1(_,t,n,y,e,o))});var g=u?c?getAllKeysIn:getAllKeys$1:c?keysIn$2:keys$3,v=f?void 0:g(e);return arrayEach(v||e,function(_,y){v&&(y=_,_=e[y]),assignValue(s,y,baseClone$1(_,t,n,y,e,o))}),s}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;const UPDATE_MEDIA_TYPE_TOTAL="updateMediaTypeTotal",INCREMENT_MEDIA_TYPE_TOTAL="incrementMediaTypeTotal",DECREMENT_MEDIA_TYPE_TOTAL="decrementMediaTypeTotal",SAVE_MEDIAS="saveSelectedMedias",UPDATE_MEDIAS="updateMedias",DESTROY_MEDIAS="destroySelectedMedias",REORDER_MEDIAS="reorderSelectedMedias",PROGRESS_UPLOAD="progressUpload",PROGRESS_UPLOAD_MEDIA="progressUploadMedia",DONE_UPLOAD_MEDIA="doneUploadMedia",ERROR_UPLOAD_MEDIA="errorUploadMedia",DESTROY_SPECIFIC_MEDIA="destroyMediasInSelected",UPDATE_MEDIA_MAX="updateMediaMax",UPDATE_MEDIA_FILESIZE_MAX="updateMediaFilesizeMax",UPDATE_MEDIA_WIDTH_MIN="updateMediaWidthMin",UPDATE_MEDIA_HEIGHT_MIN="updateMediaHeightMin",UPDATE_MEDIA_TYPE="updateMediaType",RESET_MEDIA_TYPE="resetMediaType",SET_MEDIA_CROP="setMediaCrop",SET_MEDIA_METADATAS="setMediaMetadatas",UPDATE_MEDIA_CONNECTOR="updateMediaConnector",UPDATE_MEDIA_MODE="updateMediaMode",DESTROY_MEDIA_CONNECTOR="destroyMediaConnector",UPDATE_REPLACE_INDEX="updateReplaceIndex",ADD_MEDIAS="addMedias";var MEDIA_LIBRARY={UPDATE_MEDIA_TYPE_TOTAL,INCREMENT_MEDIA_TYPE_TOTAL,DECREMENT_MEDIA_TYPE_TOTAL,SAVE_MEDIAS,DESTROY_MEDIAS,REORDER_MEDIAS,PROGRESS_UPLOAD,PROGRESS_UPLOAD_MEDIA,DONE_UPLOAD_MEDIA,ERROR_UPLOAD_MEDIA,DESTROY_SPECIFIC_MEDIA,UPDATE_MEDIA_MAX,UPDATE_MEDIA_FILESIZE_MAX,UPDATE_MEDIA_WIDTH_MIN,UPDATE_MEDIA_HEIGHT_MIN,UPDATE_MEDIA_TYPE,RESET_MEDIA_TYPE,SET_MEDIA_CROP,SET_MEDIA_METADATAS,UPDATE_MEDIA_CONNECTOR,UPDATE_MEDIA_MODE,DESTROY_MEDIA_CONNECTOR,UPDATE_REPLACE_INDEX,UPDATE_MEDIAS,ADD_MEDIAS};const SET_NOTIF="setNotification",CLEAR_NOTIF="clearNotification";var NOTIFICATION={SET_NOTIF,CLEAR_NOTIF};const PREVENT_SUBMIT="preventSubmit",ALLOW_SUBMIT="allowSubmit",UPDATE_FORM_PERMALINK="updateFormPermalink",UPDATE_FORM_FIELD="updateFormField",REMOVE_FORM_FIELD="removeFormField",ADD_FORM_BLOCK="addFormBlock",DELETE_FORM_BLOCK="deleteFormBlock",DUPLICATE_FORM_BLOCK="duplicateFormBlock",DUPLICATE_BLOCK_FORM_FIELDS="duplicateBlockFormFields",ADD_REPEATERS="duplicateBlockRepeaters",REORDER_FORM_BLOCKS="reorderFormBlocks",UPDATE_FORM_LOADING="updateFormLoading",SET_FORM_ERRORS="setFormErrors",CLEAR_FORM_ERRORS="clearFormErrors",UPDATE_FORM_SAVE_TYPE="updateFormSaveType",REPLACE_FORM_FIELDS="replaceFormField",ADD_FORM_FIELDS="addFormField",EMPTY_FORM_FIELDS="emptyFormField",ADD_REPEATER_FROM_SELECTION="addRepeaterFromSelection",EMPTY_MODAL_FIELDS="emptyModalField",UPDATE_MODAL_FIELD="updateModalField",REMOVE_MODAL_FIELD="removeModalField",REPLACE_MODAL_FIELDS="replaceModalField";var FORM={PREVENT_SUBMIT,ALLOW_SUBMIT,UPDATE_FORM_PERMALINK,UPDATE_FORM_FIELD,REMOVE_FORM_FIELD,ADD_FORM_BLOCK,DELETE_FORM_BLOCK,DUPLICATE_FORM_BLOCK,DUPLICATE_BLOCK_FORM_FIELDS,ADD_REPEATERS,REORDER_FORM_BLOCKS,UPDATE_FORM_LOADING,SET_FORM_ERRORS,CLEAR_FORM_ERRORS,UPDATE_FORM_SAVE_TYPE,REPLACE_FORM_FIELDS,ADD_FORM_FIELDS,EMPTY_FORM_FIELDS,EMPTY_MODAL_FIELDS,UPDATE_MODAL_FIELD,REMOVE_MODAL_FIELD,REPLACE_MODAL_FIELDS,ADD_REPEATER_FROM_SELECTION};const SAVE_ITEMS="saveSelectedItems",DESTROY_ITEMS="destroyAllItems",DESTROY_ITEM="destroySelectedItem",REORDER_ITEMS="reorderSelectedItems",UPDATE_BROWSER_MAX="updateBrowserMax",UPDATE_BROWSER_TITLE="updateBrowserTitle",UPDATE_BROWSER_NOTE="updateBrowserNote",UPDATE_BROWSER_CONNECTOR="updateBrowserConnector",DESTROY_BROWSER_CONNECTOR="destroyBrowserConnector",UPDATE_BROWSER_ENDPOINT="updateBrowserEndpoint",UPDATE_BROWSER_ENDPOINTS="updateBrowserEndpoints",DESTROY_BROWSER_ENDPOINT="destroyBrowserEndpoint",DESTROY_BROWSER_ENDPOINTS="destroyBrowserEndpoints",ADD_BROWSERS="addBrowsers";var BROWSER={SAVE_ITEMS,DESTROY_ITEMS,DESTROY_ITEM,REORDER_ITEMS,UPDATE_BROWSER_MAX,UPDATE_BROWSER_TITLE,UPDATE_BROWSER_NOTE,UPDATE_BROWSER_CONNECTOR,DESTROY_BROWSER_CONNECTOR,UPDATE_BROWSER_ENDPOINT,DESTROY_BROWSER_ENDPOINT,UPDATE_BROWSER_ENDPOINTS,DESTROY_BROWSER_ENDPOINTS,ADD_BROWSERS};const SWITCH_LANG="switchLanguage",UPDATE_LANG="updateLanguage",PUBLISH_LANG="updatePublishedLanguage",PUBLISH_SINGLE_LANG="publishLanguage",REPLACE_LANGUAGES="replaceLanguages",RESET_LANGUAGES="resetLanguages";var LANGUAGE={SWITCH_LANG,UPDATE_LANG,PUBLISH_LANG,PUBLISH_SINGLE_LANG,REPLACE_LANGUAGES,RESET_LANGUAGES};const LOADING_REV="loadingRevision",UPDATE_REV="updateRevision",UPDATE_REV_CONTENT="updateRevisionContent",UPDATE_REV_CURRENT_CONTENT="updatePreviewContent",UPDATE_REV_ALL="updateAllRevision";var REVISION={LOADING_REV,UPDATE_REV,UPDATE_REV_CONTENT,UPDATE_REV_CURRENT_CONTENT,UPDATE_REV_ALL};const UPDATE_PUBLISH_START_DATE="updatePublishStartDate",UPDATE_PUBLISH_END_DATE="updatePublishEndDate",UPDATE_PUBLISH_STATE="updatePublishState",UPDATE_PUBLISH_SUBMIT="updatePublishSubmit",UPDATE_PUBLISH_VISIBILITY="updatePublishVisibility",UPDATE_REVIEW_PROCESS="updateReviewProcess",UPDATE_SAVE_TYPE="updateSaveType",UPDATE_HAS_UNSAVED_CHANGES="updateHasUnsavedChanges";var PUBLICATION={UPDATE_PUBLISH_START_DATE,UPDATE_PUBLISH_END_DATE,UPDATE_PUBLISH_STATE,UPDATE_PUBLISH_VISIBILITY,UPDATE_REVIEW_PROCESS,UPDATE_PUBLISH_SUBMIT,UPDATE_SAVE_TYPE,UPDATE_HAS_UNSAVED_CHANGES};const EMPTY_OPTIONS="emptyAttributes",UPDATE_OPTIONS="updateAttributes";var ATTRIBUTES={EMPTY_OPTIONS,UPDATE_OPTIONS};const MOVE_BLOCK_TO_EDITOR="moveBlockToEditor",DUPLICATE_BLOCK="duplicateBlock",GET_BUCKETS="getBucketsData",SAVE_BUCKETS="saveBuckets",GET_DATATABLE="getDatatableDatas",SET_DATATABLE_NESTED="setDatatableNestedDatas",SET_DATATABLE="setDatatableDatas",TOGGLE_PUBLISH="togglePublishedData",DELETE_ROW="deleteData",DUPLICATE_ROW="duplicateData",RESTORE_ROW="restoreData",DESTROY_ROW="destroyData",TOGGLE_FEATURE="toggleFeaturedData",BULK_PUBLISH="bulkPublishData",BULK_FEATURE="bulkFeatureData",BULK_EXPORT="bulkExportData",BULK_DELETE="bulkDeleteData",BULK_RESTORE="bulkRestoreData",BULK_DESTROY="bulkDestroyData",REPLACE_FORM="replaceFormData",SAVE_FORM="saveFormData",UPDATE_FORM_IN_LISTING="updateFormInListing",CREATE_FORM_IN_MODAL="createFormInModal",GET_ALL_PREVIEWS="getAllPreviews",GET_PREVIEW="getPreview",GET_REVISION="getRevisionContent",GET_CURRENT="getCurrentContent",HANDLE_ERRORS="handleErrors";var ACTIONS={HANDLE_ERRORS,GET_BUCKETS,SAVE_BUCKETS,GET_DATATABLE,SET_DATATABLE_NESTED,SET_DATATABLE,TOGGLE_PUBLISH,DELETE_ROW,DUPLICATE_ROW,RESTORE_ROW,DESTROY_ROW,TOGGLE_FEATURE,BULK_PUBLISH,BULK_FEATURE,BULK_EXPORT,BULK_DELETE,BULK_RESTORE,BULK_DESTROY,REPLACE_FORM,SAVE_FORM,UPDATE_FORM_IN_LISTING,CREATE_FORM_IN_MODAL,GET_ALL_PREVIEWS,GET_PREVIEW,GET_REVISION,GET_CURRENT,MOVE_BLOCK_TO_EDITOR,DUPLICATE_BLOCK};const state$3={crops:window[{}.VUE_APP_NAME].STORE.medias.crops||{},showFileName:window[{}.VUE_APP_NAME].STORE.medias.showFileName||!1,types:window[{}.VUE_APP_NAME].STORE.medias.types||[],type:"image",connector:null,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:window[{}.VUE_APP_NAME].STORE.medias.selected||{},config:window[{}.VUE_APP_NAME].STORE.medias.config||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1},getters$3={mediasByBlockId:e=>t=>{const n=Object.keys(e.selected).filter(a=>a.startsWith(`blocks[${t}]`)),r={};return n.forEach(a=>r[a]=e.selected[a]),r}},mutations$3={[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(n=>(n.value===t.type&&(n.total=t.total),n))},[MEDIA_LIBRARY.UPDATE_REPLACE_INDEX](e,t){e.indexToReplace=t},[MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(n=>(n.value===t&&(n.total=n.total+1),n))},[MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(n=>(n.value===t&&(n.total=n.total-1),n))},[MEDIA_LIBRARY.UPDATE_MEDIAS](e,{mediaRole:t,index:n,media:r}){Vue$1.set(e.selected[t],n,r)},[MEDIA_LIBRARY.SAVE_MEDIAS](e,t){if(e.connector){const n=e.connector,r=e.selected[n]&&e.selected[n].length;if(r&&e.indexToReplace>-1)e.selected[n].splice(e.indexToReplace,1,cloneDeep_1(t[0]));else if(r)t.forEach(function(a){e.selected[n].push(cloneDeep_1(a))});else{const a={};a[n]=t,e.selected=Object.assign({},e.selected,a)}e.indexToReplace=-1}},[MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA](e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),e.selected[t.name].length===0&&Vue$1.delete(e.selected,t.name)),e.connector=null},[MEDIA_LIBRARY.DESTROY_MEDIAS](e,t){e.selected[t]&&Vue$1.delete(e.selected,t),e.connector=null},[MEDIA_LIBRARY.REORDER_MEDIAS](e,t){const n={};n[t.name]=t.medias,e.selected=Object.assign({},e.selected,n)},[MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA](e,t){const n=e.loading.filter(r=>r.id===t.id);n.length?(n[0].error=!1,n[0].progress=t.progress):e.loading.unshift({id:t.id,name:t.name,progress:t.progress,replacementId:t.replacementId,isReplacement:t.isReplacement})},[MEDIA_LIBRARY.PROGRESS_UPLOAD](e,t){e.uploadProgress=t},[MEDIA_LIBRARY.DONE_UPLOAD_MEDIA](e,t){e.loading.forEach(function(n,r){n.id===t.id&&e.loading.splice(r,1)})},[MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA](e,t){e.loading.forEach(function(n,r){n.id===t.id&&(Vue$1.set(e.loading[r],"progress",0),Vue$1.set(e.loading[r],"error",!0),Vue$1.set(e.loading[r],"errorMessage",t.errorMessage))})},[MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR](e,t){t&&t!==""?e.connector=t:e.connector=null},[MEDIA_LIBRARY.UPDATE_MEDIA_MODE](e,t){e.strict=t},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE](e,t){t&&t!==""&&(e.type=t)},[MEDIA_LIBRARY.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[MEDIA_LIBRARY.UPDATE_MEDIA_MAX](e,t){e.max=Math.max(0,t)},[MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX](e,t){e.filesizeMax=Math.max(0,t)},[MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN](e,t){e.widthMin=Math.max(0,t)},[MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN](e,t){e.heightMin=Math.max(0,t)},[MEDIA_LIBRARY.SET_MEDIA_METADATAS](e,t){const n=t.media.context,r=e.selected[n],a=t.value;function o(s){return a.locale?(s.metadatas.custom[a.id]||(s.metadatas.custom[a.id]={}),s.metadatas.custom[a.id][a.locale]=a.value):s.metadatas.custom[a.id]=a.value,s}if(t.media.hasOwnProperty("index")){const s=o(cloneDeep_1(r[t.media.index]));Vue$1.set(r,t.media.index,s)}},[MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[MEDIA_LIBRARY.SET_MEDIA_CROP](e,t){const n=t.key,r=t.index,a=e.selected[n][r];function o(l){l.crops||(l.crops={});for(const c in t.values){const u={};u.name=t.values[c].name||c,u.x=t.values[c].x,u.y=t.values[c].y,u.width=t.values[c].width,u.height=t.values[c].height,l.crops[c]=u}return l}const s=o(cloneDeep_1(a));Vue$1.set(e.selected[n],r,s)},[MEDIA_LIBRARY.ADD_MEDIAS](e,{medias:t}){e.selected=Object.assign({},e.selected,t)}},actions$2={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:t},{block:n,id:r}){const a={...t.mediasByBlockId(n.id)},o=Object.keys(a),s={};o.forEach(l=>s[l.replace(n.id,r)]=[...a[l]]),e(MEDIA_LIBRARY.ADD_MEDIAS,{medias:s})}};var mediaLibrary={state:state$3,getters:getters$3,mutations:mutations$3,actions:actions$2};const state$2={success:null,info:null,warning:null,error:null},getters$2={notifByVariant:e=>t=>e[t],notified:e=>Object.keys(e).filter(t=>e[t]!==null).length===0},mutations$2={[NOTIFICATION.SET_NOTIF](e,t){e[t.variant]=t.message},[NOTIFICATION.CLEAR_NOTIF](e,t){e[t]&&(e[t]=null)}};var notification={state:state$2,getters:getters$2,mutations:mutations$2};Vue$1.use(Vuex);const debug=!1;var store$1=new Vuex.Store({modules:{notification,mediaLibrary},strict:debug}),app=(()=>`@charset "UTF-8";@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container,#a17{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,dialog,figure,footer,header,hgroup,menu,nav,section,time,mark,audio,video{margin:0;padding:0;border:0;background:transparent;font:inherit;font-size:100%;vertical-align:baseline;outline:0}article,aside,dialog,figure,footer,header,hgroup,nav,section,main{display:block}html{overflow-y:scroll;overflow:-moz-scrollbars-vertical;box-sizing:border-box;touch-action:manipulation}body{line-height:1}blockquote,q{quotes:none}ul,ol{list-style:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}*,*:before,*:after{box-sizing:inherit;touch-action:inherit}.svg-sprite{position:absolute;z-index:-1;left:-1px;top:-1px;width:1px;height:1px;overflow:hidden}@-ms-viewport{width:device-width}@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.design-grid-toggle{position:fixed;z-index:9999;left:0;bottom:0;padding:1px 8px;background:#000;color:#fff;font-size:11px;cursor:pointer}.design-grid-toggle--columns{left:auto;right:0}.design-grid-toggle--columns:before,.design-grid-toggle--columns:after{display:block;position:absolute;right:8px;bottom:100%;color:#1d9f3c;font-weight:700;text-align:right;text-transform:uppercase;white-space:nowrap}.design-grid-toggle--columns:before{margin-bottom:-2px}@media screen and (max-width: 599px){.design-grid-toggle--columns:before{content:"xsmall"}}@media screen and (min-width: 600px) and (max-width: 849px){.design-grid-toggle--columns:before{content:"small"}}@media screen and (min-width: 850px) and (max-width: 1039px){.design-grid-toggle--columns:before{content:"medium"}}@media screen and (min-width: 1040px) and (max-width: 1539px){.design-grid-toggle--columns:before{content:"large"}}@media screen and (min-width: 1540px){.design-grid-toggle--columns:before{content:"xlarge"}}.design-grid-toggle--columns:after{content:attr(data-env);margin-bottom:12px}.design-grid--baseline{display:block;position:absolute;z-index:9998;left:0;right:0;top:0;bottom:0;width:100%;height:100%;background:repeating-linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,0) 5px,#7fffff 5px,#7fffff 10px);opacity:.25;pointer-events:none}.design-grid--baseline.js-hide{display:none}.design-grid--columns{display:block;position:fixed;z-index:9998;left:0;right:0;top:0;bottom:0;width:100%;height:100%;margin:0 auto;background-color:transparent;opacity:.25;pointer-events:none}.design-grid--columns.js-hide{display:none}@media screen and (max-width: 599px){.design-grid--columns{width:calc(100vw - 40px);background:repeating-linear-gradient(90deg,#7fffff,#7fffff calc((100vw - 115px) / 6),rgba(0,0,0,0) calc((100vw - 115px) / 6),rgba(0,0,0,0) calc(((100vw - 115px) / 6) + 15px))}}@media screen and (min-width: 600px) and (max-width: 849px){.design-grid--columns{width:calc(100vw - 60px);background:repeating-linear-gradient(90deg,#7fffff,#7fffff calc((100vw - 135px) / 6),rgba(0,0,0,0) calc((100vw - 135px) / 6),rgba(0,0,0,0) calc(((100vw - 135px) / 6) + 15px))}}@media screen and (min-width: 850px) and (max-width: 1039px){.design-grid--columns{width:calc(100vw - 80px);background:repeating-linear-gradient(90deg,#7fffff,#7fffff calc((100vw - 180px) / 6),rgba(0,0,0,0) calc((100vw - 180px) / 6),rgba(0,0,0,0) calc(((100vw - 180px) / 6) + 20px))}}@media screen and (min-width: 1040px) and (max-width: 1539px){.design-grid--columns{width:calc(100vw - 100px);background:repeating-linear-gradient(90deg,#7fffff,#7fffff calc((100vw - 200px) / 6),rgba(0,0,0,0) calc((100vw - 200px) / 6),rgba(0,0,0,0) calc(((100vw - 200px) / 6) + 20px))}}@media screen and (min-width: 1540px){.design-grid--columns{width:1480px;background:repeating-linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,0) 20px,#7fffff 20px,#7fffff calc(((1440px - 100px) / 6) + 20px))}}.container,#a17{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container,#a17{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container,#a17{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container,#a17{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container,#a17{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container,#a17{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}h1,h2,h3,p,ul,ol,dl,label{font-family:Inter,-apple-system,-system-ui,system-ui,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;font-size:15px;line-height:20px;font-weight:400;font-style:normal;margin-top:0}h1,h2,h3{font-weight:600;font-family:Inter,-apple-system,-system-ui,system-ui,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;font-size:15px;line-height:20px;font-weight:400;font-style:normal}p em{font-style:italic}strong,b,p strong,p b{font-weight:600}ul li{list-style-type:none}img{border:0 none}a{color:inherit}.js--hide{display:none}.js--show{display:block}input,select,textarea,button{font-family:inherit}.btn--reset{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit}.f--heading{font-size:40px}.f--medium{font-size:18px}.f--regular{font-size:15px}.f--small{font-size:13px}.f--tiny{font-size:11px;letter-spacing:0}.f--note{color:#8c8c8c}.f--light-hover{color:#8c8c8c;text-decoration:none}.f--light-hover:hover{color:#262626}.f--link{color:#3278b8}.f--underlined,.f--light-underlined,.f--underlined--o,.f--light-underlined--o,.f--link-underlined,.f--link-underlined--o{text-decoration:none}.f--underlined--link{cursor:pointer}.f--underlined{text-decoration:none;background-image:linear-gradient(to bottom,rgba(38,38,38,.5) 75%,rgba(38,38,38,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.f--underlined:hover{background-image:linear-gradient(to bottom,#262626 75%,#262626 75%)}a:hover .f--underlined--o,button:hover .f--underlined--o,.f--underlined--o:hover{text-decoration:none;background-image:linear-gradient(to bottom,rgba(38,38,38,.5) 75%,rgba(38,38,38,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.f--light-underlined,.f--note.f--underlined{text-decoration:none;background-image:linear-gradient(to bottom,rgba(140,140,140,.5) 75%,rgba(140,140,140,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.f--light-underlined:hover,.f--note.f--underlined:hover{background-image:linear-gradient(to bottom,#8c8c8c 75%,#8c8c8c 75%)}a:hover .f--note.f--underlined--o,a:hover .f--light-underlined--o,button:hover .f--note.f--underlined--o,button:hover .f--light-underlined--o,.f--note.f--underlined--o:hover,.f--light-underlined--o:hover{text-decoration:none;background-image:linear-gradient(to bottom,rgba(140,140,140,.5) 75%,rgba(140,140,140,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.f--link-underlined{text-decoration:none;background-image:linear-gradient(to bottom,rgba(50,120,184,.5) 75%,rgba(50,120,184,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.f--link-underlined:hover{background-image:linear-gradient(to bottom,#3278B8 75%,#3278B8 75%)}a:hover .f--link-underlined--o,button:hover .f--link-underlined--o,.f--link-underlined--o:hover{text-decoration:none;background-image:linear-gradient(to bottom,rgba(50,120,184,.5) 75%,rgba(50,120,184,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.f--external{position:relative;text-decoration:none}.f--external:after{content:"\\2197";font-size:12px;color:inherit;position:absolute;transform:translate(50%);font-weight:400}.envlabel{text-transform:uppercase;height:15px;line-height:15px;padding:0 5px;display:inline-block;position:relative;border-radius:7px;background:black;font-size:10px;color:#000;background:#fff;font-weight:600;top:-2px;letter-spacing:.05em;margin:0 5px}.envlabel--heading{top:-20px}.nav__item.s--on a:after{background:#3679B6}.env:before{content:"";position:fixed;height:3px;top:0;left:0;right:0;background:#fff;z-index:150}.env--localhost:before,.env--local:before,.env--dev:before,.env--development:before{background:#269E41}.env--localhost .nav__item.s--on a:after,.env--localhost .envlabel,.env--local .nav__item.s--on a:after,.env--local .envlabel,.env--dev .nav__item.s--on a:after,.env--dev .envlabel,.env--development .nav__item.s--on a:after,.env--development .envlabel{background:#269E41}.env--preprod:before,.env--stage:before,.env--staging:before{background:#3679B6}.env--preprod .nav__item.s--on a:after,.env--preprod .envlabel,.env--stage .nav__item.s--on a:after,.env--stage .envlabel,.env--staging .nav__item.s--on a:after,.env--staging .envlabel{background:#3679B6}.env--prod:before,.env--live:before,.env--production:before{background:#E31A22}.env--prod .nav__item.s--on a:after,.env--prod .envlabel,.env--live .nav__item.s--on a:after,.env--live .envlabel,.env--production .nav__item.s--on a:after,.env--production .envlabel{background:#E31A22}.tooltip{display:block;position:fixed;top:0;left:0;z-index:600;opacity:1;visibility:visible;transition:opacity .2s ease,visibility 0s .2s}.tooltip__arrow{left:50%;pointer-events:none;width:26px;height:6px;overflow:hidden;position:absolute;margin-left:-13px}.tooltip__arrow:after{border:solid transparent;content:"";left:50%;display:block;margin-top:3px;margin-left:-3px;position:absolute;width:6px;height:6px;background-color:#0009;transform:rotate(45deg)}.tooltip--bottom .tooltip__arrow{bottom:100%}.tooltip--top .tooltip__arrow{bottom:-6px;transform:rotate(180deg)}.tooltip--top .tooltip__arrow:after{transform:rotate(45deg)}.tooltip--left .tooltip__arrow{left:0}.tooltip--center .tooltip__arrow{left:50%;margin-left:-25px}.tooltip__inner{background:rgba(0,0,0,.6);padding:5px 9px;border-radius:2px;max-width:150px;color:#fff;font-size:11px;letter-spacing:0;font-weight:400;line-height:1.5em}.tooltip--large .tooltip__inner{background:rgba(255,255,255,.95);padding:10px 15px;border-radius:2px;box-shadow:0 0 5px #0000004d;max-width:270px;color:#8c8c8c;font-size:13px;font-weight:400}.tooltip--large .tooltip__arrow{display:none}.tag{text-transform:uppercase;height:15px;line-height:15px;padding:0 5px;display:inline-block;position:relative;border-radius:2px;background:black;font-size:10px;color:#fff;background:#a6a6a6;letter-spacing:.05em;top:-2px;margin:0 5px;text-decoration:none}.tag--rounded{border-radius:7px;padding:0 8px}.tag--disabled{background:#d9d9d9}.tag--enabled{background:#a6a6a6}.tag--ok{background:#1d9f3c}.ham{background-color:transparent;-webkit-appearance:none;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;cursor:pointer;position:absolute;top:0;right:0;height:60px;z-index:1}@media screen and (min-width: 1040px){.ham{display:none}}@media screen and (max-width: 599px){.ham{margin-right:20px;margin-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.ham{margin-right:30px;margin-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.ham{margin-right:40px;margin-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.ham{margin-right:50px;margin-left:50px}}@media screen and (min-width: 1540px){.ham{margin-right:50px;margin-left:50px}}@media screen and (max-width: 599px){.ham--search{margin-right:50px;margin-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.ham--search{margin-right:60px;margin-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.ham--search{margin-right:70px;margin-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.ham--search{margin-right:80px;margin-left:50px}}@media screen and (min-width: 1540px){.ham--search{margin-right:80px;margin-left:50px}}.ham__label,.ham__btn{display:inline-block}.ham__label{color:#fff}@media screen and (max-width: 599px){.ham__label{display:none}}.ham__btn{overflow:hidden;box-sizing:content-box;font-size:0px}.ham__label,.ham__line{opacity:1}.ham__label{margin-right:20px}.ham__icon{width:20px;height:13px;display:block;position:relative}.ham__icon:after,.ham__icon:before{content:"";height:1px;position:absolute;display:block;left:0;right:0;width:100%;background:#8c8c8c}.ham__icon:before{top:0}.ham__icon:after{bottom:0}.ham .icon{display:none;color:#8c8c8c}.ham:hover .icon,.ham:focus .icon{color:#fff}.ham__line{height:1px;background:#8c8c8c;width:100%;left:0;right:0;position:absolute;top:6px}.ham:hover .ham__icon:after,.ham:hover .ham__icon:before,.ham:focus .ham__icon:after,.ham:focus .ham__icon:before{background:#fff}.ham:hover .ham__line,.ham:focus .ham__line{background:#fff}.notif{position:fixed;bottom:0;min-height:60px;width:100%;left:0;right:0;z-index:550;background:#ccc}.notif__inner{min-height:60px;text-align:center;position:relative}@media screen and (max-width: 599px){.notif__inner{padding:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.notif__inner{padding:20px 30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.notif__inner{padding:20px 40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.notif__inner{padding:20px 50px}}@media screen and (min-width: 1540px){.notif__inner{padding:20px 50px}}@media screen and (max-width: 599px){.notif__inner{text-align:left}}.notif__close{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;position:absolute;right:7px;top:7px;background:transparent;height:46px;width:46px;color:#262626;opacity:.5;padding:15px}.notif__close:hover{color:#262626;opacity:.25}@keyframes godown{0%{transform:translateY(0);opacity:1}90%{opacity:1}to{transform:translateY(100%);opacity:0}}.notif--destroy{animation:godown .3s 3s normal forwards}.notif--success{background:rgba(255,255,0,.97)}.notif--error,.notif--warning{color:#fff;background:rgba(255,0,0,.97)}@media screen and (max-width: 599px){.hide--xsmall{display:none!important}}@media screen and (min-width: 600px) and (max-width: 849px){.hide--small{display:none!important}}@media screen and (min-width: 850px) and (max-width: 1039px){.hide--medium{display:none!important}}@media screen and (min-width: 1540px){.hide--xlarge{display:none!important}}.box{background:#fff;border-radius:2px;border:1px solid #e5e5e5;margin-top:20px}.box__header{height:55px;line-height:55px;border-bottom:1px solid #f2f2f2;padding:0 20px}.box__filter{padding:10px 0;margin-left:-5px}.box__filter li{display:inline}.box__filter a{display:inline-block;height:35px;line-height:35px;text-decoration:none;padding:0 20px;border-radius:17px;color:#3278b8;background:#fff}.box__filter a.s--on{background:#e5e5e5;color:#262626}.box__filter a:hover{color:#262626}.box__footer{height:55px;line-height:55px;border-top:1px solid #f2f2f2;padding:0 20px}.block__body{margin-top:-35px}.block__body--nolabel{margin-top:-30px}.block__body>h2,.block__body>h3,.block__body>h4{font-size:1em;font-weight:600;margin-top:35px}.block__body>p{margin-top:35px}.block__body>hr{height:5px;margin:20px -20px;padding:0;background:#f2f2f2;border:0 none}.block__body>hr+.repeater{margin-top:20px}.a17--login{background:black;display:flex;flex-flow:column nowrap}.login{margin:auto;color:#666;width:400px;max-width:calc(100vw - 60px);padding-top:30px;padding-bottom:85px}.login__heading{line-height:50px;font-feature-settings:"kern"}.login__heading--title{color:#fff}.login__label,.login__help{display:block;margin-top:35px;margin-bottom:10px;color:#666}.login__fieldset{position:relative}.login__heading+.login__fieldset{margin-top:38px}.login__input{margin:0;-webkit-appearance:none;background:transparent;border:0 none;font-size:inherit;letter-spacing:inherit;display:block;width:100%;height:45px;line-height:45px;border-radius:2px;background:black;border:1px solid #8c8c8c;color:#fff;box-sizing:border-box;font-size:15px;caret-color:#3278b8;padding:0 10px}.login__input:focus{outline:0}.login__input:focus{border-color:#fff;outline:0}.login__help{position:absolute;right:0;top:0;padding-top:2px;text-decoration:none}.login__help span{text-decoration:none;background-image:linear-gradient(to bottom,rgba(102,102,102,.5) 75%,rgba(102,102,102,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.login__button{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:44px 0 35px;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;padding:0;display:block;text-align:center;height:40px;line-height:40px;color:#fff;background-color:#333;width:100%;border-radius:2px;transition:color .25s linear,border-color .25s linear,background-color .25s linear}.login__button:hover,.login__button:focus{background-color:#fff;color:#000}.login__socialite{display:block;text-align:center;text-decoration:none;color:#666;margin-bottom:20px}.login__socialite .icon{color:#666;margin-right:10px;position:relative;top:6px}.login__socialite:hover .icon+span{text-decoration:none;background-image:linear-gradient(to bottom,rgba(102,102,102,.5) 75%,rgba(102,102,102,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.login__copyright{position:absolute;bottom:0;width:100%;left:0;right:0;text-align:center;padding:28px 0}.login__copyright a{color:#4d4d4d;text-decoration:none}.login__copyright a:hover{color:gray}.login__copyright svg{position:relative;bottom:-4px;height:24px;width:55px;margin-left:8px}.dashboardSearch{background:#000;margin-top:-10px;min-height:70px}html,body{min-width:320px;min-height:100%;overflow-x:hidden}html{position:relative;min-height:100%;overflow-x:hidden;overflow-y:auto}body{font-family:Inter,-apple-system,-system-ui,system-ui,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;font-size:15px;line-height:20px;font-weight:400;font-style:normal;background:#fff;color:#262626;font-feature-settings:"kern","tnum";font-kerning:normal;text-rendering:optimizeLegibility;font-variant-ligatures:common-ligatures;-webkit-text-size-adjust:100%;text-size-adjust:100%;padding:0;height:100%}body:after{position:absolute;left:-1px;top:-1px;width:1px;height:1px;margin:-1px 0 0 -1px;color:transparent;font:0/0 a;text-shadow:none}.a17{width:100vw;overflow:hidden;min-height:100vh}.app{min-height:calc(100vh - 230px)}.appLoader{background-color:#fff}.body--form,.body--dashboard,.body--custom-page,.body--buckets,.body--form .appLoader,.body--dashboard .appLoader,.body--custom-page .appLoader,.body--buckets .appLoader{background-color:#f2f2f2}.custom-page{padding-top:26px}@media screen and (max-width: 599px){head{font-family:xsmall}body:after{content:"xsmall"}}@media screen and (min-width: 600px) and (max-width: 849px){head{font-family:small}body:after{content:"small"}}@media screen and (min-width: 850px) and (max-width: 1039px){head{font-family:medium}body:after{content:"medium"}}@media screen and (min-width: 1040px) and (max-width: 1539px){head{font-family:large}body:after{content:"large"}}@media screen and (min-width: 1540px){head{font-family:xlarge}body:after{content:"xlarge"}}#a17{position:relative}.wrapper{display:flex;flex-flow:row wrap}@media screen and (max-width: 599px){.wrapper{margin-left:-15px}}@media screen and (min-width: 600px) and (max-width: 849px){.wrapper{margin-left:-15px}}@media screen and (min-width: 850px) and (max-width: 1039px){.wrapper{margin-left:-20px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.wrapper{margin-left:-20px}}@media screen and (min-width: 1540px){.wrapper{margin-left:-20px}}.wrapper--reverse{flex-direction:row-reverse}.wrapper--oneline{flex-wrap:no-wrap}.col--even{flex:0 0 auto}@media screen and (max-width: 599px){.col--even{width:calc(100vw - 40px);margin-left:15px}}@media screen and (min-width: 600px) and (max-width: 849px){.col--even{width:calc(100vw - 60px);margin-left:15px}}@media screen and (min-width: 850px) and (max-width: 1039px){.col--even{width:calc((100vw - 180px)/2 + 40px);margin-left:20px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.col--even{width:calc((100vw - 200px)/2 + 40px);margin-left:20px}}@media screen and (min-width: 1540px){.col--even{width:710px;margin-left:20px}}.col--primary{flex:0 0 auto}@media screen and (max-width: 599px){.col--primary{width:calc(100vw - 40px);margin-left:15px}}@media screen and (min-width: 600px) and (max-width: 849px){.col--primary{width:calc(100vw - 60px);margin-left:15px}}@media screen and (min-width: 850px) and (max-width: 1039px){.col--primary{width:calc((100vw - 180px)/2 + 40px);margin-left:20px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.col--primary{width:calc((((100vw - 200px) / 6) * 4) + 60px);margin-left:20px}}@media screen and (min-width: 1540px){.col--primary{width:953.3333333333px;margin-left:20px}}.col--aside{flex:0 0 auto}@media screen and (max-width: 599px){.col--aside{width:calc(100vw - 40px);margin-left:15px}}@media screen and (min-width: 600px) and (max-width: 849px){.col--aside{width:calc(100vw - 60px);margin-left:15px}}@media screen and (min-width: 850px) and (max-width: 1039px){.col--aside{width:calc((100vw - 180px)/2 + 40px);margin-left:20px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.col--aside{width:calc((((100vw - 200px) / 6) * 2) + 20px);margin-left:20px}}@media screen and (min-width: 1540px){.col--aside{width:466.6666666667px;margin-left:20px}}.col--double{flex:0 0 auto}@media screen and (max-width: 599px){.col--double{width:calc(50% - 15px);margin-left:15px}}@media screen and (min-width: 600px) and (max-width: 849px){.col--double{width:calc(50% - 15px);margin-left:15px}}@media screen and (min-width: 850px) and (max-width: 1039px){.col--double{width:calc(50% - 20px);margin-left:20px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.col--double{width:calc(50% - 20px);margin-left:20px}}@media screen and (min-width: 1540px){.col--double{width:calc(50% - 20px);margin-left:20px}}.col--third{flex:0 0 auto}@media screen and (max-width: 599px){.col--third{width:calc(33.33333% - 15px);margin-left:15px}}@media screen and (min-width: 600px) and (max-width: 849px){.col--third{width:calc(33.33333% - 15px);margin-left:15px}}@media screen and (min-width: 850px) and (max-width: 1039px){.col--third{width:calc(33.33333% - 20px);margin-left:20px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.col--third{width:calc(33.33333% - 20px);margin-left:20px}}@media screen and (min-width: 1540px){.col--third{width:calc(33.33333% - 20px);margin-left:20px}}@media screen and (max-width: 599px){.col--double-wrap,.col--third-wrap{width:calc(100% - 15px)}}@media screen and (min-width: 850px) and (max-width: 1039px){.col--double-wrap,.col--third-wrap{width:calc(100% - 20px)}}@media screen and (max-width: 599px){.editor .col--double,.editor .col--third{width:calc(100% - 15px)}}@media screen and (min-width: 600px) and (max-width: 849px){.editor .col--double,.editor .col--third{width:calc(100% - 15px)}}@media screen and (min-width: 850px) and (max-width: 1039px){.editor .col--double,.editor .col--third{width:calc(100% - 20px)}}@media screen and (min-width: 1040px) and (max-width: 1539px){.editor .col--double,.editor .col--third{width:calc(100% - 20px)}}@media screen and (min-width: 1540px){.editor .col--double,.editor .col--third{width:calc(100% - 20px)}}.app.error{min-height:calc(100vh - 110px);padding-top:45px;background:#f2f034}.app.error p{margin-bottom:25px;line-height:24px}.field-rows{margin-top:35px}.editorSidebar__body .block__body .field-rows__content>.input,.block .block__content .block__body .field-rows__content>.input,.fieldset .field-rows__content>.input{margin-top:0;border-top:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows__content>.input:first-child,.block .block__content .block__body .field-rows__content>.input:first-child,.fieldset .field-rows__content>.input:first-child{border-top:0 none}.editorSidebar__body .block__body .field-rows__content .vselectOuter,.block .block__content .block__body .field-rows__content .vselectOuter,.fieldset .field-rows__content .vselectOuter{padding:15px}.editorSidebar__body .block__body .field-rows__content .vselectOuter .input,.block .block__content .block__body .field-rows__content .vselectOuter .input,.fieldset .field-rows__content .vselectOuter .input{margin-top:0}.editorSidebar__body .block__body .field-rows__content .vselectOuter+.vselectOuter,.block .block__content .block__body .field-rows__content .vselectOuter+.vselectOuter,.fieldset .field-rows__content .vselectOuter+.vselectOuter{border-top:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows__content .singleCheckbox,.block .block__content .block__body .field-rows__content .singleCheckbox,.fieldset .field-rows__content .singleCheckbox{padding:20px}.editorSidebar__body .block__body .field-rows__content .multiselectorOuter>.input,.block .block__content .block__body .field-rows__content .multiselectorOuter>.input,.fieldset .field-rows__content .multiselectorOuter>.input{margin-top:0}.editorSidebar__body .block__body .field-rows__content .singleselector__outer,.block .block__content .block__body .field-rows__content .singleselector__outer,.fieldset .field-rows__content .singleselector__outer{display:block}.editorSidebar__body .block__body .field-rows__content .singleselector__outer .singleselector__item,.block .block__content .block__body .field-rows__content .singleselector__outer .singleselector__item,.fieldset .field-rows__content .singleselector__outer .singleselector__item{padding:20px;margin:0}.editorSidebar__body .block__body .field-rows__content .singleselector__outer .singleselector__item+.singleselector__item,.block .block__content .block__body .field-rows__content .singleselector__outer .singleselector__item+.singleselector__item,.fieldset .field-rows__content .singleselector__outer .singleselector__item+.singleselector__item{border-top:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows__content .singleselector__outer .singleselector__item:first-child,.block .block__content .block__body .field-rows__content .singleselector__outer .singleselector__item:first-child,.fieldset .field-rows__content .singleselector__outer .singleselector__item:first-child{border-top:0 none}.field-rows__title{margin-bottom:9px}.field-rows__content{border:1px solid #e5e5e5}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content,.editorSidebar__body .block__body .field-rows--3cols .field-rows__content,.block .block__content .block__body .field-rows--2cols .field-rows__content,.block .block__content .block__body .field-rows--3cols .field-rows__content,.fieldset .field-rows--2cols .field-rows__content,.fieldset .field-rows--3cols .field-rows__content{display:flex;flex-wrap:wrap}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content .multiselectorOuter,.editorSidebar__body .block__body .field-rows--3cols .field-rows__content .multiselectorOuter,.block .block__content .block__body .field-rows--2cols .field-rows__content .multiselectorOuter,.block .block__content .block__body .field-rows--3cols .field-rows__content .multiselectorOuter,.fieldset .field-rows--2cols .field-rows__content .multiselectorOuter,.fieldset .field-rows--3cols .field-rows__content .multiselectorOuter{width:100%}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content .singleselector__outer,.editorSidebar__body .block__body .field-rows--3cols .field-rows__content .singleselector__outer,.block .block__content .block__body .field-rows--2cols .field-rows__content .singleselector__outer,.block .block__content .block__body .field-rows--3cols .field-rows__content .singleselector__outer,.fieldset .field-rows--2cols .field-rows__content .singleselector__outer,.fieldset .field-rows--3cols .field-rows__content .singleselector__outer{display:flex;flex-wrap:wrap}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content>.input,.block .block__content .block__body .field-rows--2cols .field-rows__content>.input,.fieldset .field-rows--2cols .field-rows__content>.input{width:50%;border-right:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content>.input:first-child+.input,.block .block__content .block__body .field-rows--2cols .field-rows__content>.input:first-child+.input,.fieldset .field-rows--2cols .field-rows__content>.input:first-child+.input{border-top:0 none}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content>.input:nth-child(2n+2),.block .block__content .block__body .field-rows--2cols .field-rows__content>.input:nth-child(2n+2),.fieldset .field-rows--2cols .field-rows__content>.input:nth-child(2n+2){border-right:0 none}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item,.block .block__content .block__body .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item,.fieldset .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item{width:50%;border-right:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item:first-child+.singleselector__item,.block .block__content .block__body .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item:first-child+.singleselector__item,.fieldset .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item:first-child+.singleselector__item{border-top:0 none}.editorSidebar__body .block__body .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item:nth-child(2n+2),.block .block__content .block__body .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item:nth-child(2n+2),.fieldset .field-rows--2cols .field-rows__content .singleselector__outer .singleselector__item:nth-child(2n+2){border-right:0 none}.editorSidebar__body .block__body .field-rows--3cols .field-rows__content>.input,.block .block__content .block__body .field-rows--3cols .field-rows__content>.input,.fieldset .field-rows--3cols .field-rows__content>.input{width:33.3333%;border-right:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows--3cols .field-rows__content>.input:first-child+.input,.editorSidebar__body .block__body .field-rows--3cols .field-rows__content>.input:first-child+.input+.input,.block .block__content .block__body .field-rows--3cols .field-rows__content>.input:first-child+.input,.block .block__content .block__body .field-rows--3cols .field-rows__content>.input:first-child+.input+.input,.fieldset .field-rows--3cols .field-rows__content>.input:first-child+.input,.fieldset .field-rows--3cols .field-rows__content>.input:first-child+.input+.input{border-top:0 none}.editorSidebar__body .block__body .field-rows--3cols .field-rows__content>.input:nth-child(3n+3),.block .block__content .block__body .field-rows--3cols .field-rows__content>.input:nth-child(3n+3),.fieldset .field-rows--3cols .field-rows__content>.input:nth-child(3n+3){border-right:0 none}.editorSidebar__body .block__body .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item,.block .block__content .block__body .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item,.fieldset .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item{width:33.3333%;border-right:1px solid #f2f2f2}.editorSidebar__body .block__body .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item:first-child+.singleselector__item,.block .block__content .block__body .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item:first-child+.singleselector__item,.fieldset .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item:first-child+.singleselector__item{border-top:0 none}.editorSidebar__body .block__body .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item:nth-child(3n+3),.block .block__content .block__body .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item:nth-child(3n+3),.fieldset .field-rows--3cols .field-rows__content .singleselector__outer .singleselector__item:nth-child(3n+3){border-right:0 none}.header{background:#000;color:#8c8c8c;padding-bottom:50px;font-feature-settings:"kern"}.header .container{display:flex;flex-flow:row nowrap}.header__title{margin-right:33px;margin-left:-17px;color:#fff;flex-grow:1}.header__title a{height:60px;line-height:60px;display:inline-block;color:inherit}@media screen and (min-width: 1040px){.header__title{flex-grow:0}}.header__title,.header__nav,.header__user{height:60px;line-height:60px}.header__title a,.header__nav a,.header__user a{text-decoration:none;color:inherit;white-space:nowrap}.header__title a,.header__nav a{padding:0 17px}.header__nav{display:none;flex-grow:1;overflow:hidden;overflow-x:auto;position:relative}.header__nav ul{white-space:nowrap}@media screen and (min-width: 1040px){.header__nav{display:flex;flex-direction:row;flex-wrap:no-wrap}}.header__user{display:none;z-index:301}.header__user a .icon{position:relative;margin-left:5px;top:-1px;color:#666}.header__user a:hover .icon,.header__user .dropdown--active a,.header__user .dropdown--active a .icon{color:#fff}.header__user .dropdown--active .dropdown__inner a{color:#8c8c8c}.header__user .dropdown--active .dropdown__inner a:hover{color:#262626}@media screen and (min-width: 1040px){.header__user{display:block}}.header__user[v-cloak] div{display:none}.header__nav::-webkit-scrollbar-track-piece{background:#000}.header__nav::-webkit-scrollbar-thumb:horizontal,.header__nav::-webkit-scrollbar-thumb:vertical{background:#333333}.header__items{position:relative}.header__items+.header__items{margin-left:0}.header__items+.header__items:before{content:"\\2022";color:#333;display:inline-block;padding:0 17px;height:60px;line-height:60px}.header__item{color:#8c8c8c;display:inline-block}.header__item.s--on,.header__item:hover{color:#fff}.header__item a{height:60px;line-height:60px;display:inherit;padding:0 17px}.header__user a{text-decoration:none;color:#8c8c8c;height:60px;line-height:60px}.header__user a:hover{color:#fff}.headerMobile{width:100%;min-height:100%;top:0;left:0;right:0;bottom:0;overflow:hidden;position:absolute;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;z-index:120;opacity:0;color:#fff;transform:translateZ(0);background:rgba(0,0,0,.9);font-feature-settings:"kern"}.headerMobile__nav{pointer-events:auto;max-height:100%;min-height:100%;position:relative;z-index:121;transform:translateZ(0);overflow-y:scroll}.headerMobile__list{padding-top:35px}.headerMobile__list>a{line-height:30px;height:30px;white-space:nowrap;display:inline-block;text-decoration:none;color:#8c8c8c}.headerMobile__list>a:focus{outline:0}.headerMobile__list>a.s--on{color:#fff}.headerMobile__list>a:hover{color:#fff}.headerMobile__list+.headerMobile__list{padding-top:0}.headerMobile__list+.headerMobile__list:before{content:"\\2022";color:#333;display:block;line-height:30px;height:30px}.headerMobile__list:last-child{padding-bottom:35px}.headerSearch{height:60px;line-height:60px}.headerSearch a{text-decoration:none;color:inherit;white-space:nowrap}.headerSearch__toggle{display:inline-block;width:47px;padding-left:26px;padding-right:0;text-align:right}.headerSearch__toggle .icon{position:relative;top:2px;right:2px;width:20px;height:20px;color:#8c8c8c}.headerSearch__toggle .icon.icon--search{top:4px;right:0}.headerSearch__toggle:hover .icon{color:#fff}.headerSearch__wrapper[v-cloak]{display:none}.headerSearch__wrapper,.headerSearch__overlay{position:fixed;top:60px;left:0;right:0;width:100%;bottom:0;z-index:300}.headerSearch__overlay{background:rgba(0,0,0,.9);z-index:299}.nav{background:#262626;overflow:hidden;height:60px}.s--search .nav{transition:background-color .14s cubic-bezier(.5,-.6,.5,1.6);background:black}.nav__list{margin-left:-17px;flex-grow:1;white-space:nowrap;height:110px;overflow:hidden;overflow-x:auto}@media screen and (max-width: 599px){.nav__list{margin-left:-20px;padding-left:3px;width:calc(100% + 40px)}}@media screen and (min-width: 600px) and (max-width: 849px){.nav__list{margin-left:-30px;padding-left:13px;width:calc(100% + 60px)}}@media screen and (min-width: 850px) and (max-width: 1039px){.nav__list{margin-left:-40px;padding-left:23px;width:calc(100% + 80px)}}@media screen and (min-width: 1040px) and (max-width: 1539px){.nav__list{margin-left:-50px;padding-left:33px;width:calc(100% + 100px)}}.s--search .nav__list{transition:all .14s cubic-bezier(.5,-.6,.5,1.6);visibility:hidden}.nav__item{height:60px;display:inline-block;color:#8c8c8c}.nav__item.s--on,.nav__item:hover{color:#fff}.nav__item a{height:60px;line-height:60px;display:inherit;text-decoration:none;position:relative;padding:0 17px}.nav__item.s--on a:after{content:"";height:3px;position:absolute;bottom:0;background:#fff;width:100%;left:0;right:0}.navUnder{background-color:#e5e5e5;overflow:hidden;height:60px}.navUnder__list{margin-left:-17px;flex-grow:1;white-space:nowrap;height:110px;overflow:hidden;overflow-x:auto}.navUnder__item{height:60px;display:inline-block;color:gray}.navUnder__item.s--on,.navUnder__item:hover{color:#262626}.navUnder__item a{height:60px;line-height:60px;display:inherit;text-decoration:none;position:relative;padding:0 17px}.breadcrumb{background-color:#e5e5e5;overflow:hidden;height:60px}.breadcrumb__item{height:60px;display:inline-block;color:gray}.breadcrumb__item a,.breadcrumb__item span:not(.breadcrumb__link){display:inherit;height:60px;line-height:60px;padding:0 14px}.breadcrumb__item a{color:#262626;text-decoration:none}.breadcrumb__item a:hover .breadcrumb__link{text-decoration:none;background-image:linear-gradient(to bottom,rgba(38,38,38,.5) 75%,rgba(38,38,38,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.breadcrumb__item:before{content:"";display:inline-block;height:18px;width:1px;background:#a6a6a6;transform:rotate(29deg) translateY(4px)}.breadcrumb__item:first-child a,.breadcrumb__item:first-child span{padding-left:0}.breadcrumb__item:first-child:before{display:none}.navbar{width:100%;background-color:#f2f2f2;overflow:hidden;margin-bottom:20px}.navbar--sticky{min-height:90px}.navbar .container{display:flex}.secondarynav{padding:20px 0}.secondarynav.secondarynav--mobile{display:none}.secondarynav.secondarynav--dropdown{min-width:150px}@media screen and (max-width: 1200px){.secondarynav.secondarynav--mobile{display:inline-block}.secondarynav.secondarynav--desktop{display:none}}@media screen and (max-width: 599px){.secondarynav.secondarynav--dropdown.secondarynav--mobile{padding-bottom:0}}.secondarynav__item{height:35px;display:inline-block;color:#3278b8}.secondarynav__item a{height:35px;line-height:35px;display:inherit;color:inherit;text-decoration:inherit;position:relative;padding:0 17px;border-radius:17px}.secondarynav__item.s--on{color:#262626}.secondarynav__item.s--on a{background:#fff}.secondarynav__item.s--disabled{color:#262626}.secondarynav__item.s--disabled a{opacity:.5;pointer-events:none}.secondarynav__link{text-decoration:none}.secondarynav__item:hover .secondarynav__link{text-decoration:none;background-image:linear-gradient(to bottom,rgba(50,120,184,.5) 75%,rgba(50,120,184,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.secondarynav__item.s--on:hover .secondarynav__link,.secondarynav__item.s--disabled:hover .secondarynav__link{background-image:none}.secondarynav__number{color:#a6a6a6;font-size:13px;margin-left:6px}.secondarynav--dropdown .dropdown{width:100%}.secondarynav--dropdown .secondarynav__button{position:relative}.secondarynav--dropdown .dropdown__content a{padding-right:15px!important}.secondarynav--dropdown .secondarynav__item{width:100%;color:#f2f2f2}.secondarynav--dropdown .secondarynav__item:hover .secondarynav__link{text-decoration:none;background-image:linear-gradient(to bottom,rgba(242,242,242,.5) 75%,rgba(242,242,242,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.footer{padding:20px 0}.footer .container{display:flex;flex-flow:row wrap;color:#8c8c8c;font-size:13px}.footer__copyright{flex-grow:1;font-feature-settings:"kern"}.sortable-ghost{cursor:grabbing!important}.sortable-chosen{opacity:.25}.sortable-drag{opacity:.95}.sortable-nodrag{cursor:no-drop!important}.draggable_list-enter-active,.draggable_list-leave-active{transition:opacity .25s ease,transform .3s linear}.draggable_list-enter{opacity:0;transform:translate(-30px)}.draggable_list-leave-to{opacity:0;transform:translate(30px)}.form{background-color:#f2f2f2;min-height:calc(100vh - 200px);padding-bottom:80px}input::-ms-clear{display:none}input[type=search]{-webkit-appearance:none}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{display:none}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{text-align:left;-moz-appearance:textfield}.form__map{max-width:100%;height:250px;margin-top:10px;background:#ccc}.form__field{position:relative;overflow:hidden;height:45px;border-radius:2px;box-shadow:inset 0 0 1px #f9f9f9;width:100%;border:0 none;box-sizing:border-box;font-size:15px;caret-color:#3278b8;background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;display:block}.form__field::-webkit-input-placeholder{color:#ccc}.form__field:-moz-placeholder{color:#ccc}.form__field::-moz-placeholder{color:#ccc}.form__field:-ms-input-placeholder{color:#ccc}.form__field.s--focus,.form__field:hover{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}.form__field.s--disabled{background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;box-shadow:0 none;outline:0;opacity:.5;pointer-events:none}.form__field input[type=text],.form__field input[type=search]{margin:0;border-radius:0;-webkit-appearance:none;background:transparent;border:0 none;font-size:inherit;letter-spacing:inherit;width:100%;height:43px;line-height:43px;padding:0 15px;color:inherit}.form__field input[type=text]:focus,.form__field input[type=search]:focus{outline:0}.form__field input[type=text]::-webkit-input-placeholder,.form__field input[type=search]::-webkit-input-placeholder{color:#ccc}.form__field input[type=text]:-moz-placeholder,.form__field input[type=search]:-moz-placeholder{color:#ccc}.form__field input[type=text]::-moz-placeholder,.form__field input[type=search]::-moz-placeholder{color:#ccc}.form__field input[type=text]:-ms-input-placeholder,.form__field input[type=search]:-ms-input-placeholder{color:#ccc}.form__field textarea{margin:0;border-radius:0;-webkit-appearance:none;background:transparent;border:0 none;font-size:inherit;letter-spacing:inherit;padding:10px;line-height:inherit;width:100%;box-sizing:border-box;display:block;resize:none;z-index:1;position:relative;color:inherit}.form__field textarea:focus{outline:0}.form__field textarea::-webkit-input-placeholder{color:#ccc}.form__field textarea:-moz-placeholder{color:#ccc}.form__field textarea::-moz-placeholder{color:#ccc}.form__field textarea:-ms-input-placeholder{color:#ccc}.form__field input[type=search]{display:block;background-repeat:no-repeat;background-position:right}.form__field input[type=search]::-webkit-input-placeholder{color:#ccc}.form__field input[type=search]:-moz-placeholder{color:#ccc}.form__field input[type=search]::-moz-placeholder{color:#ccc}.form__field input[type=search]:-ms-input-placeholder{color:#ccc}.form__field--textarea{display:block;padding:0;height:auto;line-height:inherit}.form__input{border-radius:2px;box-shadow:inset 0 0 1px #f9f9f9;border:0 none;box-sizing:border-box;font-size:15px;caret-color:#3278b8;background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;width:100%;height:45px;line-height:45px;padding:0 15px}.form__input:focus{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}.form__input:hover{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}.form__input:disabled{background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;box-shadow:0 none;outline:0;opacity:.5;pointer-events:none}.form__input::-webkit-input-placeholder{color:#ccc}.form__input:-moz-placeholder{color:#ccc}.form__input::-moz-placeholder{color:#ccc}.form__input:-ms-input-placeholder{color:#ccc}.form__input--small{padding:0 13px;height:35px;line-height:35px}.form__input--hidden{display:none}.listing{padding-bottom:100px}.listing__nav{background:#f2f2f2;margin-bottom:20px;position:relative}@media screen and (min-width: 850px){.sticky{position:relative}.sticky__fixed,.sticky__fixedTop{width:inherit;position:fixed;top:20px}.sticky__fixedBottom{width:inherit;position:fixed;bottom:0}.sticky__abs{width:inherit;position:absolute;bottom:0}.publisher.sticky__fixed,.publisher.sticky__fixedTop{top:80px}.stickyNav.sticky__fixed,.stickyNav.sticky__fixedTop{top:0}}.fade_scale_list-enter-active,.fade_scale_list-leave-active{transition:max-height .25s ease;overflow:hidden}.fade_scale_list-enter-to,.fade_scale_list-leave{max-height:80px}.fade_scale_list-enter,.fade_scale_list-leave-to{max-height:0}.move_down_notif-enter-active,.fade_scale_modal-leave-active{transition:transform .25s linear}.fade_scale_modal-enter,.fade_scale_modal-leave-to{transform:scale(.975)}.fade_move_dropdown-enter-active,.fade_move_dropdown-leave-active{transition:opacity .25s ease,transform .25s linear}.fade_move_dropdown-enter,.fade_move_dropdown-leave-to{opacity:0}.move_down_notif-enter-active,.move_down_notif-leave-active{transition:transform .25s linear,opacity .25s linear}.move_down_notif-enter-to,.move_down_notif-leave{transform:translateY(0);opacity:1}.move_down_notif-enter,.move_down_notif-leave-to{transform:translateY(100%);opacity:0}.scale_filter-enter-active,.scale_filter-leave-active{transition:max-height .5s ease;overflow:hidden}.scale_filter-enter-to,.scale_filter-leave{max-height:100px}.scale_filter-enter,.scale_filter-leave-to{max-height:0}.fade_spinner-enter-active,.fade_spinner-leave-active{transition:opacity .25s linear}.fade_spinner-enter-to,.fade_spinner-leave{opacity:1}.fade_spinner-enter,.fade_spinner-leave-to{opacity:0}.fade_search-overlay-enter-active,.fade_search-overlay-leave-active{transition:opacity .12s ease-in-out}.fade_search-overlay-enter,.fade_search-overlay-leave-to{opacity:0}@keyframes fadeIn{10%{opacity:1}50%{opacity:.2}90%{opacity:1}}.loader{height:8px;width:8px;display:block;overflow:visible;position:relative}.loader span,.loader:before,.loader:after{background:#a6a6a6;border-radius:50%;animation:fadeIn 1.8s infinite;height:8px;width:8px;display:block}.loader:before,.loader:after{content:"";position:absolute;top:0}.loader span{animation-delay:.3s}.loader:before{left:-16px;animation-delay:0}.loader:after{left:16px;animation-delay:.6s}.loader--small{height:6px;width:6px}.loader--small span,.loader--small:before,.loader--small:after{height:6px;width:6px}.loader--small:before{left:-12px}.loader--small:after{left:12px}body .flatpickr-wrapper{display:block}body .flatpickr-wrapper .flatpickr-input{border-radius:2px;box-shadow:inset 0 0 1px #f9f9f9;border:0 none;box-sizing:border-box;font-size:15px;caret-color:#3278b8;background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;width:100%;height:45px;line-height:45px;padding:0 15px}body .flatpickr-wrapper .flatpickr-input:focus{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}body .flatpickr-wrapper .flatpickr-input:hover{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}body .flatpickr-wrapper .flatpickr-input:disabled{background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;box-shadow:0 none;outline:0;opacity:.5;pointer-events:none}body .flatpickr-wrapper .flatpickr-input::-webkit-input-placeholder{color:#ccc}body .flatpickr-wrapper .flatpickr-input:-moz-placeholder{color:#ccc}body .flatpickr-wrapper .flatpickr-input::-moz-placeholder{color:#ccc}body .flatpickr-wrapper .flatpickr-input:-ms-input-placeholder{color:#ccc}body .flatpickr-calendar{border-radius:2px;box-shadow:0 0 8px #0000004d}body .flatpickr-month{height:50px}body .flatpickr-month .flatpickr-prev-month,body .flatpickr-month .flatpickr-next-month{height:50px;line-height:50px;padding-top:0;padding-bottom:0}body .flatpickr-current-month{font-size:1em;height:50px;padding-top:16px}body .flatpickr-current-month span.cur-month,body .flatpickr-current-month input.cur-year{font-weight:600}body .flatpickr-day{border-radius:2px}body .flatpickr-day.selected,body .flatpickr-day.startRange,body .flatpickr-day.endRange,body .flatpickr-day.selected.inRange,body .flatpickr-day.startRange.inRange,body .flatpickr-day.endRange.inRange,body .flatpickr-day.selected:focus,body .flatpickr-day.startRange:focus,body .flatpickr-day.endRange:focus,body .flatpickr-day.selected:hover,body .flatpickr-day.startRange:hover,body .flatpickr-day.endRange:hover,body .flatpickr-day.selected.prevMonthDay,body .flatpickr-day.startRange.prevMonthDay,body .flatpickr-day.endRange.prevMonthDay,body .flatpickr-day.selected.nextMonthDay,body .flatpickr-day.startRange.nextMonthDay,body .flatpickr-day.endRange.nextMonthDay{background:#3278B8;border-color:#3278b8}.a17 .v-select{font-family:inherit}.a17 .v-select input[type=search],.a17 .v-select input[type=search]:focus{padding:0 15px;font-size:15px;margin:0}.a17 .v-select .spinner{top:15px;right:15px;width:18px;height:18px;border-top:2px solid rgba(166,166,166,.2);border-right:2px solid rgba(166,166,166,.2);border-bottom:2px solid rgba(166,166,166,.2);border-left:2px solid rgba(166,166,166,.8)}.a17 .v-select .vs__dropdown-menu{border:0 none;padding:15px 0;border-top:1px solid #f2f2f2;box-shadow:0 0 8px #0000004d;border-radius:2px}.a17 .v-select .vs__dropdown-menu li.vs__no-options{color:#8c8c8c;text-align:left;padding:0 15px}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option{padding:0 15px;background:#fff;color:#8c8c8c}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option:hover,.a17 .v-select .vs__dropdown-menu .vs__dropdown-option:focus{color:#262626;background:#f2f2f2}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option--highlight{color:#262626;background:#f2f2f2}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option--highlight:hover,.a17 .v-select .vs__dropdown-menu .vs__dropdown-option--highlight:focus{color:#262626;background:#f2f2f2}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option--selected{color:#262626;background:#fff}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option--selected:hover,.a17 .v-select .vs__dropdown-menu .vs__dropdown-option--selected:focus{color:#262626;background:#f2f2f2}.a17 .v-select .vs__dropdown-menu .vs__dropdown-option{height:35px;line-height:35px}.a17 .v-select input[type=search]::-webkit-input-placeholder{color:#ccc}.a17 .v-select input[type=search]:-moz-placeholder{color:#ccc}.a17 .v-select input[type=search]::-moz-placeholder{color:#ccc}.a17 .v-select input[type=search]:-ms-input-placeholder{color:#ccc}.a17 .vselect--single .vs__dropdown-toggle:after{visibility:visible;content:"";position:absolute;display:block;top:50%;right:15px;z-index:1;pointer-events:none;width:0;height:0;margin-top:-1px;border-width:4px 4px 0;border-style:solid;border-color:#a6a6a6 transparent transparent}.a17 .vselect--single .vs__selected{cursor:pointer}.a17 .loading .vselect--single .vs__dropdown-toggle:after{opacity:0}.a17 .vselect__field .vs__dropdown-toggle{border-radius:2px;background:#fff;overflow:hidden;cursor:pointer}.a17 .vselect__field .vs__selected{border:0 none;background:transparent;border-radius:0;padding:0 0 0 15px;margin:0;color:#8c8c8c}.a17 .vselect__field .v-select.open .vs__dropdown-toggle,.a17 .vselect__field .v-select:hover .vs__dropdown-toggle{border-color:#a6a6a6;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.a17 .vselect__field .v-select.open .vs__selected,.a17 .vselect__field .v-select:hover .vs__selected{color:#262626;opacity:1}.a17 .vselect__field .vs__open-indicator{display:none}.a17 .vselect__field .vs__dropdown-toggle{height:33px}.a17 .vselect__field .vs__selected{height:33px;line-height:33px;font-size:15px}.a17 .vselect--large .vselect__field .vs__dropdown-toggle{height:45px}.a17 .vselect--large .vselect__field .vs__selected{height:45px;line-height:45px}.a17 .vselect--large .vselect__field input[type=search],.a17 .vselect--large .vselect__field input[type=search]:focus{height:44px;line-height:44px}.a17 .vselect--single .vs__selected{pointer-events:none}.a17 .vselect .v-select.unsearchable input[type=search]{max-width:none;opacity:1;min-width:200px;margin:0;pointer-events:none}.a17 .vselect.vselect--has-value .v-select.unsearchable input[type=search]{min-width:0;width:0;margin:0}.a17 .vselect .v-select.unsearchable>.vs__dropdown-toggle>.vs__selected+input[type=search]{width:1px;margin:0}.a17 .v-select .vs__dropdown .vs__dropdown-menu{min-width:initial}.a17 .v-select .vs__dropdown-toggle{display:flex;flex-wrap:no-wrap}.a17 .v-select .vs__dropdown-toggle .vs__selected{position:relative!important}.a17 .v-select .vs__dropdown-toggle input[style]{flex-basis:100px;flex-grow:1;width:100%!important}.a17 .vselect--multiple .vs__dropdown-toggle{min-height:45px;height:auto;padding-bottom:7px;background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;flex-wrap:wrap}.a17 .vselect--multiple .vs__dropdown-toggle:hover,.a17 .vselect--multiple .open .vs__dropdown-toggle{border-color:#a6a6a6}.a17 .vselect--multiple input[type=search],.a17 .vselect--multiple input[type=search]:focus{height:31px;margin-top:7px}.a17 .vselect--multiple .vs__selected{border-radius:15px;background:#e5e5e5;padding:0 33px 0 15px;color:#262626;height:30px;line-height:30px;margin:7px 0 0 10px;position:relative}.a17 .vselect--multiple .vs__selected .close{border-radius:50%;background-color:#a6a6a6;height:18px;width:18px;line-height:18px;overflow:hidden;display:inline-block;opacity:1;text-shadow:none;color:#e5e5e5;font-size:15px;font-weight:400;position:absolute;right:5px;top:6px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNFNUU1RTUiIGQ9Ik0yIDJsNiA2TTggMkwyIDgiLz48L3N2Zz4=);background-repeat:no-repeat;background-position:center}.a17 .vselect--multiple .vs__selected .close span{display:none}.a17 .vselect--multiple .vs__selected .close:hover{background-color:#a6a6a6}.a17 .v-select.disabled .selected-tag{padding-right:15px}.a17 .v-select.disabled .selected-tag .close{display:none}.a17 .vselect--small .dropdown-toggle{flex-wrap:nowrap}.a17 .vselect--small .vs__actions{flex-basis:27px}.a17 .vselect--small .spinner{align-self:flex-start;margin-top:8px;margin-right:1px}.a17 .vselect--small .vs__dropdown-menu li.vs__no-options{font-size:13px}.a17 .vselect--small.vselect--multiple .vs__selected{height:21px;line-height:21px;font-size:15px;border-radius:10px;padding-left:8px;padding-right:25px;font-size:13px}.a17 .vselect--small.vselect--multiple .vs__selected .close{top:2px;right:2px;background-color:transparent;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNhNmE2YTYiIGQ9Ik0yIDJsNiA2TTggMkwyIDgiLz48L3N2Zz4=);color:#a6a6a6}.a17 .vselect--small.vselect--multiple .vs__selected .close span{display:none}.a17 .vselect--small.vselect--multiple input[type=search],.a17 .vselect--small.vselect--multiple input[type=search]:focus{height:21px;margin-top:7px}.a17 .vselect--small.vselect--multiple .vs__dropdown-toggle{min-height:35px}.a17 .input--error .v-select .vs__dropdown-toggle{border-color:#e61414}.a17 .input--error .v-select .vs__dropdown-toggle:hover,.a17 .input--error .v-select .vs__dropdown-toggle:focus{border-color:#e61414}.main{position:relative}@keyframes fadeInLoader{0%{opacity:0}to{opacity:1}}.appLoader{position:absolute;top:0;bottom:0;left:0;right:0;color:#8c8c8c;text-align:center;z-index:8;display:block;transition:opacity .35s ease,visibility 0s .35s;pointer-events:none;opacity:0;visibility:hidden}.appLoader>span{display:inline-block;margin-top:20vh;opacity:0;animation:fadeInLoader 1s normal forwards;animation-delay:.6s}.app[v-cloak]>*{visibility:hidden}.app[v-cloak]+.appLoader{opacity:1;visibility:visible;transition:opacity .35s}.s--modal{overflow:hidden}.s--modal body{overflow:hidden;width:100%;height:100%}.s--overlay{overflow:hidden}.s--overlay body{overflow:hidden;width:100%;height:100%;max-height:100%}@media screen and (max-width: 1039px){.s--nav{overflow:visible;height:100%}.s--nav body .a17{position:fixed;width:100%;overflow:hidden}.s--nav .headerMobile{opacity:1!important;visibility:visible!important}.s--nav .ham{z-index:122}.s--nav .ham__label,.s--nav .ham__line{opacity:0}.s--nav .ham__icon{display:none}.s--nav .ham__icon:after{opacity:0}.s--nav .ham__icon:before{opacity:0}.s--nav .ham .icon{display:block}}.env:before{transition:transform .3s linear;transform:translateY(-100%)}.s--env .env:before{transform:translateY(0)}.visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}
`)();function forEachNodelist(e,t,n){for(let r=0;r<e.length;r++)t.call(n,e[r],r)}const navToggle=function(){let e=!1,t=!1,n=0;const r=document.documentElement,a=document.querySelector("[data-header-mobile]"),o=document.querySelector(".ham"),s=document.querySelectorAll("[data-ham-btn]"),l=document.querySelectorAll("[data-closenav-btn]"),c=document.querySelector(".a17"),u="s--nav";function f(){if(e||t)return!1;e=!0,n=window.pageYOffset,r.classList.add(u),c.style.top="-"+n+"px",o.style.top="-"+n+"px",a.style.top="-"+n+"px",document.addEventListener("keydown",h,!1),t=!0,e=!1}function m(){if(e||!t)return!1;e=!0,r.classList.remove(u),c.style.top="",o.style.top="",a.style.top="",document.removeEventListener("keydown",h,!1),window.scrollTo(0,n),n=0,t=!1,e=!1}function h(d){d.keyCode===27&&t&&m()}s.length&&forEachNodelist(s,function(d){d.addEventListener("click",function(g){t?m():f(),d.blur()})}),l.length&&forEachNodelist(l,function(d){d.addEventListener("click",function(g){t&&m(),d.blur()})})};var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(e){return e&&e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseGetTag$1=_baseGetTag,isObjectLike$3=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$5(e){return typeof e=="symbol"||isObjectLike$3(e)&&baseGetTag$1(e)==symbolTag$1}var isSymbol_1=isSymbol$5,baseTrim=_baseTrim,isObject$9=isObject_1,isSymbol$4=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(e){if(typeof e=="number")return e;if(isSymbol$4(e))return NAN;if(isObject$9(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject$9(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=baseTrim(e);var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber$1,isObject$8=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$2="Expected a function",nativeMax$1=Math.max,nativeMin=Math.min;function debounce$2(e,t,n){var r,a,o,s,l,c,u=0,f=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);t=toNumber(t)||0,isObject$8(n)&&(f=!!n.leading,m="maxWait"in n,o=m?nativeMax$1(toNumber(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function d(T){var k=r,A=a;return r=a=void 0,u=T,s=e.apply(A,k),s}function g(T){return u=T,l=setTimeout(y,t),f?d(T):s}function v(T){var k=T-c,A=T-u,M=t-k;return m?nativeMin(M,o-A):M}function _(T){var k=T-c,A=T-u;return c===void 0||k>=t||k<0||m&&A>=o}function y(){var T=now();if(_(T))return q(T);l=setTimeout(y,v(T))}function q(T){return l=void 0,h&&r?d(T):(r=a=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function x(){return l===void 0?s:q(now())}function E(){var T=now(),k=_(T);if(r=arguments,a=this,c=T,k){if(l===void 0)return g(c);if(m)return clearTimeout(l),l=setTimeout(y,t),d(c)}return l===void 0&&(l=setTimeout(y,t)),s}return E.cancel=b,E.flush=x,E}var debounce_1=debounce$2;const showEnvLine=function(){let e=0,t=!1;const n=170-3,r=document.documentElement,a="s--env";function o(){e=window.pageYOffset,t||window.requestAnimationFrame(function(){s()}),t=!0}function s(){e>n?r.classList.add(a):r.classList.remove(a),t=!1}window.addEventListener("scroll",function(){o()}),window.addEventListener("resize",debounce_1(function(){o()})),o()},logoutButton=function(){const e=document.querySelector("[data-logout-form]");!e||document.body.addEventListener("click",t=>{t.target.hasAttribute("data-logout-btn")&&(t.preventDefault(),e.submit())})};var Button_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-789be999]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-789be999]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-789be999]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-789be999]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-789be999]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-789be999]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-789be999]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-789be999]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-789be999]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-789be999]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-789be999]{width:auto}}.button[data-v-789be999]{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;display:inline-block;border-radius:2px;padding:0 30px;height:40px;line-height:38px;text-align:center;transition:color .2s linear,border-color .2s linear,background-color .2s linear;text-decoration:none}.button[data-v-789be999]:disabled{cursor:default;pointer-events:none}.button--small[data-v-789be999]{height:35px;line-height:33px;padding:0 25px}.button--primary[data-v-789be999]{background:#333;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.button--primary[data-v-789be999]:focus,.button--primary[data-v-789be999]:hover{background:#1a1a1a}.button--primary[data-v-789be999]:active{background:#0d0d0d}.button--primary[data-v-789be999]:disabled{opacity:.5}.button--action[data-v-789be999],.button--editor[data-v-789be999]{background:#3278B8;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.button--action[data-v-789be999]:focus,.button--action[data-v-789be999]:hover,.button--editor[data-v-789be999]:focus,.button--editor[data-v-789be999]:hover{background:#2D6CA6}.button--action[data-v-789be999]:active,.button--editor[data-v-789be999]:active{background:#285f92}.button--action[data-v-789be999]:disabled,.button--editor[data-v-789be999]:disabled{opacity:.5;pointer-events:none}.button--editor[data-v-789be999]{text-transform:uppercase;font-size:11.5px;letter-spacing:0;font-weight:600;padding:0 15px}.button--editor .icon[data-v-789be999]{vertical-align:baseline;top:3px;position:relative;margin-right:10px}.button--validate[data-v-789be999]{background:#1d9f3c;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.button--validate[data-v-789be999]:focus,.button--validate[data-v-789be999]:hover{background:#1A8F36}.button--validate[data-v-789be999]:active{background:#16792e}.button--validate[data-v-789be999]:disabled{color:#a6a6a6;background:#e5e5e5;pointer-events:none}.button--aslink[data-v-789be999]{background:transparent;color:#3278b8}.button--aslink:hover span[data-v-789be999]{text-decoration:none;background-image:linear-gradient(to bottom,rgba(50,120,184,.5) 75%,rgba(50,120,184,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.button--aslink-grey[data-v-789be999]{font-size:13px;background:transparent;color:#8c8c8c}.button--aslink-grey:hover span[data-v-789be999]{text-decoration:none;background-image:linear-gradient(to bottom,rgba(140,140,140,.5) 75%,rgba(140,140,140,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}.button--warning[data-v-789be999]{background:#e61414;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.button--warning[data-v-789be999]:focus,.button--warning[data-v-789be999]:hover{background:#b71010}.button--warning[data-v-789be999]:active{background:#a00e0e}.button--warning[data-v-789be999]:disabled{opacity:.5;pointer-events:none}.button--secondary[data-v-789be999]{background:#e5e5e5;color:#666}.button--secondary[data-v-789be999]:focus,.button--secondary[data-v-789be999]:hover{background:#d9d9d9;color:#262626}.button--secondary[data-v-789be999]:active{background:#ccc;color:#262626}.button--secondary[data-v-789be999]:disabled{opacity:.5;pointer-events:none}.button--dropdown[data-v-789be999]{border:1px solid #d9d9d9;background:#fff;padding-left:15px;padding-right:39px}.button--dropdown[data-v-789be999]:after{top:50%;right:15px;content:"";position:absolute;display:block;width:0;height:0;margin-top:-1px;border-width:4px 4px 0;border-style:solid;border-color:#a6a6a6 transparent transparent}.button--dropdown-transparent[data-v-789be999]{position:relative;border:none;background:transparent;padding-left:15px;padding-right:39px}.button--dropdown-transparent[data-v-789be999]:after{top:50%;right:15px;content:"";position:absolute;display:block;width:0;height:0;margin-top:-1px;border-width:4px 4px 0;border-style:solid;border-color:#a6a6a6 transparent transparent}.button--ghost[data-v-789be999]{height:35px;line-height:33px;border-radius:17.5px;background-color:transparent;border:1px solid #d9d9d9;color:#8c8c8c;padding:0 20px}.button--ghost[data-v-789be999]:focus,.button--ghost[data-v-789be999]:hover{border-color:#262626;color:#262626}.button--ghost[data-v-789be999]:active{border-color:#262626;color:#262626}.button--ghost[data-v-789be999]:disabled{opacity:.5;pointer-events:none}.button--outline[data-v-789be999],.button--tertiary[data-v-789be999]{transition:color .1s linear,border-color .1s linear,background-color .1s linear;border:1px solid #8c8c8c;background:transparent;color:#262626}.button--outline[data-v-789be999]:focus,.button--outline[data-v-789be999]:hover,.button--tertiary[data-v-789be999]:focus,.button--tertiary[data-v-789be999]:hover{border-color:#262626;background:#262626;color:#fff}.button--outline[data-v-789be999]:active,.button--tertiary[data-v-789be999]:active{border-color:#262626;background:#262626;color:#fff}.button--outline[data-v-789be999]:disabled,.button--tertiary[data-v-789be999]:disabled{opacity:.5;pointer-events:none}.button--icon[data-v-789be999]{height:26px;width:26px;line-height:24px;border-radius:50%;border:1px solid #d9d9d9;padding:0;background:#fff;color:#a6a6a6;font-feature-settings:"kern"}.button--icon .icon[data-v-789be999]{transition:color .25s linear}.button--icon[data-v-789be999]:focus,.button--icon[data-v-789be999]:hover{border-color:#262626;color:#262626}.button--icon:focus .icon[data-v-789be999],.button--icon:hover .icon[data-v-789be999]{color:#262626}.button--icon .icon[data-v-789be999]{display:block;margin-left:auto;margin-right:auto;color:#a6a6a6}.button--smallIcon[data-v-789be999]{height:21px;width:21px;line-height:21px}.button--greyed.button--icon[data-v-789be999]{color:#fff;background:#ccc}.button--greyed.button--icon .icon[data-v-789be999]{color:#fff}.button--icon.button--bucket--1[data-v-789be999]{color:#7ca4a2;border-color:#7ca4a2}.button--icon.button--bucket--1[data-v-789be999]:focus{color:#7ca4a2;border-color:#7ca4a2}.button--icon.button--bucket--1[data-v-789be999]:hover{color:#fff;background-color:#7ca4a2;border-color:#7ca4a2}.button--icon.button--bucket--2[data-v-789be999]{color:#70769f;border-color:#70769f}.button--icon.button--bucket--2[data-v-789be999]:focus{color:#70769f;border-color:#70769f}.button--icon.button--bucket--2[data-v-789be999]:hover{color:#fff;background-color:#70769f;border-color:#70769f}.button--icon.button--bucket--3[data-v-789be999]{color:#e37a75;border-color:#e37a75}.button--icon.button--bucket--3[data-v-789be999]:focus{color:#e37a75;border-color:#e37a75}.button--icon.button--bucket--3[data-v-789be999]:hover{color:#fff;background-color:#e37a75;border-color:#e37a75}
`)();function normalizeComponent(e,t,n,r,a,o,s,l){var c=typeof e=="function"?e.options:e;t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o);var u;if(s?(u=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(h=__VUE_SSR_CONTEXT__),a&&a.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(s)},c._ssrRegister=u):a&&(u=l?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(d,g){return u.call(g),f(d,g)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,u):[u]}return{exports:e,options:c}}const __vue2_script$L={name:"A17Button",props:{el:{type:String,default:"button"},type:{type:String,default:"button"},href:{type:String,default:""},target:{type:String,default:""},download:{type:String,default:""},rel:{type:String,default:""},variant:{type:String,default:""},icon:{default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}},computed:{buttonClasses:function(){const e=["button",this.size?`button--${this.size}`:""];return this.variant&&this.variant.split(" ").forEach(t=>{e.push(`button--${t}`)}),this.icon&&e.push(`button--icon button--${this.icon}`),e}},methods:{onClick:function(e){this.$emit("click")}},render:function(e){const t={class:this.buttonClasses,attrs:{},on:{click:n=>{this.onClick(n)}}};return this.el==="button"&&(t.attrs.type=this.type,this.disabled&&(t.attrs.disabled=this.disabled)),this.el==="a"&&this.href&&(t.attrs.href=this.href,this.target&&(t.attrs.target=this.target),this.download&&(t.attrs.download=this.download),this.rel&&(t.attrs.rel=this.rel)),e(this.el,t,this.$slots.default)}};let __vue2_render$1,__vue2_staticRenderFns$1;const __cssModules$L={};var __component__$L=normalizeComponent(__vue2_script$L,__vue2_render$1,__vue2_staticRenderFns$1,!1,__vue2_injectStyles$L,"789be999",null,null);function __vue2_injectStyles$L(e){for(let t in __cssModules$L)this[t]=__cssModules$L[t]}var a17Button=function(){return __component__$L.exports}(),render$K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{variant:"icon",size:"smallIcon","data-tooltip-title":e.text,"data-tooltip-theme":"large","data-tooltip-placement":"right"}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"info"}})])},staticRenderFns$J=[],Infotip_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-f1a755e6]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-f1a755e6]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-f1a755e6]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-f1a755e6]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-f1a755e6]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-f1a755e6]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-f1a755e6]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-f1a755e6]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-f1a755e6]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-f1a755e6]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-f1a755e6]{width:auto}}button.button--icon[data-v-f1a755e6]{vertical-align:middle;display:inline-block;margin-left:7px;margin-right:7px}button.button--icon .icon[data-v-f1a755e6]{display:block;margin:-1px}
`)();const __vue2_script$K={name:"A17Infotip",props:{text:{default:""}},computed:{},methods:{onClick:function(){this.$emit("click")}}},__cssModules$K={};var __component__$K=normalizeComponent(__vue2_script$K,render$K,staticRenderFns$J,!1,__vue2_injectStyles$K,"f1a755e6",null,null);function __vue2_injectStyles$K(e){for(let t in __cssModules$K)this[t]=__cssModules$K[t]}var a17Infotip=function(){return __component__$K.exports}(),randKeyMixin={data:function(){return{randKey:Date.now()+Math.floor(Math.random()*9999)}}},InputMixin={props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},name:{default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"on"}}},HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new MapCache$1;++t<n;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(e,t){return e.has(t)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(e,t,n,r,a,o){var s=n&COMPARE_PARTIAL_FLAG$5,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),f=o.get(t);if(u&&f)return u==t&&f==e;var m=-1,h=!0,d=n&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(o.set(e,t),o.set(t,e);++m<l;){var g=e[m],v=t[m];if(r)var _=s?r(v,g,m,t,e,o):r(g,v,m,e,t,o);if(_!==void 0){if(_)continue;h=!1;break}if(d){if(!arraySome(t,function(y,q){if(!cacheHas(d,q)&&(g===y||a(g,y,n,r,o)))return d.push(q)})){h=!1;break}}else if(!(g===v||a(g,v,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var _equalArrays=equalArrays$2;function mapToArray$1(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var _mapToArray=mapToArray$1;function setToArray$1(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _setToArray=setToArray$1,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$2=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag$1(e,t,n,r,a,o,s){switch(n){case dataViewTag:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag:return!(e.byteLength!=t.byteLength||!o(new Uint8Array$1(e),new Uint8Array$1(t)));case boolTag:case dateTag:case numberTag:return eq$2(+e,+t);case errorTag:return e.name==t.name&&e.message==t.message;case regexpTag:case stringTag:return e==t+"";case mapTag$1:var l=mapToArray;case setTag$1:var c=r&COMPARE_PARTIAL_FLAG$4;if(l||(l=setToArray),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=COMPARE_UNORDERED_FLAG$2,s.set(e,t);var f=equalArrays$1(l(e),l(t),r,a,o,s);return s.delete(e),f;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var _equalByTag=equalByTag$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$3=Object.prototype,hasOwnProperty$6=objectProto$3.hasOwnProperty;function equalObjects$1(e,t,n,r,a,o){var s=n&COMPARE_PARTIAL_FLAG$3,l=getAllKeys(e),c=l.length,u=getAllKeys(t),f=u.length;if(c!=f&&!s)return!1;for(var m=c;m--;){var h=l[m];if(!(s?h in t:hasOwnProperty$6.call(t,h)))return!1}var d=o.get(e),g=o.get(t);if(d&&g)return d==t&&g==e;var v=!0;o.set(e,t),o.set(t,e);for(var _=s;++m<c;){h=l[m];var y=e[h],q=t[h];if(r)var b=s?r(q,y,h,t,e,o):r(y,q,h,e,t,o);if(!(b===void 0?y===q||a(y,q,n,r,o):b)){v=!1;break}_||(_=h=="constructor")}if(v&&!_){var x=e.constructor,E=t.constructor;x!=E&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(v=!1)}return o.delete(e),o.delete(t),v}var _equalObjects=equalObjects$1,Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$9=isArray_1,isBuffer$3=isBuffer$6.exports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$2=Object.prototype,hasOwnProperty$5=objectProto$2.hasOwnProperty;function baseIsEqualDeep$1(e,t,n,r,a,o){var s=isArray$9(e),l=isArray$9(t),c=s?arrayTag:getTag$1(e),u=l?arrayTag:getTag$1(t);c=c==argsTag?objectTag$1:c,u=u==argsTag?objectTag$1:u;var f=c==objectTag$1,m=u==objectTag$1,h=c==u;if(h&&isBuffer$3(e)){if(!isBuffer$3(t))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new Stack$2),s||isTypedArray$2(e)?equalArrays(e,t,n,r,a,o):equalByTag(e,t,c,n,r,a,o);if(!(n&COMPARE_PARTIAL_FLAG$2)){var d=f&&hasOwnProperty$5.call(e,"__wrapped__"),g=m&&hasOwnProperty$5.call(t,"__wrapped__");if(d||g){var v=d?e.value():e,_=g?t.value():t;return o||(o=new Stack$2),a(v,_,n,r,o)}}return h?(o||(o=new Stack$2),equalObjects(e,t,n,r,a,o)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(e,t,n,r,a){return e===t?!0:e==null||t==null||!isObjectLike$2(e)&&!isObjectLike$2(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,n,r,baseIsEqual$3,a)}var _baseIsEqual=baseIsEqual$3,baseIsEqual$2=_baseIsEqual;function isEqual(e,t){return baseIsEqual$2(e,t)}var isEqual_1=isEqual,FormStoreMixin={props:{hasDefaultStore:{type:Boolean,default:!1},inModal:{type:Boolean,default:!1},inStore:{type:String,default:""},fieldName:{type:String,default:""}},computed:{storedValue:function(){return this.inModal?this.modalFieldValueByName(this.getFieldName()):this.fieldValueByName(this.getFieldName())},...mapGetters(["fieldValueByName","modalFieldValueByName"]),...mapState({submitting:e=>e.form.loading,fields:e=>e.form.fields,modalFields:e=>e.form.modalFields})},watch:{storedValue:function(e){if(this.inStore==="")return;const t=this[this.inStore],n=this.locale?e[this.locale.value]:e;isEqual_1(t,n)||typeof this.updateFromStore!="undefined"&&this.updateFromStore(n)}},methods:{getFieldName:function(){return this.fieldName!==""?this.fieldName:this.name},saveIntoStore:function(e){if(this.inStore==="")return;let t="";e?t=e:t=this[this.inStore];const n={};n.name=this.getFieldName(),n.value=t,this.locale&&(n.locale=this.locale.value),this.inModal?this.$store.commit(FORM.UPDATE_MODAL_FIELD,n):this.$store.commit(FORM.UPDATE_FORM_FIELD,n)},preventSubmit:function(){this.$store.commit(FORM.PREVENT_SUBMIT)},allowSubmit:function(){this.$store.commit(FORM.ALLOW_SUBMIT)}},beforeMount:function(){const e=this.getFieldName();if(this.inStore===""||e==="")return;const n=(this.inModal?this.modalFields:this.fields).filter(function(r){return r.name===e});n.length?this.locale?this[this.inStore]=n[0].value[this.locale.value]:this[this.inStore]=n[0].value:this.hasDefaultStore&&this.saveIntoStore()}};function arrayToSentence(e){const t=e.length;return e.reduce(function(n,r,a){return n+(a-1===t?", ":" and ")+r})}var InputframeMixin={props:{label:{type:String,default:""},labelFor:{type:String,default:""},size:{type:String,default:"large"},variant:{type:String,default:""},fixedErrorKey:{type:String},note:{type:String,default:""}},computed:{errorKey(){return this.fixedErrorKey?this.hasLocale?this.fixedErrorKey.replace("[",".").replace("]",""):this.fixedErrorKey:this.hasLocale?this.name.replace("[",".").replace("]",""):this.name},errorLocales(){if(!this.hasLocale)return[];const e=this.errorKey.substr(0,this.errorKey.indexOf(".")),t=[],n=this.$store.state.language.all.map(r=>r.value);return Object.keys(this.$store.state.form.errors).forEach(r=>{if(r.substr(0,r.indexOf("."))===e){const a=r.substr(r.indexOf(".")+1,r.length);n.includes(a)&&t.push(a)}},[]),t},otherLocalesError(){return this.errorLocales.filter(e=>e!==this.currentLocale.value).length},errorMessageLocales(){return arrayToSentence(this.errorLocales.map(e=>this.languages.find(t=>t.value===e).label))+" language"+(this.errorLocales.length>1?"s":"")+" missing details."},errorMessage(){return this.error?this.$store.state.form.errors[this.errorKey][0]:""},error(){return this.$store.state.form?Object.keys(this.$store.state.form.errors).includes(this.errorKey):!1}}},AttributesMixin={props:{name:{type:String,default:""},addNew:{type:String,default:""},options:{type:Array,default:function(){return[]}}},computed:{fullOptions:function(){const e=this.optionsByName(this.name),t=this.options;return Array.isArray(e)&&e.forEach(function(n){t.findIndex(a=>a.value===n.value)===-1&&t.push(n)}),e.length?t:this.options},...mapGetters(["optionsByName"])}},LocaleMixin={props:{locale:{default:null}},computed:{hasLocale:function(){return this.locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isCurrentLocale:function(){return this.hasLocale&&this.hasCurrentLocale?this.locale.value===this.currentLocale.value:!0},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.hasLocale?this.locale.shortlabel:!1},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}}},render$J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,name:e.name,"label-for":e.uniqId,required:e.required,"add-new":e.addNew},on:{localize:e.updateLocale}},[n("span",{staticClass:"select__input",class:e.selectClasses},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],attrs:{name:e.name,id:e.uniqId,disabled:e.disabled,required:e.required,readonly:e.readonly},on:{change:function(r){var a=Array.prototype.filter.call(r.target.options,function(o){return o.selected}).map(function(o){var s="_value"in o?o._value:o.value;return s});e.selectedValue=r.target.multiple?a:a[0]}}},e._l(e.fullOptions,function(r,a){return n("option",{key:a,domProps:{value:r.value,innerHTML:e._s(r.label)}})}),0)])]),e.addNew?[n("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},staticRenderFns$I=[],Select_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-540825f0]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-540825f0]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-540825f0]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-540825f0]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-540825f0]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-540825f0]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-540825f0]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-540825f0]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-540825f0]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-540825f0]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-540825f0]{width:auto}}.select__input[data-v-540825f0]{display:block;position:relative}.select__input select[data-v-540825f0]{width:100%;margin:0;outline:none;padding:.6em .8em .5em;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;font-size:16px}.select__input[data-v-540825f0]:after{content:" ";position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;display:none}.select__input[data-v-540825f0]:after{display:block}.select__input select[data-v-540825f0]{padding-right:2em;background:none;border:1px solid transparent;appearance:none;-webkit-appearance:none}@supports (-moz-appearance: none) and (mask-type: alpha){.select__input[data-v-540825f0]:after{display:block}.select__input select[data-v-540825f0]{padding-right:2em;background:none;border:1px solid transparent;appearance:none}}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.select__input select[data-v-540825f0]::-ms-expand{display:none}.select__input select[data-v-540825f0]:focus::-ms-value{background:transparent;color:#222}.select__input select[data-v-540825f0]{padding-right:2em;background:none;border:1px solid transparent}.select__input[data-v-540825f0]:after{display:block}}.select__input[data-v-540825f0]{border:1px solid #d9d9d9;background-color:#fff;border-radius:2px;cursor:pointer;height:35px}.select__input[data-v-540825f0]:hover{border-color:#a6a6a6}.select__input[data-v-540825f0]:focus{border-color:#a6a6a6}.select__input select[data-v-540825f0]{font-size:15px;line-height:33px;height:35px;padding:0 35px 0 14px;border-radius:2px;color:#8c8c8c;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-padding-end:35px!important;-webkit-padding-start:14px!important;margin-top:-1px}.select__input:hover select[data-v-540825f0]{color:#262626}.select__input[data-v-540825f0]:after{width:0;height:0;margin-top:-3px;border-width:4px 4px 0;border-style:solid;border-color:#a6a6a6 transparent transparent}.select__input[data-v-540825f0]:hover:after,.select__input[data-v-540825f0]:focus:after{border-color:#a6a6a6 transparent transparent}.select__input select[data-v-540825f0]:focus{outline:none}.select__input select[data-v-540825f0]:disabled{opacity:.5;pointer-events:none}.select__input option[data-v-540825f0]{font-weight:400;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select__input--large[data-v-540825f0],.select__input--large select[data-v-540825f0]{height:45px}.select__input--large select[data-v-540825f0]{line-height:43px}
`)();const __vue2_script$J={name:"A17Select",mixins:[randKeyMixin,InputMixin,InputframeMixin,LocaleMixin,FormStoreMixin,AttributesMixin],props:{size:{type:String,default:""},selected:{default:""},options:{default:function(){return[]}}},data:function(){return{value:this.selected}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},selectClasses:function(){return[this.size==="small"?"select__input--small":"",this.size==="large"?"select__input--large":""]},selectedValue:{get:function(){return this.value},set:function(e){this.value=e,this.saveIntoStore(e),this.$emit("change",e)}}},methods:{updateFromStore:function(e){this.value=e}},mounted:function(){this.$emit("change",this.value)}},__cssModules$J={};var __component__$J=normalizeComponent(__vue2_script$J,render$J,staticRenderFns$I,!1,__vue2_injectStyles$J,"540825f0",null,null);function __vue2_injectStyles$J(e){for(let t in __cssModules$J)this[t]=__cssModules$J[t]}var a17Select=function(){return __component__$J.exports}(),vueSelect$1={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self!="undefined"?self:commonjsGlobal,function(){return(()=>{var n={646:s=>{s.exports=function(l){if(Array.isArray(l)){for(var c=0,u=new Array(l.length);c<l.length;c++)u[c]=l[c];return u}}},713:s=>{s.exports=function(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}},860:s=>{s.exports=function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}},206:s=>{s.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(s,l,c)=>{var u=c(646),f=c(860),m=c(206);s.exports=function(h){return u(h)||f(h)||m()}},8:s=>{function l(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s.exports=l=function(u){return typeof u}:s.exports=l=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}s.exports=l}},r={};function a(s){var l=r[s];if(l!==void 0)return l.exports;var c=r[s]={exports:{}};return n[s](c,c.exports,a),c.exports}a.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return a.d(l,{a:l}),l},a.d=(s,l)=>{for(var c in l)a.o(l,c)&&!a.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:l[c]})},a.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),a.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{a.r(o),a.d(o,{VueSelect:()=>k,default:()=>M,mixins:()=>A});var s=a(319),l=a.n(s),c=a(8),u=a.n(c),f=a(713),m=a.n(f);const h={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(S){var C=this;this.autoscroll&&S&&this.$nextTick(function(){return C.maybeAdjustScroll()})}},methods:{maybeAdjustScroll:function(){var S,C=((S=this.$refs.dropdownMenu)===null||S===void 0?void 0:S.children[this.typeAheadPointer])||!1;if(C){var I=this.getDropdownViewport(),O=C.getBoundingClientRect(),D=O.top,R=O.bottom,w=O.height;if(D<I.top)return this.$refs.dropdownMenu.scrollTop=C.offsetTop;if(R>I.bottom)return this.$refs.dropdownMenu.scrollTop=C.offsetTop-(I.height-w)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},d={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var S=0;S<this.filteredOptions.length;S++)if(this.selectable(this.filteredOptions[S])){this.typeAheadPointer=S;break}},open:function(S){S&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var S=this.typeAheadPointer-1;S>=0;S--)if(this.selectable(this.filteredOptions[S])){this.typeAheadPointer=S;break}},typeAheadDown:function(){for(var S=this.typeAheadPointer+1;S<this.filteredOptions.length;S++)if(this.selectable(this.filteredOptions[S])){this.typeAheadPointer=S;break}},typeAheadSelect:function(){var S=this.filteredOptions[this.typeAheadPointer];S&&this.selectable(S)&&this.select(S)},typeAheadToLastSelected:function(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},g={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(S){this.mutableLoading=S}},methods:{toggleLoading:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.mutableLoading=S==null?!this.mutableLoading:S}}};function v(S,C,I,O,D,R,w,B){var G,U=typeof S=="function"?S.options:S;if(C&&(U.render=C,U.staticRenderFns=I,U._compiled=!0),O&&(U.functional=!0),R&&(U._scopeId="data-v-"+R),w?(G=function(F){(F=F||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(F=__VUE_SSR_CONTEXT__),D&&D.call(this,F),F&&F._registeredComponents&&F._registeredComponents.add(w)},U._ssrRegister=G):D&&(G=B?function(){D.call(this,(U.functional?this.parent:this).$root.$options.shadowRoot)}:D),G)if(U.functional){U._injectStyles=G;var $=U.render;U.render=function(F,N){return G.call(N),$(F,N)}}else{var P=U.beforeCreate;U.beforeCreate=P?[].concat(P,G):[G]}return{exports:S,options:U}}const _={Deselect:v({},function(){var S=this.$createElement,C=this._self._c||S;return C("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[C("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])},[],!1,null,null,null).exports,OpenIndicator:v({},function(){var S=this.$createElement,C=this._self._c||S;return C("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[C("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])},[],!1,null,null,null).exports},y={inserted:function(S,C,I){var O=I.context;if(O.appendToBody){var D=O.$refs.toggle.getBoundingClientRect(),R=D.height,w=D.top,B=D.left,G=D.width,U=window.scrollX||window.pageXOffset,$=window.scrollY||window.pageYOffset;S.unbindPosition=O.calculatePosition(S,O,{width:G+"px",left:U+B+"px",top:$+w+R+"px"}),document.body.appendChild(S)}},unbind:function(S,C,I){I.context.appendToBody&&(S.unbindPosition&&typeof S.unbindPosition=="function"&&S.unbindPosition(),S.parentNode&&S.parentNode.removeChild(S))}},q=function(S){var C={};return Object.keys(S).sort().forEach(function(I){C[I]=S[I]}),JSON.stringify(C)};var b=0;const x=function(){return++b};function E(S,C){var I=Object.keys(S);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(S);C&&(O=O.filter(function(D){return Object.getOwnPropertyDescriptor(S,D).enumerable})),I.push.apply(I,O)}return I}function T(S){for(var C=1;C<arguments.length;C++){var I=arguments[C]!=null?arguments[C]:{};C%2?E(Object(I),!0).forEach(function(O){m()(S,O,I[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(I)):E(Object(I)).forEach(function(O){Object.defineProperty(S,O,Object.getOwnPropertyDescriptor(I,O))})}return S}const k=v({components:T({},_),directives:{appendToBody:y},mixins:[h,d,g],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(S){return S}},selectable:{type:Function,default:function(S){return!0}},getOptionLabel:{type:Function,default:function(S){return u()(S)==="object"?S.hasOwnProperty(this.label)?S[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(S),`.
`)+"https://vue-select.org/api/props.html#getoptionlabel"):S}},getOptionKey:{type:Function,default:function(S){if(u()(S)!=="object")return S;try{return S.hasOwnProperty("id")?S.id:q(S)}catch(C){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,S,C)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(S,C,I){return(C||"").toLocaleLowerCase().indexOf(I.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(S,C){var I=this;return S.filter(function(O){var D=I.getOptionLabel(O);return typeof D=="number"&&(D=D.toString()),I.filterBy(O,D,C)})}},createOption:{type:Function,default:function(S){return u()(this.optionList[0])==="object"?m()({},this.label,S):S}},resetOnOptionsChange:{default:!1,validator:function(S){return["function","boolean"].includes(u()(S))}},clearSearchOnBlur:{type:Function,default:function(S){var C=S.clearSearchOnSelect,I=S.multiple;return C&&!I}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(S,C){return S}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(S,C,I){var O=I.width,D=I.top,R=I.left;S.style.top=D,S.style.left=R,S.style.width=O}},dropdownShouldOpen:{type:Function,default:function(S){var C=S.noDrop,I=S.open,O=S.mutableLoading;return!C&&I&&!O}},uid:{type:[String,Number],default:function(){return x()}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return this.value===void 0||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var S=this.value;return this.isTrackingValues&&(S=this.$data._value),S!=null&&S!==""?[].concat(S):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var S=this,C={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:T({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return S.isComposing=!0},compositionend:function(){return S.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(I){return S.search=I.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:C,listFooter:C,header:T({},C,{deselect:this.deselect}),footer:T({},C,{deselect:this.deselect})}},childComponents:function(){return T({},_,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var S=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return S;var C=this.search.length?this.filter(S,this.search,this):S;if(this.taggable&&this.search.length){var I=this.createOption(this.search);this.optionExists(I)||C.unshift(I)}return C},isValueEmpty:function(){return this.selectedValue.length===0},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(S,C){var I=this;!this.taggable&&(typeof I.resetOnOptionsChange=="function"?I.resetOnOptionsChange(S,C,I.selectedValue):I.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(S){this.isTrackingValues&&this.setInternalValueFromOptions(S)}},multiple:function(){this.clearSelection()},open:function(S){this.$emit(S?"open":"close")}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(S){var C=this;Array.isArray(S)?this.$data._value=S.map(function(I){return C.findOptionFromReducedValue(I)}):this.$data._value=this.findOptionFromReducedValue(S)},select:function(S){this.$emit("option:selecting",S),this.isOptionSelected(S)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(S):(this.taggable&&!this.optionExists(S)&&this.$emit("option:created",S),this.multiple&&(S=this.selectedValue.concat(S)),this.updateValue(S),this.$emit("option:selected",S)),this.onAfterSelect(S)},deselect:function(S){var C=this;this.$emit("option:deselecting",S),this.updateValue(this.selectedValue.filter(function(I){return!C.optionComparator(I,S)})),this.$emit("option:deselected",S)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(S){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(S){var C=this;this.value===void 0&&(this.$data._value=S),S!==null&&(S=Array.isArray(S)?S.map(function(I){return C.reduce(I)}):this.reduce(S)),this.$emit("input",S)},toggleDropdown:function(S){var C=S.target!==this.searchEl;C&&S.preventDefault();var I=[].concat(l()(this.$refs.deselectButtons||[]),l()([this.$refs.clearButton]));this.searchEl===void 0||I.filter(Boolean).some(function(O){return O.contains(S.target)||O===S.target})?S.preventDefault():this.open&&C?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(S){var C=this;return this.selectedValue.some(function(I){return C.optionComparator(I,S)})},isOptionDeselectable:function(S){return this.isOptionSelected(S)&&this.deselectFromDropdown},optionComparator:function(S,C){return this.getOptionKey(S)===this.getOptionKey(C)},findOptionFromReducedValue:function(S){var C=this,I=[].concat(l()(this.options),l()(this.pushedTags)).filter(function(O){return JSON.stringify(C.reduce(O))===JSON.stringify(S)});return I.length===1?I[0]:I.find(function(O){return C.optionComparator(O,C.$data._value)})||S},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var S=null;this.multiple&&(S=l()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(S)}},optionExists:function(S){var C=this;return this.optionList.some(function(I){return C.optionComparator(I,S)})},normalizeOptionForSlot:function(S){return u()(S)==="object"?S:m()({},this.label,S)},pushTag:function(S){this.pushedTags.push(S)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var S=this.clearSearchOnSelect,C=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:S,multiple:C})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,this.search.length!==0||this.options.length!==0||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(S){var C=this,I=function(R){return R.preventDefault(),!C.isComposing&&C.typeAheadSelect()},O={8:function(R){return C.maybeDeleteValue()},9:function(R){return C.onTab()},27:function(R){return C.onEscape()},38:function(R){return R.preventDefault(),C.typeAheadUp()},40:function(R){return R.preventDefault(),C.typeAheadDown()}};this.selectOnKeyCodes.forEach(function(R){return O[R]=I});var D=this.mapKeydown(O,this);if(typeof D[S.keyCode]=="function")return D[S.keyCode](S)}}},function(){var S=this,C=S.$createElement,I=S._self._c||C;return I("div",{staticClass:"v-select",class:S.stateClasses,attrs:{dir:S.dir}},[S._t("header",null,null,S.scope.header),S._v(" "),I("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+S.uid+"__combobox",role:"combobox","aria-expanded":S.dropdownOpen.toString(),"aria-owns":"vs"+S.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(O){return S.toggleDropdown(O)}}},[I("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[S._l(S.selectedValue,function(O){return S._t("selected-option-container",[I("span",{key:S.getOptionKey(O),staticClass:"vs__selected"},[S._t("selected-option",[S._v(`
            `+S._s(S.getOptionLabel(O))+`
          `)],null,S.normalizeOptionForSlot(O)),S._v(" "),S.multiple?I("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:S.disabled,type:"button",title:"Deselect "+S.getOptionLabel(O),"aria-label":"Deselect "+S.getOptionLabel(O)},on:{click:function(D){return S.deselect(O)}}},[I(S.childComponents.Deselect,{tag:"component"})],1):S._e()],2)],{option:S.normalizeOptionForSlot(O),deselect:S.deselect,multiple:S.multiple,disabled:S.disabled})}),S._v(" "),S._t("search",[I("input",S._g(S._b({staticClass:"vs__search"},"input",S.scope.search.attributes,!1),S.scope.search.events))],null,S.scope.search)],2),S._v(" "),I("div",{ref:"actions",staticClass:"vs__actions"},[I("button",{directives:[{name:"show",rawName:"v-show",value:S.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:S.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:S.clearSelection}},[I(S.childComponents.Deselect,{tag:"component"})],1),S._v(" "),S._t("open-indicator",[S.noDrop?S._e():I(S.childComponents.OpenIndicator,S._b({tag:"component"},"component",S.scope.openIndicator.attributes,!1))],null,S.scope.openIndicator),S._v(" "),S._t("spinner",[I("div",{directives:[{name:"show",rawName:"v-show",value:S.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[S._v("Loading...")])],null,S.scope.spinner)],2)]),S._v(" "),I("transition",{attrs:{name:S.transition}},[S.dropdownOpen?I("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+S.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+S.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(O){return O.preventDefault(),S.onMousedown(O)},mouseup:S.onMouseUp}},[S._t("list-header",null,null,S.scope.listHeader),S._v(" "),S._l(S.filteredOptions,function(O,D){return I("li",{key:S.getOptionKey(O),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":S.isOptionDeselectable(O)&&D===S.typeAheadPointer,"vs__dropdown-option--selected":S.isOptionSelected(O),"vs__dropdown-option--highlight":D===S.typeAheadPointer,"vs__dropdown-option--disabled":!S.selectable(O)},attrs:{id:"vs"+S.uid+"__option-"+D,role:"option","aria-selected":D===S.typeAheadPointer||null},on:{mouseover:function(R){S.selectable(O)&&(S.typeAheadPointer=D)},click:function(R){R.preventDefault(),R.stopPropagation(),S.selectable(O)&&S.select(O)}}},[S._t("option",[S._v(`
          `+S._s(S.getOptionLabel(O))+`
        `)],null,S.normalizeOptionForSlot(O))],2)}),S._v(" "),S.filteredOptions.length===0?I("li",{staticClass:"vs__no-options"},[S._t("no-options",[S._v(`
          Sorry, no matching options.
        `)],null,S.scope.noOptions)],2):S._e(),S._v(" "),S._t("list-footer",null,null,S.scope.listFooter)],2):I("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+S.uid+"__listbox",role:"listbox"}})]),S._v(" "),S._t("footer",null,null,S.scope.footer)],2)},[],!1,null,null,null).exports,A={ajax:g,pointer:d,pointerScroll:h},M=k})(),o})()})})(vueSelect$1);var vSelect=getDefaultExportFromCjs(vueSelect$1.exports),vueSelect=(()=>`:root{--vs-colors--lightest:rgba(60,60,60,.26);--vs-colors--light:rgba(60,60,60,.5);--vs-colors--dark:#333;--vs-colors--darkest:rgba(0,0,0,.15);--vs-search-input-color:inherit;--vs-search-input-placeholder-color:inherit;--vs-font-size:1rem;--vs-line-height:1.4;--vs-state-disabled-bg:#f8f8f8;--vs-state-disabled-color:var(--vs-colors--light);--vs-state-disabled-controls-color:var(--vs-colors--light);--vs-state-disabled-cursor:not-allowed;--vs-border-color:var(--vs-colors--lightest);--vs-border-width:1px;--vs-border-style:solid;--vs-border-radius:4px;--vs-actions-padding:4px 6px 0 3px;--vs-controls-color:var(--vs-colors--light);--vs-controls-size:1;--vs-controls--deselect-text-shadow:0 1px 0 #fff;--vs-selected-bg:#f0f0f0;--vs-selected-color:var(--vs-colors--dark);--vs-selected-border-color:var(--vs-border-color);--vs-selected-border-style:var(--vs-border-style);--vs-selected-border-width:var(--vs-border-width);--vs-dropdown-bg:#fff;--vs-dropdown-color:inherit;--vs-dropdown-z-index:1000;--vs-dropdown-min-width:160px;--vs-dropdown-max-height:350px;--vs-dropdown-box-shadow:0px 3px 6px 0px var(--vs-colors--darkest);--vs-dropdown-option-bg:#000;--vs-dropdown-option-color:var(--vs-dropdown-color);--vs-dropdown-option-padding:3px 20px;--vs-dropdown-option--active-bg:#5897fb;--vs-dropdown-option--active-color:#fff;--vs-dropdown-option--deselect-bg:#fb5858;--vs-dropdown-option--deselect-color:#fff;--vs-transition-timing-function:cubic-bezier(1,-.115,.975,.855);--vs-transition-duration:.15s}.v-select{font-family:inherit;position:relative}.v-select,.v-select *{box-sizing:border-box}:root{--vs-transition-timing-function:cubic-bezier(1,.5,.8,1);--vs-transition-duration:.15s}@-webkit-keyframes vSelectSpinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes vSelectSpinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.vs__fade-enter-active,.vs__fade-leave-active{pointer-events:none;transition:opacity var(--vs-transition-duration) var(--vs-transition-timing-function)}.vs__fade-enter,.vs__fade-leave-to{opacity:0}:root{--vs-disabled-bg:var(--vs-state-disabled-bg);--vs-disabled-color:var(--vs-state-disabled-color);--vs-disabled-cursor:var(--vs-state-disabled-cursor)}.vs--disabled .vs__clear,.vs--disabled .vs__dropdown-toggle,.vs--disabled .vs__open-indicator,.vs--disabled .vs__search,.vs--disabled .vs__selected{background-color:var(--vs-disabled-bg);cursor:var(--vs-disabled-cursor)}.v-select[dir=rtl] .vs__actions{padding:0 3px 0 6px}.v-select[dir=rtl] .vs__clear{margin-left:6px;margin-right:0}.v-select[dir=rtl] .vs__deselect{margin-left:0;margin-right:2px}.v-select[dir=rtl] .vs__dropdown-menu{text-align:right}.vs__dropdown-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:var(--vs-border-radius);display:flex;padding:0 0 4px;white-space:normal}.vs__selected-options{display:flex;flex-basis:100%;flex-grow:1;flex-wrap:wrap;padding:0 2px;position:relative}.vs__actions{align-items:center;display:flex;padding:var(--vs-actions-padding)}.vs--searchable .vs__dropdown-toggle{cursor:text}.vs--unsearchable .vs__dropdown-toggle{cursor:pointer}.vs--open .vs__dropdown-toggle{border-bottom-color:transparent;border-bottom-left-radius:0;border-bottom-right-radius:0}.vs__open-indicator{fill:var(--vs-controls-color);transform:scale(var(--vs-controls-size));transition:transform var(--vs-transition-duration) var(--vs-transition-timing-function);transition-timing-function:var(--vs-transition-timing-function)}.vs--open .vs__open-indicator{transform:rotate(180deg) scale(var(--vs-controls-size))}.vs--loading .vs__open-indicator{opacity:0}.vs__clear{fill:var(--vs-controls-color);background-color:transparent;border:0;cursor:pointer;margin-right:8px;padding:0}.vs__dropdown-menu{background:var(--vs-dropdown-bg);border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:0 0 var(--vs-border-radius) var(--vs-border-radius);border-top-style:none;box-shadow:var(--vs-dropdown-box-shadow);box-sizing:border-box;color:var(--vs-dropdown-color);display:block;left:0;list-style:none;margin:0;max-height:var(--vs-dropdown-max-height);min-width:var(--vs-dropdown-min-width);overflow-y:auto;padding:5px 0;position:absolute;text-align:left;top:calc(100% - var(--vs-border-width));width:100%;z-index:var(--vs-dropdown-z-index)}.vs__no-options{text-align:center}.vs__dropdown-option{clear:both;color:var(--vs-dropdown-option-color);cursor:pointer;display:block;line-height:1.42857143;padding:var(--vs-dropdown-option-padding);white-space:nowrap}.vs__dropdown-option--highlight{background:var(--vs-dropdown-option--active-bg);color:var(--vs-dropdown-option--active-color)}.vs__dropdown-option--deselect{background:var(--vs-dropdown-option--deselect-bg);color:var(--vs-dropdown-option--deselect-color)}.vs__dropdown-option--disabled{background:var(--vs-state-disabled-bg);color:var(--vs-state-disabled-color);cursor:var(--vs-state-disabled-cursor)}.vs__selected{align-items:center;background-color:var(--vs-selected-bg);border:var(--vs-selected-border-width) var(--vs-selected-border-style) var(--vs-selected-border-color);border-radius:var(--vs-border-radius);color:var(--vs-selected-color);display:flex;line-height:var(--vs-line-height);margin:4px 2px 0;padding:0 .25em;z-index:0}.vs__deselect{fill:var(--vs-controls-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:0;cursor:pointer;display:inline-flex;margin-left:4px;padding:0;text-shadow:var(--vs-controls--deselect-text-shadow)}.vs--single .vs__selected{background-color:transparent;border-color:transparent}.vs--single.vs--loading .vs__selected,.vs--single.vs--open .vs__selected{opacity:.4;position:absolute}.vs--single.vs--searching .vs__selected{display:none}.vs__search::-webkit-search-cancel-button{display:none}.vs__search::-ms-clear,.vs__search::-webkit-search-decoration,.vs__search::-webkit-search-results-button,.vs__search::-webkit-search-results-decoration{display:none}.vs__search,.vs__search:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:1px solid transparent;border-left:none;box-shadow:none;color:var(--vs-search-input-color);flex-grow:1;font-size:var(--vs-font-size);line-height:var(--vs-line-height);margin:4px 0 0;max-width:100%;outline:none;padding:0 7px;width:0;z-index:1}.vs__search::-moz-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search:-ms-input-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search::placeholder{color:var(--vs-search-input-placeholder-color)}.vs--unsearchable .vs__search{opacity:1}.vs--unsearchable:not(.vs--disabled) .vs__search{cursor:pointer}.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search{opacity:.2}.vs__spinner{align-self:center;-webkit-animation:vSelectSpinner 1.1s linear infinite;animation:vSelectSpinner 1.1s linear infinite;border:.9em solid hsla(0,0%,39%,.1);border-left-color:#3c3c3c73;font-size:5px;opacity:0;overflow:hidden;text-indent:-9999em;transform:translateZ(0) scale(var(--vs-controls--spinner-size,var(--vs-controls-size)));transition:opacity .1s}.vs__spinner,.vs__spinner:after{border-radius:50%;height:5em;transform:scale(var(--vs-controls--spinner-size,var(--vs-controls-size)));width:5em}.vs--loading .vs__spinner{opacity:1}
`)();const __vue2_script$I={extends:vSelect,props:{toggleSelectOption:{type:Boolean,default:!1},requiredValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{mutableValue:this.value}},computed:{showClearButton(){return!1}},methods:{toggleDropdown(e){this.disabled||(e.target===this.$refs.openIndicator||e.target===this.$refs.search||e.target===this.$refs.toggle||e.target===this.$refs.selectedOptions||e.target===this.$el)&&(this.open?this.$refs.search.blur():(this.open=!0,this.$refs.search.focus()))},maybeDeleteValue(){if(!this.requiredValue&&!this.$refs.search.value.length&&this.mutableValue)return this.multiple?this.mutableValue.pop():this.mutableValue=null},isOptionSelected(e){return this.valueAsArray===void 0?!1:this.valueAsArray.some(t=>typeof t=="object"?this.optionObjectComparator(t,e):t===e||t===e[this.index])}},mounted(){this.taggable&&this.$emit("search",this.search,this.toggleLoading)}};let __vue2_render,__vue2_staticRenderFns;const __cssModules$I={};var __component__$I=normalizeComponent(__vue2_script$I,__vue2_render,__vue2_staticRenderFns,!1,__vue2_injectStyles$I,null,null,null);function __vue2_injectStyles$I(e){for(let t in __cssModules$I)this[t]=__cssModules$I[t]}var extendedVSelect=function(){return __component__$I.exports}(),render$I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vselectOuter"},[n("a17-inputframe",{attrs:{error:e.error,label:e.label,note:e.note,size:e.size,name:e.name,"label-for":e.uniqId,required:e.required,"add-new":e.addNew}},[n("div",{staticClass:"vselect",class:e.vselectClasses},[n("div",{staticClass:"vselect__field"},[n("input",{attrs:{type:"hidden",name:e.name,id:e.uniqId},domProps:{value:e.inputValue}}),n("v-select",{attrs:{multiple:e.multiple,placeholder:e.placeholder,value:e.value,options:e.currentOptions,searchable:e.searchable,selectable:e.selectable,clearSearchOnSelect:e.clearSearchOnSelect,label:e.optionsLabel,taggable:e.taggable,pushTags:e.pushTags,transition:e.transition,requiredValue:e.required,maxHeight:e.maxHeight,disabled:e.disabled},on:{input:e.updateValue,search:e.getOptions}},[n("span",{attrs:{slot:"no-options"},slot:"no-options"},[e._v(e._s(e.emptyText))])])],1)])]),e.addNew?[n("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},staticRenderFns$H=[];const __vue2_script$H={name:"A17VueSelect",mixins:[randKeyMixin,InputframeMixin,FormStoreMixin,AttributesMixin],props:{placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},name:{type:String,default:""},transition:{type:String,default:"fade_move_dropdown"},multiple:{type:Boolean,default:!1},taggable:{type:Boolean,default:!1},pushTags:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},selectable:{type:Function,default:e=>{var t;return(t=e.selectable)!=null?t:!0}},clearSearchOnSelect:{type:Boolean,default:!0},selected:{default:null},emptyText:{default(){return this.$trans("select.empty-text","Sorry, no matching options.")}},options:{default:function(){return[]}},optionsLabel:{type:String,default:"label"},endpoint:{type:String,default:""},size:{type:String,default:""},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"400px"}},components:{"v-select":extendedVSelect},data:function(){return{value:this.selected,currentOptions:this.options,ajaxUrl:this.endpoint}},watch:{options:function(e){this.currentOptions=this.options}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},inputValue:{get:function(){if(this.value){if(this.multiple){if(Array.isArray(this.value))return typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value.join(",")}else if(typeof this.value=="object")return this.value.value;return this.value}else return""},set:function(e){Array.isArray(e)?this.taggable?this.value=e:this.value=this.options.filter(t=>e.includes(t.value)):this.value=this.options.find(t=>typeof t.value=="number"?t.value===parseInt(e):t.value===String(e))}},vselectClasses:function(){return[this.value?"vselect--has-value":"",this.multiple?"vselect--multiple":"vselect--single",this.size==="small"?"vselect--small":"",this.size==="large"?"vselect--large":"",this.error?"vselect--error":""]}},methods:{updateFromStore:function(e){this.inputValue=e},isAjax:function(){return this.ajaxUrl!==""},updateValue:function(e){this.value=e,this.saveIntoStore(),this.$emit("change",e)},getOptions:debounce_1(function(e,t){if(!this.isAjax())return!0;t(!0),this.$http.get(this.ajaxUrl,{params:{q:e}}).then(n=>{n.data.items&&n.data.items.length&&(this.taggable?Array.isArray(this.value)?this.currentOptions=n.data.items.filter(r=>!this.value.includes(r)):this.currentOptions=n.data.items:this.currentOptions=n.data.items),t(!1)},function(n){t(!1)})},500)}},__cssModules$H={};var __component__$H=normalizeComponent(__vue2_script$H,render$I,staticRenderFns$H,!1,__vue2_injectStyles$H,null,null,null);function __vue2_injectStyles$H(e){for(let t in __cssModules$H)this[t]=__cssModules$H[t]}var VSelect=function(){return __component__$H.exports}(),render$H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCurrentLocale,expression:"isCurrentLocale"}],staticClass:"input",class:e.textfieldClasses,attrs:{hidden:e.isCurrentLocale?null:!0}},[e.label?n("label",{staticClass:"input__label",attrs:{for:e.labelFor||e.name}},[e._v(" "+e._s(e.label)),e.required?n("span",{staticClass:"input__required"},[e._v("*")]):e._e(),e.hasLocale&&e.languages.length>1?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"input__lang",attrs:{"data-tooltip-title":e.$trans("fields.generic.switch-language")},on:{click:e.onClickLocale}},[e._v(e._s(e.displayedLocale))]):e._e(),e.note?n("span",{staticClass:"input__note f--small"},[e._v(e._s(e.note))]):e._e()]):e._e(),e.addNew?n("a",{staticClass:"input__add",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.openAddModal(r)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}}),e._v(" "),n("span",{staticClass:"f--link-underlined--o"},[e._v("Add New")])]):e._e(),e._t("default"),e.error&&e.errorMessage?n("span",{staticClass:"input__errorMessage f--small",domProps:{innerHTML:e._s(e.errorMessage)}}):e._e(),e.otherLocalesError?n("span",{staticClass:"input__errorMessage f--small"},[e._v(e._s(e.errorMessageLocales))]):e._e()],2)},staticRenderFns$G=[],InputFrame_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-8c7a4dd2]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-8c7a4dd2]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-8c7a4dd2]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-8c7a4dd2]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-8c7a4dd2]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-8c7a4dd2]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-8c7a4dd2]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-8c7a4dd2]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-8c7a4dd2]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-8c7a4dd2]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-8c7a4dd2]{width:auto}}.input[data-v-8c7a4dd2]{margin-top:35px;position:relative}.input[data-v-8c7a4dd2]:empty{display:none}.input__add[data-v-8c7a4dd2]{position:absolute;top:0;right:0;text-decoration:none;color:#3278b8}.input__label[data-v-8c7a4dd2]{display:block;color:#262626;margin-bottom:10px;word-wrap:break-word;position:relative}.input__note[data-v-8c7a4dd2]{color:#8c8c8c;display:block}@media screen and (min-width: 600px){.input__note[data-v-8c7a4dd2]{display:inline;right:0;top:1px;position:absolute}}.input__required[data-v-8c7a4dd2]{color:#a6a6a6;padding-left:5px}.input__lang[data-v-8c7a4dd2]{border-radius:2px;display:inline-block;height:15px;line-height:15px;font-size:10px;color:#fff;text-transform:uppercase;background:#a6a6a6;padding:0 5px;position:relative;top:-2px;margin-left:5px;cursor:pointer;user-select:none;letter-spacing:0}.input__lang[data-v-8c7a4dd2]:hover{background:#8c8c8c}.input__inliner>.input[data-v-8c7a4dd2]{display:inline-block;margin-top:0;margin-right:20px}.input__inliner>.input .singleCheckbox[data-v-8c7a4dd2]{padding:7px 0 8px}.input--intable[data-v-8c7a4dd2]{margin-top:0}@media screen and (min-width: 1040px){.input--intable[data-v-8c7a4dd2]{display:flex;align-items:center}.input--intable .input__label[data-v-8c7a4dd2]{flex-grow:1;margin-bottom:0}}.input--small[data-v-8c7a4dd2]{margin-top:16px}.input--small .input__label[data-v-8c7a4dd2]{margin-bottom:9px;font-size:13px}.input--error>label[data-v-8c7a4dd2]{color:#e61414}.input--error>label .input__lang[data-v-8c7a4dd2]{background-color:#e61414}.input--error .form__field[data-v-8c7a4dd2],.input--error .select__input[data-v-8c7a4dd2],.input--error .input__field[data-v-8c7a4dd2],.input--error .v-select .dropdown-toggle[data-v-8c7a4dd2]{border-color:#e61414}.input--error .form__field.s--focus[data-v-8c7a4dd2],.input--error .form__field[data-v-8c7a4dd2]:hover,.input--error .form__field[data-v-8c7a4dd2]:focus,.input--error .select__input.s--focus[data-v-8c7a4dd2],.input--error .select__input[data-v-8c7a4dd2]:hover,.input--error .select__input[data-v-8c7a4dd2]:focus,.input--error .input__field.s--focus[data-v-8c7a4dd2],.input--error .input__field[data-v-8c7a4dd2]:hover,.input--error .input__field[data-v-8c7a4dd2]:focus,.input--error .v-select .dropdown-toggle.s--focus[data-v-8c7a4dd2],.input--error .v-select .dropdown-toggle[data-v-8c7a4dd2]:hover,.input--error .v-select .dropdown-toggle[data-v-8c7a4dd2]:focus{border-color:#e61414}.input__errorMessage[data-v-8c7a4dd2]{color:#e61414;margin-top:10px;display:block}
`)();const __vue2_script$G={name:"A17InputFrame",mixins:[InputMixin,InputframeMixin,LocaleMixin],props:{addNew:{type:String,default:""}},computed:{textfieldClasses:function(){const e=[this.size==="small"?"input--small":"",this.error?"input--error":""];return this.variant&&this.variant.split(" ").forEach(t=>{e.push(`input--${t}`)}),e}},methods:{openAddModal:function(){this.$parent.$refs.addModal&&this.$parent.$refs.addModal.open()}}},__cssModules$G={};var __component__$G=normalizeComponent(__vue2_script$G,render$H,staticRenderFns$G,!1,__vue2_injectStyles$G,"8c7a4dd2",null,null);function __vue2_injectStyles$G(e){for(let t in __cssModules$G)this[t]=__cssModules$G[t]}var a17Inputframe=function(){return __component__$G.exports}(),tinycolor={exports:{}};(function(e){(function(t){var n=/^\s+/,r=/\s+$/,a=0,o=t.round,s=t.min,l=t.max,c=t.random;function u(H,Y){if(H=H||"",Y=Y||{},H instanceof u)return H;if(!(this instanceof u))return new u(H,Y);var W=f(H);this._originalInput=H,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=o(100*this._a)/100,this._format=Y.format||W.format,this._gradientType=Y.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=W.ok,this._tc_id=a++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var H=this.toRgb();return(H.r*299+H.g*587+H.b*114)/1e3},getLuminance:function(){var H=this.toRgb(),Y,W,ae,se,X,ee;return Y=H.r/255,W=H.g/255,ae=H.b/255,Y<=.03928?se=Y/12.92:se=t.pow((Y+.055)/1.055,2.4),W<=.03928?X=W/12.92:X=t.pow((W+.055)/1.055,2.4),ae<=.03928?ee=ae/12.92:ee=t.pow((ae+.055)/1.055,2.4),.2126*se+.7152*X+.0722*ee},setAlpha:function(H){return this._a=U(H),this._roundA=o(100*this._a)/100,this},toHsv:function(){var H=g(this._r,this._g,this._b);return{h:H.h*360,s:H.s,v:H.v,a:this._a}},toHsvString:function(){var H=g(this._r,this._g,this._b),Y=o(H.h*360),W=o(H.s*100),ae=o(H.v*100);return this._a==1?"hsv("+Y+", "+W+"%, "+ae+"%)":"hsva("+Y+", "+W+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var H=h(this._r,this._g,this._b);return{h:H.h*360,s:H.s,l:H.l,a:this._a}},toHslString:function(){var H=h(this._r,this._g,this._b),Y=o(H.h*360),W=o(H.s*100),ae=o(H.l*100);return this._a==1?"hsl("+Y+", "+W+"%, "+ae+"%)":"hsla("+Y+", "+W+"%, "+ae+"%, "+this._roundA+")"},toHex:function(H){return _(this._r,this._g,this._b,H)},toHexString:function(H){return"#"+this.toHex(H)},toHex8:function(H){return y(this._r,this._g,this._b,this._a,H)},toHex8String:function(H){return"#"+this.toHex8(H)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o($(this._r,255)*100)+"%",g:o($(this._g,255)*100)+"%",b:o($(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o($(this._r,255)*100)+"%, "+o($(this._g,255)*100)+"%, "+o($(this._b,255)*100)+"%)":"rgba("+o($(this._r,255)*100)+"%, "+o($(this._g,255)*100)+"%, "+o($(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B[_(this._r,this._g,this._b,!0)]||!1},toFilter:function(H){var Y="#"+q(this._r,this._g,this._b,this._a),W=Y,ae=this._gradientType?"GradientType = 1, ":"";if(H){var se=u(H);W="#"+q(se._r,se._g,se._b,se._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+Y+",endColorstr="+W+")"},toString:function(H){var Y=!!H;H=H||this._format;var W=!1,ae=this._a<1&&this._a>=0,se=!Y&&ae&&(H==="hex"||H==="hex6"||H==="hex3"||H==="hex4"||H==="hex8"||H==="name");return se?H==="name"&&this._a===0?this.toName():this.toRgbString():(H==="rgb"&&(W=this.toRgbString()),H==="prgb"&&(W=this.toPercentageRgbString()),(H==="hex"||H==="hex6")&&(W=this.toHexString()),H==="hex3"&&(W=this.toHexString(!0)),H==="hex4"&&(W=this.toHex8String(!0)),H==="hex8"&&(W=this.toHex8String()),H==="name"&&(W=this.toName()),H==="hsl"&&(W=this.toHslString()),H==="hsv"&&(W=this.toHsvString()),W||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(H,Y){var W=H.apply(null,[this].concat([].slice.call(Y)));return this._r=W._r,this._g=W._g,this._b=W._b,this.setAlpha(W._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(H,Y){return H.apply(null,[this].concat([].slice.call(Y)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},u.fromRatio=function(H,Y){if(typeof H=="object"){var W={};for(var ae in H)H.hasOwnProperty(ae)&&(ae==="a"?W[ae]=H[ae]:W[ae]=L(H[ae]));H=W}return u(H,Y)};function f(H){var Y={r:0,g:0,b:0},W=1,ae=null,se=null,X=null,ee=!1,oe=!1;return typeof H=="string"&&(H=ce(H)),typeof H=="object"&&(re(H.r)&&re(H.g)&&re(H.b)?(Y=m(H.r,H.g,H.b),ee=!0,oe=String(H.r).substr(-1)==="%"?"prgb":"rgb"):re(H.h)&&re(H.s)&&re(H.v)?(ae=L(H.s),se=L(H.v),Y=v(H.h,ae,se),ee=!0,oe="hsv"):re(H.h)&&re(H.s)&&re(H.l)&&(ae=L(H.s),X=L(H.l),Y=d(H.h,ae,X),ee=!0,oe="hsl"),H.hasOwnProperty("a")&&(W=H.a)),W=U(W),{ok:ee,format:H.format||oe,r:s(255,l(Y.r,0)),g:s(255,l(Y.g,0)),b:s(255,l(Y.b,0)),a:W}}function m(H,Y,W){return{r:$(H,255)*255,g:$(Y,255)*255,b:$(W,255)*255}}function h(H,Y,W){H=$(H,255),Y=$(Y,255),W=$(W,255);var ae=l(H,Y,W),se=s(H,Y,W),X,ee,oe=(ae+se)/2;if(ae==se)X=ee=0;else{var le=ae-se;switch(ee=oe>.5?le/(2-ae-se):le/(ae+se),ae){case H:X=(Y-W)/le+(Y<W?6:0);break;case Y:X=(W-H)/le+2;break;case W:X=(H-Y)/le+4;break}X/=6}return{h:X,s:ee,l:oe}}function d(H,Y,W){var ae,se,X;H=$(H,360),Y=$(Y,100),W=$(W,100);function ee(ne,_e,he){return he<0&&(he+=1),he>1&&(he-=1),he<1/6?ne+(_e-ne)*6*he:he<1/2?_e:he<2/3?ne+(_e-ne)*(2/3-he)*6:ne}if(Y===0)ae=se=X=W;else{var oe=W<.5?W*(1+Y):W+Y-W*Y,le=2*W-oe;ae=ee(le,oe,H+1/3),se=ee(le,oe,H),X=ee(le,oe,H-1/3)}return{r:ae*255,g:se*255,b:X*255}}function g(H,Y,W){H=$(H,255),Y=$(Y,255),W=$(W,255);var ae=l(H,Y,W),se=s(H,Y,W),X,ee,oe=ae,le=ae-se;if(ee=ae===0?0:le/ae,ae==se)X=0;else{switch(ae){case H:X=(Y-W)/le+(Y<W?6:0);break;case Y:X=(W-H)/le+2;break;case W:X=(H-Y)/le+4;break}X/=6}return{h:X,s:ee,v:oe}}function v(H,Y,W){H=$(H,360)*6,Y=$(Y,100),W=$(W,100);var ae=t.floor(H),se=H-ae,X=W*(1-Y),ee=W*(1-se*Y),oe=W*(1-(1-se)*Y),le=ae%6,ne=[W,ee,X,X,oe,W][le],_e=[oe,W,W,ee,X,X][le],he=[X,X,oe,W,W,ee][le];return{r:ne*255,g:_e*255,b:he*255}}function _(H,Y,W,ae){var se=[V(o(H).toString(16)),V(o(Y).toString(16)),V(o(W).toString(16))];return ae&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0):se.join("")}function y(H,Y,W,ae,se){var X=[V(o(H).toString(16)),V(o(Y).toString(16)),V(o(W).toString(16)),V(j(ae))];return se&&X[0].charAt(0)==X[0].charAt(1)&&X[1].charAt(0)==X[1].charAt(1)&&X[2].charAt(0)==X[2].charAt(1)&&X[3].charAt(0)==X[3].charAt(1)?X[0].charAt(0)+X[1].charAt(0)+X[2].charAt(0)+X[3].charAt(0):X.join("")}function q(H,Y,W,ae){var se=[V(j(ae)),V(o(H).toString(16)),V(o(Y).toString(16)),V(o(W).toString(16))];return se.join("")}u.equals=function(H,Y){return!H||!Y?!1:u(H).toRgbString()==u(Y).toRgbString()},u.random=function(){return u.fromRatio({r:c(),g:c(),b:c()})};function b(H,Y){Y=Y===0?0:Y||10;var W=u(H).toHsl();return W.s-=Y/100,W.s=P(W.s),u(W)}function x(H,Y){Y=Y===0?0:Y||10;var W=u(H).toHsl();return W.s+=Y/100,W.s=P(W.s),u(W)}function E(H){return u(H).desaturate(100)}function T(H,Y){Y=Y===0?0:Y||10;var W=u(H).toHsl();return W.l+=Y/100,W.l=P(W.l),u(W)}function k(H,Y){Y=Y===0?0:Y||10;var W=u(H).toRgb();return W.r=l(0,s(255,W.r-o(255*-(Y/100)))),W.g=l(0,s(255,W.g-o(255*-(Y/100)))),W.b=l(0,s(255,W.b-o(255*-(Y/100)))),u(W)}function A(H,Y){Y=Y===0?0:Y||10;var W=u(H).toHsl();return W.l-=Y/100,W.l=P(W.l),u(W)}function M(H,Y){var W=u(H).toHsl(),ae=(W.h+Y)%360;return W.h=ae<0?360+ae:ae,u(W)}function S(H){var Y=u(H).toHsl();return Y.h=(Y.h+180)%360,u(Y)}function C(H){var Y=u(H).toHsl(),W=Y.h;return[u(H),u({h:(W+120)%360,s:Y.s,l:Y.l}),u({h:(W+240)%360,s:Y.s,l:Y.l})]}function I(H){var Y=u(H).toHsl(),W=Y.h;return[u(H),u({h:(W+90)%360,s:Y.s,l:Y.l}),u({h:(W+180)%360,s:Y.s,l:Y.l}),u({h:(W+270)%360,s:Y.s,l:Y.l})]}function O(H){var Y=u(H).toHsl(),W=Y.h;return[u(H),u({h:(W+72)%360,s:Y.s,l:Y.l}),u({h:(W+216)%360,s:Y.s,l:Y.l})]}function D(H,Y,W){Y=Y||6,W=W||30;var ae=u(H).toHsl(),se=360/W,X=[u(H)];for(ae.h=(ae.h-(se*Y>>1)+720)%360;--Y;)ae.h=(ae.h+se)%360,X.push(u(ae));return X}function R(H,Y){Y=Y||6;for(var W=u(H).toHsv(),ae=W.h,se=W.s,X=W.v,ee=[],oe=1/Y;Y--;)ee.push(u({h:ae,s:se,v:X})),X=(X+oe)%1;return ee}u.mix=function(H,Y,W){W=W===0?0:W||50;var ae=u(H).toRgb(),se=u(Y).toRgb(),X=W/100,ee={r:(se.r-ae.r)*X+ae.r,g:(se.g-ae.g)*X+ae.g,b:(se.b-ae.b)*X+ae.b,a:(se.a-ae.a)*X+ae.a};return u(ee)},u.readability=function(H,Y){var W=u(H),ae=u(Y);return(t.max(W.getLuminance(),ae.getLuminance())+.05)/(t.min(W.getLuminance(),ae.getLuminance())+.05)},u.isReadable=function(H,Y,W){var ae=u.readability(H,Y),se,X;switch(X=!1,se=ge(W),se.level+se.size){case"AAsmall":case"AAAlarge":X=ae>=4.5;break;case"AAlarge":X=ae>=3;break;case"AAAsmall":X=ae>=7;break}return X},u.mostReadable=function(H,Y,W){var ae=null,se=0,X,ee,oe,le;W=W||{},ee=W.includeFallbackColors,oe=W.level,le=W.size;for(var ne=0;ne<Y.length;ne++)X=u.readability(H,Y[ne]),X>se&&(se=X,ae=u(Y[ne]));return u.isReadable(H,ae,{level:oe,size:le})||!ee?ae:(W.includeFallbackColors=!1,u.mostReadable(H,["#fff","#000"],W))};var w=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=u.hexNames=G(w);function G(H){var Y={};for(var W in H)H.hasOwnProperty(W)&&(Y[H[W]]=W);return Y}function U(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function $(H,Y){N(H)&&(H="100%");var W=z(H);return H=s(Y,l(0,parseFloat(H))),W&&(H=parseInt(H*Y,10)/100),t.abs(H-Y)<1e-6?1:H%Y/parseFloat(Y)}function P(H){return s(1,l(0,H))}function F(H){return parseInt(H,16)}function N(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function z(H){return typeof H=="string"&&H.indexOf("%")!=-1}function V(H){return H.length==1?"0"+H:""+H}function L(H){return H<=1&&(H=H*100+"%"),H}function j(H){return t.round(parseFloat(H)*255).toString(16)}function J(H){return F(H)/255}var Q=function(){var H="[-\\+]?\\d+%?",Y="[-\\+]?\\d*\\.\\d+%?",W="(?:"+Y+")|(?:"+H+")",ae="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",se="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?";return{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+ae),rgba:new RegExp("rgba"+se),hsl:new RegExp("hsl"+ae),hsla:new RegExp("hsla"+se),hsv:new RegExp("hsv"+ae),hsva:new RegExp("hsva"+se),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(H){return!!Q.CSS_UNIT.exec(H)}function ce(H){H=H.replace(n,"").replace(r,"").toLowerCase();var Y=!1;if(w[H])H=w[H],Y=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var W;return(W=Q.rgb.exec(H))?{r:W[1],g:W[2],b:W[3]}:(W=Q.rgba.exec(H))?{r:W[1],g:W[2],b:W[3],a:W[4]}:(W=Q.hsl.exec(H))?{h:W[1],s:W[2],l:W[3]}:(W=Q.hsla.exec(H))?{h:W[1],s:W[2],l:W[3],a:W[4]}:(W=Q.hsv.exec(H))?{h:W[1],s:W[2],v:W[3]}:(W=Q.hsva.exec(H))?{h:W[1],s:W[2],v:W[3],a:W[4]}:(W=Q.hex8.exec(H))?{r:F(W[1]),g:F(W[2]),b:F(W[3]),a:J(W[4]),format:Y?"name":"hex8"}:(W=Q.hex6.exec(H))?{r:F(W[1]),g:F(W[2]),b:F(W[3]),format:Y?"name":"hex"}:(W=Q.hex4.exec(H))?{r:F(W[1]+""+W[1]),g:F(W[2]+""+W[2]),b:F(W[3]+""+W[3]),a:J(W[4]+""+W[4]),format:Y?"name":"hex8"}:(W=Q.hex3.exec(H))?{r:F(W[1]+""+W[1]),g:F(W[2]+""+W[2]),b:F(W[3]+""+W[3]),format:Y?"name":"hex"}:!1}function ge(H){var Y,W;return H=H||{level:"AA",size:"small"},Y=(H.level||"AA").toUpperCase(),W=(H.size||"small").toLowerCase(),Y!=="AA"&&Y!=="AAA"&&(Y="AA"),W!=="small"&&W!=="large"&&(W="small"),{level:Y,size:W}}e.exports?e.exports=u:window.tinycolor=u})(Math)})(tinycolor);var tinyColor=tinycolor.exports,debounce$1=debounce_1,isObject$7=isObject_1,FUNC_ERROR_TEXT$1="Expected a function";function throttle$2(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);return isObject$7(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),debounce$1(e,t,{leading:r,maxWait:t,trailing:a})}var throttle_1=throttle$2,render$G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"colorpicker"},[n("div",{staticClass:"colorpicker__color"},[n("div",{ref:"satContainer",staticClass:"colorpicker__saturation",style:{background:e.bgColor},on:{mousedown:function(r){return e.handleMouseDown("saturation")}}},[n("div",{staticClass:"colorpicker__saturation--white"}),n("div",{staticClass:"colorpicker__saturation--black"}),n("div",{staticClass:"colorpicker__saturation-pointer",style:{top:e.satPointerTop,left:e.satPointerLeft}},[n("div",{staticClass:"colorpicker__saturation-circle"})])]),n("div",{staticClass:"colorpicker__hue colorpicker__hue--vertical"},[n("div",{ref:"hueContainer",staticClass:"colorpicker__hue-container",on:{mousedown:function(r){return e.handleMouseDown("hue")}}},[n("div",{staticClass:"colorpicker__hue-pointer",style:{top:e.huePointerTop,left:e.huePointerLeft}},[n("div",{staticClass:"colorpicker__hue-picker"})])])])])])},staticRenderFns$F=[],ColorPicker_vue_vue_type_style_index_0_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.colorpicker{position:relative;display:flex;max-width:100%;height:250px;margin:0 10px}.colorpicker__color{display:flex;width:100%}.colorpicker__saturation{position:relative;flex-grow:1;margin-right:5px;cursor:pointer;overflow:hidden}.colorpicker__saturation .colorpicker__saturation--white,.colorpicker__saturation .colorpicker__saturation--black{position:absolute;top:0;left:0;bottom:0;right:0}.colorpicker__saturation .colorpicker__saturation--white{background:linear-gradient(to right,#fff,rgba(255,255,255,0))}.colorpicker__saturation .colorpicker__saturation--black{background:linear-gradient(to top,#000,rgba(0,0,0,0))}.colorpicker__saturation .colorpicker__saturation-pointer{cursor:pointer;position:absolute}.colorpicker__saturation .colorpicker__saturation-circle{cursor:head;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px #0000004d,0 0 1px 2px #0006;border-radius:50%;transform:translate(-4px,-4px)}.colorpicker__hue{width:12px;position:relative;border-radius:2px}.colorpicker__hue--horizontal{background:linear-gradient(to right,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}.colorpicker__hue--vertical{background:linear-gradient(to top,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}.colorpicker__hue-container{position:relative;cursor:pointer;margin:0 2px;height:100%}.colorpicker__hue-pointer{z-index:2;position:absolute}.colorpicker__hue-picker{cursor:pointer;margin-left:-2px;width:14px;border-radius:2px;height:8px;box-shadow:0 0 2px #00000080;background:#fff;transform:translate(-1px) translateY(-4px)}
`)();const __vue2_script$F={name:"a17ColorPicker",props:{color:{type:String,required:!0},direction:{type:String,default:"vertical"}},data:function(){return{currentColor:tinyColor(this.color),currentColorHue:tinyColor(this.color).toHsv().h,currentTarget:"",pullDirection:""}},computed:{bgColor(){return`hsl(${this.currentColorHue}, 100%, 50%)`},satPointerTop(){return-(this.currentColor.toHsv().v*100)+1+100+"%"},satPointerLeft(){return this.currentColor.toHsv().s*100+"%"},huePointerTop(){return this.direction==="vertical"?this.currentColorHue===0&&this.pullDirection==="right"?0:-(this.currentColorHue*100/360)+100+"%":0},huePointerLeft(){return this.direction==="vertical"?0:this.currentColorHue===0&&this.pullDirection==="right"?"100%":this.currentColorHue*100/360+"%"}},methods:{throttle:throttle_1((e,t)=>{e(t)},20,{leading:!0,trailing:!1}),satHandleChange(e,t){!t&&e.preventDefault();const n=this.$refs.satContainer;if(!n)return;const r=n.clientWidth,a=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,s=n.getBoundingClientRect().top+window.pageYOffset,l=e.pageX||(e.touches?e.touches[0].pageX:0),c=e.pageY||(e.touches?e.touches[0].pageY:0);let u=l-o,f=c-s;u<0?u=0:u>r?u=r:f<0?f=0:f>a&&(f=a);const m=u/r;let h=-(f/a)+1;h=h>0?h:0,h=h>1?1:h,this.throttle(this.onChange,{h:this.currentColorHue,s:m,v:h,a:this.currentColor.toHsv().a})},hueHandleChange(e,t){!t&&e.preventDefault();const n=this.$refs.hueContainer,r=n.clientWidth,a=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,s=n.getBoundingClientRect().top+window.pageYOffset,l=e.pageX||(e.touches?e.touches[0].pageX:0),c=e.pageY||(e.touches?e.touches[0].pageY:0),u=l-o,f=c-s;let m,h;this.direction==="vertical"?f<0?m=360:f>a?m=0:(h=-(f*100/a)+100,m=360*h/100):u<0?m=0:u>r?m=360:(h=u*100/r,m=360*h/100),this.currentColorHue!==m&&this.throttle(this.onChange,{h:m,s:this.currentColor.toHsl().s,l:this.currentColor.toHsl().l,a:this.currentColor.toHsl().a,source:"hsl"})},handleMouseDown(e){this.currentTarget=e,this.currentTarget==="saturation"?(window.addEventListener("mousemove",this.satHandleChange),window.addEventListener("mouseup",this.satHandleChange)):(window.addEventListener("mousemove",this.hueHandleChange),window.addEventListener("mouseup",this.hueHandleChange)),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){this.currentTarget==="saturation"?(window.removeEventListener("mousemove",this.satHandleChange),window.removeEventListener("mouseup",this.satHandleChange)):(window.removeEventListener("mousemove",this.hueHandleChange),window.removeEventListener("mouseup",this.hueHandleChange)),window.removeEventListener("mouseup",this.handleMouseUp)},onChange(e){this.currentColor=tinyColor(e),this.currentColorHue=e.h,this.$emit("change",this.currentColor.toHexString())}}},__cssModules$F={};var __component__$F=normalizeComponent(__vue2_script$F,render$G,staticRenderFns$F,!1,__vue2_injectStyles$F,null,null,null);function __vue2_injectStyles$F(e){for(let t in __cssModules$F)this[t]=__cssModules$F[t]}var ColorPicker=function(){return __component__$F.exports}(),render$F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,required:e.required}},[n("div",{staticClass:"form__field",class:e.textfieldClasses},[n("input",{attrs:{type:"text",placeholder:e.placeholder,name:e.name,id:e.name,disabled:e.disabled,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,maxlength:"7"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}),n("a17-dropdown",{ref:"colorDropdown",staticClass:"form__field--color",attrs:{position:"bottom-right",arrow:!0,offset:15,minWidth:300,clickable:!0,sideOffset:15},on:{close:e.saveIntoStore}},[n("span",{staticClass:"form__field--colorBtn",style:e.bcgStyle,on:{click:function(r){return e.$refs.colorDropdown.toggle()}}}),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[n("a17-colorpicker",{attrs:{color:e.value},on:{change:e.updateValueFromPicker}})],1)])],1)])},staticRenderFns$E=[],ColorField_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-4c4280e3]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-4c4280e3]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-4c4280e3]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-4c4280e3]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-4c4280e3]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-4c4280e3]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-4c4280e3]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-4c4280e3]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-4c4280e3]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-4c4280e3]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-4c4280e3]{width:auto}}.form__field[data-v-4c4280e3]{display:flex;align-items:center;padding:0 15px;overflow:visible}.form__field input[data-v-4c4280e3]{padding:0}.form__field--colorBtn[data-v-4c4280e3]{cursor:pointer;display:block;margin-right:-10px;width:33px;height:33px;border-radius:2px;transition:background .25s;border:1px solid rgba(0,0,0,.1);box-sizing:border-box;overflow:hidden;background-clip:padding-box}
`)();const __vue2_script$E={name:"a17ColorField",mixins:[InputMixin,InputframeMixin,FormStoreMixin],props:{name:{type:String,required:!0},initialValue:{default:""},defaultValue:{default:""}},components:{"a17-colorpicker":ColorPicker},data:function(){return{focused:!1,value:this.initialValue}},mounted(){this.value===""&&this.defaultValue!==""&&this.updateValue(this.defaultValue)},computed:{bcgStyle:function(){return{"background-color":this.value!==""?this.value:"transparent"}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(e){typeof e=="undefined"&&(e=""),this.value!==e&&(this.value=e)},updateValueFromPicker:function(e){this.value!==e&&(this.value=e)},updateValue:function(e){this.value!==e&&(this.value=e,this.saveIntoStore())},onBlur:function(e){const t=e.target.value;this.updateValue(t),this.focused=!1},onFocus:function(){this.focused=!0},onInput:function(){}}},__cssModules$E={};var __component__$E=normalizeComponent(__vue2_script$E,render$F,staticRenderFns$E,!1,__vue2_injectStyles$E,"4c4280e3",null,null);function __vue2_injectStyles$E(e){for(let t in __cssModules$E)this[t]=__cssModules$E[t]}var a17ColorField=function(){return __component__$E.exports}(),render$E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,"label-for":e.uniqId,required:e.required},on:{localize:e.updateLocale}},[n("div",{staticClass:"input__field",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[e.hasPrefix?n("span",{staticClass:"input__prefix"},[e._v(e._s(e.prefix))]):e._e(),e.type==="textarea"?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"clone",staticClass:"input__clone",attrs:{rows:e.rows,disabled:"true"},domProps:{value:e.value},on:{input:function(r){r.target.composing||(e.value=r.target.value)}}}):e._e(),e.type==="textarea"?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",attrs:{name:e.name,id:e.uniqId,placeholder:e.placeholder,disabled:e.disabled,required:e.required,readonly:e.readonly,rows:e.rows,autofocus:e.autofocus},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:[function(r){r.target.composing||(e.value=r.target.value)},e.onInput]}}):e._e(),e.type==="number"?n("input",{ref:"input",attrs:{type:"number",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.type==="text"?n("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,"x-mask":e.mask},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.type==="email"?n("input",{ref:"input",attrs:{type:"email",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.type==="password"?n("input",{ref:"input",attrs:{type:"password",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.type==="url"?n("input",{ref:"input",attrs:{type:"url",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.hasMaxlength?n("span",{staticClass:"input__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e(),e.type==="email"?n("span",{class:e.validityClasses}):e._e()])])},staticRenderFns$D=[],Textfield_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-cca8d7ac]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-cca8d7ac]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-cca8d7ac]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-cca8d7ac]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-cca8d7ac]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-cca8d7ac]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-cca8d7ac]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-cca8d7ac]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-cca8d7ac]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-cca8d7ac]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-cca8d7ac]{width:auto}}.input__field[data-v-cca8d7ac]{position:relative;overflow:hidden;padding:0 15px;height:45px;line-height:45px;border-radius:2px;box-shadow:inset 0 0 1px #f9f9f9;width:100%;border:0 none;box-sizing:border-box;font-size:15px;caret-color:#3278b8;background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;display:flex;flex-direction:row;flex-wrap:no-wrap}.input__field.s--focus[data-v-cca8d7ac],.input__field[data-v-cca8d7ac]:hover{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}.input__field.s--disabled[data-v-cca8d7ac]{background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;box-shadow:0 none;outline:0;opacity:.5;pointer-events:none}.input__field input[type=search][data-v-cca8d7ac],.input__field input[type=number][data-v-cca8d7ac],.input__field input[type=text][data-v-cca8d7ac],.input__field input[type=email][data-v-cca8d7ac],.input__field input[type=password][data-v-cca8d7ac],.input__field input[type=url][data-v-cca8d7ac]{padding:0;margin:0;border-radius:0;-webkit-appearance:none;background:transparent;border:0 none;font-size:inherit;letter-spacing:inherit;height:43px;line-height:43px;flex-grow:1;color:inherit}.input__field input[type=search][data-v-cca8d7ac]:focus,.input__field input[type=number][data-v-cca8d7ac]:focus,.input__field input[type=text][data-v-cca8d7ac]:focus,.input__field input[type=email][data-v-cca8d7ac]:focus,.input__field input[type=password][data-v-cca8d7ac]:focus,.input__field input[type=url][data-v-cca8d7ac]:focus{outline:0}.input__field input[type=search][data-v-cca8d7ac]::-webkit-input-placeholder,.input__field input[type=number][data-v-cca8d7ac]::-webkit-input-placeholder,.input__field input[type=text][data-v-cca8d7ac]::-webkit-input-placeholder,.input__field input[type=email][data-v-cca8d7ac]::-webkit-input-placeholder,.input__field input[type=password][data-v-cca8d7ac]::-webkit-input-placeholder,.input__field input[type=url][data-v-cca8d7ac]::-webkit-input-placeholder{color:#ccc}.input__field input[type=search][data-v-cca8d7ac]:-moz-placeholder,.input__field input[type=number][data-v-cca8d7ac]:-moz-placeholder,.input__field input[type=text][data-v-cca8d7ac]:-moz-placeholder,.input__field input[type=email][data-v-cca8d7ac]:-moz-placeholder,.input__field input[type=password][data-v-cca8d7ac]:-moz-placeholder,.input__field input[type=url][data-v-cca8d7ac]:-moz-placeholder{color:#ccc}.input__field input[type=search][data-v-cca8d7ac]::-moz-placeholder,.input__field input[type=number][data-v-cca8d7ac]::-moz-placeholder,.input__field input[type=text][data-v-cca8d7ac]::-moz-placeholder,.input__field input[type=email][data-v-cca8d7ac]::-moz-placeholder,.input__field input[type=password][data-v-cca8d7ac]::-moz-placeholder,.input__field input[type=url][data-v-cca8d7ac]::-moz-placeholder{color:#ccc}.input__field input[type=search][data-v-cca8d7ac]:-ms-input-placeholder,.input__field input[type=number][data-v-cca8d7ac]:-ms-input-placeholder,.input__field input[type=text][data-v-cca8d7ac]:-ms-input-placeholder,.input__field input[type=email][data-v-cca8d7ac]:-ms-input-placeholder,.input__field input[type=password][data-v-cca8d7ac]:-ms-input-placeholder,.input__field input[type=url][data-v-cca8d7ac]:-ms-input-placeholder{color:#ccc}.input__field textarea[data-v-cca8d7ac]{margin:0;border-radius:0;-webkit-appearance:none;background:transparent;border:0 none;font-size:inherit;letter-spacing:inherit;padding:10px;line-height:inherit;width:100%;box-sizing:border-box;display:block;resize:none;overflow:hidden;z-index:1;position:relative;color:inherit}.input__field textarea[data-v-cca8d7ac]:focus{outline:0}.input__field textarea[data-v-cca8d7ac]::-webkit-input-placeholder{color:#ccc}.input__field textarea[data-v-cca8d7ac]:-moz-placeholder{color:#ccc}.input__field textarea[data-v-cca8d7ac]::-moz-placeholder{color:#ccc}.input__field textarea[data-v-cca8d7ac]:-ms-input-placeholder{color:#ccc}.input__field .input__clone[data-v-cca8d7ac]{position:absolute;width:100%;pointer-events:none;opacity:0;height:auto;z-index:0}.input__prefix[data-v-cca8d7ac]{height:43px;line-height:43px;user-select:none;color:#a6a6a6;pointer-events:none;white-space:nowrap}.input__limit[data-v-cca8d7ac]{height:43px;line-height:43px;color:#8c8c8c;user-select:none;pointer-events:none}.input__limit--red[data-v-cca8d7ac]{color:red}.input__validity[data-v-cca8d7ac]{position:absolute;top:17px;right:15px;width:10px;height:10px;background-color:#d9d9d9;border-radius:50%;user-select:none;pointer-events:none}.input__validity--valid[data-v-cca8d7ac]{background-color:#1d9f3c}.input__validity--error[data-v-cca8d7ac]{background-color:#e61414}.input__field--textarea[data-v-cca8d7ac]{display:block;padding:0;height:auto;line-height:inherit}.input__field--textarea .input__prefix[data-v-cca8d7ac]{display:none}.input__field--textarea .input__limit[data-v-cca8d7ac]{position:absolute;right:15px;bottom:0}.input__field--small[data-v-cca8d7ac]{padding:0 13px;height:35px;line-height:35px}.input__field--small input[type=search][data-v-cca8d7ac],.input__field--small input[type=number][data-v-cca8d7ac],.input__field--small input[type=text][data-v-cca8d7ac],.input__field--small input[type=email][data-v-cca8d7ac],.input__field--small input[type=password][data-v-cca8d7ac],.input__field--small input[type=url][data-v-cca8d7ac]{height:33px;line-height:33px}.input__field--textarea[dir=rtl] .input__limit[data-v-cca8d7ac]{left:15px;right:auto}
`)();const __vue2_script$D={name:"A17Textfield",mixins:[randKeyMixin,InputMixin,InputframeMixin,LocaleMixin,FormStoreMixin],props:{name:{type:String,required:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:null},initialValue:{default:""},mask:{type:String,default:null},rows:{type:Number,default:5}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},textfieldClasses:function(){return{"input__field--textarea":this.type==="textarea","input__field--small":this.size==="small"&&!this.type==="textarea","s--focus":this.focused,"s--disabled":this.disabled}},hasMaxlength:function(){return this.maxlength>0},hasPrefix:function(){return this.prefix!==""},displayedMaxlength:function(){return this.hasMaxlength?this.maxlength:!1},limitClasses:function(){return{"input__limit--red":this.counter<this.maxlength*.1}},validityClasses:function(){return["input__validity",this.isFieldValid===!0?"input__validity--valid":"",this.isFieldValid===!1?"input__validity--error":""]}},data:function(){return{value:this.initialValue,lastSavedValue:this.initialValue,focused:!1,isFieldValid:null,counter:0}},watch:{initialValue:function(){this.updateValue(this.initialValue)}},methods:{updateFromStore:function(e){typeof e=="undefined"&&(e=""),this.value!==e&&this.updateValue(e)},updateValue:function(e){this.value=e,this.updateCounter(e)},updateAndSaveValue:function(e){this.updateValue(e),this.lastSavedValue=this.value,this.saveIntoStore()},updateCounter:function(e){this.maxlength>0&&(this.counter=this.maxlength-(e?e.toString().length:0))},onFocus:function(e){this.focused=!0,this.resizeTextarea(),this.$emit("focus")},onBlur:function(e){const t=e.target.value;this.updateAndSaveValue(t),this.focused=!1,this.$emit("blur",t)},onInput:function(e){this.preventSubmit(),this._onInputInternal(e)},_onInputInternal:debounce_1(function(e){const t=e.target.value;this.updateAndSaveValue(t),this.checkFieldValidity(e.target),this.$emit("change",t),this.allowSubmit()},250),resizeTextarea:function(){if(this.type!=="textarea")return;const e=this.$refs.clone,t=15;if(e){const n=e.scrollHeight;this.$refs.input.style.minHeight=`${n+t}px`}},checkFieldValidity:function(e){let t=null,n=null;switch(e.type){case"email":if(e.value.length<1){this.isFieldValid=null;return}t=e.pattern,n=RegExp(t),this.isFieldValid=n.test(this.value);break}}},mounted:function(){this.updateCounter(this.value),this.type==="textarea"&&(this.resizeTextarea(),this.$watch("value",this.resizeTextarea),this.$nextTick(function(){window.addEventListener("resize",this.resizeTextarea)}))},beforeDestroy(){this.type==="textarea"&&window.removeEventListener("resize",this.resizeTextarea)}},__cssModules$D={};var __component__$D=normalizeComponent(__vue2_script$D,render$E,staticRenderFns$D,!1,__vue2_injectStyles$D,"cca8d7ac",null,null);function __vue2_injectStyles$D(e){for(let t in __cssModules$D)this[t]=__cssModules$D[t]}var A17Textfield=function(){return __component__$D.exports}(),render$D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form__input form__input--hidden"},[n("input",{attrs:{type:"hidden",name:e.name,id:e.uniqId},domProps:{value:e.value}})])},staticRenderFns$C=[];const __vue2_script$C={name:"A17HiddenField",mixins:[randKeyMixin,InputMixin,FormStoreMixin],props:{name:{type:String,required:!0},initialValue:{default:""}},computed:{uniqId:function(){return this.name+"-"+this.randKey}},data:function(){return{value:this.initialValue}},watch:{initialValue:function(){this.value=this.initialValue}},methods:{updateFromStore:function(e){typeof e=="undefined"&&(e=""),this.value!==e&&(this.value=e)}}},__cssModules$C={};var __component__$C=normalizeComponent(__vue2_script$C,render$D,staticRenderFns$C,!1,__vue2_injectStyles$C,null,null,null);function __vue2_injectStyles$C(e){for(let t in __cssModules$C)this[t]=__cssModules$C[t]}var a17HiddenField=function(){return __component__$C.exports}(),quill_snow=(()=>`/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:#0009;content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0px}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0px;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}
`)(),quill_bubble=(()=>`/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:#0009;content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-bubble.ql-toolbar:after,.ql-bubble .ql-toolbar:after{clear:both;content:"";display:table}.ql-bubble.ql-toolbar button,.ql-bubble .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-bubble.ql-toolbar button svg,.ql-bubble .ql-toolbar button svg{float:left;height:100%}.ql-bubble.ql-toolbar button:active:hover,.ql-bubble .ql-toolbar button:active:hover{outline:none}.ql-bubble.ql-toolbar input.ql-image[type=file],.ql-bubble .ql-toolbar input.ql-image[type=file]{display:none}.ql-bubble.ql-toolbar button:hover,.ql-bubble .ql-toolbar button:hover,.ql-bubble.ql-toolbar button:focus,.ql-bubble .ql-toolbar button:focus,.ql-bubble.ql-toolbar button.ql-active,.ql-bubble .ql-toolbar button.ql-active,.ql-bubble.ql-toolbar .ql-picker-label:hover,.ql-bubble .ql-toolbar .ql-picker-label:hover,.ql-bubble.ql-toolbar .ql-picker-label.ql-active,.ql-bubble .ql-toolbar .ql-picker-label.ql-active,.ql-bubble.ql-toolbar .ql-picker-item:hover,.ql-bubble .ql-toolbar .ql-picker-item:hover,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected{color:#fff}.ql-bubble.ql-toolbar button:hover .ql-fill,.ql-bubble .ql-toolbar button:hover .ql-fill,.ql-bubble.ql-toolbar button:focus .ql-fill,.ql-bubble .ql-toolbar button:focus .ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#fff}.ql-bubble.ql-toolbar button:hover .ql-stroke,.ql-bubble .ql-toolbar button:hover .ql-stroke,.ql-bubble.ql-toolbar button:focus .ql-stroke,.ql-bubble .ql-toolbar button:focus .ql-stroke,.ql-bubble.ql-toolbar button.ql-active .ql-stroke,.ql-bubble .ql-toolbar button.ql-active .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble.ql-toolbar button:hover .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover .ql-stroke-miter,.ql-bubble.ql-toolbar button:focus .ql-stroke-miter,.ql-bubble .ql-toolbar button:focus .ql-stroke-miter,.ql-bubble.ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#fff}@media (pointer: coarse){.ql-bubble.ql-toolbar button:hover:not(.ql-active),.ql-bubble .ql-toolbar button:hover:not(.ql-active){color:#ccc}.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#ccc}.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#ccc}}.ql-bubble,.ql-bubble *{box-sizing:border-box}.ql-bubble .ql-hidden{display:none}.ql-bubble .ql-out-bottom,.ql-bubble .ql-out-top{visibility:hidden}.ql-bubble .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-bubble .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-bubble .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-bubble .ql-formats{display:inline-block;vertical-align:middle}.ql-bubble .ql-formats:after{clear:both;content:"";display:table}.ql-bubble .ql-stroke{fill:none;stroke:#ccc;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-bubble .ql-stroke-miter{fill:none;stroke:#ccc;stroke-miterlimit:10;stroke-width:2}.ql-bubble .ql-fill,.ql-bubble .ql-stroke.ql-fill{fill:#ccc}.ql-bubble .ql-empty{fill:none}.ql-bubble .ql-even{fill-rule:evenodd}.ql-bubble .ql-thin,.ql-bubble .ql-stroke.ql-thin{stroke-width:1}.ql-bubble .ql-transparent{opacity:.4}.ql-bubble .ql-direction svg:last-child{display:none}.ql-bubble .ql-direction.ql-active svg:last-child{display:inline}.ql-bubble .ql-direction.ql-active svg:first-child{display:none}.ql-bubble .ql-editor h1{font-size:2em}.ql-bubble .ql-editor h2{font-size:1.5em}.ql-bubble .ql-editor h3{font-size:1.17em}.ql-bubble .ql-editor h4{font-size:1em}.ql-bubble .ql-editor h5{font-size:.83em}.ql-bubble .ql-editor h6{font-size:.67em}.ql-bubble .ql-editor a{text-decoration:underline}.ql-bubble .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-bubble .ql-editor code,.ql-bubble .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-bubble .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-bubble .ql-editor code{font-size:85%;padding:2px 4px}.ql-bubble .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-bubble .ql-editor img{max-width:100%}.ql-bubble .ql-picker{color:#ccc;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-bubble .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-bubble .ql-picker-label:before{display:inline-block;line-height:22px}.ql-bubble .ql-picker-options{background-color:#444;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-bubble .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-bubble .ql-picker.ql-expanded .ql-picker-label{color:#777;z-index:2}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-bubble .ql-color-picker,.ql-bubble .ql-icon-picker{width:28px}.ql-bubble .ql-color-picker .ql-picker-label,.ql-bubble .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-label svg,.ql-bubble .ql-icon-picker .ql-picker-label svg{right:4px}.ql-bubble .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-bubble .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-bubble .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-bubble .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-bubble .ql-picker.ql-header{width:98px}.ql-bubble .ql-picker.ql-header .ql-picker-label:before,.ql-bubble .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-bubble .ql-picker.ql-font{width:108px}.ql-bubble .ql-picker.ql-font .ql-picker-label:before,.ql-bubble .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-bubble .ql-picker.ql-size{width:98px}.ql-bubble .ql-picker.ql-size .ql-picker-label:before,.ql-bubble .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-bubble .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-bubble .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-bubble .ql-toolbar .ql-formats{margin:8px 12px 8px 0}.ql-bubble .ql-toolbar .ql-formats:first-child{margin-left:12px}.ql-bubble .ql-color-picker svg{margin:1px}.ql-bubble .ql-color-picker .ql-picker-item.ql-selected,.ql-bubble .ql-color-picker .ql-picker-item:hover{border-color:#fff}.ql-bubble .ql-tooltip{background-color:#444;border-radius:25px;color:#fff}.ql-bubble .ql-tooltip-arrow{border-left:6px solid transparent;border-right:6px solid transparent;content:" ";display:block;left:50%;margin-left:-6px;position:absolute}.ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow{border-bottom:6px solid #444;top:-6px}.ql-bubble .ql-tooltip.ql-flip .ql-tooltip-arrow{border-top:6px solid #444;bottom:-6px}.ql-bubble .ql-tooltip.ql-editing .ql-tooltip-editor{display:block}.ql-bubble .ql-tooltip.ql-editing .ql-formats{visibility:hidden}.ql-bubble .ql-tooltip-editor{display:none}.ql-bubble .ql-tooltip-editor input[type=text]{background:transparent;border:none;color:#fff;font-size:13px;height:100%;outline:none;padding:10px 20px;position:absolute;width:100%}.ql-bubble .ql-tooltip-editor a{top:10px;position:absolute;right:20px}.ql-bubble .ql-tooltip-editor a:before{color:#ccc;content:"\\d7";font-size:16px;font-weight:700}.ql-container.ql-bubble:not(.ql-disabled) a{position:relative;white-space:nowrap}.ql-container.ql-bubble:not(.ql-disabled) a:before{background-color:#444;border-radius:15px;top:-5px;font-size:12px;color:#fff;content:attr(href);font-weight:400;overflow:hidden;padding:5px 15px;text-decoration:none;z-index:1}.ql-container.ql-bubble:not(.ql-disabled) a:after{border-top:6px solid #444;border-left:6px solid transparent;border-right:6px solid transparent;top:0;content:" ";height:0;width:0}.ql-container.ql-bubble:not(.ql-disabled) a:before,.ql-container.ql-bubble:not(.ql-disabled) a:after{left:0;margin-left:50%;position:absolute;transform:translate(-50%,-100%);transition:visibility 0s ease .2s;visibility:hidden}.ql-container.ql-bubble:not(.ql-disabled) a:hover:before,.ql-container.ql-bubble:not(.ql-disabled) a:hover:after{visibility:visible}
`)(),quill_core=(()=>`/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:#0009;content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}
`)(),quill={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,a){e.exports=a()})(typeof self!="undefined"?self:commonjsGlobal,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:l})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=109)}([function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(17),s=a(18),l=a(19),c=a(45),u=a(46),f=a(47),m=a(48),h=a(49),d=a(12),g=a(32),v=a(33),_=a(31),y=a(1),q={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:o.default,Format:s.default,Leaf:l.default,Embed:m.default,Scroll:c.default,Block:f.default,Inline:u.default,Text:h.default,Attributor:{Attribute:d.default,Class:g.default,Style:v.default,Store:_.default}};r.default=q},function(n,r,a){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var b in q)q.hasOwnProperty(b)&&(y[b]=q[b])};return function(y,q){_(y,q);function b(){this.constructor=y}y.prototype=q===null?Object.create(q):(b.prototype=q.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(y,_);function y(q){var b=this;return q="[Parchment] "+q,b=_.call(this,q)||this,b.message=q,b.name=b.constructor.name,b}return y}(Error);r.ParchmentError=s;var l={},c={},u={},f={};r.DATA_KEY="__blot";var m;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function h(_,y){var q=g(_);if(q==null)throw new s("Unable to create "+_+" blot");var b=q,x=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:b.create(y);return new b(x,y)}r.create=h;function d(_,y){return y===void 0&&(y=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:y?d(_.parentNode,y):null}r.find=d;function g(_,y){y===void 0&&(y=m.ANY);var q;if(typeof _=="string")q=f[_]||l[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)q=f.text;else if(typeof _=="number")_&m.LEVEL&m.BLOCK?q=f.block:_&m.LEVEL&m.INLINE&&(q=f.inline);else if(_ instanceof HTMLElement){var b=(_.getAttribute("class")||"").split(/\s+/);for(var x in b)if(q=c[b[x]],q)break;q=q||u[_.tagName]}return q==null?null:y&m.LEVEL&q.scope&&y&m.TYPE&q.scope?q:null}r.query=g;function v(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];if(_.length>1)return _.map(function(x){return v(x)});var q=_[0];if(typeof q.blotName!="string"&&typeof q.attrName!="string")throw new s("Invalid definition");if(q.blotName==="abstract")throw new s("Cannot register abstract class");if(f[q.blotName||q.attrName]=q,typeof q.keyName=="string")l[q.keyName]=q;else if(q.className!=null&&(c[q.className]=q),q.tagName!=null){Array.isArray(q.tagName)?q.tagName=q.tagName.map(function(x){return x.toUpperCase()}):q.tagName=q.tagName.toUpperCase();var b=Array.isArray(q.tagName)?q.tagName:[q.tagName];b.forEach(function(x){(u[x]==null||q.className==null)&&(u[x]=q)})}return q}r.register=v},function(n,r,a){var o=a(51),s=a(11),l=a(3),c=a(20),u=String.fromCharCode(0),f=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};f.prototype.insert=function(m,h){var d={};return m.length===0?this:(d.insert=m,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d))},f.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},f.prototype.retain=function(m,h){if(m<=0)return this;var d={retain:m};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d)},f.prototype.push=function(m){var h=this.ops.length,d=this.ops[h-1];if(m=l(!0,{},m),typeof d=="object"){if(typeof m.delete=="number"&&typeof d.delete=="number")return this.ops[h-1]={delete:d.delete+m.delete},this;if(typeof d.delete=="number"&&m.insert!=null&&(h-=1,d=this.ops[h-1],typeof d!="object"))return this.ops.unshift(m),this;if(s(m.attributes,d.attributes)){if(typeof m.insert=="string"&&typeof d.insert=="string")return this.ops[h-1]={insert:d.insert+m.insert},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof d.retain=="number")return this.ops[h-1]={retain:d.retain+m.retain},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this}}return h===this.ops.length?this.ops.push(m):this.ops.splice(h,0,m),this},f.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},f.prototype.filter=function(m){return this.ops.filter(m)},f.prototype.forEach=function(m){this.ops.forEach(m)},f.prototype.map=function(m){return this.ops.map(m)},f.prototype.partition=function(m){var h=[],d=[];return this.forEach(function(g){var v=m(g)?h:d;v.push(g)}),[h,d]},f.prototype.reduce=function(m,h){return this.ops.reduce(m,h)},f.prototype.changeLength=function(){return this.reduce(function(m,h){return h.insert?m+c.length(h):h.delete?m-h.delete:m},0)},f.prototype.length=function(){return this.reduce(function(m,h){return m+c.length(h)},0)},f.prototype.slice=function(m,h){m=m||0,typeof h!="number"&&(h=1/0);for(var d=[],g=c.iterator(this.ops),v=0;v<h&&g.hasNext();){var _;v<m?_=g.next(m-v):(_=g.next(h-v),d.push(_)),v+=c.length(_)}return new f(d)},f.prototype.compose=function(m){var h=c.iterator(this.ops),d=c.iterator(m.ops),g=[],v=d.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var _=v.retain;h.peekType()==="insert"&&h.peekLength()<=_;)_-=h.peekLength(),g.push(h.next());v.retain-_>0&&d.next(v.retain-_)}for(var y=new f(g);h.hasNext()||d.hasNext();)if(d.peekType()==="insert")y.push(d.next());else if(h.peekType()==="delete")y.push(h.next());else{var q=Math.min(h.peekLength(),d.peekLength()),b=h.next(q),x=d.next(q);if(typeof x.retain=="number"){var E={};typeof b.retain=="number"?E.retain=q:E.insert=b.insert;var T=c.attributes.compose(b.attributes,x.attributes,typeof b.retain=="number");if(T&&(E.attributes=T),y.push(E),!d.hasNext()&&s(y.ops[y.ops.length-1],E)){var k=new f(h.rest());return y.concat(k).chop()}}else typeof x.delete=="number"&&typeof b.retain=="number"&&y.push(x)}return y.chop()},f.prototype.concat=function(m){var h=new f(this.ops.slice());return m.ops.length>0&&(h.push(m.ops[0]),h.ops=h.ops.concat(m.ops.slice(1))),h},f.prototype.diff=function(m,h){if(this.ops===m.ops)return new f;var d=[this,m].map(function(q){return q.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var x=q===m?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),g=new f,v=o(d[0],d[1],h),_=c.iterator(this.ops),y=c.iterator(m.ops);return v.forEach(function(q){for(var b=q[1].length;b>0;){var x=0;switch(q[0]){case o.INSERT:x=Math.min(y.peekLength(),b),g.push(y.next(x));break;case o.DELETE:x=Math.min(b,_.peekLength()),_.next(x),g.delete(x);break;case o.EQUAL:x=Math.min(_.peekLength(),y.peekLength(),b);var E=_.next(x),T=y.next(x);s(E.insert,T.insert)?g.retain(x,c.attributes.diff(E.attributes,T.attributes)):g.push(T).delete(x);break}b-=x}}),g.chop()},f.prototype.eachLine=function(m,h){h=h||`
`;for(var d=c.iterator(this.ops),g=new f,v=0;d.hasNext();){if(d.peekType()!=="insert")return;var _=d.peek(),y=c.length(_)-d.peekLength(),q=typeof _.insert=="string"?_.insert.indexOf(h,y)-y:-1;if(q<0)g.push(d.next());else if(q>0)g.push(d.next(q));else{if(m(g,d.next(1).attributes||{},v)===!1)return;v+=1,g=new f}}g.length()>0&&m(g,{},v)},f.prototype.transform=function(m,h){if(h=!!h,typeof m=="number")return this.transformPosition(m,h);for(var d=c.iterator(this.ops),g=c.iterator(m.ops),v=new f;d.hasNext()||g.hasNext();)if(d.peekType()==="insert"&&(h||g.peekType()!=="insert"))v.retain(c.length(d.next()));else if(g.peekType()==="insert")v.push(g.next());else{var _=Math.min(d.peekLength(),g.peekLength()),y=d.next(_),q=g.next(_);if(y.delete)continue;q.delete?v.push(q):v.retain(_,c.attributes.transform(y.attributes,q.attributes,h))}return v.chop()},f.prototype.transformPosition=function(m,h){h=!!h;for(var d=c.iterator(this.ops),g=0;d.hasNext()&&g<=m;){var v=d.peekLength(),_=d.peekType();if(d.next(),_==="delete"){m-=Math.min(v,m-g);continue}else _==="insert"&&(g<m||!h)&&(m+=v);g+=v}return m},n.exports=f},function(n,r){var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var g=a.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&a.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!v)return!1;var _;for(_ in d);return typeof _=="undefined"||a.call(d,_)},f=function(d,g){s&&g.name==="__proto__"?s(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},m=function(d,g){if(g==="__proto__")if(a.call(d,g)){if(l)return l(d,g).value}else return;return d[g]};n.exports=function h(){var d,g,v,_,y,q,b=arguments[0],x=1,E=arguments.length,T=!1;for(typeof b=="boolean"&&(T=b,b=arguments[1]||{},x=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});x<E;++x)if(d=arguments[x],d!=null)for(g in d)v=m(b,g),_=m(d,g),b!==_&&(T&&_&&(u(_)||(y=c(_)))?(y?(y=!1,q=v&&c(v)?v:[]):q=v&&u(v)?v:{},f(b,{name:g,newValue:h(T,q,_)})):typeof _!="undefined"&&f(b,{name:g,newValue:_}));return b}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function C(I,O){for(var D=0;D<O.length;D++){var R=O[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,O,D){return O&&C(I.prototype,O),D&&C(I,D),I}}(),s=function C(I,O,D){I===null&&(I=Function.prototype);var R=Object.getOwnPropertyDescriptor(I,O);if(R===void 0){var w=Object.getPrototypeOf(I);return w===null?void 0:C(w,O,D)}else{if("value"in R)return R.value;var B=R.get;return B===void 0?void 0:B.call(D)}},l=a(3),c=b(l),u=a(2),f=b(u),m=a(0),h=b(m),d=a(16),g=b(d),v=a(6),_=b(v),y=a(7),q=b(y);function b(C){return C&&C.__esModule?C:{default:C}}function x(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function E(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function T(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var k=1,A=function(C){T(I,C);function I(){return x(this,I),E(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"attach",value:function(){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,R){var w=h.default.query(D,h.default.Scope.BLOCK_ATTRIBUTE);w!=null&&this.attributes.attribute(w,R)}},{key:"formatAt",value:function(D,R,w,B){this.format(w,B)}},{key:"insertAt",value:function(D,R,w){if(typeof R=="string"&&R.endsWith(`
`)){var B=h.default.create(M.blotName);this.parent.insertBefore(B,D===0?this:this.next),B.insertAt(0,R.slice(0,-1))}else s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,D,R,w)}}]),I}(h.default.Embed);A.scope=h.default.Scope.BLOCK_BLOT;var M=function(C){T(I,C);function I(O){x(this,I);var D=E(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O));return D.cache={},D}return o(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(D,R){return R.length()===0?D:D.insert(R.value(),S(R))},new f.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(D,R){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,D,R),this.cache={}}},{key:"formatAt",value:function(D,R,w,B){R<=0||(h.default.query(w,h.default.Scope.BLOCK)?D+R===this.length()&&this.format(w,B):s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,D,Math.min(R,this.length()-D-1),w,B),this.cache={})}},{key:"insertAt",value:function(D,R,w){if(w!=null)return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,D,R,w);if(R.length!==0){var B=R.split(`
`),G=B.shift();G.length>0&&(D<this.length()-1||this.children.tail==null?s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var U=this;B.reduce(function($,P){return U=U.split($,!0),U.insertAt(0,P),P.length},D+G.length)}}},{key:"insertBefore",value:function(D,R){var w=this.children.head;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,D,R),w instanceof g.default&&w.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(D,R){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,D,R),this.cache={}}},{key:"optimize",value:function(D){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R&&(D===0||D>=this.length()-k)){var w=this.clone();return D===0?(this.parent.insertBefore(w,this),this):(this.parent.insertBefore(w,this.next),w)}else{var B=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,D,R);return this.cache={},B}}}]),I}(h.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[_.default,h.default.Embed,q.default];function S(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C==null||(typeof C.formats=="function"&&(I=(0,c.default)(I,C.formats())),C.parent==null||C.parent.blotName=="scroll"||C.parent.statics.scope!==C.statics.scope)?I:S(C.parent,I)}r.bubbleFormats=S,r.BlockEmbed=A,r.default=M},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U($,P){var F=[],N=!0,z=!1,V=void 0;try{for(var L=$[Symbol.iterator](),j;!(N=(j=L.next()).done)&&(F.push(j.value),!(P&&F.length===P));N=!0);}catch(J){z=!0,V=J}finally{try{!N&&L.return&&L.return()}finally{if(z)throw V}}return F}return function($,P){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return U($,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function U($,P){for(var F=0;F<P.length;F++){var N=P[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty($,N.key,N)}}return function($,P,F){return P&&U($.prototype,P),F&&U($,F),$}}();a(50);var c=a(2),u=S(c),f=a(14),m=S(f),h=a(8),d=S(h),g=a(9),v=S(g),_=a(0),y=S(_),q=a(15),b=S(q),x=a(3),E=S(x),T=a(10),k=S(T),A=a(34),M=S(A);function S(U){return U&&U.__esModule?U:{default:U}}function C(U,$,P){return $ in U?Object.defineProperty(U,$,{value:P,enumerable:!0,configurable:!0,writable:!0}):U[$]=P,U}function I(U,$){if(!(U instanceof $))throw new TypeError("Cannot call a class as a function")}var O=(0,k.default)("quill"),D=function(){l(U,null,[{key:"debug",value:function(P){P===!0&&(P="log"),k.default.level(P)}},{key:"find",value:function(P){return P.__quill||y.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&O.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,F){var N=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var V=P.attrName||P.blotName;typeof V=="string"?this.register("formats/"+V,P,F):Object.keys(P).forEach(function(L){N.register(L,P[L],F)})}else this.imports[P]!=null&&!z&&O.warn("Overwriting "+P+" with",F),this.imports[P]=F,(P.startsWith("blots/")||P.startsWith("formats/"))&&F.blotName!=="abstract"?y.default.register(F):P.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function U($){var P=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,U),this.options=R($,F),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",$);this.options.debug&&U.debug(this.options.debug);var N=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(V){V===d.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(V,L){var j=P.selection.lastRange,J=j&&j.length===0?j.index:void 0;w.call(P,function(){return P.editor.update(null,L,J)},V)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+N+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(U,[{key:"addContainer",value:function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var N=P;P=document.createElement("div"),P.classList.add(N)}return this.container.insertBefore(P,F),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,F,N){var z=this,V=B(P,F,N),L=s(V,4);return P=L[0],F=L[1],N=L[3],w.call(this,function(){return z.editor.deleteText(P,F)},N,P,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,F){var N=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return w.call(this,function(){var V=N.getSelection(!0),L=new u.default;if(V==null)return L;if(y.default.query(P,y.default.Scope.BLOCK))L=N.editor.formatLine(V.index,V.length,C({},P,F));else{if(V.length===0)return N.selection.format(P,F),L;L=N.editor.formatText(V.index,V.length,C({},P,F))}return N.setSelection(V,d.default.sources.SILENT),L},z)}},{key:"formatLine",value:function(P,F,N,z,V){var L=this,j=void 0,J=B(P,F,N,z,V),Q=s(J,4);return P=Q[0],F=Q[1],j=Q[2],V=Q[3],w.call(this,function(){return L.editor.formatLine(P,F,j)},V,P,0)}},{key:"formatText",value:function(P,F,N,z,V){var L=this,j=void 0,J=B(P,F,N,z,V),Q=s(J,4);return P=Q[0],F=Q[1],j=Q[2],V=Q[3],w.call(this,function(){return L.editor.formatText(P,F,j)},V,P,0)}},{key:"getBounds",value:function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=void 0;typeof P=="number"?N=this.selection.getBounds(P,F):N=this.selection.getBounds(P.index,P.length);var z=this.container.getBoundingClientRect();return{bottom:N.bottom-z.top,height:N.height,left:N.left-z.left,right:N.right-z.left,top:N.top-z.top,width:N.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,N=B(P,F),z=s(N,2);return P=z[0],F=z[1],this.editor.getContents(P,F)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,F):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,F)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,N=B(P,F),z=s(N,2);return P=z[0],F=z[1],this.editor.getText(P,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,F,N){var z=this,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return w.call(this,function(){return z.editor.insertEmbed(P,F,N)},V,P)}},{key:"insertText",value:function(P,F,N,z,V){var L=this,j=void 0,J=B(P,0,N,z,V),Q=s(J,4);return P=Q[0],j=Q[2],V=Q[3],w.call(this,function(){return L.editor.insertText(P,F,j)},V,P,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,F,N){this.clipboard.dangerouslyPasteHTML(P,F,N)}},{key:"removeFormat",value:function(P,F,N){var z=this,V=B(P,F,N),L=s(V,4);return P=L[0],F=L[1],N=L[3],w.call(this,function(){return z.editor.removeFormat(P,F)},N,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var F=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return w.call(this,function(){P=new u.default(P);var z=F.getLength(),V=F.editor.deleteText(0,z),L=F.editor.applyDelta(P),j=L.ops[L.ops.length-1];j!=null&&typeof j.insert=="string"&&j.insert[j.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),L.delete(1));var J=V.compose(L);return J},N)}},{key:"setSelection",value:function(P,F,N){if(P==null)this.selection.setRange(null,F||U.sources.API);else{var z=B(P,F,N),V=s(z,4);P=V[0],F=V[1],N=V[3],this.selection.setRange(new q.Range(P,F),N),N!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,N=new u.default().insert(P);return this.setContents(N,F)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,F=this.scroll.update(P);return this.selection.update(P),F}},{key:"updateContents",value:function(P){var F=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return w.call(this,function(){return P=new u.default(P),F.editor.applyDelta(P,N)},N,!0)}}]),U}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=d.default.events,D.sources=d.default.sources,D.version="1.3.7",D.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":M.default};function R(U,$){if($=(0,E.default)(!0,{container:U,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===D.DEFAULTS.theme)$.theme=M.default;else if($.theme=D.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var P=(0,E.default)(!0,{},$.theme.DEFAULTS);[P,$].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(V){z.modules[V]===!0&&(z.modules[V]={})})});var F=Object.keys(P.modules).concat(Object.keys($.modules)),N=F.reduce(function(z,V){var L=D.import("modules/"+V);return L==null?O.error("Cannot load "+V+" module. Are you sure you registered it?"):z[V]=L.DEFAULTS||{},z},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,E.default)(!0,{},D.DEFAULTS,{modules:N},P,$),["bounds","container","scrollingContainer"].forEach(function(z){typeof $[z]=="string"&&($[z]=document.querySelector($[z]))}),$.modules=Object.keys($.modules).reduce(function(z,V){return $.modules[V]&&(z[V]=$.modules[V]),z},{}),$}function w(U,$,P,F){if(this.options.strict&&!this.isEnabled()&&$===d.default.sources.USER)return new u.default;var N=P==null?null:this.getSelection(),z=this.editor.delta,V=U();if(N!=null&&(P===!0&&(P=N.index),F==null?N=G(N,V,$):F!==0&&(N=G(N,P,F,$)),this.setSelection(N,d.default.sources.SILENT)),V.length()>0){var L,j=[d.default.events.TEXT_CHANGE,V,z,$];if((L=this.emitter).emit.apply(L,[d.default.events.EDITOR_CHANGE].concat(j)),$!==d.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,j)}}return V}function B(U,$,P,F,N){var z={};return typeof U.index=="number"&&typeof U.length=="number"?typeof $!="number"?(N=F,F=P,P=$,$=U.length,U=U.index):($=U.length,U=U.index):typeof $!="number"&&(N=F,F=P,P=$,$=0),(typeof P=="undefined"?"undefined":o(P))==="object"?(z=P,N=F):typeof P=="string"&&(F!=null?z[P]=F:N=P),N=N||d.default.sources.API,[U,$,z,N]}function G(U,$,P,F){if(U==null)return null;var N=void 0,z=void 0;if($ instanceof u.default){var V=[U.index,U.index+U.length].map(function(Q){return $.transformPosition(Q,F!==d.default.sources.USER)}),L=s(V,2);N=L[0],z=L[1]}else{var j=[U.index,U.index+U.length].map(function(Q){return Q<$||Q===$&&F===d.default.sources.USER?Q:P>=0?Q+P:Math.max($,Q+P)}),J=s(j,2);N=J[0],z=J[1]}return new q.Range(N,z-N)}r.expandConfig=R,r.overload=B,r.default=D},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,q){for(var b=0;b<q.length;b++){var x=q[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,q,b){return q&&_(y.prototype,q),b&&_(y,b),y}}(),s=function _(y,q,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,q);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:_(E,q,b)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(b)}},l=a(7),c=m(l),u=a(0),f=m(u);function m(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function d(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function g(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var v=function(_){g(y,_);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"formatAt",value:function(b,x,E,T){if(y.compare(this.statics.blotName,E)<0&&f.default.query(E,f.default.Scope.BLOT)){var k=this.isolate(b,x);T&&k.wrap(E,T)}else s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,b,x,E,T)}},{key:"optimize",value:function(b){if(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(b,x){var E=y.order.indexOf(b),T=y.order.indexOf(x);return E>=0||T>=0?E-T:b===x?0:b<x?-1:1}}]),y}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(0),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function f(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var m=function(h){f(d,h);function d(){return c(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function q(b,x){for(var E=0;E<x.length;E++){var T=x[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,E){return x&&q(b.prototype,x),E&&q(b,E),b}}(),s=function q(b,x,E){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,x);if(T===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:q(k,x,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},l=a(54),c=m(l),u=a(10),f=m(u);function m(q){return q&&q.__esModule?q:{default:q}}function h(q,b){if(!(q instanceof b))throw new TypeError("Cannot call a class as a function")}function d(q,b){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:q}function g(q,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);q.prototype=Object.create(b&&b.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(q,b):q.__proto__=b)}var v=(0,f.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(q){document.addEventListener(q,function(){for(var b=arguments.length,x=Array(b),E=0;E<b;E++)x[E]=arguments[E];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var k;(k=T.__quill.emitter).handleDOM.apply(k,x)}})})});var y=function(q){g(b,q);function b(){h(this,b);var x=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return x.listeners={},x.on("error",v.error),x}return o(b,[{key:"emit",value:function(){v.log.apply(v,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(E){for(var T=arguments.length,k=Array(T>1?T-1:0),A=1;A<T;A++)k[A-1]=arguments[A];(this.listeners[E.type]||[]).forEach(function(M){var S=M.node,C=M.handler;(E.target===S||S.contains(E.target))&&C.apply(void 0,[E].concat(k))})}},{key:"listenDOM",value:function(E,T,k){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push({node:T,handler:k})}}]),b}(c.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},r.default=y},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,l),this.quill=c,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function l(u){if(o.indexOf(u)<=o.indexOf(s)){for(var f,m=arguments.length,h=Array(m>1?m-1:0),d=1;d<m;d++)h[d-1]=arguments[d];(f=console)[u].apply(f,h)}}function c(u){return o.reduce(function(f,m){return f[m]=l.bind(console,m,u),f},{})}l.level=c.level=function(u){s=u},r.default=c},function(n,r,a){var o=Array.prototype.slice,s=a(52),l=a(53),c=n.exports=function(h,d,g){return g||(g={}),h===d?!0:h instanceof Date&&d instanceof Date?h.getTime()===d.getTime():!h||!d||typeof h!="object"&&typeof d!="object"?g.strict?h===d:h==d:m(h,d,g)};function u(h){return h==null}function f(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function m(h,d,g){var v,_;if(u(h)||u(d)||h.prototype!==d.prototype)return!1;if(l(h))return l(d)?(h=o.call(h),d=o.call(d),c(h,d,g)):!1;if(f(h)){if(!f(d)||h.length!==d.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==d[v])return!1;return!0}try{var y=s(h),q=s(d)}catch{return!1}if(y.length!=q.length)return!1;for(y.sort(),q.sort(),v=y.length-1;v>=0;v--)if(y[v]!=q[v])return!1;for(v=y.length-1;v>=0;v--)if(_=y[v],!c(h[_],d[_],g))return!1;return typeof h==typeof d}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),s=function(){function l(c,u,f){f===void 0&&(f={}),this.attrName=c,this.keyName=u;var m=o.Scope.TYPE&o.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&o.Scope.LEVEL|m:this.scope=o.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var f=o.query(c,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function A(M,S){var C=[],I=!0,O=!1,D=void 0;try{for(var R=M[Symbol.iterator](),w;!(I=(w=R.next()).done)&&(C.push(w.value),!(S&&C.length===S));I=!0);}catch(B){O=!0,D=B}finally{try{!I&&R.return&&R.return()}finally{if(O)throw D}}return C}return function(M,S){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return A(M,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(M,S){for(var C=0;C<S.length;C++){var I=S[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}return function(M,S,C){return S&&A(M.prototype,S),C&&A(M,C),M}}(),l=function A(M,S,C){M===null&&(M=Function.prototype);var I=Object.getOwnPropertyDescriptor(M,S);if(I===void 0){var O=Object.getPrototypeOf(M);return O===null?void 0:A(O,S,C)}else{if("value"in I)return I.value;var D=I.get;return D===void 0?void 0:D.call(C)}},c=a(2),u=q(c),f=a(0),m=q(f),h=a(4),d=q(h),g=a(6),v=q(g),_=a(7),y=q(_);function q(A){return A&&A.__esModule?A:{default:A}}function b(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function x(A,M){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:A}function E(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(A,M):A.__proto__=M)}var T=function(A){E(M,A);function M(){return b(this,M),x(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(v.default);T.blotName="code",T.tagName="CODE";var k=function(A){E(M,A);function M(){return b(this,M),x(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return s(M,[{key:"delta",value:function(){var C=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(O,D){return O.insert(D).insert(`
`,C.formats())},new u.default)}},{key:"format",value:function(C,I){if(!(C===this.statics.blotName&&I)){var O=this.descendant(y.default,this.length()-1),D=o(O,1),R=D[0];R!=null&&R.deleteAt(R.length()-1,1),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,C,I)}}},{key:"formatAt",value:function(C,I,O,D){if(I!==0&&!(m.default.query(O,m.default.Scope.BLOCK)==null||O===this.statics.blotName&&D===this.statics.formats(this.domNode))){var R=this.newlineIndex(C);if(!(R<0||R>=C+I)){var w=this.newlineIndex(C,!0)+1,B=R-w+1,G=this.isolate(w,B),U=G.next;G.format(O,D),U instanceof M&&U.formatAt(0,C-w+I-B,O,D)}}}},{key:"insertAt",value:function(C,I,O){if(O==null){var D=this.descendant(y.default,C),R=o(D,2),w=R[0],B=R[1];w.insertAt(B,I)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var O=this.domNode.textContent.slice(C).indexOf(`
`);return O>-1?C+O:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,C);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(C),I.moveChildren(this),I.remove())}},{key:"replace",value:function(C){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var O=m.default.find(I);O==null?I.parentNode.removeChild(I):O instanceof m.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(C){var I=l(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,C);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),M}(d.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",r.Code=T,r.default=k},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U($,P){var F=[],N=!0,z=!1,V=void 0;try{for(var L=$[Symbol.iterator](),j;!(N=(j=L.next()).done)&&(F.push(j.value),!(P&&F.length===P));N=!0);}catch(J){z=!0,V=J}finally{try{!N&&L.return&&L.return()}finally{if(z)throw V}}return F}return function($,P){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return U($,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function U($,P){for(var F=0;F<P.length;F++){var N=P[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty($,N.key,N)}}return function($,P,F){return P&&U($.prototype,P),F&&U($,F),$}}(),c=a(2),u=I(c),f=a(20),m=I(f),h=a(0),d=I(h),g=a(13),v=I(g),_=a(24),y=I(_),q=a(4),b=I(q),x=a(16),E=I(x),T=a(21),k=I(T),A=a(11),M=I(A),S=a(3),C=I(S);function I(U){return U&&U.__esModule?U:{default:U}}function O(U,$,P){return $ in U?Object.defineProperty(U,$,{value:P,enumerable:!0,configurable:!0,writable:!0}):U[$]=P,U}function D(U,$){if(!(U instanceof $))throw new TypeError("Cannot call a class as a function")}var R=/^[ -~]*$/,w=function(){function U($){D(this,U),this.scroll=$,this.delta=this.getDelta()}return l(U,[{key:"applyDelta",value:function(P){var F=this,N=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),P=G(P),P.reduce(function(V,L){var j=L.retain||L.delete||L.insert.length||1,J=L.attributes||{};if(L.insert!=null){if(typeof L.insert=="string"){var Q=L.insert;Q.endsWith(`
`)&&N&&(N=!1,Q=Q.slice(0,-1)),V>=z&&!Q.endsWith(`
`)&&(N=!0),F.scroll.insertAt(V,Q);var re=F.scroll.line(V),ce=s(re,2),ge=ce[0],H=ce[1],Y=(0,C.default)({},(0,q.bubbleFormats)(ge));if(ge instanceof b.default){var W=ge.descendant(d.default.Leaf,H),ae=s(W,1),se=ae[0];Y=(0,C.default)(Y,(0,q.bubbleFormats)(se))}J=m.default.attributes.diff(Y,J)||{}}else if(o(L.insert)==="object"){var X=Object.keys(L.insert)[0];if(X==null)return V;F.scroll.insertAt(V,X,L.insert[X])}z+=j}return Object.keys(J).forEach(function(ee){F.scroll.formatAt(V,j,ee,J[ee])}),V+j},0),P.reduce(function(V,L){return typeof L.delete=="number"?(F.scroll.deleteAt(V,L.delete),V):V+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,F){return this.scroll.deleteAt(P,F),this.update(new u.default().retain(P).delete(F))}},{key:"formatLine",value:function(P,F){var N=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(V){if(!(N.scroll.whitelist!=null&&!N.scroll.whitelist[V])){var L=N.scroll.lines(P,Math.max(F,1)),j=F;L.forEach(function(J){var Q=J.length();if(!(J instanceof v.default))J.format(V,z[V]);else{var re=P-J.offset(N.scroll),ce=J.newlineIndex(re+j)-re+1;J.formatAt(re,ce,V,z[V])}j-=Q})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain(F,(0,k.default)(z)))}},{key:"formatText",value:function(P,F){var N=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(V){N.scroll.formatAt(P,F,V,z[V])}),this.update(new u.default().retain(P).retain(F,(0,k.default)(z)))}},{key:"getContents",value:function(P,F){return this.delta.slice(P,P+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,F){return P.concat(F.delta())},new u.default)}},{key:"getFormat",value:function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=[],z=[];F===0?this.scroll.path(P).forEach(function(L){var j=s(L,1),J=j[0];J instanceof b.default?N.push(J):J instanceof d.default.Leaf&&z.push(J)}):(N=this.scroll.lines(P,F),z=this.scroll.descendants(d.default.Leaf,P,F));var V=[N,z].map(function(L){if(L.length===0)return{};for(var j=(0,q.bubbleFormats)(L.shift());Object.keys(j).length>0;){var J=L.shift();if(J==null)return j;j=B((0,q.bubbleFormats)(J),j)}return j});return C.default.apply(C.default,V)}},{key:"getText",value:function(P,F){return this.getContents(P,F).filter(function(N){return typeof N.insert=="string"}).map(function(N){return N.insert}).join("")}},{key:"insertEmbed",value:function(P,F,N){return this.scroll.insertAt(P,F,N),this.update(new u.default().retain(P).insert(O({},F,N)))}},{key:"insertText",value:function(P,F){var N=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,F),Object.keys(z).forEach(function(V){N.scroll.formatAt(P,F.length,V,z[V])}),this.update(new u.default().retain(P).insert(F,(0,k.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==b.default.blotName||P.children.length>1?!1:P.children.head instanceof E.default}},{key:"removeFormat",value:function(P,F){var N=this.getText(P,F),z=this.scroll.line(P+F),V=s(z,2),L=V[0],j=V[1],J=0,Q=new u.default;L!=null&&(L instanceof v.default?J=L.newlineIndex(j)-j+1:J=L.length()-j,Q=L.delta().slice(j,j+J-1).insert(`
`));var re=this.getContents(P,F+J),ce=re.diff(new u.default().insert(N).concat(Q)),ge=new u.default().retain(P).concat(ce);return this.applyDelta(ge)}},{key:"update",value:function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(R)&&d.default.find(F[0].target)){var V=d.default.find(F[0].target),L=(0,q.bubbleFormats)(V),j=V.offset(this.scroll),J=F[0].oldValue.replace(y.default.CONTENTS,""),Q=new u.default().insert(J),re=new u.default().insert(V.value()),ce=new u.default().retain(j).concat(Q.diff(re,N));P=ce.reduce(function(ge,H){return H.insert?ge.insert(H.insert,L):ge.push(H)},new u.default),this.delta=z.compose(P)}else this.delta=this.getDelta(),(!P||!(0,M.default)(z.compose(P),this.delta))&&(P=z.diff(this.delta,N));return P}}]),U}();function B(U,$){return Object.keys($).reduce(function(P,F){return U[F]==null||($[F]===U[F]?P[F]=$[F]:Array.isArray($[F])?$[F].indexOf(U[F])<0&&(P[F]=$[F].concat([U[F]])):P[F]=[$[F],U[F]]),P},{})}function G(U){return U.reduce(function($,P){if(P.insert===1){var F=(0,k.default)(P.attributes);return delete F.image,$.insert({image:P.attributes.image},F)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,k.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var N=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(N,P.attributes)}return $.push(P)},new u.default)}r.default=w},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function A(M,S){var C=[],I=!0,O=!1,D=void 0;try{for(var R=M[Symbol.iterator](),w;!(I=(w=R.next()).done)&&(C.push(w.value),!(S&&C.length===S));I=!0);}catch(B){O=!0,D=B}finally{try{!I&&R.return&&R.return()}finally{if(O)throw D}}return C}return function(M,S){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return A(M,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(M,S){for(var C=0;C<S.length;C++){var I=S[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}return function(M,S,C){return S&&A(M.prototype,S),C&&A(M,C),M}}(),l=a(0),c=y(l),u=a(21),f=y(u),m=a(11),h=y(m),d=a(8),g=y(d),v=a(10),_=y(v);function y(A){return A&&A.__esModule?A:{default:A}}function q(A){if(Array.isArray(A)){for(var M=0,S=Array(A.length);M<A.length;M++)S[M]=A[M];return S}else return Array.from(A)}function b(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}var x=(0,_.default)("quill:selection"),E=function A(M){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,A),this.index=M,this.length=S},T=function(){function A(M,S){var C=this;b(this,A),this.emitter=S,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new E(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(I,O){I===g.default.events.TEXT_CHANGE&&O.length()>0&&C.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!C.hasFocus()){var I=C.getNativeRange();I!=null&&I.start.node!==C.cursor.textNode&&C.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(I,O){if(O.range){var D=O.range,R=D.startNode,w=D.startOffset,B=D.endNode,G=D.endOffset;C.setNativeRange(R,w,B,G)}}),this.update(g.default.sources.SILENT)}return s(A,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var C=S.cursor.restore();if(!C)return;setTimeout(function(){S.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||c.default.query(S,c.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var O=c.default.find(I.start.node,!1);if(O==null)return;if(O instanceof c.default.Leaf){var D=O.split(I.start.offset);O.parent.insertBefore(this.cursor,D)}else O.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(S,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();S=Math.min(S,I-1),C=Math.min(S+C,I-1)-S;var O=void 0,D=this.scroll.leaf(S),R=o(D,2),w=R[0],B=R[1];if(w==null)return null;var G=w.position(B,!0),U=o(G,2);O=U[0],B=U[1];var $=document.createRange();if(C>0){$.setStart(O,B);var P=this.scroll.leaf(S+C),F=o(P,2);if(w=F[0],B=F[1],w==null)return null;var N=w.position(B,!0),z=o(N,2);return O=z[0],B=z[1],$.setEnd(O,B),$.getBoundingClientRect()}else{var V="left",L=void 0;return O instanceof Text?(B<O.data.length?($.setStart(O,B),$.setEnd(O,B+1)):($.setStart(O,B-1),$.setEnd(O,B),V="right"),L=$.getBoundingClientRect()):(L=w.domNode.getBoundingClientRect(),B>0&&(V="right")),{bottom:L.top+L.height,height:L.height,left:L[V],right:L[V],top:L.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var C=S.getRangeAt(0);if(C==null)return null;var I=this.normalizeNative(C);return x.info("getNativeRange",I),I}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var C=this.normalizedToRange(S);return[C,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var C=this,I=[[S.start.node,S.start.offset]];S.native.collapsed||I.push([S.end.node,S.end.offset]);var O=I.map(function(w){var B=o(w,2),G=B[0],U=B[1],$=c.default.find(G,!0),P=$.offset(C.scroll);return U===0?P:$ instanceof c.default.Container?P+$.length():P+$.index(G,U)}),D=Math.min(Math.max.apply(Math,q(O)),this.scroll.length()-1),R=Math.min.apply(Math,[D].concat(q(O)));return new E(R,D-R)}},{key:"normalizeNative",value:function(S){if(!k(this.root,S.startContainer)||!S.collapsed&&!k(this.root,S.endContainer))return null;var C={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[C.start,C.end].forEach(function(I){for(var O=I.node,D=I.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>D)O=O.childNodes[D],D=0;else if(O.childNodes.length===D)O=O.lastChild,D=O instanceof Text?O.data.length:O.childNodes.length+1;else break;I.node=O,I.offset=D}),C}},{key:"rangeToNative",value:function(S){var C=this,I=S.collapsed?[S.index]:[S.index,S.index+S.length],O=[],D=this.scroll.length();return I.forEach(function(R,w){R=Math.min(D-1,R);var B=void 0,G=C.scroll.leaf(R),U=o(G,2),$=U[0],P=U[1],F=$.position(P,w!==0),N=o(F,2);B=N[0],P=N[1],O.push(B,P)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(S){var C=this.lastRange;if(C!=null){var I=this.getBounds(C.index,C.length);if(I!=null){var O=this.scroll.length()-1,D=this.scroll.line(Math.min(C.index,O)),R=o(D,1),w=R[0],B=w;if(C.length>0){var G=this.scroll.line(Math.min(C.index+C.length,O)),U=o(G,1);B=U[0]}if(!(w==null||B==null)){var $=S.getBoundingClientRect();I.top<$.top?S.scrollTop-=$.top-I.top:I.bottom>$.bottom&&(S.scrollTop+=I.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(S,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",S,C,I,O),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||I.parentNode==null))){var R=document.getSelection();if(R!=null)if(S!=null){this.hasFocus()||this.root.focus();var w=(this.getNativeRange()||{}).native;if(w==null||D||S!==w.startContainer||C!==w.startOffset||I!==w.endContainer||O!==w.endOffset){S.tagName=="BR"&&(C=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),I.tagName=="BR"&&(O=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var B=document.createRange();B.setStart(S,C),B.setEnd(I,O),R.removeAllRanges(),R.addRange(B)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof C=="string"&&(I=C,C=!1),x.info("setRange",S),S!=null){var O=this.rangeToNative(S);this.setNativeRange.apply(this,q(O).concat([C]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,C=this.lastRange,I=this.getRange(),O=o(I,2),D=O[0],R=O[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(C,this.lastRange)){var w;!this.composing&&R!=null&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(C),S];if((w=this.emitter).emit.apply(w,[g.default.events.EDITOR_CHANGE].concat(B)),S!==g.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,B)}}}}]),A}();function k(A,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),A.contains(M)}r.Range=E,r.default=T},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,_){for(var y=0;y<_.length;y++){var q=_[y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(v,q.key,q)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),s=function g(v,_,y){v===null&&(v=Function.prototype);var q=Object.getOwnPropertyDescriptor(v,_);if(q===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,_,y)}else{if("value"in q)return q.value;var x=q.get;return x===void 0?void 0:x.call(y)}},l=a(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){h(v,g);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(y,q){y.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,q):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(c.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,a){var o=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])};return function(h,d){m(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(44),l=a(30),c=a(1),u=function(m){o(h,m);function h(d){var g=m.call(this,d)||this;return g.build(),g}return h.prototype.appendChild=function(d){this.insertBefore(d)},h.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},h.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var v=f(g);d.insertBefore(v,d.children.head||void 0)}catch(_){if(_ instanceof c.ParchmentError)return;throw _}})},h.prototype.deleteAt=function(d,g){if(d===0&&g===this.length())return this.remove();this.children.forEachAt(d,g,function(v,_,y){v.deleteAt(_,y)})},h.prototype.descendant=function(d,g){var v=this.children.find(g),_=v[0],y=v[1];return d.blotName==null&&d(_)||d.blotName!=null&&_ instanceof d?[_,y]:_ instanceof h?_.descendant(d,y):[null,-1]},h.prototype.descendants=function(d,g,v){g===void 0&&(g=0),v===void 0&&(v=Number.MAX_VALUE);var _=[],y=v;return this.children.forEachAt(g,v,function(q,b,x){(d.blotName==null&&d(q)||d.blotName!=null&&q instanceof d)&&_.push(q),q instanceof h&&(_=_.concat(q.descendants(d,b,y))),y-=x}),_},h.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),m.prototype.detach.call(this)},h.prototype.formatAt=function(d,g,v,_){this.children.forEachAt(d,g,function(y,q,b){y.formatAt(q,b,v,_)})},h.prototype.insertAt=function(d,g,v){var _=this.children.find(d),y=_[0],q=_[1];if(y)y.insertAt(q,g,v);else{var b=v==null?c.create("text",g):c.create(g,v);this.appendChild(b)}},h.prototype.insertBefore=function(d,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new c.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,g)},h.prototype.length=function(){return this.children.reduce(function(d,g){return d+g.length()},0)},h.prototype.moveChildren=function(d,g){this.children.forEach(function(v){d.insertBefore(v,g)})},h.prototype.optimize=function(d){if(m.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var g=c.create(this.statics.defaultChild);this.appendChild(g),g.optimize(d)}else this.remove()},h.prototype.path=function(d,g){g===void 0&&(g=!1);var v=this.children.find(d,g),_=v[0],y=v[1],q=[[this,d]];return _ instanceof h?q.concat(_.path(y,g)):(_!=null&&q.push([_,y]),q)},h.prototype.removeChild=function(d){this.children.remove(d)},h.prototype.replace=function(d){d instanceof h&&d.moveChildren(this),m.prototype.replace.call(this,d)},h.prototype.split=function(d,g){if(g===void 0&&(g=!1),!g){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(_,y,q){_=_.split(y,g),v.appendChild(_)}),v},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(d,g){var v=this,_=[],y=[];d.forEach(function(q){q.target===v.domNode&&q.type==="childList"&&(_.push.apply(_,q.addedNodes),y.push.apply(y,q.removedNodes))}),y.forEach(function(q){if(!(q.parentNode!=null&&q.tagName!=="IFRAME"&&document.body.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=c.find(q);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===v.domNode)&&b.detach()}}),_.filter(function(q){return q.parentNode==v.domNode}).sort(function(q,b){return q===b?0:q.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(q){var b=null;q.nextSibling!=null&&(b=c.find(q.nextSibling));var x=f(q);(x.next!=b||x.next==null)&&(x.parent!=null&&x.parent.removeChild(v),v.insertBefore(x,b||void 0))})},h}(l.default);function f(m){var h=c.find(m);if(h==null)try{h=c.create(m)}catch{h=c.create(c.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(g){h.domNode.appendChild(g)}),m.parentNode&&m.parentNode.replaceChild(h.domNode,m),h.attach()}return h}r.default=u},function(n,r,a){var o=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])};return function(h,d){m(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(12),l=a(31),c=a(17),u=a(1),f=function(m){o(h,m);function h(d){var g=m.call(this,d)||this;return g.attributes=new l.default(g.domNode),g}return h.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},h.prototype.format=function(d,g){var v=u.query(d);v instanceof s.default?this.attributes.attribute(v,g):g&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==g)&&this.replaceWith(d,g)},h.prototype.formats=function(){var d=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(d[this.statics.blotName]=g),d},h.prototype.replaceWith=function(d,g){var v=m.prototype.replaceWith.call(this,d,g);return this.attributes.copy(v),v},h.prototype.update=function(d,g){var v=this;m.prototype.update.call(this,d,g),d.some(function(_){return _.target===v.domNode&&_.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(d,g){var v=m.prototype.wrap.call(this,d,g);return v instanceof h&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},h}(c.default);r.default=f},function(n,r,a){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var h in m)m.hasOwnProperty(h)&&(f[h]=m[h])};return function(f,m){u(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(30),l=a(1),c=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(m){return!0},f.prototype.index=function(m,h){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},f.prototype.position=function(m,h){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(d+=1),[this.parent.domNode,d]},f.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},f.scope=l.Scope.INLINE_BLOT,f}(s.default);r.default=c},function(n,r,a){var o=a(11),s=a(3),l={attributes:{compose:function(u,f,m){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var h=s(!0,{},f);m||(h=Object.keys(h).reduce(function(g,v){return h[v]!=null&&(g[v]=h[v]),g},{}));for(var d in u)u[d]!==void 0&&f[d]===void 0&&(h[d]=u[d]);return Object.keys(h).length>0?h:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var m=Object.keys(u).concat(Object.keys(f)).reduce(function(h,d){return o(u[d],f[d])||(h[d]=f[d]===void 0?null:f[d]),h},{});return Object.keys(m).length>0?m:void 0},transform:function(u,f,m){if(typeof u!="object")return f;if(typeof f=="object"){if(!m)return f;var h=Object.keys(f).reduce(function(d,g){return u[g]===void 0&&(d[g]=f[g]),d},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var m=this.offset,h=l.length(f);if(u>=h-m?(u=h-m,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var d={};return f.attributes&&(d.attributes=f.attributes),typeof f.retain=="number"?d.retain=u:typeof f.insert=="string"?d.insert=f.insert.substr(m,u):d.insert=f.insert,d}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,m=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=f,[m].concat(h)}else return[]},n.exports=l},function(n,r){var a=function(){function o(v,_){return _!=null&&v instanceof _}var s;try{s=Map}catch{s=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(v,_,y,q,b){typeof _=="object"&&(y=_.depth,q=_.prototype,b=_.includeNonEnumerable,_=_.circular);var x=[],E=[],T=typeof Buffer!="undefined";typeof _=="undefined"&&(_=!0),typeof y=="undefined"&&(y=1/0);function k(A,M){if(A===null)return null;if(M===0)return A;var S,C;if(typeof A!="object")return A;if(o(A,s))S=new s;else if(o(A,l))S=new l;else if(o(A,c))S=new c(function($,P){A.then(function(F){$(k(F,M-1))},function(F){P(k(F,M-1))})});else if(u.__isArray(A))S=[];else if(u.__isRegExp(A))S=new RegExp(A.source,g(A)),A.lastIndex&&(S.lastIndex=A.lastIndex);else if(u.__isDate(A))S=new Date(A.getTime());else{if(T&&Buffer.isBuffer(A))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(A.length):S=new Buffer(A.length),A.copy(S),S;o(A,Error)?S=Object.create(A):typeof q=="undefined"?(C=Object.getPrototypeOf(A),S=Object.create(C)):(S=Object.create(q),C=q)}if(_){var I=x.indexOf(A);if(I!=-1)return E[I];x.push(A),E.push(S)}o(A,s)&&A.forEach(function($,P){var F=k(P,M-1),N=k($,M-1);S.set(F,N)}),o(A,l)&&A.forEach(function($){var P=k($,M-1);S.add(P)});for(var O in A){var D;C&&(D=Object.getOwnPropertyDescriptor(C,O)),!(D&&D.set==null)&&(S[O]=k(A[O],M-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(A),O=0;O<R.length;O++){var w=R[O],B=Object.getOwnPropertyDescriptor(A,w);B&&!B.enumerable&&!b||(S[w]=k(A[w],M-1),B.enumerable||Object.defineProperty(S,w,{enumerable:!1}))}if(b)for(var G=Object.getOwnPropertyNames(A),O=0;O<G.length;O++){var U=G[O],B=Object.getOwnPropertyDescriptor(A,U);B&&B.enumerable||(S[U]=k(A[U],M-1),Object.defineProperty(S,U,{enumerable:!1}))}return S}return k(v,y)}u.clonePrototype=function(_){if(_===null)return null;var y=function(){};return y.prototype=_,new y};function f(v){return Object.prototype.toString.call(v)}u.__objToStr=f;function m(v){return typeof v=="object"&&f(v)==="[object Date]"}u.__isDate=m;function h(v){return typeof v=="object"&&f(v)==="[object Array]"}u.__isArray=h;function d(v){return typeof v=="object"&&f(v)==="[object RegExp]"}u.__isRegExp=d;function g(v){var _="";return v.global&&(_+="g"),v.ignoreCase&&(_+="i"),v.multiline&&(_+="m"),_}return u.__getRegExpFlags=g,u}();typeof n=="object"&&n.exports&&(n.exports=a)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function S(C,I){var O=[],D=!0,R=!1,w=void 0;try{for(var B=C[Symbol.iterator](),G;!(D=(G=B.next()).done)&&(O.push(G.value),!(I&&O.length===I));D=!0);}catch(U){R=!0,w=U}finally{try{!D&&B.return&&B.return()}finally{if(R)throw w}}return O}return function(C,I){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return S(C,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(C,I){for(var O=0;O<I.length;O++){var D=I[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,I,O){return I&&S(C.prototype,I),O&&S(C,O),C}}(),l=function S(C,I,O){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,I);if(D===void 0){var R=Object.getPrototypeOf(C);return R===null?void 0:S(R,I,O)}else{if("value"in D)return D.value;var w=D.get;return w===void 0?void 0:w.call(O)}},c=a(0),u=x(c),f=a(8),m=x(f),h=a(4),d=x(h),g=a(16),v=x(g),_=a(13),y=x(_),q=a(25),b=x(q);function x(S){return S&&S.__esModule?S:{default:S}}function E(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function T(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:S}function k(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}function A(S){return S instanceof d.default||S instanceof h.BlockEmbed}var M=function(S){k(C,S);function C(I,O){E(this,C);var D=T(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I));return D.emitter=O.emitter,Array.isArray(O.whitelist)&&(D.whitelist=O.whitelist.reduce(function(R,w){return R[w]=!0,R},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return s(C,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,D){var R=this.line(O),w=o(R,2),B=w[0],G=w[1],U=this.line(O+D),$=o(U,1),P=$[0];if(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,O,D),P!=null&&B!==P&&G>0){if(B instanceof h.BlockEmbed||P instanceof h.BlockEmbed){this.optimize();return}if(B instanceof y.default){var F=B.newlineIndex(B.length(),!0);if(F>-1&&(B=B.split(F+1),B===P)){this.optimize();return}}else if(P instanceof y.default){var N=P.newlineIndex(0);N>-1&&P.split(N+1)}var z=P.children.head instanceof v.default?null:P.children.head;B.moveChildren(P,z),B.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,D,R,w){this.whitelist!=null&&!this.whitelist[R]||(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,O,D,R,w),this.optimize())}},{key:"insertAt",value:function(O,D,R){if(!(R!=null&&this.whitelist!=null&&!this.whitelist[D])){if(O>=this.length())if(R==null||u.default.query(D,u.default.Scope.BLOCK)==null){var w=u.default.create(this.statics.defaultChild);this.appendChild(w),R==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),w.insertAt(0,D,R)}else{var B=u.default.create(D,R);this.appendChild(B)}else l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,O,D,R);this.optimize()}}},{key:"insertBefore",value:function(O,D){if(O.statics.scope===u.default.Scope.INLINE_BLOT){var R=u.default.create(this.statics.defaultChild);R.appendChild(O),O=R}l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,O,D)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(A,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,R=function w(B,G,U){var $=[],P=U;return B.children.forEachAt(G,U,function(F,N,z){A(F)?$.push(F):F instanceof u.default.Container&&($=$.concat(w(F,N,P))),P-=z}),$};return R(this,O,D)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,O,D),O.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,O,D))}},{key:"path",value:function(O){return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var D=m.default.sources.USER;typeof O=="string"&&(D=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,D,O),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,D,O)}}}]),C}(u.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[d.default,h.BlockEmbed,b.default],r.default=M},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},s=function(){function L(j,J){var Q=[],re=!0,ce=!1,ge=void 0;try{for(var H=j[Symbol.iterator](),Y;!(re=(Y=H.next()).done)&&(Q.push(Y.value),!(J&&Q.length===J));re=!0);}catch(W){ce=!0,ge=W}finally{try{!re&&H.return&&H.return()}finally{if(ce)throw ge}}return Q}return function(j,J){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return L(j,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function L(j,J){for(var Q=0;Q<J.length;Q++){var re=J[Q];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(j,re.key,re)}}return function(j,J,Q){return J&&L(j.prototype,J),Q&&L(j,Q),j}}(),c=a(21),u=S(c),f=a(11),m=S(f),h=a(3),d=S(h),g=a(2),v=S(g),_=a(20),y=S(_),q=a(0),b=S(q),x=a(5),E=S(x),T=a(10),k=S(T),A=a(9),M=S(A);function S(L){return L&&L.__esModule?L:{default:L}}function C(L,j,J){return j in L?Object.defineProperty(L,j,{value:J,enumerable:!0,configurable:!0,writable:!0}):L[j]=J,L}function I(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")}function O(L,j){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:L}function D(L,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}var R=(0,k.default)("quill:keyboard"),w=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(L){D(j,L),l(j,null,[{key:"match",value:function(Q,re){return re=V(re),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!re[ce]!==Q[ce]&&re[ce]!==null})?!1:re.key===(Q.which||Q.keyCode)}}]);function j(J,Q){I(this,j);var re=O(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,J,Q));return re.bindings={},Object.keys(re.options.bindings).forEach(function(ce){ce==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||re.options.bindings[ce]&&re.addBinding(re.options.bindings[ce])}),re.addBinding({key:j.keys.ENTER,shiftKey:null},F),re.addBinding({key:j.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(re.addBinding({key:j.keys.BACKSPACE},{collapsed:!0},U),re.addBinding({key:j.keys.DELETE},{collapsed:!0},$)):(re.addBinding({key:j.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),re.addBinding({key:j.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),re.addBinding({key:j.keys.BACKSPACE},{collapsed:!1},P),re.addBinding({key:j.keys.DELETE},{collapsed:!1},P),re.addBinding({key:j.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),re.listen(),re}return l(j,[{key:"addBinding",value:function(Q){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=V(Q);if(ge==null||ge.key==null)return R.warn("Attempted to add invalid keyboard binding",ge);typeof re=="function"&&(re={handler:re}),typeof ce=="function"&&(ce={handler:ce}),ge=(0,d.default)(ge,re,ce),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(re){if(!re.defaultPrevented){var ce=re.which||re.keyCode,ge=(Q.bindings[ce]||[]).filter(function(fe){return j.match(re,fe)});if(ge.length!==0){var H=Q.quill.getSelection();if(!(H==null||!Q.quill.hasFocus())){var Y=Q.quill.getLine(H.index),W=s(Y,2),ae=W[0],se=W[1],X=Q.quill.getLeaf(H.index),ee=s(X,2),oe=ee[0],le=ee[1],ne=H.length===0?[oe,le]:Q.quill.getLeaf(H.index+H.length),_e=s(ne,2),he=_e[0],ve=_e[1],ke=oe instanceof b.default.Text?oe.value().slice(0,le):"",Ce=he instanceof b.default.Text?he.value().slice(ve):"",qe={collapsed:H.length===0,empty:H.length===0&&ae.length()<=1,format:Q.quill.getFormat(H),offset:se,prefix:ke,suffix:Ce},Me=ge.some(function(fe){if(fe.collapsed!=null&&fe.collapsed!==qe.collapsed||fe.empty!=null&&fe.empty!==qe.empty||fe.offset!=null&&fe.offset!==qe.offset)return!1;if(Array.isArray(fe.format)){if(fe.format.every(function(me){return qe.format[me]==null}))return!1}else if(o(fe.format)==="object"&&!Object.keys(fe.format).every(function(me){return fe.format[me]===!0?qe.format[me]!=null:fe.format[me]===!1?qe.format[me]==null:(0,m.default)(fe.format[me],qe.format[me])}))return!1;return fe.prefix!=null&&!fe.prefix.test(qe.prefix)||fe.suffix!=null&&!fe.suffix.test(qe.suffix)?!1:fe.handler.call(Q,H,qe)!==!0});Me&&re.preventDefault()}}}})}}]),j}(M.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(j,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",E.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(j,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",E.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(j,J){J.format.indent!=null?this.quill.format("indent","-1",E.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,E.default.sources.USER)}},"indent code-block":N(!0),"outdent code-block":N(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(j){this.quill.deleteText(j.index-1,1,E.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(j){this.quill.history.cutoff();var J=new v.default().retain(j.index).delete(j.length).insert("	");this.quill.updateContents(J,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(j.index+1,E.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(j,J){this.quill.format("list",!1,E.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,E.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(j){var J=this.quill.getLine(j.index),Q=s(J,2),re=Q[0],ce=Q[1],ge=(0,d.default)({},re.formats(),{list:"checked"}),H=new v.default().retain(j.index).insert(`
`,ge).retain(re.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(H,E.default.sources.USER),this.quill.setSelection(j.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(j,J){var Q=this.quill.getLine(j.index),re=s(Q,2),ce=re[0],ge=re[1],H=new v.default().retain(j.index).insert(`
`,J.format).retain(ce.length()-ge-1).retain(1,{header:null});this.quill.updateContents(H,E.default.sources.USER),this.quill.setSelection(j.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(j,J){var Q=J.prefix.length,re=this.quill.getLine(j.index),ce=s(re,2),ge=ce[0],H=ce[1];if(H>Q)return!0;var Y=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":Y="unchecked";break;case"[x]":Y="checked";break;case"-":case"*":Y="bullet";break;default:Y="ordered"}this.quill.insertText(j.index," ",E.default.sources.USER),this.quill.history.cutoff();var W=new v.default().retain(j.index-H).delete(Q+1).retain(ge.length()-2-H).retain(1,{list:Y});this.quill.updateContents(W,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(j.index-Q,E.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(j){var J=this.quill.getLine(j.index),Q=s(J,2),re=Q[0],ce=Q[1],ge=new v.default().retain(j.index+re.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,E.default.sources.USER)}},"embed left":G(B.keys.LEFT,!1),"embed left shift":G(B.keys.LEFT,!0),"embed right":G(B.keys.RIGHT,!1),"embed right shift":G(B.keys.RIGHT,!0)}};function G(L,j){var J,Q=L===B.keys.LEFT?"prefix":"suffix";return J={key:L,shiftKey:j,altKey:null},C(J,Q,/^$/),C(J,"handler",function(ce){var ge=ce.index;L===B.keys.RIGHT&&(ge+=ce.length+1);var H=this.quill.getLeaf(ge),Y=s(H,1),W=Y[0];return W instanceof b.default.Embed?(L===B.keys.LEFT?j?this.quill.setSelection(ce.index-1,ce.length+1,E.default.sources.USER):this.quill.setSelection(ce.index-1,E.default.sources.USER):j?this.quill.setSelection(ce.index,ce.length+1,E.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,E.default.sources.USER),!1):!0}),J}function U(L,j){if(!(L.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(L.index),Q=s(J,1),re=Q[0],ce={};if(j.offset===0){var ge=this.quill.getLine(L.index-1),H=s(ge,1),Y=H[0];if(Y!=null&&Y.length()>1){var W=re.formats(),ae=this.quill.getFormat(L.index-1,1);ce=y.default.attributes.diff(W,ae)||{}}}var se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;this.quill.deleteText(L.index-se,se,E.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(L.index-se,se,ce,E.default.sources.USER),this.quill.focus()}}function $(L,j){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(!(L.index>=this.quill.getLength()-J)){var Q={},re=0,ce=this.quill.getLine(L.index),ge=s(ce,1),H=ge[0];if(j.offset>=H.length()-1){var Y=this.quill.getLine(L.index+1),W=s(Y,1),ae=W[0];if(ae){var se=H.formats(),X=this.quill.getFormat(L.index,1);Q=y.default.attributes.diff(se,X)||{},re=ae.length()}}this.quill.deleteText(L.index,J,E.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(L.index+re-1,J,Q,E.default.sources.USER)}}function P(L){var j=this.quill.getLines(L),J={};if(j.length>1){var Q=j[0].formats(),re=j[j.length-1].formats();J=y.default.attributes.diff(re,Q)||{}}this.quill.deleteText(L,E.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(L.index,1,J,E.default.sources.USER),this.quill.setSelection(L.index,E.default.sources.SILENT),this.quill.focus()}function F(L,j){var J=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var Q=Object.keys(j.format).reduce(function(re,ce){return b.default.query(ce,b.default.Scope.BLOCK)&&!Array.isArray(j.format[ce])&&(re[ce]=j.format[ce]),re},{});this.quill.insertText(L.index,`
`,Q,E.default.sources.USER),this.quill.setSelection(L.index+1,E.default.sources.SILENT),this.quill.focus(),Object.keys(j.format).forEach(function(re){Q[re]==null&&(Array.isArray(j.format[re])||re!=="link"&&J.quill.format(re,j.format[re],E.default.sources.USER))})}function N(L){return{key:B.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(J){var Q=b.default.query("code-block"),re=J.index,ce=J.length,ge=this.quill.scroll.descendant(Q,re),H=s(ge,2),Y=H[0],W=H[1];if(Y!=null){var ae=this.quill.getIndex(Y),se=Y.newlineIndex(W,!0)+1,X=Y.newlineIndex(ae+W+ce),ee=Y.domNode.textContent.slice(se,X).split(`
`);W=0,ee.forEach(function(oe,le){L?(Y.insertAt(se+W,Q.TAB),W+=Q.TAB.length,le===0?re+=Q.TAB.length:ce+=Q.TAB.length):oe.startsWith(Q.TAB)&&(Y.deleteAt(se+W,Q.TAB.length),W-=Q.TAB.length,le===0?re-=Q.TAB.length:ce-=Q.TAB.length),W+=oe.length+1}),this.quill.update(E.default.sources.USER),this.quill.setSelection(re,ce,E.default.sources.SILENT)}}}}function z(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(J,Q){this.quill.format(L,!Q.format[L],E.default.sources.USER)}}}function V(L){if(typeof L=="string"||typeof L=="number")return V({key:L});if((typeof L=="undefined"?"undefined":o(L))==="object"&&(L=(0,u.default)(L,!1)),typeof L.key=="string")if(B.keys[L.key.toUpperCase()]!=null)L.key=B.keys[L.key.toUpperCase()];else if(L.key.length===1)L.key=L.key.toUpperCase().charCodeAt(0);else return null;return L.shortKey&&(L[w]=L.shortKey,delete L.shortKey),L}r.default=B,r.SHORTKEY=w},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(q,b){var x=[],E=!0,T=!1,k=void 0;try{for(var A=q[Symbol.iterator](),M;!(E=(M=A.next()).done)&&(x.push(M.value),!(b&&x.length===b));E=!0);}catch(S){T=!0,k=S}finally{try{!E&&A.return&&A.return()}finally{if(T)throw k}}return x}return function(q,b){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return y(q,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function y(q,b,x){q===null&&(q=Function.prototype);var E=Object.getOwnPropertyDescriptor(q,b);if(E===void 0){var T=Object.getPrototypeOf(q);return T===null?void 0:y(T,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},l=function(){function y(q,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(q,E.key,E)}}return function(q,b,x){return b&&y(q.prototype,b),x&&y(q,x),q}}(),c=a(0),u=h(c),f=a(7),m=h(f);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,q){if(!(y instanceof q))throw new TypeError("Cannot call a class as a function")}function g(y,q){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:y}function v(y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);y.prototype=Object.create(q&&q.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(y,q):y.__proto__=q)}var _=function(y){v(q,y),l(q,null,[{key:"value",value:function(){}}]);function q(b,x){d(this,q);var E=g(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,b));return E.selection=x,E.textNode=document.createTextNode(q.CONTENTS),E.domNode.appendChild(E.textNode),E._length=0,E}return l(q,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,E){if(this._length!==0)return s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,x,E);for(var T=this,k=0;T!=null&&T.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=q.CONTENTS.length,T.optimize(),T.formatAt(k,q.CONTENTS.length,x,E),this._length=0)}},{key:"index",value:function(x,E){return x===this.textNode?0:s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"index",this).call(this,x,E)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,E=this.selection.getNativeRange(),T=void 0,k=void 0,A=void 0;if(E!=null&&E.start.node===x&&E.end.node===x){var M=[x,E.start.offset,E.end.offset];T=M[0],k=M[1],A=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==q.CONTENTS){var S=this.textNode.data.split(q.CONTENTS).join("");this.next instanceof m.default?(T=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=q.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(q.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var C=[k,A].map(function(O){return Math.max(0,Math.min(T.data.length,O-1))}),I=o(C,2);return k=I[0],A=I[1],{startNode:T,startOffset:k,endNode:T,endOffset:A}}}}},{key:"update",value:function(x,E){var T=this;if(x.some(function(A){return A.type==="characterData"&&A.target===T.textNode})){var k=this.restore();k&&(E.range=k)}}},{key:"value",value:function(){return""}}]),q}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(0),s=u(o),l=a(4),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){h(v,g);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);d.allowedChildren=[c.default,l.BlockEmbed,d],r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(y,q){for(var b=0;b<q.length;b++){var x=q[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,q,b){return q&&_(y.prototype,q),b&&_(y,b),y}}(),s=function _(y,q,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,q);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:_(E,q,b)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(b)}},l=a(0),c=u(l);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function m(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function h(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){h(y,_);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"value",value:function(b){var x=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(E){return("00"+parseInt(E).toString(16)).slice(-2)}).join("")):x}}]),y}(c.default.Attributor.Style),g=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new d("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=g,r.ColorStyle=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(_,y){for(var q=0;q<y.length;q++){var b=y[q];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,y,q){return y&&v(_.prototype,y),q&&v(_,q),_}}(),s=function v(_,y,q){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,y);if(b===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:v(x,y,q)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(q)}},l=a(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function m(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function h(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var d=function(v){h(_,v);function _(){return f(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(q,b){if(q!==this.statics.blotName||!b)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,q,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(q){var b=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,q);return q=this.sanitize(q),b.setAttribute("href",q),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(q){return q.getAttribute("href")}},{key:"sanitize",value:function(q){return g(q,this.PROTOCOL_WHITELIST)?q:this.SANITIZED_URL}}]),_}(c.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(v,_){var y=document.createElement("a");y.href=v;var q=y.href.slice(0,y.href.indexOf(":"));return _.indexOf(q)>-1}r.default=d,r.sanitize=g},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(y,q){for(var b=0;b<q.length;b++){var x=q[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,q,b){return q&&_(y.prototype,q),b&&_(y,b),y}}(),l=a(23),c=m(l),u=a(107),f=m(u);function m(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}var d=0;function g(_,y){_.setAttribute(y,_.getAttribute(y)!=="true")}var v=function(){function _(y){var q=this;h(this,_),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){q.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case c.default.keys.ENTER:q.togglePicker();break;case c.default.keys.ESCAPE:q.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(q){var b=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),q.hasAttribute("value")&&x.setAttribute("data-value",q.getAttribute("value")),q.textContent&&x.setAttribute("data-label",q.textContent),x.addEventListener("click",function(){b.selectItem(x,!0)}),x.addEventListener("keydown",function(E){switch(E.keyCode){case c.default.keys.ENTER:b.selectItem(x,!0),E.preventDefault();break;case c.default.keys.ESCAPE:b.escape(),E.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var q=document.createElement("span");return q.classList.add("ql-picker-label"),q.innerHTML=f.default,q.tabIndex="0",q.setAttribute("role","button"),q.setAttribute("aria-expanded","false"),this.container.appendChild(q),q}},{key:"buildOptions",value:function(){var q=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(x){var E=q.buildItem(x);b.appendChild(E),x.selected===!0&&q.selectItem(E)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var q=this;[].slice.call(this.select.attributes).forEach(function(b){q.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var q=this;this.close(),setTimeout(function(){return q.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(q){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(q!==x&&(x!=null&&x.classList.remove("ql-selected"),q!=null&&(q.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(q.parentNode.children,q),q.hasAttribute("data-value")?this.label.setAttribute("data-value",q.getAttribute("data-value")):this.label.removeAttribute("data-value"),q.hasAttribute("data-label")?this.label.setAttribute("data-label",q.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":o(Event))==="object"){var E=document.createEvent("Event");E.initEvent("change",!0,!0),this.select.dispatchEvent(E)}this.close()}}},{key:"update",value:function(){var q=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];q=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var x=q!=null&&q!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),_}();r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(0),s=R(o),l=a(5),c=R(l),u=a(4),f=R(u),m=a(16),h=R(m),d=a(25),g=R(d),v=a(24),_=R(v),y=a(35),q=R(y),b=a(6),x=R(b),E=a(22),T=R(E),k=a(7),A=R(k),M=a(55),S=R(M),C=a(42),I=R(C),O=a(23),D=R(O);function R(w){return w&&w.__esModule?w:{default:w}}c.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":g.default,"blots/cursor":_.default,"blots/embed":q.default,"blots/inline":x.default,"blots/scroll":T.default,"blots/text":A.default,"modules/clipboard":S.default,"modules/history":I.default,"modules/keyboard":D.default}),s.default.register(f.default,h.default,_.default,x.default,T.default,A.default),r.default=c.default},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),s=function(){function l(c){this.domNode=c,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return o.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},l.prototype.deleteAt=function(c,u){var f=this.isolate(c,u);f.remove()},l.prototype.formatAt=function(c,u,f,m){var h=this.isolate(c,u);if(o.query(f,o.Scope.BLOT)!=null&&m)h.wrap(f,m);else if(o.query(f,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);h.wrap(d),d.format(f,m)}},l.prototype.insertAt=function(c,u,f){var m=f==null?o.create("text",u):o.create(u,f),h=this.split(c);this.parent.insertBefore(m,h)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;c.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=f)&&c.domNode.insertBefore(this.domNode,f),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var f=this.split(c);return f.split(u),f},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var f=typeof c=="string"?o.create(c,u):c;return f.replace(this),f},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var f=typeof c=="string"?o.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},l.blotName="abstract",l}();r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(12),s=a(32),l=a(33),c=a(1),u=function(){function f(m){this.attributes={},this.domNode=m,this.build()}return f.prototype.attribute=function(m,h){h?m.add(this.domNode,h)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},f.prototype.build=function(){var m=this;this.attributes={};var h=o.default.keys(this.domNode),d=s.default.keys(this.domNode),g=l.default.keys(this.domNode);h.concat(d).concat(g).forEach(function(v){var _=c.query(v,c.Scope.ATTRIBUTE);_ instanceof o.default&&(m.attributes[_.attrName]=_)})},f.prototype.copy=function(m){var h=this;Object.keys(this.attributes).forEach(function(d){var g=h.attributes[d].value(h.domNode);m.format(d,g)})},f.prototype.move=function(m){var h=this;this.copy(m),Object.keys(this.attributes).forEach(function(d){h.attributes[d].remove(h.domNode)}),this.attributes={}},f.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(h,d){return h[d]=m.attributes[d].value(m.domNode),h},{})},f}();r.default=u},function(n,r,a){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var h in m)m.hasOwnProperty(h)&&(f[h]=m[h])};return function(f,m){u(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(12);function l(u,f){var m=u.getAttribute("class")||"";return m.split(/\s+/).filter(function(h){return h.indexOf(f+"-")===0})}var c=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},f.prototype.add=function(m,h){return this.canAdd(m,h)?(this.remove(m),m.classList.add(this.keyName+"-"+h),!0):!1},f.prototype.remove=function(m){var h=l(m,this.keyName);h.forEach(function(d){m.classList.remove(d)}),m.classList.length===0&&m.removeAttribute("class")},f.prototype.value=function(m){var h=l(m,this.keyName)[0]||"",d=h.slice(this.keyName.length+1);return this.canAdd(m,d)?d:""},f}(s.default);r.default=c},function(n,r,a){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var h in m)m.hasOwnProperty(h)&&(f[h]=m[h])};return function(f,m){u(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(12);function l(u){var f=u.split("-"),m=f.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return f[0]+m}var c=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(h){var d=h.split(":");return d[0].trim()})},f.prototype.add=function(m,h){return this.canAdd(m,h)?(m.style[l(this.keyName)]=h,!0):!1},f.prototype.remove=function(m){m.style[l(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},f.prototype.value=function(m){var h=m.style[l(this.keyName)];return this.canAdd(m,h)?h:""},f}(s.default);r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(u,f){for(var m=0;m<f.length;m++){var h=f[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,f,m){return f&&c(u.prototype,f),m&&c(u,m),u}}();function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,f){s(this,c),this.quill=u,this.options=f,this.modules={}}return o(c,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(m){f.modules[m]==null&&f.addModule(m)})}},{key:"addModule",value:function(f){var m=this.quill.constructor.import("modules/"+f);return this.modules[f]=new m(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(q,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(q,E.key,E)}}return function(q,b,x){return b&&y(q.prototype,b),x&&y(q,x),q}}(),s=function y(q,b,x){q===null&&(q=Function.prototype);var E=Object.getOwnPropertyDescriptor(q,b);if(E===void 0){var T=Object.getPrototypeOf(q);return T===null?void 0:y(T,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},l=a(0),c=m(l),u=a(7),f=m(u);function m(y){return y&&y.__esModule?y:{default:y}}function h(y,q){if(!(y instanceof q))throw new TypeError("Cannot call a class as a function")}function d(y,q){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:y}function g(y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);y.prototype=Object.create(q&&q.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(y,q):y.__proto__=q)}var v="\uFEFF",_=function(y){g(q,y);function q(b){h(this,q);var x=d(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,b));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(E){x.contentNode.appendChild(E)}),x.leftGuard=document.createTextNode(v),x.rightGuard=document.createTextNode(v),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return o(q,[{key:"index",value:function(x,E){return x===this.leftGuard?0:x===this.rightGuard?1:s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"index",this).call(this,x,E)}},{key:"restore",value:function(x){var E=void 0,T=void 0,k=x.data.split(v).join("");if(x===this.leftGuard)if(this.prev instanceof f.default){var A=this.prev.length();this.prev.insertAt(A,k),E={startNode:this.prev.domNode,startOffset:A+k.length}}else T=document.createTextNode(k),this.parent.insertBefore(c.default.create(T),this),E={startNode:T,startOffset:k.length};else x===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,k),E={startNode:this.next.domNode,startOffset:k.length}):(T=document.createTextNode(k),this.parent.insertBefore(c.default.create(T),this.next),E={startNode:T,startOffset:k.length}));return x.data=v,E}},{key:"update",value:function(x,E){var T=this;x.forEach(function(k){if(k.type==="characterData"&&(k.target===T.leftGuard||k.target===T.rightGuard)){var A=T.restore(k.target);A&&(E.range=A)}})}}]),q}(c.default.Embed);r.default=_},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=a(0),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",c),f=new s.default.Attributor.Class("align","ql-align",c),m=new s.default.Attributor.Style("align","text-align",c);r.AlignAttribute=u,r.AlignClass=f,r.AlignStyle=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=a(0),s=c(o),l=a(26);function c(m){return m&&m.__esModule?m:{default:m}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),f=new l.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=f},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=a(0),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",c),f=new s.default.Attributor.Class("direction","ql-direction",c),m=new s.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=u,r.DirectionClass=f,r.DirectionStyle=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function y(q,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(q,E.key,E)}}return function(q,b,x){return b&&y(q.prototype,b),x&&y(q,x),q}}(),s=function y(q,b,x){q===null&&(q=Function.prototype);var E=Object.getOwnPropertyDescriptor(q,b);if(E===void 0){var T=Object.getPrototypeOf(q);return T===null?void 0:y(T,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},l=a(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,q){if(!(y instanceof q))throw new TypeError("Cannot call a class as a function")}function m(y,q){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:y}function h(y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);y.prototype=Object.create(q&&q.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(y,q):y.__proto__=q)}var d={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new c.default.Attributor.Class("font","ql-font",d),v=function(y){h(q,y);function q(){return f(this,q),m(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return o(q,[{key:"value",value:function(x){return s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),q}(c.default.Attributor.Style),_=new v("font","font-family",d);r.FontStyle=_,r.FontClass=g},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=a(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}var c=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=u},function(n,r,a){n.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(x,E){for(var T=0;T<E.length;T++){var k=E[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,T){return E&&b(x.prototype,E),T&&b(x,T),x}}(),s=a(0),l=h(s),c=a(5),u=h(c),f=a(9),m=h(f);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function g(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var _=function(b){v(x,b);function x(E,T){d(this,x);var k=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E,T));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(A,M,S,C){A!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||C===u.default.sources.USER?k.record(M,S):k.transform(M))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return o(x,[{key:"change",value:function(T,k){if(this.stack[T].length!==0){var A=this.stack[T].pop();this.stack[k].push(A),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A[T],u.default.sources.USER),this.ignoreChange=!1;var M=q(A[T]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,k){if(T.ops.length!==0){this.stack.redo=[];var A=this.quill.getContents().diff(k),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var S=this.stack.undo.pop();A=A.compose(S.undo),T=S.redo.compose(T)}else this.lastRecorded=M;this.stack.undo.push({redo:T,undo:A}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(k){k.undo=T.transform(k.undo,!0),k.redo=T.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=T.transform(k.undo,!0),k.redo=T.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(m.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(b){var x=b.ops[b.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(E){return l.default.query(E,l.default.Scope.BLOCK)!=null}):!1}function q(b){var x=b.reduce(function(T,k){return T+=k.delete||0,T},0),E=b.length()-x;return y(b)&&(E-=1),E}r.default=_,r.getLastChangeIndex=q},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function F(N,z){for(var V=0;V<z.length;V++){var L=z[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}return function(N,z,V){return z&&F(N.prototype,z),V&&F(N,V),N}}(),s=function F(N,z,V){N===null&&(N=Function.prototype);var L=Object.getOwnPropertyDescriptor(N,z);if(L===void 0){var j=Object.getPrototypeOf(N);return j===null?void 0:F(j,z,V)}else{if("value"in L)return L.value;var J=L.get;return J===void 0?void 0:J.call(V)}},l=a(3),c=M(l),u=a(2),f=M(u),m=a(8),h=M(m),d=a(23),g=M(d),v=a(34),_=M(v),y=a(59),q=M(y),b=a(60),x=M(b),E=a(28),T=M(E),k=a(61),A=M(k);function M(F){return F&&F.__esModule?F:{default:F}}function S(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function C(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function I(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var O=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],R=[!1,"serif","monospace"],w=["1","2","3",!1],B=["small",!1,"large","huge"],G=function(F){I(N,F);function N(z,V){S(this,N);var L=C(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,z,V)),j=function J(Q){if(!document.body.contains(z.root))return document.body.removeEventListener("click",J);L.tooltip!=null&&!L.tooltip.root.contains(Q.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),L.pickers!=null&&L.pickers.forEach(function(re){re.container.contains(Q.target)||re.close()})};return z.emitter.listenDOM("click",document.body,j),L}return o(N,[{key:"addModule",value:function(V){var L=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"addModule",this).call(this,V);return V==="toolbar"&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(V,L){V.forEach(function(j){var J=j.getAttribute("class")||"";J.split(/\s+/).forEach(function(Q){if(!!Q.startsWith("ql-")&&(Q=Q.slice(3),L[Q]!=null))if(Q==="direction")j.innerHTML=L[Q][""]+L[Q].rtl;else if(typeof L[Q]=="string")j.innerHTML=L[Q];else{var re=j.value||"";re!=null&&L[Q][re]&&(j.innerHTML=L[Q][re])}})})}},{key:"buildPickers",value:function(V,L){var j=this;this.pickers=V.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&P(Q,O),new x.default(Q,L.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var re=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&P(Q,D,re==="background"?"#ffffff":"#000000"),new q.default(Q,L[re])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?P(Q,R):Q.classList.contains("ql-header")?P(Q,w):Q.classList.contains("ql-size")&&P(Q,B)),new T.default(Q)});var J=function(){j.pickers.forEach(function(re){re.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,J)}}]),N}(_.default);G.DEFAULTS=(0,c.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var N=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var V=new FileReader;V.onload=function(L){var j=N.quill.getSelection(!0);N.quill.updateContents(new f.default().retain(j.index).delete(j.length).insert({image:L.target.result}),h.default.sources.USER),N.quill.setSelection(j.index+1,h.default.sources.SILENT),z.value=""},V.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var U=function(F){I(N,F);function N(z,V){S(this,N);var L=C(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,z,V));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return o(N,[{key:"listen",value:function(){var V=this;this.textbox.addEventListener("keydown",function(L){g.default.match(L,"enter")?(V.save(),L.preventDefault()):g.default.match(L,"escape")&&(V.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),L!=null?this.textbox.value=L:V!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+V)||""),this.root.setAttribute("data-mode",V)}},{key:"restoreFocus",value:function(){var V=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=V}},{key:"save",value:function(){var V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,h.default.sources.USER)),this.quill.root.scrollTop=L;break}case"video":V=$(V);case"formula":{if(!V)break;var j=this.quill.getSelection(!0);if(j!=null){var J=j.index+j.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),V,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",h.default.sources.USER),this.quill.setSelection(J+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),N}(A.default);function $(F){var N=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return N?(N[1]||"https")+"://www.youtube.com/embed/"+N[2]+"?showinfo=0":(N=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(N[1]||"https")+"://player.vimeo.com/video/"+N[2]+"/":F}function P(F,N){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;N.forEach(function(V){var L=document.createElement("option");V===z?L.setAttribute("selected","selected"):L.setAttribute("value",V),F.appendChild(L)})}r.BaseTooltip=U,r.default=G},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},s.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},s.prototype.insertBefore=function(l,c){!l||(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},s.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},s.prototype.remove=function(l){!this.contains(l)||(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},s.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},s.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,f=this.iterator();u=f();){var m=u.length();if(l<m||c&&l===m&&(u.next==null||u.next.length()!==0))return[u,l];l-=m}return[null,0]},s.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},s.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var f=this.find(l),m=f[0],h=f[1],d,g=l-h,v=this.iterator(m);(d=v())&&g<l+c;){var _=d.length();l>g?u(d,l-g,Math.min(c,g+_-l)):u(d,0,Math.min(_,l+c-g)),g+=_}},s.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},s.prototype.reduce=function(l,c){for(var u,f=this.iterator();u=f();)c=l(c,u);return c},s}();r.default=o},function(n,r,a){var o=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])};return function(h,d){m(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(17),l=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(m){o(h,m);function h(d){var g=m.call(this,d)||this;return g.scroll=g,g.observer=new MutationObserver(function(v){g.update(v)}),g.observer.observe(g.domNode,c),g.attach(),g}return h.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(d,g){this.update(),d===0&&g===this.length()?this.children.forEach(function(v){v.remove()}):m.prototype.deleteAt.call(this,d,g)},h.prototype.formatAt=function(d,g,v,_){this.update(),m.prototype.formatAt.call(this,d,g,v,_)},h.prototype.insertAt=function(d,g,v){this.update(),m.prototype.insertAt.call(this,d,g,v)},h.prototype.optimize=function(d,g){var v=this;d===void 0&&(d=[]),g===void 0&&(g={}),m.prototype.optimize.call(this,g);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)d.push(_.pop());for(var y=function(E,T){T===void 0&&(T=!0),!(E==null||E===v)&&E.domNode.parentNode!=null&&(E.domNode[l.DATA_KEY].mutations==null&&(E.domNode[l.DATA_KEY].mutations=[]),T&&y(E.parent))},q=function(E){E.domNode[l.DATA_KEY]==null||E.domNode[l.DATA_KEY].mutations==null||(E instanceof s.default&&E.children.forEach(q),E.optimize(g))},b=d,x=0;b.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(E){var T=l.find(E.target,!0);T!=null&&(T.domNode===E.target&&(E.type==="childList"?(y(l.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(k){var A=l.find(k,!1);y(A,!1),A instanceof s.default&&A.children.forEach(function(M){y(M,!1)})})):E.type==="attributes"&&y(T.prev)),y(T))}),this.children.forEach(q),b=[].slice.call(this.observer.takeRecords()),_=b.slice();_.length>0;)d.push(_.pop())}},h.prototype.update=function(d,g){var v=this;g===void 0&&(g={}),d=d||this.observer.takeRecords(),d.map(function(_){var y=l.find(_.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[_],y):(y.domNode[l.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===v||_.domNode[l.DATA_KEY]==null||_.update(_.domNode[l.DATA_KEY].mutations||[],g)}),this.domNode[l.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,g),this.optimize(d,g)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);r.default=f},function(n,r,a){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var d in h)h.hasOwnProperty(d)&&(m[d]=h[d])};return function(m,h){f(m,h);function d(){this.constructor=m}m.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(18),l=a(1);function c(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(var h in f)if(f[h]!==m[h])return!1;return!0}var u=function(f){o(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.formats=function(h){if(h.tagName!==m.tagName)return f.formats.call(this,h)},m.prototype.format=function(h,d){var g=this;h===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(m.blotName,!0)),g.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,h,d)},m.prototype.formatAt=function(h,d,g,v){if(this.formats()[g]!=null||l.query(g,l.Scope.ATTRIBUTE)){var _=this.isolate(h,d);_.format(g,v)}else f.prototype.formatAt.call(this,h,d,g,v)},m.prototype.optimize=function(h){f.prototype.optimize.call(this,h);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var g=this.next;g instanceof m&&g.prev===this&&c(d,g.formats())&&(g.moveChildren(this),g.remove())},m.blotName="inline",m.scope=l.Scope.INLINE_BLOT,m.tagName="SPAN",m}(s.default);r.default=u},function(n,r,a){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var h in m)m.hasOwnProperty(h)&&(f[h]=m[h])};return function(f,m){u(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(18),l=a(1),c=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(m){var h=l.query(f.blotName).tagName;if(m.tagName!==h)return u.formats.call(this,m)},f.prototype.format=function(m,h){l.query(m,l.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!h?this.replaceWith(f.blotName):u.prototype.format.call(this,m,h))},f.prototype.formatAt=function(m,h,d,g){l.query(d,l.Scope.BLOCK)!=null?this.format(d,g):u.prototype.formatAt.call(this,m,h,d,g)},f.prototype.insertAt=function(m,h,d){if(d==null||l.query(h,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,m,h,d);else{var g=this.split(m),v=l.create(h,d);g.parent.insertBefore(v,g)}},f.prototype.update=function(m,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,m,h)},f.blotName="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="P",f}(s.default);r.default=c},function(n,r,a){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])};return function(u,f){c(u,f);function m(){this.constructor=u}u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(19),l=function(c){o(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,m){c.prototype.formatAt.call(this,0,this.length(),f,m)},u.prototype.formatAt=function(f,m,h,d){f===0&&m===this.length()?this.format(h,d):c.prototype.formatAt.call(this,f,m,h,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=l},function(n,r,a){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var h in m)m.hasOwnProperty(h)&&(f[h]=m[h])};return function(f,m){u(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=a(19),l=a(1),c=function(u){o(f,u);function f(m){var h=u.call(this,m)||this;return h.text=h.statics.value(h.domNode),h}return f.create=function(m){return document.createTextNode(m)},f.value=function(m){var h=m.data;return h.normalize&&(h=h.normalize()),h},f.prototype.deleteAt=function(m,h){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+h)},f.prototype.index=function(m,h){return this.domNode===m?h:-1},f.prototype.insertAt=function(m,h,d){d==null?(this.text=this.text.slice(0,m)+h+this.text.slice(m),this.domNode.data=this.text):u.prototype.insertAt.call(this,m,h,d)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(m){u.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(m,h){return[this.domNode,m]},f.prototype.split=function(m,h){if(h===void 0&&(h=!1),!h){if(m===0)return this;if(m===this.length())return this.next}var d=l.create(this.domNode.splitText(m));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},f.prototype.update=function(m,h){var d=this;m.some(function(g){return g.type==="characterData"&&g.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=l.Scope.INLINE_BLOT,f}(s.default);r.default=c},function(n,r,a){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:s.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var f=u.indexOf(l,c);return f!==-1&&f===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,m=arguments[1],h,d=0;d<f;d++)if(h=u[d],c.call(m,h,d,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var a=-1,o=1,s=0;function l(x,E,T){if(x==E)return x?[[s,x]]:[];(T<0||x.length<T)&&(T=null);var k=m(x,E),A=x.substring(0,k);x=x.substring(k),E=E.substring(k),k=h(x,E);var M=x.substring(x.length-k);x=x.substring(0,x.length-k),E=E.substring(0,E.length-k);var S=c(x,E);return A&&S.unshift([s,A]),M&&S.push([s,M]),g(S),T!=null&&(S=y(S,T)),S=q(S),S}function c(x,E){var T;if(!x)return[[o,E]];if(!E)return[[a,x]];var k=x.length>E.length?x:E,A=x.length>E.length?E:x,M=k.indexOf(A);if(M!=-1)return T=[[o,k.substring(0,M)],[s,A],[o,k.substring(M+A.length)]],x.length>E.length&&(T[0][0]=T[2][0]=a),T;if(A.length==1)return[[a,x],[o,E]];var S=d(x,E);if(S){var C=S[0],I=S[1],O=S[2],D=S[3],R=S[4],w=l(C,O),B=l(I,D);return w.concat([[s,R]],B)}return u(x,E)}function u(x,E){for(var T=x.length,k=E.length,A=Math.ceil((T+k)/2),M=A,S=2*A,C=new Array(S),I=new Array(S),O=0;O<S;O++)C[O]=-1,I[O]=-1;C[M+1]=0,I[M+1]=0;for(var D=T-k,R=D%2!=0,w=0,B=0,G=0,U=0,$=0;$<A;$++){for(var P=-$+w;P<=$-B;P+=2){var F=M+P,N;P==-$||P!=$&&C[F-1]<C[F+1]?N=C[F+1]:N=C[F-1]+1;for(var z=N-P;N<T&&z<k&&x.charAt(N)==E.charAt(z);)N++,z++;if(C[F]=N,N>T)B+=2;else if(z>k)w+=2;else if(R){var V=M+D-P;if(V>=0&&V<S&&I[V]!=-1){var L=T-I[V];if(N>=L)return f(x,E,N,z)}}}for(var j=-$+G;j<=$-U;j+=2){var V=M+j,L;j==-$||j!=$&&I[V-1]<I[V+1]?L=I[V+1]:L=I[V-1]+1;for(var J=L-j;L<T&&J<k&&x.charAt(T-L-1)==E.charAt(k-J-1);)L++,J++;if(I[V]=L,L>T)U+=2;else if(J>k)G+=2;else if(!R){var F=M+D-j;if(F>=0&&F<S&&C[F]!=-1){var N=C[F],z=M+N-F;if(L=T-L,N>=L)return f(x,E,N,z)}}}}return[[a,x],[o,E]]}function f(x,E,T,k){var A=x.substring(0,T),M=E.substring(0,k),S=x.substring(T),C=E.substring(k),I=l(A,M),O=l(S,C);return I.concat(O)}function m(x,E){if(!x||!E||x.charAt(0)!=E.charAt(0))return 0;for(var T=0,k=Math.min(x.length,E.length),A=k,M=0;T<A;)x.substring(M,A)==E.substring(M,A)?(T=A,M=T):k=A,A=Math.floor((k-T)/2+T);return A}function h(x,E){if(!x||!E||x.charAt(x.length-1)!=E.charAt(E.length-1))return 0;for(var T=0,k=Math.min(x.length,E.length),A=k,M=0;T<A;)x.substring(x.length-A,x.length-M)==E.substring(E.length-A,E.length-M)?(T=A,M=T):k=A,A=Math.floor((k-T)/2+T);return A}function d(x,E){var T=x.length>E.length?x:E,k=x.length>E.length?E:x;if(T.length<4||k.length*2<T.length)return null;function A(B,G,U){for(var $=B.substring(U,U+Math.floor(B.length/4)),P=-1,F="",N,z,V,L;(P=G.indexOf($,P+1))!=-1;){var j=m(B.substring(U),G.substring(P)),J=h(B.substring(0,U),G.substring(0,P));F.length<J+j&&(F=G.substring(P-J,P)+G.substring(P,P+j),N=B.substring(0,U-J),z=B.substring(U+j),V=G.substring(0,P-J),L=G.substring(P+j))}return F.length*2>=B.length?[N,z,V,L,F]:null}var M=A(T,k,Math.ceil(T.length/4)),S=A(T,k,Math.ceil(T.length/2)),C;if(!M&&!S)return null;S?M?C=M[4].length>S[4].length?M:S:C=S:C=M;var I,O,D,R;x.length>E.length?(I=C[0],O=C[1],D=C[2],R=C[3]):(D=C[0],R=C[1],I=C[2],O=C[3]);var w=C[4];return[I,O,D,R,w]}function g(x){x.push([s,""]);for(var E=0,T=0,k=0,A="",M="",S;E<x.length;)switch(x[E][0]){case o:k++,M+=x[E][1],E++;break;case a:T++,A+=x[E][1],E++;break;case s:T+k>1?(T!==0&&k!==0&&(S=m(M,A),S!==0&&(E-T-k>0&&x[E-T-k-1][0]==s?x[E-T-k-1][1]+=M.substring(0,S):(x.splice(0,0,[s,M.substring(0,S)]),E++),M=M.substring(S),A=A.substring(S)),S=h(M,A),S!==0&&(x[E][1]=M.substring(M.length-S)+x[E][1],M=M.substring(0,M.length-S),A=A.substring(0,A.length-S))),T===0?x.splice(E-k,T+k,[o,M]):k===0?x.splice(E-T,T+k,[a,A]):x.splice(E-T-k,T+k,[a,A],[o,M]),E=E-T-k+(T?1:0)+(k?1:0)+1):E!==0&&x[E-1][0]==s?(x[E-1][1]+=x[E][1],x.splice(E,1)):E++,k=0,T=0,A="",M="";break}x[x.length-1][1]===""&&x.pop();var C=!1;for(E=1;E<x.length-1;)x[E-1][0]==s&&x[E+1][0]==s&&(x[E][1].substring(x[E][1].length-x[E-1][1].length)==x[E-1][1]?(x[E][1]=x[E-1][1]+x[E][1].substring(0,x[E][1].length-x[E-1][1].length),x[E+1][1]=x[E-1][1]+x[E+1][1],x.splice(E-1,1),C=!0):x[E][1].substring(0,x[E+1][1].length)==x[E+1][1]&&(x[E-1][1]+=x[E+1][1],x[E][1]=x[E][1].substring(x[E+1][1].length)+x[E+1][1],x.splice(E+1,1),C=!0)),E++;C&&g(x)}var v=l;v.INSERT=o,v.DELETE=a,v.EQUAL=s,n.exports=v;function _(x,E){if(E===0)return[s,x];for(var T=0,k=0;k<x.length;k++){var A=x[k];if(A[0]===a||A[0]===s){var M=T+A[1].length;if(E===M)return[k+1,x];if(E<M){x=x.slice();var S=E-T,C=[A[0],A[1].slice(0,S)],I=[A[0],A[1].slice(S)];return x.splice(k,1,C,I),[k+1,x]}else T=M}}throw new Error("cursor_pos is out of bounds!")}function y(x,E){var T=_(x,E),k=T[1],A=T[0],M=k[A],S=k[A+1];if(M==null)return x;if(M[0]!==s)return x;if(S!=null&&M[1]+S[1]===S[1]+M[1])return k.splice(A,2,S,M),b(k,A,2);if(S!=null&&S[1].indexOf(M[1])===0){k.splice(A,2,[S[0],M[1]],[0,M[1]]);var C=S[1].slice(M[1].length);return C.length>0&&k.splice(A+2,0,[S[0],C]),b(k,A,3)}else return x}function q(x){for(var E=!1,T=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},k=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},A=2;A<x.length;A+=1)x[A-2][0]===s&&k(x[A-2][1])&&x[A-1][0]===a&&T(x[A-1][1])&&x[A][0]===o&&T(x[A][1])&&(E=!0,x[A-1][1]=x[A-2][1].slice(-1)+x[A-1][1],x[A][1]=x[A-2][1].slice(-1)+x[A][1],x[A-2][1]=x[A-2][1].slice(0,-1));if(!E)return x;for(var M=[],A=0;A<x.length;A+=1)x[A][1].length>0&&M.push(x[A]);return M}function b(x,E,T){for(var k=E+T-1;k>=0&&k>=E-1;k--)if(k+1<x.length){var A=x[k],M=x[k+1];A[0]===M[1]&&x.splice(k,2,[A[0],A[1]+M[1]])}return x}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:a,r.shim=a;function a(o){var s=[];for(var l in o)s.push(l);return s}},function(n,r){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=a?o:s,r.supported=o;function o(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=s;function s(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,r){var a=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function l(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,h;if(this._eventsCount===0)return f;for(h in m=this._events)a.call(m,h)&&f.push(o?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f,m){var h=o?o+f:f,d=this._events[h];if(m)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var g=0,v=d.length,_=new Array(v);g<v;g++)_[g]=d[g].fn;return _},c.prototype.emit=function(f,m,h,d,g,v){var _=o?o+f:f;if(!this._events[_])return!1;var y=this._events[_],q=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),q){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,h),!0;case 4:return y.fn.call(y.context,m,h,d),!0;case 5:return y.fn.call(y.context,m,h,d,g),!0;case 6:return y.fn.call(y.context,m,h,d,g,v),!0}for(x=1,b=new Array(q-1);x<q;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var E=y.length,T;for(x=0;x<E;x++)switch(y[x].once&&this.removeListener(f,y[x].fn,void 0,!0),q){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,m);break;case 3:y[x].fn.call(y[x].context,m,h);break;case 4:y[x].fn.call(y[x].context,m,h,d);break;default:if(!b)for(T=1,b=new Array(q-1);T<q;T++)b[T-1]=arguments[T];y[x].fn.apply(y[x].context,b)}}return!0},c.prototype.on=function(f,m,h){var d=new l(m,h||this),g=o?o+f:f;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],d]:this._events[g].push(d):(this._events[g]=d,this._eventsCount++),this},c.prototype.once=function(f,m,h){var d=new l(m,h||this,!0),g=o?o+f:f;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],d]:this._events[g].push(d):(this._events[g]=d,this._eventsCount++),this},c.prototype.removeListener=function(f,m,h,d){var g=o?o+f:f;if(!this._events[g])return this;if(!m)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var v=this._events[g];if(v.fn)v.fn===m&&(!d||v.once)&&(!h||v.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var _=0,y=[],q=v.length;_<q;_++)(v[_].fn!==m||d&&!v[_].once||h&&v[_].context!==h)&&y.push(v[_]);y.length?this._events[g]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=o?o+f:f,this._events[m]&&(--this._eventsCount===0?this._events=new s:delete this._events[m])):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=o,c.EventEmitter=c,typeof n!="undefined"&&(n.exports=c)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},s=function(){function X(ee,oe){var le=[],ne=!0,_e=!1,he=void 0;try{for(var ve=ee[Symbol.iterator](),ke;!(ne=(ke=ve.next()).done)&&(le.push(ke.value),!(oe&&le.length===oe));ne=!0);}catch(Ce){_e=!0,he=Ce}finally{try{!ne&&ve.return&&ve.return()}finally{if(_e)throw he}}return le}return function(ee,oe){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return X(ee,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function X(ee,oe){for(var le=0;le<oe.length;le++){var ne=oe[le];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ee,ne.key,ne)}}return function(ee,oe,le){return oe&&X(ee.prototype,oe),le&&X(ee,le),ee}}(),c=a(3),u=I(c),f=a(2),m=I(f),h=a(0),d=I(h),g=a(5),v=I(g),_=a(10),y=I(_),q=a(9),b=I(q),x=a(36),E=a(37),T=a(13),k=I(T),A=a(26),M=a(38),S=a(39),C=a(40);function I(X){return X&&X.__esModule?X:{default:X}}function O(X,ee,oe){return ee in X?Object.defineProperty(X,ee,{value:oe,enumerable:!0,configurable:!0,writable:!0}):X[ee]=oe,X}function D(X,ee){if(!(X instanceof ee))throw new TypeError("Cannot call a class as a function")}function R(X,ee){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:X}function w(X,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);X.prototype=Object.create(ee&&ee.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(X,ee):X.__proto__=ee)}var B=(0,y.default)("quill:clipboard"),G="__ql-matcher",U=[[Node.TEXT_NODE,se],[Node.TEXT_NODE,Y],["br",ce],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ae],["li",H],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",ge]],$=[x.AlignAttribute,M.DirectionAttribute].reduce(function(X,ee){return X[ee.keyName]=ee,X},{}),P=[x.AlignStyle,E.BackgroundStyle,A.ColorStyle,M.DirectionStyle,S.FontStyle,C.SizeStyle].reduce(function(X,ee){return X[ee.keyName]=ee,X},{}),F=function(X){w(ee,X);function ee(oe,le){D(this,ee);var ne=R(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,oe,le));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],U.concat(ne.options.matchers).forEach(function(_e){var he=s(_e,2),ve=he[0],ke=he[1];!le.matchVisual&&ke===W||ne.addMatcher(ve,ke)}),ne}return l(ee,[{key:"addMatcher",value:function(le,ne){this.matchers.push([le,ne])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[k.default.blotName]){var _e=this.container.innerText;return this.container.innerHTML="",new m.default().insert(_e,O({},k.default.blotName,ne[k.default.blotName]))}var he=this.prepareMatching(),ve=s(he,2),ke=ve[0],Ce=ve[1],qe=j(this.container,ke,Ce);return V(qe,`
`)&&qe.ops[qe.ops.length-1].attributes==null&&(qe=qe.compose(new m.default().retain(qe.length()-1).delete(1))),B.log("convert",this.container.innerHTML,qe),this.container.innerHTML="",qe}},{key:"dangerouslyPasteHTML",value:function(le,ne){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),ne),this.quill.setSelection(0,v.default.sources.SILENT);else{var he=this.convert(ne);this.quill.updateContents(new m.default().retain(le).concat(he),_e),this.quill.setSelection(le+he.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var ne=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var _e=this.quill.getSelection(),he=new m.default().retain(_e.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){he=he.concat(ne.convert()).delete(_e.length),ne.quill.updateContents(he,v.default.sources.USER),ne.quill.setSelection(he.length()-_e.length,v.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=ve,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,ne=[],_e=[];return this.matchers.forEach(function(he){var ve=s(he,2),ke=ve[0],Ce=ve[1];switch(ke){case Node.TEXT_NODE:_e.push(Ce);break;case Node.ELEMENT_NODE:ne.push(Ce);break;default:[].forEach.call(le.container.querySelectorAll(ke),function(qe){qe[G]=qe[G]||[],qe[G].push(Ce)});break}}),[ne,_e]}}]),ee}(b.default);F.DEFAULTS={matchers:[],matchVisual:!0};function N(X,ee,oe){return(typeof ee=="undefined"?"undefined":o(ee))==="object"?Object.keys(ee).reduce(function(le,ne){return N(le,ne,ee[ne])},X):X.reduce(function(le,ne){return ne.attributes&&ne.attributes[ee]?le.push(ne):le.insert(ne.insert,(0,u.default)({},O({},ee,oe),ne.attributes))},new m.default)}function z(X){if(X.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return X[ee]||(X[ee]=window.getComputedStyle(X))}function V(X,ee){for(var oe="",le=X.ops.length-1;le>=0&&oe.length<ee.length;--le){var ne=X.ops[le];if(typeof ne.insert!="string")break;oe=ne.insert+oe}return oe.slice(-1*ee.length)===ee}function L(X){if(X.childNodes.length===0)return!1;var ee=z(X);return["block","list-item"].indexOf(ee.display)>-1}function j(X,ee,oe){return X.nodeType===X.TEXT_NODE?oe.reduce(function(le,ne){return ne(X,le)},new m.default):X.nodeType===X.ELEMENT_NODE?[].reduce.call(X.childNodes||[],function(le,ne){var _e=j(ne,ee,oe);return ne.nodeType===X.ELEMENT_NODE&&(_e=ee.reduce(function(he,ve){return ve(ne,he)},_e),_e=(ne[G]||[]).reduce(function(he,ve){return ve(ne,he)},_e)),le.concat(_e)},new m.default):new m.default}function J(X,ee,oe){return N(oe,X,!0)}function Q(X,ee){var oe=d.default.Attributor.Attribute.keys(X),le=d.default.Attributor.Class.keys(X),ne=d.default.Attributor.Style.keys(X),_e={};return oe.concat(le).concat(ne).forEach(function(he){var ve=d.default.query(he,d.default.Scope.ATTRIBUTE);ve!=null&&(_e[ve.attrName]=ve.value(X),_e[ve.attrName])||(ve=$[he],ve!=null&&(ve.attrName===he||ve.keyName===he)&&(_e[ve.attrName]=ve.value(X)||void 0),ve=P[he],ve!=null&&(ve.attrName===he||ve.keyName===he)&&(ve=P[he],_e[ve.attrName]=ve.value(X)||void 0))}),Object.keys(_e).length>0&&(ee=N(ee,_e)),ee}function re(X,ee){var oe=d.default.query(X);if(oe==null)return ee;if(oe.prototype instanceof d.default.Embed){var le={},ne=oe.value(X);ne!=null&&(le[oe.blotName]=ne,ee=new m.default().insert(le,oe.formats(X)))}else typeof oe.formats=="function"&&(ee=N(ee,oe.blotName,oe.formats(X)));return ee}function ce(X,ee){return V(ee,`
`)||ee.insert(`
`),ee}function ge(){return new m.default}function H(X,ee){var oe=d.default.query(X);if(oe==null||oe.blotName!=="list-item"||!V(ee,`
`))return ee;for(var le=-1,ne=X.parentNode;!ne.classList.contains("ql-clipboard");)(d.default.query(ne)||{}).blotName==="list"&&(le+=1),ne=ne.parentNode;return le<=0?ee:ee.compose(new m.default().retain(ee.length()-1).retain(1,{indent:le}))}function Y(X,ee){return V(ee,`
`)||(L(X)||ee.length()>0&&X.nextSibling&&L(X.nextSibling))&&ee.insert(`
`),ee}function W(X,ee){if(L(X)&&X.nextElementSibling!=null&&!V(ee,`

`)){var oe=X.offsetHeight+parseFloat(z(X).marginTop)+parseFloat(z(X).marginBottom);X.nextElementSibling.offsetTop>X.offsetTop+oe*1.5&&ee.insert(`
`)}return ee}function ae(X,ee){var oe={},le=X.style||{};return le.fontStyle&&z(X).fontStyle==="italic"&&(oe.italic=!0),le.fontWeight&&(z(X).fontWeight.startsWith("bold")||parseInt(z(X).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(ee=N(ee,oe)),parseFloat(le.textIndent||0)>0&&(ee=new m.default().insert("	").concat(ee)),ee}function se(X,ee){var oe=X.data;if(X.parentNode.tagName==="O:P")return ee.insert(oe.trim());if(oe.trim().length===0&&X.parentNode.classList.contains("ql-clipboard"))return ee;if(!z(X.parentNode).whiteSpace.startsWith("pre")){var le=function(_e,he){return he=he.replace(/[^\u00a0]/g,""),he.length<1&&_e?" ":he};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,le.bind(le,!0)),(X.previousSibling==null&&L(X.parentNode)||X.previousSibling!=null&&L(X.previousSibling))&&(oe=oe.replace(/^\s+/,le.bind(le,!1))),(X.nextSibling==null&&L(X.parentNode)||X.nextSibling!=null&&L(X.nextSibling))&&(oe=oe.replace(/\s+$/,le.bind(le,!1)))}return ee.insert(oe)}r.default=F,r.matchAttributor=Q,r.matchBlot=re,r.matchNewline=Y,r.matchSpacing=W,r.matchText=se},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,_){for(var y=0;y<_.length;y++){var q=_[y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(v,q.key,q)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),s=function g(v,_,y){v===null&&(v=Function.prototype);var q=Object.getOwnPropertyDescriptor(v,_);if(q===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,_,y)}else{if("value"in q)return q.value;var x=q.get;return x===void 0?void 0:x.call(y)}},l=a(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){h(v,g);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(y){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(c.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function C(I,O){var D=[],R=!0,w=!1,B=void 0;try{for(var G=I[Symbol.iterator](),U;!(R=(U=G.next()).done)&&(D.push(U.value),!(O&&D.length===O));R=!0);}catch($){w=!0,B=$}finally{try{!R&&G.return&&G.return()}finally{if(w)throw B}}return D}return function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(I,O){for(var D=0;D<O.length;D++){var R=O[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,O,D){return O&&C(I.prototype,O),D&&C(I,D),I}}(),l=a(2),c=y(l),u=a(0),f=y(u),m=a(5),h=y(m),d=a(10),g=y(d),v=a(9),_=y(v);function y(C){return C&&C.__esModule?C:{default:C}}function q(C,I,O){return I in C?Object.defineProperty(C,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[I]=O,C}function b(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function x(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function E(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var T=(0,g.default)("quill:toolbar"),k=function(C){E(I,C);function I(O,D){b(this,I);var R=x(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,D));if(Array.isArray(R.options.container)){var w=document.createElement("div");M(w,R.options.container),O.container.parentNode.insertBefore(w,O.container),R.container=w}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;if(!(R.container instanceof HTMLElement)){var B;return B=T.error("Container required for toolbar",R.options),x(R,B)}return R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(G){R.addHandler(G,R.options.handlers[G])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(G){R.attach(G)}),R.quill.on(h.default.events.EDITOR_CHANGE,function(G,U){G===h.default.events.SELECTION_CHANGE&&R.update(U)}),R.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var G=R.quill.selection.getRange(),U=o(G,1),$=U[0];R.update($)}),R}return s(I,[{key:"addHandler",value:function(D,R){this.handlers[D]=R}},{key:"attach",value:function(D){var R=this,w=[].find.call(D.classList,function(G){return G.indexOf("ql-")===0});if(!!w){if(w=w.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[w]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[w]==null){T.warn("ignoring attaching to disabled format",w,D);return}if(f.default.query(w)==null){T.warn("ignoring attaching to nonexistent format",w,D);return}}var B=D.tagName==="SELECT"?"change":"click";D.addEventListener(B,function(G){var U=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var $=D.options[D.selectedIndex];$.hasAttribute("selected")?U=!1:U=$.value||!1}else D.classList.contains("ql-active")?U=!1:U=D.value||!D.hasAttribute("value"),G.preventDefault();R.quill.focus();var P=R.quill.selection.getRange(),F=o(P,1),N=F[0];if(R.handlers[w]!=null)R.handlers[w].call(R,U);else if(f.default.query(w).prototype instanceof f.default.Embed){if(U=prompt("Enter "+w),!U)return;R.quill.updateContents(new c.default().retain(N.index).delete(N.length).insert(q({},w,U)),h.default.sources.USER)}else R.quill.format(w,U,h.default.sources.USER);R.update(N)}),this.controls.push([w,D])}}},{key:"update",value:function(D){var R=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(w){var B=o(w,2),G=B[0],U=B[1];if(U.tagName==="SELECT"){var $=void 0;if(D==null)$=null;else if(R[G]==null)$=U.querySelector("option[selected]");else if(!Array.isArray(R[G])){var P=R[G];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),$=U.querySelector('option[value="'+P+'"]')}$==null?(U.value="",U.selectedIndex=-1):$.selected=!0}else if(D==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var F=R[G]===U.getAttribute("value")||R[G]!=null&&R[G].toString()===U.getAttribute("value")||R[G]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",F)}else U.classList.toggle("ql-active",R[G]!=null)})}}]),I}(_.default);k.DEFAULTS={};function A(C,I,O){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+I),O!=null&&(D.value=O),C.appendChild(D)}function M(C,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(O){var D=document.createElement("span");D.classList.add("ql-formats"),O.forEach(function(R){if(typeof R=="string")A(D,R);else{var w=Object.keys(R)[0],B=R[w];Array.isArray(B)?S(D,w,B):A(D,w,B)}}),C.appendChild(D)})}function S(C,I,O){var D=document.createElement("select");D.classList.add("ql-"+I),O.forEach(function(R){var w=document.createElement("option");R!==!1?w.setAttribute("value",R):w.setAttribute("selected","selected"),D.appendChild(w)}),C.appendChild(D)}k.DEFAULTS={container:null,handlers:{clean:function(){var I=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function(R){f.default.query(R,f.default.Scope.INLINE)!=null&&I.quill.format(R,!1)})}else this.quill.removeFormat(O,h.default.sources.USER)},direction:function(I){var O=this.quill.getFormat().align;I==="rtl"&&O==null?this.quill.format("align","right",h.default.sources.USER):!I&&O==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",I,h.default.sources.USER)},indent:function(I){var O=this.quill.getSelection(),D=this.quill.getFormat(O),R=parseInt(D.indent||0);if(I==="+1"||I==="-1"){var w=I==="+1"?1:-1;D.direction==="rtl"&&(w*=-1),this.quill.format("indent",R+w,h.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,h.default.sources.USER)},list:function(I){var O=this.quill.getSelection(),D=this.quill.getFormat(O);I==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",I,h.default.sources.USER)}}},r.default=k,r.addControls=M},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,_){for(var y=0;y<_.length;y++){var q=_[y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(v,q.key,q)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),s=function g(v,_,y){v===null&&(v=Function.prototype);var q=Object.getOwnPropertyDescriptor(v,_);if(q===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,_,y)}else{if("value"in q)return q.value;var x=q.get;return x===void 0?void 0:x.call(y)}},l=a(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){h(v,g);function v(_,y){f(this,v);var q=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return q.label.innerHTML=y,q.container.classList.add("ql-color-picker"),[].slice.call(q.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),q}return o(v,[{key:"buildItem",value:function(y){var q=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return q.style.backgroundColor=y.getAttribute("value")||"",q}},{key:"selectItem",value:function(y,q){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,q);var b=this.label.querySelector(".ql-color-label"),x=y&&y.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=x:b.style.fill=x)}}]),v}(c.default);r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,_){for(var y=0;y<_.length;y++){var q=_[y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(v,q.key,q)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),s=function g(v,_,y){v===null&&(v=Function.prototype);var q=Object.getOwnPropertyDescriptor(v,_);if(q===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,_,y)}else{if("value"in q)return q.value;var x=q.get;return x===void 0?void 0:x.call(y)}},l=a(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){h(v,g);function v(_,y){f(this,v);var q=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return q.container.classList.add("ql-icon-picker"),[].forEach.call(q.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=y[b.getAttribute("data-value")||""]}),q.defaultItem=q.container.querySelector(".ql-selected"),q.selectItem(q.defaultItem),q}return o(v,[{key:"selectItem",value:function(y,q){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,q),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(c.default);r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(u,f){for(var m=0;m<f.length;m++){var h=f[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,f,m){return f&&c(u.prototype,f),m&&c(u,m),u}}();function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,f){var m=this;s(this,c),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return o(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var m=f.left+f.width/2-this.root.offsetWidth/2,h=f.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),v=0;if(g.right>d.right&&(v=d.right-g.right,this.root.style.left=m+v+"px"),g.left<d.left&&(v=d.left-g.left,this.root.style.left=m+v+"px"),g.bottom>d.bottom){var _=g.bottom-g.top,y=f.bottom-f.top+_;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();r.default=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function S(C,I){var O=[],D=!0,R=!1,w=void 0;try{for(var B=C[Symbol.iterator](),G;!(D=(G=B.next()).done)&&(O.push(G.value),!(I&&O.length===I));D=!0);}catch(U){R=!0,w=U}finally{try{!D&&B.return&&B.return()}finally{if(R)throw w}}return O}return function(C,I){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return S(C,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function S(C,I,O){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,I);if(D===void 0){var R=Object.getPrototypeOf(C);return R===null?void 0:S(R,I,O)}else{if("value"in D)return D.value;var w=D.get;return w===void 0?void 0:w.call(O)}},l=function(){function S(C,I){for(var O=0;O<I.length;O++){var D=I[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,I,O){return I&&S(C.prototype,I),O&&S(C,O),C}}(),c=a(3),u=b(c),f=a(8),m=b(f),h=a(43),d=b(h),g=a(27),v=b(g),_=a(15),y=a(41),q=b(y);function b(S){return S&&S.__esModule?S:{default:S}}function x(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function E(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:S}function T(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=function(S){T(C,S);function C(I,O){x(this,C),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=k);var D=E(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,O));return D.quill.container.classList.add("ql-snow"),D}return l(C,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),q.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),q.default),this.tooltip=new M(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,R){O.handlers.link.call(O,!R.format.link)})}}]),C}(d.default);A.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var I=this.quill.getSelection();if(I==null||I.length==0)return;var O=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var D=this.quill.theme.tooltip;D.edit("link",O)}else this.quill.format("link",!1)}}}}});var M=function(S){T(C,S);function C(I,O){x(this,C);var D=E(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,O));return D.preview=D.root.querySelector("a.ql-preview"),D}return l(C,[{key:"listen",value:function(){var O=this;s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(O.linkRange!=null){var R=O.linkRange;O.restoreFocus(),O.quill.formatText(R,"link",!1,m.default.sources.USER),delete O.linkRange}D.preventDefault(),O.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(D,R,w){if(D!=null){if(D.length===0&&w===m.default.sources.USER){var B=O.quill.scroll.descendant(v.default,D.index),G=o(B,2),U=G[0],$=G[1];if(U!=null){O.linkRange=new _.Range(D.index-$,U.length());var P=v.default.formats(U.domNode);O.preview.textContent=P,O.preview.setAttribute("href",P),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),C}(h.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=A},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(29),s=ne(o),l=a(36),c=a(38),u=a(64),f=a(65),m=ne(f),h=a(66),d=ne(h),g=a(67),v=ne(g),_=a(37),y=a(26),q=a(39),b=a(40),x=a(56),E=ne(x),T=a(68),k=ne(T),A=a(27),M=ne(A),S=a(69),C=ne(S),I=a(70),O=ne(I),D=a(71),R=ne(D),w=a(72),B=ne(w),G=a(73),U=ne(G),$=a(13),P=ne($),F=a(74),N=ne(F),z=a(75),V=ne(z),L=a(57),j=ne(L),J=a(41),Q=ne(J),re=a(28),ce=ne(re),ge=a(59),H=ne(ge),Y=a(60),W=ne(Y),ae=a(61),se=ne(ae),X=a(108),ee=ne(X),oe=a(62),le=ne(oe);function ne(_e){return _e&&_e.__esModule?_e:{default:_e}}s.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":q.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":q.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":q.FontClass,"formats/size":b.SizeClass,"formats/blockquote":m.default,"formats/code-block":P.default,"formats/header":d.default,"formats/list":v.default,"formats/bold":E.default,"formats/code":$.Code,"formats/italic":k.default,"formats/link":M.default,"formats/script":C.default,"formats/strike":O.default,"formats/underline":R.default,"formats/image":B.default,"formats/video":U.default,"formats/list/item":g.ListItem,"modules/formula":N.default,"modules/syntax":V.default,"modules/toolbar":j.default,"themes/bubble":ee.default,"themes/snow":le.default,"ui/icons":Q.default,"ui/picker":ce.default,"ui/icon-picker":W.default,"ui/color-picker":H.default,"ui/tooltip":se.default},!0),r.default=s.default},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(_,y){for(var q=0;q<y.length;q++){var b=y[q];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,y,q){return y&&v(_.prototype,y),q&&v(_,q),_}}(),s=function v(_,y,q){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,y);if(b===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:v(x,y,q)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(q)}},l=a(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function m(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function h(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var d=function(v){h(_,v);function _(){return f(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(q,b){if(b==="+1"||b==="-1"){var x=this.value(q)||0;b=b==="+1"?x+1:x-1}return b===0?(this.remove(q),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,q,b)}},{key:"canAdd",value:function(q,b){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,q,b)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,q,parseInt(b))}},{key:"value",value:function(q){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,q))||void 0}}]),_}(c.default.Attributor.Class),g=new d("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(4),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function f(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var m=function(h){f(d,h);function d(){return c(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(g,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,_){return v&&d(g.prototype,v),_&&d(g,_),g}}(),s=a(4),l=c(s);function c(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function f(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function m(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var h=function(d){m(g,d);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),g}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function x(E,T){for(var k=0;k<T.length;k++){var A=T[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,k){return T&&x(E.prototype,T),k&&x(E,k),E}}(),s=function x(E,T,k){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:x(M,T,k)}else{if("value"in A)return A.value;var S=A.get;return S===void 0?void 0:S.call(k)}},l=a(0),c=d(l),u=a(4),f=d(u),m=a(25),h=d(m);function d(x){return x&&x.__esModule?x:{default:x}}function g(x,E,T){return E in x?Object.defineProperty(x,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[E]=T,x}function v(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function _(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function y(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var q=function(x){y(E,x);function E(){return v(this,E),_(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(k,A){k===b.blotName&&!A?this.replaceWith(c.default.create(this.statics.scope)):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,k,A)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,A){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,A),this):(this.parent.unwrap(),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,k,A))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:s(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,k)}}]),E}(f.default);q.blotName="list-item",q.tagName="LI";var b=function(x){y(E,x),o(E,null,[{key:"create",value:function(k){var A=k==="ordered"?"OL":"UL",M=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,A);return(k==="checked"||k==="unchecked")&&M.setAttribute("data-checked",k==="checked"),M}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function E(T){v(this,E);var k=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T)),A=function(S){if(S.target.parentNode===T){var C=k.statics.formats(T),I=c.default.find(S.target);C==="checked"?I.format("list","unchecked"):C==="unchecked"&&I.format("list","checked")}};return T.addEventListener("touchstart",A),T.addEventListener("mousedown",A),k}return o(E,[{key:"format",value:function(k,A){this.children.length>0&&this.children.tail.format(k,A)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,A){if(k instanceof q)s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,k,A);else{var M=A==null?this.length():A.offset(this),S=this.split(M);S.parent.insertBefore(k,S)}}},{key:"optimize",value:function(k){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,k);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var A=c.default.create(this.statics.defaultChild);k.moveChildren(A),this.appendChild(A)}s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,k)}}]),E}(h.default);b.blotName="list",b.scope=c.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[q],r.ListItem=q,r.default=b},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(56),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function f(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var m=function(h){f(d,h);function d(){return c(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,_){for(var y=0;y<_.length;y++){var q=_[y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(v,q.key,q)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),s=function g(v,_,y){v===null&&(v=Function.prototype);var q=Object.getOwnPropertyDescriptor(v,_);if(q===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,_,y)}else{if("value"in q)return q.value;var x=q.get;return x===void 0?void 0:x.call(y)}},l=a(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){h(v,g);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(c.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(6),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function f(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var m=function(h){f(d,h);function d(){return c(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);m.blotName="strike",m.tagName="S",r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=a(6),s=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function f(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var m=function(h){f(d,h);function d(){return c(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);m.blotName="underline",m.tagName="U",r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,q){for(var b=0;b<q.length;b++){var x=q[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,q,b){return q&&_(y.prototype,q),b&&_(y,b),y}}(),s=function _(y,q,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,q);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:_(E,q,b)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(b)}},l=a(0),c=f(l),u=a(27);function f(_){return _&&_.__esModule?_:{default:_}}function m(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function h(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=["alt","height","width"],v=function(_){d(y,_);function y(){return m(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(b,x){g.indexOf(b)>-1?x?this.domNode.setAttribute(b,x):this.domNode.removeAttribute(b):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}],[{key:"create",value:function(b){var x=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return typeof b=="string"&&x.setAttribute("src",this.sanitize(b)),x}},{key:"formats",value:function(b){return g.reduce(function(x,E){return b.hasAttribute(E)&&(x[E]=b.getAttribute(E)),x},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(c.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,q){for(var b=0;b<q.length;b++){var x=q[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,q,b){return q&&_(y.prototype,q),b&&_(y,b),y}}(),s=function _(y,q,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,q);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:_(E,q,b)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(b)}},l=a(4),c=a(27),u=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function m(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function h(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=["height","width"],v=function(_){d(y,_);function y(){return m(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(b,x){g.indexOf(b)>-1?x?this.domNode.setAttribute(b,x):this.domNode.removeAttribute(b):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}],[{key:"create",value:function(b){var x=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(b)),x}},{key:"formats",value:function(b){return g.reduce(function(x,E){return b.hasAttribute(E)&&(x[E]=b.getAttribute(E)),x},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(x,E){for(var T=0;T<E.length;T++){var k=E[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,T){return E&&b(x.prototype,E),T&&b(x,T),x}}(),s=function b(x,E,T){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var A=Object.getPrototypeOf(x);return A===null?void 0:b(A,E,T)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(T)}},l=a(35),c=d(l),u=a(5),f=d(u),m=a(9),h=d(m);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function v(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function _(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){_(x,b);function x(){return g(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"create",value:function(T){var k=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",T)),k}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),x}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var q=function(b){_(x,b),o(x,null,[{key:"register",value:function(){f.default.register(y,!0)}}]);function x(){g(this,x);var E=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return E}return x}(h.default);r.FormulaBlot=y,r.default=q},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function T(k,A){for(var M=0;M<A.length;M++){var S=A[M];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(k,S.key,S)}}return function(k,A,M){return A&&T(k.prototype,A),M&&T(k,M),k}}(),s=function T(k,A,M){k===null&&(k=Function.prototype);var S=Object.getOwnPropertyDescriptor(k,A);if(S===void 0){var C=Object.getPrototypeOf(k);return C===null?void 0:T(C,A,M)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(M)}},l=a(0),c=v(l),u=a(5),f=v(u),m=a(9),h=v(m),d=a(13),g=v(d);function v(T){return T&&T.__esModule?T:{default:T}}function _(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function y(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function q(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var b=function(T){q(k,T);function k(){return _(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),k}(g.default);b.className="ql-syntax";var x=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),E=function(T){q(k,T),o(k,null,[{key:"register",value:function(){f.default.register(x,!0),f.default.register(b,!0)}}]);function k(A,M){_(this,k);var S=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,M));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var C=null;return S.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(C),C=setTimeout(function(){S.highlight(),C=null},S.options.interval)}),S.highlight(),S}return o(k,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(C){C.highlight(M.options.highlight)}),this.quill.update(f.default.sources.SILENT),S!=null&&this.quill.setSelection(S,f.default.sources.SILENT)}}}]),k}(h.default);E.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var k=window.hljs.highlightAuto(T);return k.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=x,r.default=E},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function k(A,M,S){A===null&&(A=Function.prototype);var C=Object.getOwnPropertyDescriptor(A,M);if(C===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:k(I,M,S)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(S)}},s=function(){function k(A,M){for(var S=0;S<M.length;S++){var C=M[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}return function(A,M,S){return M&&k(A.prototype,M),S&&k(A,S),A}}(),l=a(3),c=_(l),u=a(8),f=_(u),m=a(43),h=_(m),d=a(15),g=a(41),v=_(g);function _(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function q(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function b(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],E=function(k){b(A,k);function A(M,S){y(this,A),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=x);var C=q(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,M,S));return C.quill.container.classList.add("ql-bubble"),C}return s(A,[{key:"extendToolbar",value:function(S){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),v.default)}}]),A}(h.default);E.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(k){b(A,k);function A(M,S){y(this,A);var C=q(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,M,S));return C.quill.on(f.default.events.EDITOR_CHANGE,function(I,O,D,R){if(I===f.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&R===f.default.sources.USER){C.show(),C.root.style.left="0px",C.root.style.width="",C.root.style.width=C.root.offsetWidth+"px";var w=C.quill.getLines(O.index,O.length);if(w.length===1)C.position(C.quill.getBounds(O));else{var B=w[w.length-1],G=C.quill.getIndex(B),U=Math.min(B.length()-1,O.index+O.length-G),$=C.quill.getBounds(new d.Range(G,U));C.position($)}}else document.activeElement!==C.textbox&&C.quill.hasFocus()&&C.hide()}),C}return s(A,[{key:"listen",value:function(){var S=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var C=S.quill.getSelection();C!=null&&S.position(S.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var C=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"position",this).call(this,S),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",C===0)return C;I.style.marginLeft=-1*C-I.offsetWidth/2+"px"}}]),A}(m.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=T,r.default=E},function(n,r,a){n.exports=a(63)}]).default})})(quill);var Quill=getDefaultExportFromCjs(quill.exports);Quill.debug("error");const Delta=Quill.import("delta"),Break=Quill.import("blots/break"),Embed=Quill.import("blots/embed"),Inline=Quill.import("blots/inline"),Link$1=Quill.import("formats/link"),lineBreak={blotName:"break",tagName:"BR"};class SmartBreak extends Break{length(){return 1}value(){return`
`}insertInto(t,n){Embed.prototype.insertInto.call(this,t,n)}}SmartBreak.blotName=lineBreak.blotName;SmartBreak.tagName=lineBreak.tagName;const lineBreakHandle={key:13,shiftKey:!0,handler:function(e){const t=this.quill.getLeaf(e.index)[0],n=this.quill.getLeaf(e.index+1)[0];this.quill.insertEmbed(e.index,lineBreak.blotName,!0,"user"),(n===null||t.parent!==n.parent)&&this.quill.insertEmbed(e.index,lineBreak.blotName,!0,"user"),this.quill.setSelection(e.index+1,Quill.sources.SILENT)}};function lineBreakMatcher(){const e=new Delta;return e.insert({break:""}),e}Quill.register(SmartBreak);const anchor={blotName:"anchor",tagName:"SPAN"};class Anchor extends Inline{static create(t){const n=super.create(t);return t=this.sanitize(t),n.setAttribute("id",t),n.className="ql-anchor",n}static sanitize(t){return t.replace(/\s+/g,"-").toLowerCase()}static formats(t){return t.getAttribute("id")}format(t,n){if(t!==this.statics.blotName||!n)return super.format(t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("id",n)}}Anchor.blotName=anchor.blotName;Anchor.tagName=anchor.tagName;Quill.register(Anchor);class MyLink extends Link$1{static create(t){const n=super.create(t);if(t=this.sanitize(t),n.setAttribute("href",t),/^((http|https|ftp):\/\/)/.test(t)||n.removeAttribute("target"),window[{}.VUE_APP_NAME].STORE.form.baseUrl){const a=new URL(window[{}.VUE_APP_NAME].STORE.form.baseUrl);t.startsWith(a.origin)&&n.removeAttribute("target")}return n}format(t,n){if(super.format(t,n),t!==this.statics.blotName||!n)return;if(!/^((http|https|ftp):\/\/)/.test(n)){this.domNode.removeAttribute("target");return}if(window[{}.VUE_APP_NAME].STORE.form.baseUrl&&n.startsWith(window[{}.VUE_APP_NAME].STORE.form.baseUrl)){this.domNode.removeAttribute("target");return}this.domNode.setAttribute("target","_blank")}}Quill.register(MyLink);function getIcon(e){return'<span class="icon icon--wysiwyg_'+e+'" aria-hidden="true"><svg><title>'+e+'</title><use xlink:href="#icon--wysiwyg_'+e+'"></use></svg></span>'}const icons=Quill.import("ui/icons");icons.bold=getIcon("bold");icons.italic=getIcon("italic");icons.italic=getIcon("italic");icons.anchor=getIcon("anchor");icons.link=getIcon("link");icons.header[1]=getIcon("header");icons.header[2]=getIcon("header-2");icons.header[3]=getIcon("header-3");icons.header[4]=getIcon("header-4");icons.header[5]=getIcon("header-5");icons.header[6]=getIcon("header-6");const QuillDefaultFormats=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula","image","video"];function getQuillFormats(e){const t=[lineBreak.blotName,anchor.blotName];function n(r){t.indexOf(r)>-1||QuillDefaultFormats.indexOf(r)===-1||t.push(r)}return e.forEach(r=>{if(typeof r=="object")for(const a in r)n(a);typeof r=="string"&&n(r)}),t}var QuillConfiguration={Quill,lineBreak:{handle:lineBreakHandle,clipboard:[lineBreak.tagName,lineBreakMatcher]},getFormats:getQuillFormats};const loadScript=(e,t,n)=>new Promise((r,a)=>{let o=document.getElementById(e);const s=()=>{o.removeEventListener("load",s),r()};o?o.addEventListener("load",s):(o=document.createElement("script"),o.setAttribute("id",e),o.type=n,o.onload=s,o.onerror=a,document.getElementsByTagName("head")[0].appendChild(o),o.src=t)});var render$C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,required:e.required},on:{localize:e.updateLocale}},[n("div",{staticClass:"wysiwyg__outer",class:e.textfieldClasses},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{name:e.name,type:"hidden"},domProps:{value:e.value},on:{input:function(r){r.target.composing||(e.value=r.target.value)}}}),e.editSource?[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[n("div",{ref:"editorcontainer",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":e.limitHeight}},[n("div",{ref:"editor",staticClass:"wysiwyg__editor-inner"})]),e.shouldShowCounter?n("span",{staticClass:"wysiwyg__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea",attrs:{dir:e.dirLocale}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.textareaHeight,attrs:{placeholder:e.placeholder,autofocus:e.autofocus},domProps:{value:e.value},on:{change:e.updateSourcecode,input:function(r){r.target.composing||(e.value=r.target.value)}}})]),n("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:e.toggleSourcecode}},[e._v("Source code")])]:[n("div",{staticClass:"wysiwyg",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[n("div",{ref:"editorcontainer",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":e.limitHeight}},[n("div",{ref:"editor",staticClass:"wysiwyg__editor-inner"})]),e.shouldShowCounter?n("span",{staticClass:"wysiwyg__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()])]],2)])},staticRenderFns$B=[],Wysiwyg_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-3efade48]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-3efade48]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-3efade48]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-3efade48]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-3efade48]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-3efade48]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-3efade48]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-3efade48]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-3efade48]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-3efade48]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-3efade48]{width:auto}}.wysiwyg__button[data-v-3efade48]{margin-top:20px}.wysiwyg__outer--limitHeight .wysiwyg[data-v-3efade48]{position:relative;overflow:hidden}.wysiwyg__editor--limitHeight[data-v-3efade48]{max-height:calc(100vh - 250px);overflow-y:scroll;min-height:142px;border:1px solid #d9d9d9;border-top:none;scroll-behavior:smooth;margin-top:52px}.input--error .wysiwyg__editor--limitHeight[data-v-3efade48]{border-color:#e61414;border-top:none}.s--focus .wysiwyg__editor--limitHeight[data-v-3efade48]{border-color:#a6a6a6;border-top:none}
`)(),Wysiwyg_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.wysiwyg__limit{height:43px;line-height:43px;color:#8c8c8c;user-select:none;pointer-events:none;position:absolute;right:15px;bottom:0}.wysiwyg__limit--red{color:red}.wysiwyg[dir=rtl] .wysiwyg__limit{left:15px;right:auto}
`)(),Wysiwyg_vue_vue_type_style_index_2_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.a17 .ql-toolbar.ql-snow{border-top-left-radius:2px;border-top-right-radius:2px;background-color:#fbfbfb;font-family:inherit}.a17 .wysiwyg__editor--limitHeight .ql-toolbar{z-index:1;position:absolute;top:0;left:0;right:0}.a17 .ql-editor.ql-blank:before{font-style:normal;color:#ccc;font-size:15px}.a17 .ql-container.ql-snow{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.a17 .ql-editor{background-color:#fbfbfb;min-height:90px;caret-color:#3278b8;color:#666;overflow:visible}.a17 .ql-editor:hover,.a17 .ql-editor:focus{background:#fff}.a17 *[dir=rtl] .ql-editor{direction:rtl;text-align:right}.a17 .wysiwyg__editor--limitHeight .ql-editor{min-height:150px}.a17 .ql-snow .ql-editor h1,.a17 .ql-snow .ql-editor h2,.a17 .ql-snow .ql-editor h3,.a17 .ql-snow .ql-editor h4,.a17 .ql-snow .ql-editor h5,.a17 .ql-snow .ql-editor h6,.a17 .ql-snow .ql-editor b,.a17 .ql-snow .ql-editor p b,.a17 .ql-snow .ql-editor p strong,.a17 .ql-snow .ql-editor strong{font-weight:700}.a17 .ql-snow .ql-editor i,.a17 .ql-snow .ql-editor p i,.a17 .ql-snow .ql-editor li i,.a17 .ql-snow .ql-editor em,.a17 .ql-snow .ql-editor p em,.a17 .ql-snow .ql-editor li em{font-style:italic}.a17 .ql-snow .ql-editor u,.a17 .ql-snow .ql-editor p u,.a17 .ql-snow .ql-editor li u{text-decoration:underline}.a17 .ql-snow .ql-editor p,.a17 .ql-snow .ql-editor ul,.a17 .ql-snow .ql-editor ol,.a17 .ql-snow .ql-editor h1,.a17 .ql-snow .ql-editor h2,.a17 .ql-snow .ql-editor h3,.a17 .ql-snow .ql-editor h4,.a17 .ql-snow .ql-editor h5{margin-bottom:1em}.a17 .ql-snow .ql-editor h1{font-size:2em;line-height:1.25em}.a17 .ql-snow .ql-editor h2{font-size:1.66em;line-height:1.25em}.a17 .ql-snow .ql-editor h3{font-size:1.33em;line-height:1.25em}.a17 .ql-snow .ql-editor h4{font-size:1.25em;line-height:1.25em}.a17 .ql-snow .ql-editor h5{font-size:1em;line-height:1.25em}.a17 .ql-snow .ql-editor pre{color:#333;padding:15px;overflow:auto;background-color:#f6f8fa;border-radius:3px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}.a17 .ql-snow .ql-editor sup{vertical-align:super;font-size:smaller}.a17 .ql-snow .ql-editor sub{vertical-align:sub;font-size:smaller}.a17 .ql-toolbar.ql-snow{border-color:#d9d9d9;border-bottom-color:#f2f2f2}.a17 .ql-container.ql-snow{border-color:#d9d9d9}.a17 .ql-container.ql-snow .wysiwyg__editor--limitHeight,.a17 .wysiwyg__editor--limitHeight .ql-container.ql-snow{border:none}.a17 .input--error .ql-toolbar.ql-snow{border-color:#e61414;border-bottom-color:#f2f2f2}.a17 .input--error .ql-container.ql-snow{border-color:#e61414}.a17 .input--error .wysiwyg__editor--limitHeight .ql-container.ql-snow{border:none}.a17 .s--focus .ql-toolbar.ql-snow{border-color:#a6a6a6;border-bottom-color:#f2f2f2}.a17 .s--focus .ql-container.ql-snow{border-color:#a6a6a6}.a17 .s--focus .wysiwyg__editor--limitHeight .ql-container.ql-snow{border:none}.a17 .ql-snow a{color:#3278b8}.a17 .ql-editor .ql-anchor{text-decoration:underline #3278B8}.a17 .ql-clipboard{position:fixed}.a17 .ql-snow.ql-toolbar{padding:13px 8px}.a17 .ql-snow.ql-toolbar button,.a17 .ql-snow.ql-toolbar .ql-align{width:24px;margin-right:11px;text-align:center}.a17 .ql-snow.ql-toolbar button.ql-underline{top:1px}.a17 .ql-snow.ql-toolbar button.ql-link{width:33px}.a17 .ql-snow.ql-toolbar .icon{position:relative}.a17 .ql-snow.ql-toolbar .ql-formats{border-right:1px solid #f2f2f2}.a17 .ql-snow.ql-toolbar .ql-formats:last-child{border-right:none}.a17 .ql-snow.ql-toolbar button:hover,.a17 .ql-snow.ql-toolbar button:focus,.a17 .ql-snow.ql-toolbar button.ql-active,.a17 .ql-snow.ql-toolbar .ql-picker-label:hover,.a17 .ql-snow.ql-toolbar .ql-picker-label.ql-active,.a17 .ql-snow.ql-toolbar .ql-picker-item:hover,.a17 .ql-snow.ql-toolbar .ql-picker-item.ql-selected,.a17 .ql-snow .ql-toolbar button:hover,.a17 .ql-snow .ql-toolbar button:focus,.a17 .ql-snow .ql-toolbar button.ql-active,.a17 .ql-snow .ql-toolbar .ql-picker-label:hover,.a17 .ql-snow .ql-toolbar .ql-picker-label.ql-active,.a17 .ql-snow .ql-toolbar .ql-picker-item:hover,.a17 .ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#3278b8}.a17 .ql-snow.ql-toolbar button:hover .ql-stroke,.a17 .ql-snow.ql-toolbar button:focus .ql-stroke,.a17 .ql-snow.ql-toolbar button.ql-active .ql-stroke,.a17 .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.a17 .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.a17 .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.a17 .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.a17 .ql-snow.ql-toolbar button:hover .ql-stroke-miter,.a17 .ql-snow.ql-toolbar button:focus .ql-stroke-miter,.a17 .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.a17 .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.a17 .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.a17 .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.a17 .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.a17 .ql-snow .ql-toolbar button:hover .ql-stroke,.a17 .ql-snow .ql-toolbar button:focus .ql-stroke,.a17 .ql-snow .ql-toolbar button.ql-active .ql-stroke,.a17 .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.a17 .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.a17 .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.a17 .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.a17 .ql-snow .ql-toolbar button:hover .ql-stroke-miter,.a17 .ql-snow .ql-toolbar button:focus .ql-stroke-miter,.a17 .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.a17 .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.a17 .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.a17 .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.a17 .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{color:#3278b8}.a17 .ql-toolbar.ql-snow .ql-header .ql-picker-label,.a17 .ql-toolbar.ql-snow .ql-size .ql-picker-label,.a17 .ql-toolbar.ql-snow .ql-font .ql-picker-label{border:0 none;position:relative}.a17 .ql-toolbar.ql-snow .ql-header .ql-picker-label:after,.a17 .ql-toolbar.ql-snow .ql-size .ql-picker-label:after,.a17 .ql-toolbar.ql-snow .ql-font .ql-picker-label:after{content:" ";top:50%;right:1em;z-index:2;position:absolute;width:0;height:0;margin-top:-3px;border-width:4px 4px 0;border-style:solid;border-color:#262626 transparent transparent}.a17 .ql-toolbar.ql-snow .ql-header .ql-picker-label svg,.a17 .ql-toolbar.ql-snow .ql-size .ql-picker-label svg,.a17 .ql-toolbar.ql-snow .ql-font .ql-picker-label svg{opacity:0}.a17 .ql-toolbar.ql-snow .ql-header .ql-picker-options,.a17 .ql-toolbar.ql-snow .ql-size .ql-picker-options,.a17 .ql-toolbar.ql-snow .ql-font .ql-picker-options{background:rgba(255,255,255,.98);border-radius:2px;box-shadow:0 0 5px #0000004d;padding:10px 0;border:0 none;margin-top:6px}.a17 .ql-toolbar.ql-snow .ql-header .ql-picker-options .ql-picker-item,.a17 .ql-toolbar.ql-snow .ql-size .ql-picker-options .ql-picker-item,.a17 .ql-toolbar.ql-snow .ql-font .ql-picker-options .ql-picker-item{display:block;color:#8c8c8c;padding:0 50px 0 15px;height:40px;line-height:40px;text-decoration:none;white-space:nowrap;font-family:inherit}.a17 .ql-toolbar.ql-snow .ql-header .ql-picker-options .ql-picker-item:hover,.a17 .ql-toolbar.ql-snow .ql-size .ql-picker-options .ql-picker-item:hover,.a17 .ql-toolbar.ql-snow .ql-font .ql-picker-options .ql-picker-item:hover{color:#262626;background:#f2f2f2}.a17 .ql-toolbar.ql-snow .ql-picker{font-size:1em}.a17 .ql-toolbar.ql-snow .ql-picker .ql-picker-label{white-space:nowrap}.a17 .ql-toolbar.ql-snow .ql-picker .ql-picker-label:before{line-height:24px}.a17 .ql-snow .ql-picker.ql-header{width:auto;min-width:120px}.a17 .ql-snow .ql-picker.ql-header .ql-picker-item:before,.a17 .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before,.a17 .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before,.a17 .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before,.a17 .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before,.a17 .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-weight:400;font-size:1em;white-space:nowrap}
`)();const HIGHLIGHT="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js",__vue2_script$B={name:"A17Wysiwyg",mixins:[InputMixin,InputframeMixin,LocaleMixin,FormStoreMixin],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}}},computed:{textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"wysiwyg__outer--limitHeight":this.limitHeight,"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"wysiwyg__limit--red":this.counter<this.maxlength*.1}},...mapState({baseUrl:e=>e.form.baseUrl})},data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,focused:!1,activeSource:!1,quill:null,counter:0,localOptions:{},defaultModules:{toolbar:["bold","italic","underline","link"],clipboard:{matchVisual:!1,matchers:[QuillConfiguration.lineBreak.clipboard]},keyboard:{bindings:{lineBreak:QuillConfiguration.lineBreak.handle}},syntax:!1}}},methods:{initQuill(e){if(this.quill=new QuillConfiguration.Quill(this.$refs.editor,e),this.value&&this.updateEditor(this.value),this.quill.on("text-change",(t,n,r)=>{let a=this.$refs.editor.children[0].innerHTML;a==="<p><br></p>"&&(a=""),this.value=a,this.$emit("input",this.value),this.$emit("change",this.value),this.updateCounter(this.getTextLength()),r==="user"&&this.textUpdate()}),this.quill.on("selection-change",(t,n,r)=>{t?(this.focused=!0,this.$emit("focus")):(this.focused=!1,r==="user"&&this.saveIntoStore(),this.$emit("blur"))}),this.disabled&&this.quill.enable(!1),this.baseUrl){const n=this.quill.theme.tooltip.root;if(n){const r=n.querySelector("input[data-link]");r&&r.setAttribute("data-link",this.baseUrl)}}this.dirLocale==="rtl"&&(this.quill.format("direction","rtl"),this.quill.format("align","right")),this.hasMaxlength&&this.showCounter&&this.updateCounter(this.getTextLength()),this.$emit("ready",this.quill)},anchorHandler(e){if(e===!0)e=prompt("Enter anchor:");else{const t=this.quill.getSelection(),n=this.quill.getFormat(t).anchor||"";e=prompt("Edit anchor:",n)}this.quill.format("anchor",e)},updateEditor:function(e){const t=this.quill.clipboard.convert(e);this.quill.setContents(t,"silent")},updateFromStore:function(e){typeof e=="undefined"&&(e=""),this.value!==e&&(this.value=e,this.updateEditor(e))},textUpdate:function(){this.preventSubmit(),this._textUpdateInternal()},_textUpdateInternal:debounce_1(function(){this.saveIntoStore(),this.allowSubmit()},600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateSourcecode()},updateSourcecode:function(){this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(e){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-e)},getTextLength:function(){return this.quill.getLength()-(this.value.length===0?2:1)}},mounted:function(){if(this.quill)return;const e=JSON.parse(JSON.stringify(this.options));e.theme=e.theme||"snow",e.boundary=e.boundary||document.body,e.modules=e.modules||this.defaultModules;const t={container:e.modules.toolbar!==void 0?e.modules.toolbar:this.defaultModules.toolbar,handlers:{}};e.modules.clipboard=e.modules.clipboard!==void 0?e.modules.clipboard:this.defaultModules.clipboard,e.modules.keyboard=e.modules.keyboard!==void 0?e.modules.keyboard:this.defaultModules.keyboard,e.modules.syntax=e.modules.syntax!==void 0&&e.modules.syntax?{highlight:n=>hljs.highlightAuto(n).value}:this.defaultModules.syntax,e.placeholder=e.placeholder||this.placeholder,e.readOnly=e.readOnly!==void 0?e.readOnly:this.readonly,e.formats=QuillConfiguration.getFormats(e.modules.toolbar),e.bounds=this.$refs.editor,e.scrollingContainer="html",t.container.includes("anchor")&&(t.handlers.anchor=this.anchorHandler),e.modules.toolbar=t,this.localOptions=e,e.modules.syntax&&typeof hljs=="undefined"?loadScript("highlight-js-script",HIGHLIGHT,"text/javascript").then(()=>{this.initQuill(e)}):this.initQuill(e)},beforeDestroy(){this.quill=null}},__cssModules$B={};var __component__$B=normalizeComponent(__vue2_script$B,render$C,staticRenderFns$B,!1,__vue2_injectStyles$B,"3efade48",null,null);function __vue2_injectStyles$B(e){for(let t in __cssModules$B)this[t]=__cssModules$B[t]}var a17Wysiwyg=function(){return __component__$B.exports}();function OrderedMap(e){this.content=e}OrderedMap.prototype={constructor:OrderedMap,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,a=r.find(e),o=r.content.slice();return a==-1?o.push(n||e,t):(o[a+1]=t,n&&(o[a]=n)),new OrderedMap(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new OrderedMap(n)},addToStart:function(e,t){return new OrderedMap([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new OrderedMap(n)},addBefore:function(e,t,n){var r=this.remove(t),a=r.content.slice(),o=r.find(e);return a.splice(o==-1?a.length:o,0,t,n),new OrderedMap(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=OrderedMap.from(e),e.size?new OrderedMap(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=OrderedMap.from(e),e.size?new OrderedMap(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=OrderedMap.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}};OrderedMap.from=function(e){if(e instanceof OrderedMap)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new OrderedMap(t)};var orderedmap=OrderedMap;function findDiffStart(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var a=e.child(r),o=t.child(r);if(a==o){n+=a.nodeSize;continue}if(!a.sameMarkup(o))return n;if(a.isText&&a.text!=o.text){for(var s=0;a.text[s]==o.text[s];s++)n++;return n}if(a.content.size||o.content.size){var l=findDiffStart(a.content,o.content,n+1);if(l!=null)return l}n+=a.nodeSize}}function findDiffEnd(e,t,n,r){for(var a=e.childCount,o=t.childCount;;){if(a==0||o==0)return a==o?null:{a:n,b:r};var s=e.child(--a),l=t.child(--o),c=s.nodeSize;if(s==l){n-=c,r-=c;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){for(var u=0,f=Math.min(s.text.length,l.text.length);u<f&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){var m=findDiffEnd(s.content,l.content,n-1,r-1);if(m)return m}n-=c,r-=c}}var Fragment=function(t,n){if(this.content=t,this.size=n||0,n==null)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize},prototypeAccessors$5={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Fragment.prototype.nodesBetween=function(t,n,r,a,o){a===void 0&&(a=0);for(var s=0,l=0;l<n;s++){var c=this.content[s],u=l+c.nodeSize;if(u>t&&r(c,a+l,o,s)!==!1&&c.content.size){var f=l+1;c.nodesBetween(Math.max(0,t-f),Math.min(c.content.size,n-f),r,a+f)}l=u}};Fragment.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)};Fragment.prototype.textBetween=function(t,n,r,a){var o="",s=!0;return this.nodesBetween(t,n,function(l,c){l.isText?(o+=l.text.slice(Math.max(t,c)-c,n-c),s=!r):l.isLeaf&&a?(o+=typeof a=="function"?a(l):a,s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o};Fragment.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var n=this.lastChild,r=t.firstChild,a=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(a[a.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)a.push(t.content[o]);return new Fragment(a,this.size+t.size)};Fragment.prototype.cut=function(t,n){if(n==null&&(n=this.size),t==0&&n==this.size)return this;var r=[],a=0;if(n>t)for(var o=0,s=0;s<n;o++){var l=this.content[o],c=s+l.nodeSize;c>t&&((s<t||c>n)&&(l.isText?l=l.cut(Math.max(0,t-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,t-s-1),Math.min(l.content.size,n-s-1))),r.push(l),a+=l.nodeSize),s=c}return new Fragment(r,a)};Fragment.prototype.cutByIndex=function(t,n){return t==n?Fragment.empty:t==0&&n==this.content.length?this:new Fragment(this.content.slice(t,n))};Fragment.prototype.replaceChild=function(t,n){var r=this.content[t];if(r==n)return this;var a=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return a[t]=n,new Fragment(a,o)};Fragment.prototype.addToStart=function(t){return new Fragment([t].concat(this.content),this.size+t.nodeSize)};Fragment.prototype.addToEnd=function(t){return new Fragment(this.content.concat(t),this.size+t.nodeSize)};Fragment.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0};prototypeAccessors$5.firstChild.get=function(){return this.content.length?this.content[0]:null};prototypeAccessors$5.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};prototypeAccessors$5.childCount.get=function(){return this.content.length};Fragment.prototype.child=function(t){var n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n};Fragment.prototype.maybeChild=function(t){return this.content[t]};Fragment.prototype.forEach=function(t){for(var n=0,r=0;n<this.content.length;n++){var a=this.content[n];t(a,r,n),r+=a.nodeSize}};Fragment.prototype.findDiffStart=function(t,n){return n===void 0&&(n=0),findDiffStart(this,t,n)};Fragment.prototype.findDiffEnd=function(t,n,r){return n===void 0&&(n=this.size),r===void 0&&(r=t.size),findDiffEnd(this,t,n,r)};Fragment.prototype.findIndex=function(t,n){if(n===void 0&&(n=-1),t==0)return retIndex(0,t);if(t==this.size)return retIndex(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var r=0,a=0;;r++){var o=this.child(r),s=a+o.nodeSize;if(s>=t)return s==t||n>0?retIndex(r+1,s):retIndex(r,a);a=s}};Fragment.prototype.toString=function(){return"<"+this.toStringInner()+">"};Fragment.prototype.toStringInner=function(){return this.content.join(", ")};Fragment.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null};Fragment.fromJSON=function(t,n){if(!n)return Fragment.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(n.map(t.nodeFromJSON))};Fragment.fromArray=function(t){if(!t.length)return Fragment.empty;for(var n,r=0,a=0;a<t.length;a++){var o=t[a];r+=o.nodeSize,a&&o.isText&&t[a-1].sameMarkup(o)?(n||(n=t.slice(0,a)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Fragment(n||t,r)};Fragment.from=function(t){if(!t)return Fragment.empty;if(t instanceof Fragment)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Fragment([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(Fragment.prototype,prototypeAccessors$5);var found={index:0,offset:0};function retIndex(e,t){return found.index=e,found.offset=t,found}Fragment.empty=new Fragment([],0);function compareDeep(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!compareDeep(e[r],t[r]))return!1}else{for(var a in e)if(!(a in t)||!compareDeep(e[a],t[a]))return!1;for(var o in t)if(!(o in e))return!1}return!0}var Mark$1=function(t,n){this.type=t,this.attrs=n};Mark$1.prototype.addToSet=function(t){for(var n,r=!1,a=0;a<t.length;a++){var o=t[a];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,a));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,a)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n};Mark$1.prototype.removeFromSet=function(t){for(var n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t};Mark$1.prototype.isInSet=function(t){for(var n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1};Mark$1.prototype.eq=function(t){return this==t||this.type==t.type&&compareDeep(this.attrs,t.attrs)};Mark$1.prototype.toJSON=function(){var t={type:this.type.name};for(var n in this.attrs){t.attrs=this.attrs;break}return t};Mark$1.fromJSON=function(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var r=t.marks[n.type];if(!r)throw new RangeError("There is no mark type "+n.type+" in this schema");return r.create(n.attrs)};Mark$1.sameSet=function(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0};Mark$1.setFrom=function(t){if(!t||t.length==0)return Mark$1.none;if(t instanceof Mark$1)return[t];var n=t.slice();return n.sort(function(r,a){return r.type.rank-a.type.rank}),n};Mark$1.none=[];function ReplaceError(e){var t=Error.call(this,e);return t.__proto__=ReplaceError.prototype,t}ReplaceError.prototype=Object.create(Error.prototype);ReplaceError.prototype.constructor=ReplaceError;ReplaceError.prototype.name="ReplaceError";var Slice=function(t,n,r){this.content=t,this.openStart=n,this.openEnd=r},prototypeAccessors$1$3={size:{configurable:!0}};prototypeAccessors$1$3.size.get=function(){return this.content.size-this.openStart-this.openEnd};Slice.prototype.insertAt=function(t,n){var r=insertInto(this.content,t+this.openStart,n,null);return r&&new Slice(r,this.openStart,this.openEnd)};Slice.prototype.removeBetween=function(t,n){return new Slice(removeRange(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)};Slice.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd};Slice.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};Slice.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t};Slice.fromJSON=function(t,n){if(!n)return Slice.empty;var r=n.openStart||0,a=n.openEnd||0;if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(t,n.content),r,a)};Slice.maxOpen=function(t,n){n===void 0&&(n=!0);for(var r=0,a=0,o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(var s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)a++;return new Slice(t,r,a)};Object.defineProperties(Slice.prototype,prototypeAccessors$1$3);function removeRange(e,t,n){var r=e.findIndex(t),a=r.index,o=r.offset,s=e.maybeChild(a),l=e.findIndex(n),c=l.index,u=l.offset;if(o==t||s.isText){if(u!=n&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(a!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(a,s.copy(removeRange(s.content,t-o-1,n-o-1)))}function insertInto(e,t,n,r){var a=e.findIndex(t),o=a.index,s=a.offset,l=e.maybeChild(o);if(s==t||l.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var c=insertInto(l.content,t-s-1,n);return c&&e.replaceChild(o,l.copy(c))}Slice.empty=new Slice(Fragment.empty,0,0);function replace(e,t,n){if(n.openStart>e.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(e,t,n,0)}function replaceOuter(e,t,n,r){var a=e.index(r),o=e.node(r);if(a==t.index(r)&&r<e.depth-n.openStart){var s=replaceOuter(e,t,n,r+1);return o.copy(o.content.replaceChild(a,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){var l=e.parent,c=l.content;return close(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}else{var u=prepareSliceForReplace(n,e),f=u.start,m=u.end;return close(o,replaceThreeWay(e,f,m,t,r))}else return close(o,replaceTwoWay(e,t,r))}function checkJoin(e,t){if(!t.type.compatibleContent(e.type))throw new ReplaceError("Cannot join "+t.type.name+" onto "+e.type.name)}function joinable$1(e,t,n){var r=e.node(n);return checkJoin(r,t.node(n)),r}function addNode(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function addRange(e,t,n,r){var a=(t||e).node(n),o=0,s=t?t.index(n):a.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(addNode(e.nodeAfter,r),o++));for(var l=o;l<s;l++)addNode(a.child(l),r);t&&t.depth==n&&t.textOffset&&addNode(t.nodeBefore,r)}function close(e,t){if(!e.type.validContent(t))throw new ReplaceError("Invalid content for node "+e.type.name);return e.copy(t)}function replaceThreeWay(e,t,n,r,a){var o=e.depth>a&&joinable$1(e,t,a+1),s=r.depth>a&&joinable$1(n,r,a+1),l=[];return addRange(null,e,a,l),o&&s&&t.index(a)==n.index(a)?(checkJoin(o,s),addNode(close(o,replaceThreeWay(e,t,n,r,a+1)),l)):(o&&addNode(close(o,replaceTwoWay(e,t,a+1)),l),addRange(t,n,a,l),s&&addNode(close(s,replaceTwoWay(n,r,a+1)),l)),addRange(r,null,a,l),new Fragment(l)}function replaceTwoWay(e,t,n){var r=[];if(addRange(null,e,n,r),e.depth>n){var a=joinable$1(e,t,n+1);addNode(close(a,replaceTwoWay(e,t,n+1)),r)}return addRange(t,null,n,r),new Fragment(r)}function prepareSliceForReplace(e,t){for(var n=t.depth-e.openStart,r=t.node(n),a=r.copy(e.content),o=n-1;o>=0;o--)a=t.node(o).copy(Fragment.from(a));return{start:a.resolveNoCache(e.openStart+n),end:a.resolveNoCache(a.content.size-e.openEnd-n)}}var ResolvedPos=function(t,n,r){this.pos=t,this.path=n,this.depth=n.length/3-1,this.parentOffset=r},prototypeAccessors$2$1={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};ResolvedPos.prototype.resolveDepth=function(t){return t==null?this.depth:t<0?this.depth+t:t};prototypeAccessors$2$1.parent.get=function(){return this.node(this.depth)};prototypeAccessors$2$1.doc.get=function(){return this.node(0)};ResolvedPos.prototype.node=function(t){return this.path[this.resolveDepth(t)*3]};ResolvedPos.prototype.index=function(t){return this.path[this.resolveDepth(t)*3+1]};ResolvedPos.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)};ResolvedPos.prototype.start=function(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1};ResolvedPos.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size};ResolvedPos.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]};ResolvedPos.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize};prototypeAccessors$2$1.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};prototypeAccessors$2$1.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r};prototypeAccessors$2$1.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)};ResolvedPos.prototype.posAtIndex=function(t,n){n=this.resolveDepth(n);for(var r=this.path[n*3],a=n==0?0:this.path[n*3-1]+1,o=0;o<t;o++)a+=r.child(o).nodeSize;return a};ResolvedPos.prototype.marks=function(){var t=this.parent,n=this.index();if(t.content.size==0)return Mark$1.none;if(this.textOffset)return t.child(n).marks;var r=t.maybeChild(n-1),a=t.maybeChild(n);if(!r){var o=r;r=a,a=o}for(var s=r.marks,l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!a||!s[l].isInSet(a.marks))&&(s=s[l--].removeFromSet(s));return s};ResolvedPos.prototype.marksAcross=function(t){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var r=n.marks,a=t.parent.maybeChild(t.index()),o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!a||!r[o].isInSet(a.marks))&&(r=r[o--].removeFromSet(r));return r};ResolvedPos.prototype.sharedDepth=function(t){for(var n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0};ResolvedPos.prototype.blockRange=function(t,n){if(t===void 0&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new NodeRange(this,t,r)};ResolvedPos.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset};ResolvedPos.prototype.max=function(t){return t.pos>this.pos?t:this};ResolvedPos.prototype.min=function(t){return t.pos<this.pos?t:this};ResolvedPos.prototype.toString=function(){for(var t="",n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset};ResolvedPos.resolve=function(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],a=0,o=n,s=t;;){var l=s.content.findIndex(o),c=l.index,u=l.offset,f=o-u;if(r.push(s,c,a+u),!f||(s=s.child(c),s.isText))break;o=f-1,a+=u+1}return new ResolvedPos(n,r,o)};ResolvedPos.resolveCached=function(t,n){for(var r=0;r<resolveCache.length;r++){var a=resolveCache[r];if(a.pos==n&&a.doc==t)return a}var o=resolveCache[resolveCachePos]=ResolvedPos.resolve(t,n);return resolveCachePos=(resolveCachePos+1)%resolveCacheSize,o};Object.defineProperties(ResolvedPos.prototype,prototypeAccessors$2$1);var resolveCache=[],resolveCachePos=0,resolveCacheSize=12,NodeRange=function(t,n,r){this.$from=t,this.$to=n,this.depth=r},prototypeAccessors$1$1$1={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};prototypeAccessors$1$1$1.start.get=function(){return this.$from.before(this.depth+1)};prototypeAccessors$1$1$1.end.get=function(){return this.$to.after(this.depth+1)};prototypeAccessors$1$1$1.parent.get=function(){return this.$from.node(this.depth)};prototypeAccessors$1$1$1.startIndex.get=function(){return this.$from.index(this.depth)};prototypeAccessors$1$1$1.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(NodeRange.prototype,prototypeAccessors$1$1$1);var emptyAttrs=Object.create(null),Node$2=function(t,n,r,a){this.type=t,this.attrs=n,this.content=r||Fragment.empty,this.marks=a||Mark$1.none},prototypeAccessors$3$1={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};prototypeAccessors$3$1.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};prototypeAccessors$3$1.childCount.get=function(){return this.content.childCount};Node$2.prototype.child=function(t){return this.content.child(t)};Node$2.prototype.maybeChild=function(t){return this.content.maybeChild(t)};Node$2.prototype.forEach=function(t){this.content.forEach(t)};Node$2.prototype.nodesBetween=function(t,n,r,a){a===void 0&&(a=0),this.content.nodesBetween(t,n,r,a,this)};Node$2.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)};prototypeAccessors$3$1.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Node$2.prototype.textBetween=function(t,n,r,a){return this.content.textBetween(t,n,r,a)};prototypeAccessors$3$1.firstChild.get=function(){return this.content.firstChild};prototypeAccessors$3$1.lastChild.get=function(){return this.content.lastChild};Node$2.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)};Node$2.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)};Node$2.prototype.hasMarkup=function(t,n,r){return this.type==t&&compareDeep(this.attrs,n||t.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,r||Mark$1.none)};Node$2.prototype.copy=function(t){return t===void 0&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)};Node$2.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)};Node$2.prototype.cut=function(t,n){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))};Node$2.prototype.slice=function(t,n,r){if(n===void 0&&(n=this.content.size),r===void 0&&(r=!1),t==n)return Slice.empty;var a=this.resolve(t),o=this.resolve(n),s=r?0:a.sharedDepth(n),l=a.start(s),c=a.node(s),u=c.content.cut(a.pos-l,o.pos-l);return new Slice(u,a.depth-s,o.depth-s)};Node$2.prototype.replace=function(t,n,r){return replace(this.resolve(t),this.resolve(n),r)};Node$2.prototype.nodeAt=function(t){for(var n=this;;){var r=n.content.findIndex(t),a=r.index,o=r.offset;if(n=n.maybeChild(a),!n)return null;if(o==t||n.isText)return n;t-=o+1}};Node$2.prototype.childAfter=function(t){var n=this.content.findIndex(t),r=n.index,a=n.offset;return{node:this.content.maybeChild(r),index:r,offset:a}};Node$2.prototype.childBefore=function(t){if(t==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(t),r=n.index,a=n.offset;if(a<t)return{node:this.content.child(r),index:r,offset:a};var o=this.content.child(r-1);return{node:o,index:r-1,offset:a-o.nodeSize}};Node$2.prototype.resolve=function(t){return ResolvedPos.resolveCached(this,t)};Node$2.prototype.resolveNoCache=function(t){return ResolvedPos.resolve(this,t)};Node$2.prototype.rangeHasMark=function(t,n,r){var a=!1;return n>t&&this.nodesBetween(t,n,function(o){return r.isInSet(o.marks)&&(a=!0),!a}),a};prototypeAccessors$3$1.isBlock.get=function(){return this.type.isBlock};prototypeAccessors$3$1.isTextblock.get=function(){return this.type.isTextblock};prototypeAccessors$3$1.inlineContent.get=function(){return this.type.inlineContent};prototypeAccessors$3$1.isInline.get=function(){return this.type.isInline};prototypeAccessors$3$1.isText.get=function(){return this.type.isText};prototypeAccessors$3$1.isLeaf.get=function(){return this.type.isLeaf};prototypeAccessors$3$1.isAtom.get=function(){return this.type.isAtom};Node$2.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,t)};Node$2.prototype.contentMatchAt=function(t){var n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n};Node$2.prototype.canReplace=function(t,n,r,a,o){r===void 0&&(r=Fragment.empty),a===void 0&&(a=0),o===void 0&&(o=r.childCount);var s=this.contentMatchAt(t).matchFragment(r,a,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(var c=a;c<o;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0};Node$2.prototype.canReplaceWith=function(t,n,r,a){if(a&&!this.type.allowsMarks(a))return!1;var o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1};Node$2.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)};Node$2.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=Mark$1.none,n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Mark$1.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})};Node$2.prototype.toJSON=function(){var t={type:this.type.name};for(var n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(r){return r.toJSON()})),t};Node$2.fromJSON=function(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}var a=Fragment.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,a,r)};Object.defineProperties(Node$2.prototype,prototypeAccessors$3$1);var TextNode=function(e){function t(r,a,o,s){if(e.call(this,r,a,null,s),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(a,o){return this.text.slice(a,o)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(a){return a==this.marks?this:new t(this.type,this.attrs,this.text,a)},t.prototype.withText=function(a){return a==this.text?this:new t(this.type,this.attrs,a,this.marks)},t.prototype.cut=function(a,o){return a===void 0&&(a=0),o===void 0&&(o=this.text.length),a==0&&o==this.text.length?this:this.withText(this.text.slice(a,o))},t.prototype.eq=function(a){return this.sameMarkup(a)&&this.text==a.text},t.prototype.toJSON=function(){var a=e.prototype.toJSON.call(this);return a.text=this.text,a},Object.defineProperties(t.prototype,n),t}(Node$2);function wrapMarks(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var ContentMatch=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},prototypeAccessors$4$1={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};ContentMatch.parse=function(t,n){var r=new TokenStream(t,n);if(r.next==null)return ContentMatch.empty;var a=parseExpr(r);r.next&&r.err("Unexpected trailing text");var o=dfa(nfa(a));return checkForDeadEnds(o,r),o};ContentMatch.prototype.matchType=function(t){for(var n=0;n<this.next.length;n+=2)if(this.next[n]==t)return this.next[n+1];return null};ContentMatch.prototype.matchFragment=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=t.childCount);for(var a=this,o=n;a&&o<r;o++)a=a.matchType(t.child(o).type);return a};prototypeAccessors$4$1.inlineContent.get=function(){var e=this.next[0];return e?e.isInline:!1};prototypeAccessors$4$1.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}};ContentMatch.prototype.compatible=function(t){for(var n=0;n<this.next.length;n+=2)for(var r=0;r<t.next.length;r+=2)if(this.next[n]==t.next[r])return!0;return!1};ContentMatch.prototype.fillBefore=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=0);var a=[this];function o(s,l){var c=s.matchFragment(t,r);if(c&&(!n||c.validEnd))return Fragment.from(l.map(function(d){return d.createAndFill()}));for(var u=0;u<s.next.length;u+=2){var f=s.next[u],m=s.next[u+1];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);var h=o(m,l.concat(f));if(h)return h}}}return o(this,[])};ContentMatch.prototype.findWrapping=function(t){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];var r=this.computeWrapping(t);return this.wrapCache.push(t,r),r};ContentMatch.prototype.computeWrapping=function(t){for(var n=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var a=r.shift(),o=a.match;if(o.matchType(t)){for(var s=[],l=a;l.type;l=l.via)s.push(l.type);return s.reverse()}for(var c=0;c<o.next.length;c+=2){var u=o.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!a.type||o.next[c+1].validEnd)&&(r.push({match:u.contentMatch,type:u,via:a}),n[u.name]=!0)}}};prototypeAccessors$4$1.edgeCount.get=function(){return this.next.length>>1};ContentMatch.prototype.edge=function(t){var n=t<<1;if(n>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[n],next:this.next[n+1]}};ContentMatch.prototype.toString=function(){var t=[];function n(r){t.push(r);for(var a=1;a<r.next.length;a+=2)t.indexOf(r.next[a])==-1&&n(r.next[a])}return n(this),t.map(function(r,a){for(var o=a+(r.validEnd?"*":" ")+" ",s=0;s<r.next.length;s+=2)o+=(s?", ":"")+r.next[s].name+"->"+t.indexOf(r.next[s+1]);return o}).join(`
`)};Object.defineProperties(ContentMatch.prototype,prototypeAccessors$4$1);ContentMatch.empty=new ContentMatch(!0);var TokenStream=function(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},prototypeAccessors$1$2$1={next:{configurable:!0}};prototypeAccessors$1$2$1.next.get=function(){return this.tokens[this.pos]};TokenStream.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)};TokenStream.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")};Object.defineProperties(TokenStream.prototype,prototypeAccessors$1$2$1);function parseExpr(e){var t=[];do t.push(parseExprSeq(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function parseExprSeq(e){var t=[];do t.push(parseExprSubscript(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function parseExprSubscript(e){for(var t=parseExprAtom(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=parseExprRange(e,t);else break;return t}function parseNum(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function parseExprRange(e,t){var n=parseNum(e),r=n;return e.eat(",")&&(e.next!="}"?r=parseNum(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function resolveName(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var a=[];for(var o in n){var s=n[o];s.groups.indexOf(t)>-1&&a.push(s)}return a.length==0&&e.err("No node type or group '"+t+"' found"),a}function parseExprAtom(e){if(e.eat("(")){var t=parseExpr(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{var n=resolveName(e,e.next).map(function(r){return e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}});return e.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function nfa(e){var t=[[]];return a(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,l,c){var u={term:c,to:l};return t[s].push(u),u}function a(s,l){s.forEach(function(c){return c.to=l})}function o(s,l){if(s.type=="choice")return s.exprs.reduce(function(y,q){return y.concat(o(q,l))},[]);if(s.type=="seq")for(var c=0;;c++){var u=o(s.exprs[c],l);if(c==s.exprs.length-1)return u;a(u,l=n())}else if(s.type=="star"){var f=n();return r(l,f),a(o(s.expr,f),f),[r(f)]}else if(s.type=="plus"){var m=n();return a(o(s.expr,l),m),a(o(s.expr,m),m),[r(m)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){for(var h=l,d=0;d<s.min;d++){var g=n();a(o(s.expr,h),g),h=g}if(s.max==-1)a(o(s.expr,h),h);else for(var v=s.min;v<s.max;v++){var _=n();r(h,_),a(o(s.expr,h),_),h=_}return[r(h)]}else if(s.type=="name")return[r(l,null,s.value)]}}}function cmp(e,t){return t-e}function nullFrom(e,t){var n=[];return r(t),n.sort(cmp);function r(a){var o=e[a];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(a);for(var s=0;s<o.length;s++){var l=o[s],c=l.term,u=l.to;!c&&n.indexOf(u)==-1&&r(u)}}}function dfa(e){var t=Object.create(null);return n(nullFrom(e,0));function n(r){var a=[];r.forEach(function(c){e[c].forEach(function(u){var f=u.term,m=u.to;if(!!f){var h=a.indexOf(f),d=h>-1&&a[h+1];nullFrom(e,m).forEach(function(g){d||a.push(f,d=[]),d.indexOf(g)==-1&&d.push(g)})}})});for(var o=t[r.join(",")]=new ContentMatch(r.indexOf(e.length-1)>-1),s=0;s<a.length;s+=2){var l=a[s+1].sort(cmp);o.next.push(a[s],t[l.join(",")]||n(l))}return o}}function checkForDeadEnds(e,t){for(var n=0,r=[e];n<r.length;n++){for(var a=r[n],o=!a.validEnd,s=[],l=0;l<a.next.length;l+=2){var c=a.next[l],u=a.next[l+1];s.push(c.name),o&&!(c.isText||c.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function computeAttrs(e,t){var n=Object.create(null);for(var r in e){var a=t&&t[r];if(a===void 0){var o=e[r];if(o.hasDefault)a=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=a}return n}function initAttrs(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new Attribute(e[n]);return t}var NodeType$1=function(t,n,r){this.name=t,this.schema=n,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=initAttrs(r.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"},prototypeAccessors$5$1={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};prototypeAccessors$5$1.isInline.get=function(){return!this.isBlock};prototypeAccessors$5$1.isTextblock.get=function(){return this.isBlock&&this.inlineContent};prototypeAccessors$5$1.isLeaf.get=function(){return this.contentMatch==ContentMatch.empty};prototypeAccessors$5$1.isAtom.get=function(){return this.isLeaf||this.spec.atom};prototypeAccessors$5$1.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};NodeType$1.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1};NodeType$1.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)};NodeType$1.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,t)};NodeType$1.prototype.create=function(t,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$2(this,this.computeAttrs(t),Fragment.from(n),Mark$1.setFrom(r))};NodeType$1.prototype.createChecked=function(t,n,r){if(n=Fragment.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Node$2(this,this.computeAttrs(t),n,Mark$1.setFrom(r))};NodeType$1.prototype.createAndFill=function(t,n,r){if(t=this.computeAttrs(t),n=Fragment.from(n),n.size){var a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}var o=this.contentMatch.matchFragment(n).fillBefore(Fragment.empty,!0);return o?new Node$2(this,t,n.append(o),Mark$1.setFrom(r)):null};NodeType$1.prototype.validContent=function(t){var n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(var r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0};NodeType$1.prototype.allowsMarkType=function(t){return this.markSet==null||this.markSet.indexOf(t)>-1};NodeType$1.prototype.allowsMarks=function(t){if(this.markSet==null)return!0;for(var n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0};NodeType$1.prototype.allowedMarks=function(t){if(this.markSet==null)return t;for(var n,r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Mark$1.empty:t};NodeType$1.compile=function(t,n){var r=Object.create(null);t.forEach(function(s,l){return r[s]=new NodeType$1(s,n,l)});var a=n.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r};Object.defineProperties(NodeType$1.prototype,prototypeAccessors$5$1);var Attribute=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},prototypeAccessors$1$3$1={isRequired:{configurable:!0}};prototypeAccessors$1$3$1.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(Attribute.prototype,prototypeAccessors$1$3$1);var MarkType=function(t,n,r,a){this.name=t,this.schema=r,this.spec=a,this.attrs=initAttrs(a.attrs),this.rank=n,this.excluded=null;var o=defaultAttrs(this.attrs);this.instance=o&&new Mark$1(this,o)};MarkType.prototype.create=function(t){return!t&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,t))};MarkType.compile=function(t,n){var r=Object.create(null),a=0;return t.forEach(function(o,s){return r[o]=new MarkType(o,a++,n,s)}),r};MarkType.prototype.removeFromSet=function(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t};MarkType.prototype.isInSet=function(t){for(var n=0;n<t.length;n++)if(t[n].type==this)return t[n]};MarkType.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var Schema=function(t){this.spec={};for(var n in t)this.spec[n]=t[n];this.spec.nodes=orderedmap.from(t.nodes),this.spec.marks=orderedmap.from(t.marks),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);var r=Object.create(null);for(var a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");var o=this.nodes[a],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=ContentMatch.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?gatherMarks(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(var c in this.marks){var u=this.marks[c],f=u.spec.excludes;u.excluded=f==null?[u]:f==""?[]:gatherMarks(this,f.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};Schema.prototype.node=function(t,n,r,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof NodeType$1){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,a)};Schema.prototype.text=function(t,n){var r=this.nodes.text;return new TextNode(r,r.defaultAttrs,t,Mark$1.setFrom(n))};Schema.prototype.mark=function(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)};Schema.prototype.nodeFromJSON=function(t){return Node$2.fromJSON(this,t)};Schema.prototype.markFromJSON=function(t){return Mark$1.fromJSON(this,t)};Schema.prototype.nodeType=function(t){var n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n};function gatherMarks(e,t){for(var n=[],r=0;r<t.length;r++){var a=t[r],o=e.marks[a],s=o;if(o)n.push(o);else for(var l in e.marks){var c=e.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}var DOMParser$1=function(t,n){var r=this;this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(function(a){a.tag?r.tags.push(a):a.style&&r.styles.push(a)}),this.normalizeLists=!this.tags.some(function(a){if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;var o=t.nodes[a.node];return o.contentMatch.matchType(o)})};DOMParser$1.prototype.parse=function(t,n){n===void 0&&(n={});var r=new ParseContext(this,n,!1);return r.addAll(t,null,n.from,n.to),r.finish()};DOMParser$1.prototype.parseSlice=function(t,n){n===void 0&&(n={});var r=new ParseContext(this,n,!0);return r.addAll(t,null,n.from,n.to),Slice.maxOpen(r.finish())};DOMParser$1.prototype.matchTag=function(t,n,r){for(var a=r?this.tags.indexOf(r)+1:0;a<this.tags.length;a++){var o=this.tags[a];if(matches$1(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){var s=o.getAttrs(t);if(s===!1)continue;o.attrs=s}return o}}};DOMParser$1.prototype.matchStyle=function(t,n,r,a){for(var o=a?this.styles.indexOf(a)+1:0;o<this.styles.length;o++){var s=this.styles[o];if(!(s.style.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||s.style.length>t.length&&(s.style.charCodeAt(t.length)!=61||s.style.slice(t.length+1)!=n))){if(s.getAttrs){var l=s.getAttrs(n);if(l===!1)continue;s.attrs=l}return s}}};DOMParser$1.schemaRules=function(t){var n=[];function r(c){for(var u=c.priority==null?50:c.priority,f=0;f<n.length;f++){var m=n[f],h=m.priority==null?50:m.priority;if(h<u)break}n.splice(f,0,c)}var a=function(c){var u=t.marks[c].spec.parseDOM;u&&u.forEach(function(f){r(f=copy(f)),f.mark=c})};for(var o in t.marks)a(o);var s=function(c){var u=t.nodes[l].spec.parseDOM;u&&u.forEach(function(f){r(f=copy(f)),f.node=l})};for(var l in t.nodes)s();return n};DOMParser$1.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new DOMParser$1(t,DOMParser$1.schemaRules(t)))};var blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(e,t,n){return t!=null?(t?OPT_PRESERVE_WS:0)|(t==="full"?OPT_PRESERVE_WS_FULL:0):e&&e.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:n&~OPT_OPEN_LEFT}var NodeContext=function(t,n,r,a,o,s,l){this.type=t,this.attrs=n,this.solid=o,this.match=s||(l&OPT_OPEN_LEFT?null:t.contentMatch),this.options=l,this.content=[],this.marks=r,this.activeMarks=Mark$1.none,this.pendingMarks=a,this.stashMarks=[]};NodeContext.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(Fragment.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var r=this.type.contentMatch,a;return(a=r.findWrapping(t.type))?(this.match=r,a):null}}return this.match.findWrapping(t.type)};NodeContext.prototype.finish=function(t){if(!(this.options&OPT_PRESERVE_WS)){var n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}var a=Fragment.from(this.content);return!t&&this.match&&(a=a.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,a,this.marks):a};NodeContext.prototype.popFromStashMark=function(t){for(var n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]};NodeContext.prototype.applyPending=function(t){for(var n=0,r=this.pendingMarks;n<r.length;n++){var a=r[n];(this.type?this.type.allowsMarkType(a.type):markMayApply(a.type,t))&&!a.isInSet(this.activeMarks)&&(this.activeMarks=a.addToSet(this.activeMarks),this.pendingMarks=a.removeFromSet(this.pendingMarks))}};NodeContext.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!blockTags.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var ParseContext=function(t,n,r){this.parser=t,this.options=n,this.isOpen=r;var a=n.topNode,o,s=wsOptionsFor(null,n.preserveWhitespace,0)|(r?OPT_OPEN_LEFT:0);a?o=new NodeContext(a.type,a.attrs,Mark$1.none,Mark$1.none,!0,n.topMatch||a.type.contentMatch,s):r?o=new NodeContext(null,null,Mark$1.none,Mark$1.none,!0,null,s):o=new NodeContext(t.schema.topNodeType,null,Mark$1.none,Mark$1.none,!0,null,s),this.nodes=[o],this.open=0,this.find=n.findPositions,this.needsBlock=!1},prototypeAccessors$6={top:{configurable:!0},currentPos:{configurable:!0}};prototypeAccessors$6.top.get=function(){return this.nodes[this.open]};ParseContext.prototype.addDOM=function(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){var n=t.getAttribute("style"),r=n?this.readStyles(parseStyles(n)):null,a=this.top;if(r!=null)for(var o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(t),r!=null)for(var s=0;s<r.length;s++)this.removePendingMark(r[s],a)}};ParseContext.prototype.addTextNode=function(t){var n=t.nodeValue,r=this.top;if(r.options&OPT_PRESERVE_WS_FULL||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&OPT_PRESERVE_WS)r.options&OPT_PRESERVE_WS_FULL?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){var a=r.content[r.content.length-1],o=t.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)};ParseContext.prototype.addElement=function(t,n){var r=t.nodeName.toLowerCase(),a;listTags.hasOwnProperty(r)&&this.parser.normalizeLists&&normalizeList(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,n));if(o?o.ignore:ignoreTags.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var s,l=this.top,c=this.needsBlock;if(blockTags.hasOwnProperty(r))s=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),s&&this.sync(l),this.needsBlock=c}else this.addElementByRule(t,o,o.consuming===!1?a:null)};ParseContext.prototype.leafFallback=function(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))};ParseContext.prototype.ignoreFallback=function(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};ParseContext.prototype.readStyles=function(t){var n=Mark$1.none;e:for(var r=0;r<t.length;r+=2)for(var a=null;;){var o=this.parser.matchStyle(t[r],t[r+1],this,a);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)a=o;else break}return n};ParseContext.prototype.addElementByRule=function(t,n,r){var a=this,o,s,l,c;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(t):o=this.enter(s,n.attrs,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark],c=l.create(n.attrs),this.addPendingMark(c));var u=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(function(m){return a.insertNode(m)});else{var f=n.contentElement;typeof f=="string"?f=t.querySelector(f):typeof f=="function"&&(f=f(t)),f||(f=t),this.findAround(t,f,!0),this.addAll(f,o)}o&&(this.sync(u),this.open--),c&&this.removePendingMark(c,u)};ParseContext.prototype.addAll=function(t,n,r,a){for(var o=r||0,s=r?t.childNodes[r]:t.firstChild,l=a==null?null:t.childNodes[a];s!=l;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s),n&&blockTags.hasOwnProperty(s.nodeName.toLowerCase())&&this.sync(n);this.findAtPoint(t,o)};ParseContext.prototype.findPlace=function(t){for(var n,r,a=this.open;a>=0;a--){var o=this.nodes[a],s=o.findWrapping(t);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(var l=0;l<n.length;l++)this.enterInner(n[l],null,!1);return!0};ParseContext.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();var r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));for(var a=r.activeMarks,o=0;o<t.marks.length;o++)(!r.type||r.type.allowsMarkType(t.marks[o].type))&&(a=t.marks[o].addToSet(a));return r.content.push(t.mark(a)),!0}return!1};ParseContext.prototype.enter=function(t,n,r){var a=this.findPlace(t.create(n));return a&&this.enterInner(t,n,!0,r),a};ParseContext.prototype.enterInner=function(t,n,r,a){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,n);var s=wsOptionsFor(t,a,o.options);o.options&OPT_OPEN_LEFT&&o.content.length==0&&(s|=OPT_OPEN_LEFT),this.nodes.push(new NodeContext(t,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++};ParseContext.prototype.closeExtra=function(t){var n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}};ParseContext.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};ParseContext.prototype.sync=function(t){for(var n=this.open;n>=0;n--)if(this.nodes[n]==t){this.open=n;return}};prototypeAccessors$6.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e};ParseContext.prototype.findAtPoint=function(t,n){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)};ParseContext.prototype.findInside=function(t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)};ParseContext.prototype.findAround=function(t,n,r){if(t!=n&&this.find){for(var a=0;a<this.find.length;a++)if(this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)){var o=n.compareDocumentPosition(this.find[a].node);o&(r?2:4)&&(this.find[a].pos=this.currentPos)}}};ParseContext.prototype.findInText=function(t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))};ParseContext.prototype.matchesContext=function(t){var n=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var r=t.split("/"),a=this.options.context,o=!this.isOpen&&(!a||a.parent.type==this.nodes[0].type),s=-(a?a.depth+1:0)+(o?0:1),l=function(c,u){for(;c>=0;c--){var f=r[c];if(f==""){if(c==r.length-1||c==0)continue;for(;u>=s;u--)if(l(c-1,u))return!0;return!1}else{var m=u>0||u==0&&o?n.nodes[u].type:a&&u>=s?a.node(u-s).type:null;if(!m||m.name!=f&&m.groups.indexOf(f)==-1)return!1;u--}}return!0};return l(r.length-1,this.open)};ParseContext.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var n=t.depth;n>=0;n--){var r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var a in this.parser.schema.nodes){var o=this.parser.schema.nodes[a];if(o.isTextblock&&o.defaultAttrs)return o}};ParseContext.prototype.addPendingMark=function(t){var n=findSameMarkInSet(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)};ParseContext.prototype.removePendingMark=function(t,n){for(var r=this.open;r>=0;r--){var a=this.nodes[r],o=a.pendingMarks.lastIndexOf(t);if(o>-1)a.pendingMarks=t.removeFromSet(a.pendingMarks);else{a.activeMarks=t.removeFromSet(a.activeMarks);var s=a.popFromStashMark(t);s&&a.type&&a.type.allowsMarkType(s.type)&&(a.activeMarks=s.addToSet(a.activeMarks))}if(a==n)break}};Object.defineProperties(ParseContext.prototype,prototypeAccessors$6);function normalizeList(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&listTags.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function matches$1(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function parseStyles(e){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];n=t.exec(e);)r.push(n[1],n[2].trim());return r}function copy(e){var t={};for(var n in e)t[n]=e[n];return t}function markMayApply(e,t){var n=t.schema.nodes,r=function(s){var l=n[s];if(!!l.allowsMarkType(e)){var c=[],u=function(f){c.push(f);for(var m=0;m<f.edgeCount;m++){var h=f.edge(m),d=h.type,g=h.next;if(d==t||c.indexOf(g)<0&&u(g))return!0}};if(u(l.contentMatch))return{v:!0}}};for(var a in n){var o=r(a);if(o)return o.v}}function findSameMarkInSet(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}var DOMSerializer=function(t,n){this.nodes=t||{},this.marks=n||{}};DOMSerializer.prototype.serializeFragment=function(t,n,r){var a=this;n===void 0&&(n={}),r||(r=doc(n).createDocumentFragment());var o=r,s=null;return t.forEach(function(l){if(s||l.marks.length){s||(s=[]);for(var c=0,u=0;c<s.length&&u<l.marks.length;){var f=l.marks[u];if(!a.marks[f.type.name]){u++;continue}if(!f.eq(s[c])||f.type.spec.spanning===!1)break;c+=2,u++}for(;c<s.length;)o=s.pop(),s.pop();for(;u<l.marks.length;){var m=l.marks[u++],h=a.serializeMark(m,l.isInline,n);h&&(s.push(m,o),o.appendChild(h.dom),o=h.contentDOM||h.dom)}}o.appendChild(a.serializeNodeInner(l,n))}),r};DOMSerializer.prototype.serializeNodeInner=function(t,n){n===void 0&&(n={});var r=DOMSerializer.renderSpec(doc(n),this.nodes[t.type.name](t)),a=r.dom,o=r.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");n.onContent?n.onContent(t,o,n):this.serializeFragment(t.content,n,o)}return a};DOMSerializer.prototype.serializeNode=function(t,n){n===void 0&&(n={});for(var r=this.serializeNodeInner(t,n),a=t.marks.length-1;a>=0;a--){var o=this.serializeMark(t.marks[a],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r};DOMSerializer.prototype.serializeMark=function(t,n,r){r===void 0&&(r={});var a=this.marks[t.type.name];return a&&DOMSerializer.renderSpec(doc(r),a(t,n))};DOMSerializer.renderSpec=function(t,n,r){if(r===void 0&&(r=null),typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;var a=n[0],o=a.indexOf(" ");o>0&&(r=a.slice(0,o),a=a.slice(o+1));var s=null,l=r?t.createElementNS(r,a):t.createElement(a),c=n[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(var f in c)if(c[f]!=null){var m=f.indexOf(" ");m>0?l.setAttributeNS(f.slice(0,m),f.slice(m+1),c[f]):l.setAttribute(f,c[f])}}for(var h=u;h<n.length;h++){var d=n[h];if(d===0){if(h<n.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{var g=DOMSerializer.renderSpec(t,d,r),v=g.dom,_=g.contentDOM;if(l.appendChild(v),_){if(s)throw new RangeError("Multiple content holes");s=_}}}return{dom:l,contentDOM:s}};DOMSerializer.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(t),this.marksFromSchema(t)))};DOMSerializer.nodesFromSchema=function(t){var n=gatherToDOM(t.nodes);return n.text||(n.text=function(r){return r.text}),n};DOMSerializer.marksFromSchema=function(t){return gatherToDOM(t.marks)};function gatherToDOM(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function doc(e){return e.document||window.document}var lower16=65535,factor16=Math.pow(2,16);function makeRecover(e,t){return e+t*factor16}function recoverIndex(e){return e&lower16}function recoverOffset(e){return(e-(e&lower16))/factor16}var MapResult=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=null),this.pos=t,this.deleted=n,this.recover=r},StepMap=function e(t,n){if(n===void 0&&(n=!1),!t.length&&e.empty)return e.empty;this.ranges=t,this.inverted=n};StepMap.prototype.recover=function(t){var n=0,r=recoverIndex(t);if(!this.inverted)for(var a=0;a<r;a++)n+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[r*3]+n+recoverOffset(t)};StepMap.prototype.mapResult=function(t,n){return n===void 0&&(n=1),this._map(t,n,!1)};StepMap.prototype.map=function(t,n){return n===void 0&&(n=1),this._map(t,n,!0)};StepMap.prototype._map=function(t,n,r){for(var a=0,o=this.inverted?2:1,s=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?a:0);if(c>t)break;var u=this.ranges[l+o],f=this.ranges[l+s],m=c+u;if(t<=m){var h=u?t==c?-1:t==m?1:n:n,d=c+a+(h<0?0:f);if(r)return d;var g=t==(n<0?c:m)?null:makeRecover(l/3,t-c);return new MapResult(d,n<0?t!=c:t!=m,g)}a+=f-u}return r?t+a:new MapResult(t+a)};StepMap.prototype.touches=function(t,n){for(var r=0,a=recoverIndex(n),o=this.inverted?2:1,s=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;var u=this.ranges[l+o],f=c+u;if(t<=f&&l==a*3)return!0;r+=this.ranges[l+s]-u}return!1};StepMap.prototype.forEach=function(t){for(var n=this.inverted?2:1,r=this.inverted?1:2,a=0,o=0;a<this.ranges.length;a+=3){var s=this.ranges[a],l=s-(this.inverted?o:0),c=s+(this.inverted?0:o),u=this.ranges[a+n],f=this.ranges[a+r];t(l,l+u,c,c+f),o+=f-u}};StepMap.prototype.invert=function(){return new StepMap(this.ranges,!this.inverted)};StepMap.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};StepMap.offset=function(t){return t==0?StepMap.empty:new StepMap(t<0?[0,-t,0]:[0,0,t])};StepMap.empty=new StepMap([]);var Mapping=function(t,n,r,a){this.maps=t||[],this.from=r||0,this.to=a==null?this.maps.length:a,this.mirror=n};Mapping.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.maps.length),new Mapping(this.maps,this.mirror,t,n)};Mapping.prototype.copy=function(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};Mapping.prototype.appendMap=function(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)};Mapping.prototype.appendMapping=function(t){for(var n=0,r=this.maps.length;n<t.maps.length;n++){var a=t.getMirror(n);this.appendMap(t.maps[n],a!=null&&a<n?r+a:null)}};Mapping.prototype.getMirror=function(t){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}};Mapping.prototype.setMirror=function(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)};Mapping.prototype.appendMappingInverted=function(t){for(var n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){var a=t.getMirror(n);this.appendMap(t.maps[n].invert(),a!=null&&a>n?r-a-1:null)}};Mapping.prototype.invert=function(){var t=new Mapping;return t.appendMappingInverted(this),t};Mapping.prototype.map=function(t,n){if(n===void 0&&(n=1),this.mirror)return this._map(t,n,!0);for(var r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t};Mapping.prototype.mapResult=function(t,n){return n===void 0&&(n=1),this._map(t,n,!1)};Mapping.prototype._map=function(t,n,r){for(var a=!1,o=this.from;o<this.to;o++){var s=this.maps[o],l=s.mapResult(t,n);if(l.recover!=null){var c=this.getMirror(o);if(c!=null&&c>o&&c<this.to){o=c,t=this.maps[c].recover(l.recover);continue}}l.deleted&&(a=!0),t=l.pos}return r?t:new MapResult(t,a)};function TransformError(e){var t=Error.call(this,e);return t.__proto__=TransformError.prototype,t}TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";var Transform=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Mapping},prototypeAccessors$4={before:{configurable:!0},docChanged:{configurable:!0}};prototypeAccessors$4.before.get=function(){return this.docs.length?this.docs[0]:this.doc};Transform.prototype.step=function(t){var n=this.maybeStep(t);if(n.failed)throw new TransformError(n.failed);return this};Transform.prototype.maybeStep=function(t){var n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n};prototypeAccessors$4.docChanged.get=function(){return this.steps.length>0};Transform.prototype.addStep=function(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n};Object.defineProperties(Transform.prototype,prototypeAccessors$4);function mustOverride(){throw new Error("Override me")}var stepsByID=Object.create(null),Step=function(){};Step.prototype.apply=function(t){return mustOverride()};Step.prototype.getMap=function(){return StepMap.empty};Step.prototype.invert=function(t){return mustOverride()};Step.prototype.map=function(t){return mustOverride()};Step.prototype.merge=function(t){return null};Step.prototype.toJSON=function(){return mustOverride()};Step.fromJSON=function(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=stepsByID[n.stepType];if(!r)throw new RangeError("No step type "+n.stepType+" defined");return r.fromJSON(t,n)};Step.jsonID=function(t,n){if(t in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+t);return stepsByID[t]=n,n.prototype.jsonID=t,n};var StepResult=function(t,n){this.doc=t,this.failed=n};StepResult.ok=function(t){return new StepResult(t,null)};StepResult.fail=function(t){return new StepResult(null,t)};StepResult.fromReplace=function(t,n,r,a){try{return StepResult.ok(t.replace(n,r,a))}catch(o){if(o instanceof ReplaceError)return StepResult.fail(o.message);throw o}};var ReplaceStep=function(e){function t(n,r,a,o){e.call(this),this.from=n,this.to=r,this.slice=a,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){return this.structure&&contentBetween(r,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(r,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new StepMap([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(r){return new t(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},t.prototype.map=function(r){var a=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return a.deleted&&o.deleted?null:new t(a.pos,Math.max(a.pos,o.pos),this.slice)},t.prototype.merge=function(r){if(!(r instanceof t)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){var a=this.slice.size+r.slice.size==0?Slice.empty:new Slice(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new t(this.from,this.to+(r.to-r.from),a,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){var o=this.slice.size+r.slice.size==0?Slice.empty:new Slice(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new t(r.from,this.to,o,this.structure)}else return null},t.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},t.fromJSON=function(r,a){if(typeof a.from!="number"||typeof a.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(a.from,a.to,Slice.fromJSON(r,a.slice),!!a.structure)},t}(Step);Step.jsonID("replace",ReplaceStep);var ReplaceAroundStep=function(e){function t(n,r,a,o,s,l,c){e.call(this),this.from=n,this.to=r,this.gapFrom=a,this.gapTo=o,this.slice=s,this.insert=l,this.structure=!!c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){if(this.structure&&(contentBetween(r,this.from,this.gapFrom)||contentBetween(r,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");var a=r.slice(this.gapFrom,this.gapTo);if(a.openStart||a.openEnd)return StepResult.fail("Gap is not a flat range");var o=this.slice.insertAt(this.insert,a.content);return o?StepResult.fromReplace(r,this.from,this.to,o):StepResult.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(r){var a=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+a,this.from+this.insert,this.from+this.insert+a,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(r){var a=r.mapResult(this.from,1),o=r.mapResult(this.to,-1),s=r.map(this.gapFrom,-1),l=r.map(this.gapTo,1);return a.deleted&&o.deleted||s<a.pos||l>o.pos?null:new t(a.pos,o.pos,s,l,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},t.fromJSON=function(r,a){if(typeof a.from!="number"||typeof a.to!="number"||typeof a.gapFrom!="number"||typeof a.gapTo!="number"||typeof a.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(a.from,a.to,a.gapFrom,a.gapTo,Slice.fromJSON(r,a.slice),a.insert,!!a.structure)},t}(Step);Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(e,t,n){for(var r=e.resolve(t),a=n-t,o=r.depth;a>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,a--;if(a>0)for(var s=r.node(o).maybeChild(r.indexAfter(o));a>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,a--}return!1}function canCut(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function liftTarget(e){for(var t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex),r=e.depth;;--r){var a=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&a.canReplace(o,s,n))return r;if(r==0||a.type.spec.isolating||!canCut(a,o,s))break}}Transform.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,a=e.depth,o=n.before(a+1),s=r.after(a+1),l=o,c=s,u=Fragment.empty,f=0,m=a,h=!1;m>t;m--)h||n.index(m)>0?(h=!0,u=Fragment.from(n.node(m).copy(u)),f++):l--;for(var d=Fragment.empty,g=0,v=a,_=!1;v>t;v--)_||r.after(v+1)<r.end(v)?(_=!0,d=Fragment.from(r.node(v).copy(d)),g++):c++;return this.step(new ReplaceAroundStep(l,c,o,s,new Slice(u.append(d),f,g),u.size-f,!0))};function findWrapping(e,t,n,r){r===void 0&&(r=e);var a=findWrappingOutside(e,t),o=a&&findWrappingInside(r,t);return o?a.map(withAttrs).concat({type:t,attrs:n}).concat(o.map(withAttrs)):null}function withAttrs(e){return{type:e,attrs:null}}function findWrappingOutside(e,t){var n=e.parent,r=e.startIndex,a=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;var s=o.length?o[0]:t;return n.canReplaceWith(r,a,s)?o:null}function findWrappingInside(e,t){var n=e.parent,r=e.startIndex,a=e.endIndex,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;for(var l=s.length?s[s.length-1]:t,c=l.contentMatch,u=r;c&&u<a;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:s}Transform.prototype.wrap=function(e,t){for(var n=Fragment.empty,r=t.length-1;r>=0;r--){if(n.size){var a=t[r].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Fragment.from(t[r].type.create(t[r].attrs,n))}var o=e.start,s=e.end;return this.step(new ReplaceAroundStep(o,s,o,s,new Slice(n,0,0),t.length,!0))};Transform.prototype.setBlockType=function(e,t,n,r){var a=this;if(t===void 0&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,function(s,l){if(s.isTextblock&&!s.hasMarkup(n,r)&&canChangeType(a.doc,a.mapping.slice(o).map(l),n)){a.clearIncompatible(a.mapping.slice(o).map(l,1),n);var c=a.mapping.slice(o),u=c.map(l,1),f=c.map(l+s.nodeSize,1);return a.step(new ReplaceAroundStep(u,f,u+1,f-1,new Slice(Fragment.from(n.create(r,null,s.marks)),0,0),1,!0)),!1}}),this};function canChangeType(e,t,n){var r=e.resolve(t),a=r.index();return r.parent.canReplaceWith(a,a+1,n)}Transform.prototype.setNodeMarkup=function(e,t,n,r){var a=this.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);var o=t.create(n,null,r||a.marks);if(a.isLeaf)return this.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new ReplaceAroundStep(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Slice(Fragment.from(o),0,0),1,!0))};function canSplit(e,t,n,r){n===void 0&&(n=1);var a=e.resolve(t),o=a.depth-n,s=r&&r[r.length-1]||a.parent;if(o<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!s.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(var l=a.depth-1,c=n-2;l>o;l--,c--){var u=a.node(l),f=a.index(l);if(u.type.spec.isolating)return!1;var m=u.content.cutByIndex(f,u.childCount),h=r&&r[c]||u;if(h!=u&&(m=m.replaceChild(0,h.type.create(h.attrs))),!u.canReplace(f+1,u.childCount)||!h.type.validContent(m))return!1}var d=a.indexAfter(o),g=r&&r[0];return a.node(o).canReplaceWith(d,d,g?g.type:a.node(o+1).type)}Transform.prototype.split=function(e,t,n){t===void 0&&(t=1);for(var r=this.doc.resolve(e),a=Fragment.empty,o=Fragment.empty,s=r.depth,l=r.depth-t,c=t-1;s>l;s--,c--){a=Fragment.from(r.node(s).copy(a));var u=n&&n[c];o=Fragment.from(u?u.type.create(u.attrs,o):r.node(s).copy(o))}return this.step(new ReplaceStep(e,e,new Slice(a.append(o),t,t),!0))};function canJoin(e,t){var n=e.resolve(t),r=n.index();return joinable(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function joinable(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}Transform.prototype.join=function(e,t){t===void 0&&(t=1);var n=new ReplaceStep(e-t,e+t,Slice.empty,!0);return this.step(n)};function insertPoint(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(var a=r.depth-1;a>=0;a--){var o=r.index(a);if(r.node(a).canReplaceWith(o,o,n))return r.before(a+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var l=r.indexAfter(s);if(r.node(s).canReplaceWith(l,l,n))return r.after(s+1);if(l<r.node(s).childCount)return null}}function dropPoint(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var a=n.content,o=0;o<n.openStart;o++)a=a.firstChild.content;for(var s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(var l=r.depth;l>=0;l--){var c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,u=r.index(l)+(c>0?1:0),f=r.node(l),m=!1;if(s==1)m=f.canReplace(u,u,a);else{var h=f.contentMatchAt(u).findWrapping(a.firstChild.type);m=h&&f.canReplaceWith(u,u,h[0])}if(m)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function mapFragment(e,t,n){for(var r=[],a=0;a<e.childCount;a++){var o=e.child(a);o.content.size&&(o=o.copy(mapFragment(o.content,t,o))),o.isInline&&(o=t(o,n,a)),r.push(o)}return Fragment.fromArray(r)}var AddMarkStep=function(e){function t(n,r,a){e.call(this),this.from=n,this.to=r,this.mark=a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){var a=this,o=r.slice(this.from,this.to),s=r.resolve(this.from),l=s.node(s.sharedDepth(this.to)),c=new Slice(mapFragment(o.content,function(u,f){return!u.isAtom||!f.type.allowsMarkType(a.mark.type)?u:u.mark(a.mark.addToSet(u.marks))},l),o.openStart,o.openEnd);return StepResult.fromReplace(r,this.from,this.to,c)},t.prototype.invert=function(){return new RemoveMarkStep(this.from,this.to,this.mark)},t.prototype.map=function(r){var a=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return a.deleted&&o.deleted||a.pos>=o.pos?null:new t(a.pos,o.pos,this.mark)},t.prototype.merge=function(r){if(r instanceof t&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new t(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(r,a){if(typeof a.from!="number"||typeof a.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(a.from,a.to,r.markFromJSON(a.mark))},t}(Step);Step.jsonID("addMark",AddMarkStep);var RemoveMarkStep=function(e){function t(n,r,a){e.call(this),this.from=n,this.to=r,this.mark=a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){var a=this,o=r.slice(this.from,this.to),s=new Slice(mapFragment(o.content,function(l){return l.mark(a.mark.removeFromSet(l.marks))}),o.openStart,o.openEnd);return StepResult.fromReplace(r,this.from,this.to,s)},t.prototype.invert=function(){return new AddMarkStep(this.from,this.to,this.mark)},t.prototype.map=function(r){var a=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return a.deleted&&o.deleted||a.pos>=o.pos?null:new t(a.pos,o.pos,this.mark)},t.prototype.merge=function(r){if(r instanceof t&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new t(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(r,a){if(typeof a.from!="number"||typeof a.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(a.from,a.to,r.markFromJSON(a.mark))},t}(Step);Step.jsonID("removeMark",RemoveMarkStep);Transform.prototype.addMark=function(e,t,n){var r=this,a=[],o=[],s=null,l=null;return this.doc.nodesBetween(e,t,function(c,u,f){if(!!c.isInline){var m=c.marks;if(!n.isInSet(m)&&f.type.allowsMarkType(n.type)){for(var h=Math.max(u,e),d=Math.min(u+c.nodeSize,t),g=n.addToSet(m),v=0;v<m.length;v++)m[v].isInSet(g)||(s&&s.to==h&&s.mark.eq(m[v])?s.to=d:a.push(s=new RemoveMarkStep(h,d,m[v])));l&&l.to==h?l.to=d:o.push(l=new AddMarkStep(h,d,n))}}}),a.forEach(function(c){return r.step(c)}),o.forEach(function(c){return r.step(c)}),this};Transform.prototype.removeMark=function(e,t,n){var r=this;n===void 0&&(n=null);var a=[],o=0;return this.doc.nodesBetween(e,t,function(s,l){if(!!s.isInline){o++;var c=null;if(n instanceof MarkType)for(var u=s.marks,f;f=n.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u);else n?n.isInSet(s.marks)&&(c=[n]):c=s.marks;if(c&&c.length)for(var m=Math.min(l+s.nodeSize,t),h=0;h<c.length;h++){for(var d=c[h],g=void 0,v=0;v<a.length;v++){var _=a[v];_.step==o-1&&d.eq(a[v].style)&&(g=_)}g?(g.to=m,g.step=o):a.push({style:d,from:Math.max(l,e),to:m,step:o})}}}),a.forEach(function(s){return r.step(new RemoveMarkStep(s.from,s.to,s.style))}),this};Transform.prototype.clearIncompatible=function(e,t,n){n===void 0&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),a=[],o=e+1,s=0;s<r.childCount;s++){var l=r.child(s),c=o+l.nodeSize,u=n.matchType(l.type,l.attrs);if(!u)a.push(new ReplaceStep(o,c,Slice.empty));else{n=u;for(var f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||this.step(new RemoveMarkStep(o,c,l.marks[f]))}o=c}if(!n.validEnd){var m=n.fillBefore(Fragment.empty,!0);this.replace(o,o,new Slice(m,0,0))}for(var h=a.length-1;h>=0;h--)this.step(a[h]);return this};function replaceStep(e,t,n,r){if(n===void 0&&(n=t),r===void 0&&(r=Slice.empty),t==n&&!r.size)return null;var a=e.resolve(t),o=e.resolve(n);return fitsTrivially(a,o,r)?new ReplaceStep(t,n,r):new Fitter(a,o,r).fit()}Transform.prototype.replace=function(e,t,n){t===void 0&&(t=e),n===void 0&&(n=Slice.empty);var r=replaceStep(this.doc,e,t,n);return r&&this.step(r),this};Transform.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new Slice(Fragment.from(n),0,0))};Transform.prototype.delete=function(e,t){return this.replace(e,t,Slice.empty)};Transform.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};function fitsTrivially(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}var Fitter=function(t,n,r){this.$to=n,this.$from=t,this.unplaced=r,this.frontier=[];for(var a=0;a<=t.depth;a++){var o=t.node(a);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(a))})}this.placed=Fragment.empty;for(var s=t.depth;s>0;s--)this.placed=Fragment.from(t.node(s).copy(this.placed))},prototypeAccessors$1$2={depth:{configurable:!0}};prototypeAccessors$1$2.depth.get=function(){return this.frontier.length-1};Fitter.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,a=this.$from,o=this.close(n<0?this.$to:a.doc.resolve(n));if(!o)return null;for(var s=this.placed,l=a.depth,c=o.depth;l&&c&&s.childCount==1;)s=s.firstChild.content,l--,c--;var u=new Slice(s,l,c);if(n>-1)return new ReplaceAroundStep(a.pos,n,this.$to.pos,this.$to.end(),u,r);if(u.size||a.pos!=this.$to.pos)return new ReplaceStep(a.pos,o.pos,u)};Fitter.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var n=this.unplaced.openStart;n>=0;n--){var r=void 0,a=void 0;n?(a=contentAt(this.unplaced.content,n-1).firstChild,r=a.content):r=this.unplaced.content;for(var o=r.firstChild,s=this.depth;s>=0;s--){var l=this.frontier[s],c=l.type,u=l.match,f=void 0,m=void 0;if(t==1&&(o?u.matchType(o.type)||(m=u.fillBefore(Fragment.from(o),!1)):c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:s,parent:a,inject:m};if(t==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:a,wrap:f};if(a&&u.matchType(a.type))break}}};Fitter.prototype.openMore=function(){var t=this.unplaced,n=t.content,r=t.openStart,a=t.openEnd,o=contentAt(n,r);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Slice(n,r+1,Math.max(a,o.size+r>=n.size-a?r+1:0)),!0)};Fitter.prototype.dropNode=function(){var t=this.unplaced,n=t.content,r=t.openStart,a=t.openEnd,o=contentAt(n,r);if(o.childCount<=1&&r>0){var s=n.size-r<=r+o.size;this.unplaced=new Slice(dropFromFragment(n,r-1,1),r-1,s?r-1:a)}else this.unplaced=new Slice(dropFromFragment(n,r,1),r,a)};Fitter.prototype.placeNodes=function(t){for(var n=t.sliceDepth,r=t.frontierDepth,a=t.parent,o=t.inject,s=t.wrap;this.depth>r;)this.closeFrontierNode();if(s)for(var l=0;l<s.length;l++)this.openFrontierNode(s[l]);var c=this.unplaced,u=a?a.content:c.content,f=c.openStart-n,m=0,h=[],d=this.frontier[r],g=d.match,v=d.type;if(o){for(var _=0;_<o.childCount;_++)h.push(o.child(_));g=g.matchFragment(o)}for(var y=u.size+n-(c.content.size-c.openEnd);m<u.childCount;){var q=u.child(m),b=g.matchType(q.type);if(!b)break;m++,(m>1||f==0||q.content.size)&&(g=b,h.push(closeNodeStart(q.mark(v.allowedMarks(q.marks)),m==1?f:0,m==u.childCount?y:-1)))}var x=m==u.childCount;x||(y=-1),this.placed=addToFragment(this.placed,r,Fragment.from(h)),this.frontier[r].match=g,x&&y<0&&a&&a.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var E=0,T=u;E<y;E++){var k=T.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),T=k.content}this.unplaced=x?n==0?Slice.empty:new Slice(dropFromFragment(c.content,n-1,1),n-1,y<0?c.openEnd:n-1):new Slice(dropFromFragment(c.content,n,m),c.openStart,c.openEnd)};Fitter.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var t=this.frontier[this.depth],n;if(!t.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var r=this.$to,a=r.depth,o=this.$to.after(a);a>1&&o==this.$to.end(--a);)++o;return o};Fitter.prototype.findCloseLevel=function(t){e:for(var n=Math.min(this.depth,t.depth);n>=0;n--){var r=this.frontier[n],a=r.match,o=r.type,s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),l=contentAfterFits(t,n,o,a,s);if(!!l){for(var c=n-1;c>=0;c--){var u=this.frontier[c],f=u.match,m=u.type,h=contentAfterFits(t,c,m,f,!0);if(!h||h.childCount)continue e}return{depth:n,fit:l,move:s?t.doc.resolve(t.after(n+1)):t}}}};Fitter.prototype.close=function(t){var n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=addToFragment(this.placed,n.depth,n.fit)),t=n.move;for(var r=n.depth+1;r<=t.depth;r++){var a=t.node(r),o=a.type.contentMatch.fillBefore(a.content,!0,t.index(r));this.openFrontierNode(a.type,a.attrs,o)}return t};Fitter.prototype.openFrontierNode=function(t,n,r){var a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=addToFragment(this.placed,this.depth,Fragment.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})};Fitter.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),n=t.match.fillBefore(Fragment.empty,!0);n.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,n))};Object.defineProperties(Fitter.prototype,prototypeAccessors$1$2);function dropFromFragment(e,t,n){return t==0?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(dropFromFragment(e.firstChild.content,t-1,n)))}function addToFragment(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(addToFragment(e.lastChild.content,t-1,n)))}function contentAt(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function closeNodeStart(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,closeNodeStart(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Fragment.empty,!0)))),e.copy(r)}function contentAfterFits(e,t,n,r,a){var o=e.node(t),s=a?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var l=r.fillBefore(o.content,!0,s);return l&&!invalidMarks(n,o.content,s)?l:null}function invalidMarks(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function definesContent(e){return e.spec.defining||e.spec.definingForContent}Transform.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),a=this.doc.resolve(t);if(fitsTrivially(r,a,n))return this.step(new ReplaceStep(e,t,n));var o=coveredDepths(r,this.doc.resolve(t));o[o.length-1]==0&&o.pop();var s=-(r.depth+1);o.unshift(s);for(var l=r.depth,c=r.pos-1;l>0;l--,c--){var u=r.node(l).type.spec;if(u.defining||u.definingAsContext||u.isolating)break;o.indexOf(l)>-1?s=l:r.before(l)==c&&o.splice(1,0,-l)}for(var f=o.indexOf(s),m=[],h=n.openStart,d=n.content,g=0;;g++){var v=d.firstChild;if(m.push(v),g==n.openStart)break;d=v.content}for(var _=h-1;_>=0;_--){var y=m[_].type,q=definesContent(y);if(q&&r.node(f).type!=y)h=_;else if(q||!y.isTextblock)break}for(var b=n.openStart;b>=0;b--){var x=(b+h+1)%(n.openStart+1),E=m[x];if(!!E)for(var T=0;T<o.length;T++){var k=o[(T+f)%o.length],A=!0;k<0&&(A=!1,k=-k);var M=r.node(k-1),S=r.index(k-1);if(M.canReplaceWith(S,S,E.type,E.marks))return this.replace(r.before(k),A?a.after(k):t,new Slice(closeFragment(n.content,0,n.openStart,x),x,n.openEnd))}}for(var C=this.steps.length,I=o.length-1;I>=0&&(this.replace(e,t,n),!(this.steps.length>C));I--){var O=o[I];O<0||(e=r.before(O),t=a.after(O))}return this};function closeFragment(e,t,n,r,a){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(closeFragment(o.content,t+1,n,r,o)))}if(t>r){var s=a.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(Fragment.empty,!0))}return e}Transform.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=insertPoint(this.doc,e,n.type);r!=null&&(e=t=r)}return this.replaceRange(e,t,new Slice(Fragment.from(n),0,0))};Transform.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),a=coveredDepths(n,r),o=0;o<a.length;o++){var s=a[o],l=o==a.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&r.end(c)-t!=r.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)};function coveredDepths(e,t){for(var n=[],r=Math.min(e.depth,t.depth),a=r;a>=0;a--){var o=e.start(a);if(o<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(o==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==o-1)&&n.push(a)}return n}var classesById=Object.create(null),Selection=function(t,n,r){this.ranges=r||[new SelectionRange(t.min(n),t.max(n))],this.$anchor=t,this.$head=n},prototypeAccessors$3={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};prototypeAccessors$3.anchor.get=function(){return this.$anchor.pos};prototypeAccessors$3.head.get=function(){return this.$head.pos};prototypeAccessors$3.from.get=function(){return this.$from.pos};prototypeAccessors$3.to.get=function(){return this.$to.pos};prototypeAccessors$3.$from.get=function(){return this.ranges[0].$from};prototypeAccessors$3.$to.get=function(){return this.ranges[0].$to};prototypeAccessors$3.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0};Selection.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};Selection.prototype.replace=function(t,n){n===void 0&&(n=Slice.empty);for(var r=n.content.lastChild,a=null,o=0;o<n.openEnd;o++)a=r,r=r.lastChild;for(var s=t.steps.length,l=this.ranges,c=0;c<l.length;c++){var u=l[c],f=u.$from,m=u.$to,h=t.mapping.slice(s);t.replaceRange(h.map(f.pos),h.map(m.pos),c?Slice.empty:n),c==0&&selectionToInsertionEnd(t,s,(r?r.isInline:a&&a.isTextblock)?-1:1)}};Selection.prototype.replaceWith=function(t,n){for(var r=t.steps.length,a=this.ranges,o=0;o<a.length;o++){var s=a[o],l=s.$from,c=s.$to,u=t.mapping.slice(r),f=u.map(l.pos),m=u.map(c.pos);o?t.deleteRange(f,m):(t.replaceRangeWith(f,m,n),selectionToInsertionEnd(t,r,n.isInline?-1:1))}};Selection.findFrom=function(t,n,r){var a=t.parent.inlineContent?new TextSelection(t):findSelectionIn(t.node(0),t.parent,t.pos,t.index(),n,r);if(a)return a;for(var o=t.depth-1;o>=0;o--){var s=n<0?findSelectionIn(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):findSelectionIn(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}};Selection.near=function(t,n){return n===void 0&&(n=1),this.findFrom(t,n)||this.findFrom(t,-n)||new AllSelection(t.node(0))};Selection.atStart=function(t){return findSelectionIn(t,t,0,0,1)||new AllSelection(t)};Selection.atEnd=function(t){return findSelectionIn(t,t,t.content.size,t.childCount,-1)||new AllSelection(t)};Selection.fromJSON=function(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=classesById[n.type];if(!r)throw new RangeError("No selection type "+n.type+" defined");return r.fromJSON(t,n)};Selection.jsonID=function(t,n){if(t in classesById)throw new RangeError("Duplicate use of selection JSON ID "+t);return classesById[t]=n,n.prototype.jsonID=t,n};Selection.prototype.getBookmark=function(){return TextSelection.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(Selection.prototype,prototypeAccessors$3);Selection.prototype.visible=!0;var SelectionRange=function(t,n){this.$from=t,this.$to=n},TextSelection=function(e){function t(r,a){a===void 0&&(a=r),e.call(this,r,a)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(a,o){var s=a.resolve(o.map(this.head));if(!s.parent.inlineContent)return e.near(s);var l=a.resolve(o.map(this.anchor));return new t(l.parent.inlineContent?l:s,s)},t.prototype.replace=function(a,o){if(o===void 0&&(o=Slice.empty),e.prototype.replace.call(this,a,o),o==Slice.empty){var s=this.$from.marksAcross(this.$to);s&&a.ensureMarks(s)}},t.prototype.eq=function(a){return a instanceof t&&a.anchor==this.anchor&&a.head==this.head},t.prototype.getBookmark=function(){return new TextBookmark(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(a,o){if(typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(a.resolve(o.anchor),a.resolve(o.head))},t.create=function(a,o,s){s===void 0&&(s=o);var l=a.resolve(o);return new this(l,s==o?l:a.resolve(s))},t.between=function(a,o,s){var l=a.pos-o.pos;if((!s||l)&&(s=l>=0?1:-1),!o.parent.inlineContent){var c=e.findFrom(o,s,!0)||e.findFrom(o,-s,!0);if(c)o=c.$head;else return e.near(o,s)}return a.parent.inlineContent||(l==0?a=o:(a=(e.findFrom(a,-s,!0)||e.findFrom(a,s,!0)).$anchor,a.pos<o.pos!=l<0&&(a=o))),new t(a,o)},Object.defineProperties(t.prototype,n),t}(Selection);Selection.jsonID("text",TextSelection);var TextBookmark=function(t,n){this.anchor=t,this.head=n};TextBookmark.prototype.map=function(t){return new TextBookmark(t.map(this.anchor),t.map(this.head))};TextBookmark.prototype.resolve=function(t){return TextSelection.between(t.resolve(this.anchor),t.resolve(this.head))};var NodeSelection=function(e){function t(n){var r=n.nodeAfter,a=n.node(0).resolve(n.pos+r.nodeSize);e.call(this,n,a),this.node=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,a){var o=a.mapResult(this.anchor),s=o.deleted,l=o.pos,c=r.resolve(l);return s?e.near(c):new t(c)},t.prototype.content=function(){return new Slice(Fragment.from(this.node),0,0)},t.prototype.eq=function(r){return r instanceof t&&r.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new NodeBookmark(this.anchor)},t.fromJSON=function(r,a){if(typeof a.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(r.resolve(a.anchor))},t.create=function(r,a){return new this(r.resolve(a))},t.isSelectable=function(r){return!r.isText&&r.type.spec.selectable!==!1},t}(Selection);NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);var NodeBookmark=function(t){this.anchor=t};NodeBookmark.prototype.map=function(t){var n=t.mapResult(this.anchor),r=n.deleted,a=n.pos;return r?new TextBookmark(a,a):new NodeBookmark(a)};NodeBookmark.prototype.resolve=function(t){var n=t.resolve(this.anchor),r=n.nodeAfter;return r&&NodeSelection.isSelectable(r)?new NodeSelection(n):Selection.near(n)};var AllSelection=function(e){function t(n){e.call(this,n.resolve(0),n.resolve(n.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(r,a){if(a===void 0&&(a=Slice.empty),a==Slice.empty){r.delete(0,r.doc.content.size);var o=e.atStart(r.doc);o.eq(r.selection)||r.setSelection(o)}else e.prototype.replace.call(this,r,a)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(r){return new t(r)},t.prototype.map=function(r){return new t(r)},t.prototype.eq=function(r){return r instanceof t},t.prototype.getBookmark=function(){return AllBookmark},t}(Selection);Selection.jsonID("all",AllSelection);var AllBookmark={map:function(){return this},resolve:function(t){return new AllSelection(t)}};function findSelectionIn(e,t,n,r,a,o){if(t.inlineContent)return TextSelection.create(e,n);for(var s=r-(a>0?0:1);a>0?s<t.childCount:s>=0;s+=a){var l=t.child(s);if(l.isAtom){if(!o&&NodeSelection.isSelectable(l))return NodeSelection.create(e,n-(a<0?l.nodeSize:0))}else{var c=findSelectionIn(e,l,n+a,a<0?l.childCount:0,a,o);if(c)return c}n+=l.nodeSize*a}}function selectionToInsertionEnd(e,t,n){var r=e.steps.length-1;if(!(r<t)){var a=e.steps[r];if(a instanceof ReplaceStep||a instanceof ReplaceAroundStep){var o=e.mapping.maps[r],s;o.forEach(function(l,c,u,f){s==null&&(s=f)}),e.setSelection(Selection.near(e.doc.resolve(s),n))}}}var UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4,Transaction=function(e){function t(r){e.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(a){if(a.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=a,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&UPDATED_SEL)>0},t.prototype.setStoredMarks=function(a){return this.storedMarks=a,this.updated|=UPDATED_MARKS,this},t.prototype.ensureMarks=function(a){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),a)||this.setStoredMarks(a),this},t.prototype.addStoredMark=function(a){return this.ensureMarks(a.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(a){return this.ensureMarks(a.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&UPDATED_MARKS)>0},t.prototype.addStep=function(a,o){e.prototype.addStep.call(this,a,o),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null},t.prototype.setTime=function(a){return this.time=a,this},t.prototype.replaceSelection=function(a){return this.selection.replace(this,a),this},t.prototype.replaceSelectionWith=function(a,o){var s=this.selection;return o!==!1&&(a=a.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Mark$1.none))),s.replaceWith(this,a),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(a,o,s){s===void 0&&(s=o);var l=this.doc.type.schema;if(o==null)return a?this.replaceSelectionWith(l.text(a),!0):this.deleteSelection();if(!a)return this.deleteRange(o,s);var c=this.storedMarks;if(!c){var u=this.doc.resolve(o);c=s==o?u.marks():u.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(o,s,l.text(a,c)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this},t.prototype.setMeta=function(a,o){return this.meta[typeof a=="string"?a:a.key]=o,this},t.prototype.getMeta=function(a){return this.meta[typeof a=="string"?a:a.key]},n.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=UPDATED_SCROLL,this},n.scrolledIntoView.get=function(){return(this.updated&UPDATED_SCROLL)>0},Object.defineProperties(t.prototype,n),t}(Transform);function bind$4(e,t){return!t||!e?e:e.bind(t)}var FieldDesc=function(t,n,r){this.name=t,this.init=bind$4(n.init,r),this.apply=bind$4(n.apply,r)},baseFields=[new FieldDesc("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new FieldDesc("selection",{init:function(t,n){return t.selection||Selection.atStart(n.doc)},apply:function(t){return t.selection}}),new FieldDesc("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,n,r,a){return a.selection.$cursor?t.storedMarks:null}}),new FieldDesc("scrollToSelection",{init:function(){return 0},apply:function(t,n){return t.scrolledIntoView?n+1:n}})],Configuration=function(t,n){var r=this;this.schema=t,this.fields=baseFields.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),n&&n.forEach(function(a){if(r.pluginsByKey[a.key])throw new RangeError("Adding different instances of a keyed plugin ("+a.key+")");r.plugins.push(a),r.pluginsByKey[a.key]=a,a.spec.state&&r.fields.push(new FieldDesc(a.key,a.spec.state,a))})},EditorState=function(t){this.config=t},prototypeAccessors$1$1={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};prototypeAccessors$1$1.schema.get=function(){return this.config.schema};prototypeAccessors$1$1.plugins.get=function(){return this.config.plugins};EditorState.prototype.apply=function(t){return this.applyTransaction(t).state};EditorState.prototype.filterTransaction=function(t,n){n===void 0&&(n=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=n){var a=this.config.plugins[r];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0};EditorState.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var n=[t],r=this.applyInner(t),a=null;;){for(var o=!1,s=0;s<this.config.plugins.length;s++){var l=this.config.plugins[s];if(l.spec.appendTransaction){var c=a?a[s].n:0,u=a?a[s].state:this,f=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(f&&r.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",t),!a){a=[];for(var m=0;m<this.config.plugins.length;m++)a.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),o=!0}a&&(a[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}};EditorState.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new EditorState(this.config),r=this.config.fields,a=0;a<r.length;a++){var o=r[a];n[o.name]=o.apply(t,this[o.name],this,n)}for(var s=0;s<applyListeners.length;s++)applyListeners[s](this,t,n);return n};prototypeAccessors$1$1.tr.get=function(){return new Transaction(this)};EditorState.create=function(t){for(var n=new Configuration(t.schema||t.doc.type.schema,t.plugins),r=new EditorState(n),a=0;a<n.fields.length;a++)r[n.fields[a].name]=n.fields[a].init(t,r);return r};EditorState.prototype.reconfigure=function(t){for(var n=new Configuration(t.schema||this.schema,t.plugins),r=n.fields,a=new EditorState(n),o=0;o<r.length;o++){var s=r[o].name;a[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,a)}return a};EditorState.prototype.toJSON=function(t){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(s){return s.toJSON()})),t&&typeof t=="object")for(var r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var a=t[r],o=a.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(a,this[a.key]))}return n};EditorState.fromJSON=function(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var a=new Configuration(t.schema,t.plugins),o=new EditorState(a);return a.fields.forEach(function(s){if(s.name=="doc")o.doc=Node$2.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=Selection.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var l in r){var c=r[l],u=c.spec.state;if(c.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(c,t,n[l],o);return}}o[s.name]=s.init(t,o)}}),o};EditorState.addApplyListener=function(t){applyListeners.push(t)};EditorState.removeApplyListener=function(t){var n=applyListeners.indexOf(t);n>-1&&applyListeners.splice(n,1)};Object.defineProperties(EditorState.prototype,prototypeAccessors$1$1);var applyListeners=[];function bindProps(e,t,n){for(var r in e){var a=e[r];a instanceof Function?a=a.bind(t):r=="handleDOMEvents"&&(a=bindProps(a,t,{})),n[r]=a}return n}var Plugin=function(t){this.props={},t.props&&bindProps(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:createKey("plugin")};Plugin.prototype.getState=function(t){return t[this.key]};var keys$2=Object.create(null);function createKey(e){return e in keys$2?e+"$"+ ++keys$2[e]:(keys$2[e]=0,e+"$")}var PluginKey=function(t){t===void 0&&(t="key"),this.key=createKey(t)};PluginKey.prototype.get=function(t){return t.config.pluginsByKey[this.key]};PluginKey.prototype.getState=function(t){return t[this.key]};var result={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var ie_edge=/Edge\/(\d+)/.exec(navigator.userAgent),ie_upto10=/MSIE \d/.test(navigator.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ie$1=result.ie=!!(ie_upto10||ie_11up||ie_edge);result.ie_version=ie_upto10?document.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:null,result.gecko=!ie$1&&/gecko\/(\d+)/i.test(navigator.userAgent),result.gecko_version=result.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var chrome$1=!ie$1&&/Chrome\/(\d+)/.exec(navigator.userAgent);result.chrome=!!chrome$1,result.chrome_version=chrome$1&&+chrome$1[1],result.safari=!ie$1&&/Apple Computer/.test(navigator.vendor),result.ios=result.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),result.mac=result.ios||/Mac/.test(navigator.platform),result.android=/Android \d/.test(navigator.userAgent),result.webkit="webkitFontSmoothing"in document.documentElement.style,result.webkit_version=result.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var domIndex=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},parentNode=function(e){var t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t},reusedRange=null,textRange=function(e,t,n){var r=reusedRange||(reusedRange=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},isEquivalentPosition=function(e,t,n,r){return n&&(scanFor(e,t,n,r,-1)||scanFor(e,t,n,r,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(e,t,n,r,a){for(;;){if(e==n&&t==r)return!0;if(t==(a<0?0:nodeSize(e))){var o=e.parentNode;if(!o||o.nodeType!=1||hasBlockDesc(e)||atomElements.test(e.nodeName)||e.contentEditable=="false")return!1;t=domIndex(e)+(a<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(a<0?-1:0)],e.contentEditable=="false")return!1;t=a<0?nodeSize(e):0}else return!1}}function nodeSize(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function isOnEdge(e,t,n){for(var r=t==0,a=t==nodeSize(e);r||a;){if(e==n)return!0;var o=domIndex(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,a=a&&o==nodeSize(e)}}function hasBlockDesc(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var selectionCollapsed=function(e){var t=e.isCollapsed;return t&&result.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function keyEvent(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function windowRect(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function getSide(e,t){return typeof e=="number"?e:e[t]}function clientRect(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function scrollRectIntoView(e,t,n){for(var r=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,s=n||e.dom;s;s=parentNode(s))if(s.nodeType==1){var l=s==o.body||s.nodeType!=1,c=l?windowRect(o):clientRect(s),u=0,f=0;if(t.top<c.top+getSide(r,"top")?f=-(c.top-t.top+getSide(a,"top")):t.bottom>c.bottom-getSide(r,"bottom")&&(f=t.bottom-c.bottom+getSide(a,"bottom")),t.left<c.left+getSide(r,"left")?u=-(c.left-t.left+getSide(a,"left")):t.right>c.right-getSide(r,"right")&&(u=t.right-c.right+getSide(a,"right")),u||f)if(l)o.defaultView.scrollBy(u,f);else{var m=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),u&&(s.scrollLeft+=u);var d=s.scrollLeft-m,g=s.scrollTop-h;t={left:t.left-d,top:t.top-g,right:t.right-d,bottom:t.bottom-g}}if(l)break}}function storeScrollPos(e){for(var t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,a,o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){var l=e.root.elementFromPoint(o,s);if(!(l==e.dom||!e.dom.contains(l))){var c=l.getBoundingClientRect();if(c.top>=n-20){r=l,a=c.top;break}}}return{refDOM:r,refTop:a,stack:scrollStack(e.dom)}}function scrollStack(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=parentNode(e));return t}function resetScrollPos(e){var t=e.refDOM,n=e.refTop,r=e.stack,a=t?t.getBoundingClientRect().top:0;restoreScrollStack(r,a==0?0:a-n)}function restoreScrollStack(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=r.dom,o=r.top,s=r.left;a.scrollTop!=o+t&&(a.scrollTop=o+t),a.scrollLeft!=s&&(a.scrollLeft=s)}}var preventScrollSupported=null;function focusPreventScroll(e){if(e.setActive)return e.setActive();if(preventScrollSupported)return e.focus(preventScrollSupported);var t=scrollStack(e);e.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(t,0))}function findOffsetInNode(e,t){for(var n,r=2e8,a,o=0,s=t.top,l=t.top,c=e.firstChild,u=0;c;c=c.nextSibling,u++){var f=void 0;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=textRange(c).getClientRects();else continue;for(var m=0;m<f.length;m++){var h=f[m];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);var d=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(d<r){n=c,r=d,a=d&&n.nodeType==3?{left:h.right<t.left?h.right:h.left,top:t.top}:t,c.nodeType==1&&d&&(o=u+(t.left>=(h.left+h.right)/2?1:0));continue}}!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(o=u+1)}}return n&&n.nodeType==3?findOffsetInText(n,a):!n||r&&n.nodeType==1?{node:e,offset:o}:findOffsetInNode(n,a)}function findOffsetInText(e,t){for(var n=e.nodeValue.length,r=document.createRange(),a=0;a<n;a++){r.setEnd(e,a+1),r.setStart(e,a);var o=singleRect(r,1);if(o.top!=o.bottom&&inRect(t,o))return{node:e,offset:a+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function inRect(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function targetKludge(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function posFromElement(e,t,n){var r=findOffsetInNode(t,n),a=r.node,o=r.offset,s=-1;if(a.nodeType==1&&!a.firstChild){var l=a.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return e.docView.posFromDOM(a,o,s)}function posFromCaret(e,t,n,r){for(var a=-1,o=t;o!=e.dom;){var s=e.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var l=s.dom.getBoundingClientRect();if(l.left>r.left||l.top>r.top)a=s.posBefore;else if(l.right<r.left||l.bottom<r.top)a=s.posAfter;else break}o=s.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,n)}function elementFromPoint(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var a=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=a;;){var s=e.childNodes[o];if(s.nodeType==1)for(var l=s.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(inRect(t,u))return elementFromPoint(s,t,u)}if((o=(o+1)%r)==a)break}return e}function posAtCoords(e,t){var n,r,a=e.dom.ownerDocument,o,s;if(a.caretPositionFromPoint)try{var l=a.caretPositionFromPoint(t.left,t.top);l&&(n=l,o=n.offsetNode,s=n.offset)}catch{}if(!o&&a.caretRangeFromPoint){var c=a.caretRangeFromPoint(t.left,t.top);c&&(r=c,o=r.startContainer,s=r.startOffset)}var u=(e.root.elementFromPoint?e.root:a).elementFromPoint(t.left,t.top+1),f;if(!u||!e.dom.contains(u.nodeType!=1?u.parentNode:u)){var m=e.dom.getBoundingClientRect();if(!inRect(t,m)||(u=elementFromPoint(e.dom,t,m),!u))return null}if(result.safari)for(var h=u;o&&h;h=parentNode(h))h.draggable&&(o=s=null);if(u=targetKludge(u,t),o){if(result.gecko&&o.nodeType==1&&(s=Math.min(s,o.childNodes.length),s<o.childNodes.length)){var d=o.childNodes[s],g;d.nodeName=="IMG"&&(g=d.getBoundingClientRect()).right<=t.left&&g.bottom>t.top&&s++}o==e.dom&&s==o.childNodes.length-1&&o.lastChild.nodeType==1&&t.top>o.lastChild.getBoundingClientRect().bottom?f=e.state.doc.content.size:(s==0||o.nodeType!=1||o.childNodes[s-1].nodeName!="BR")&&(f=posFromCaret(e,o,s,t))}f==null&&(f=posFromElement(e,u,t));var v=e.docView.nearestDesc(u,!0);return{pos:f,inside:v?v.posAtStart-v.border:-1}}function singleRect(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),a=r.node,o=r.offset,s=result.webkit||result.gecko;if(a.nodeType==3)if(s&&(BIDI.test(a.nodeValue)||(n<0?!o:o==a.nodeValue.length))){var l=singleRect(textRange(a,o,o),n);if(result.gecko&&o&&/\s/.test(a.nodeValue[o-1])&&o<a.nodeValue.length){var c=singleRect(textRange(a,o-1,o-1),-1);if(c.top==l.top){var u=singleRect(textRange(a,o,o+1),-1);if(u.top!=l.top)return flattenV(u,u.left<c.left)}}return l}else{var f=o,m=o,h=n<0?1:-1;return n<0&&!o?(m++,h=-1):n>=0&&o==a.nodeValue.length?(f--,h=1):n<0?f--:m++,flattenV(singleRect(textRange(a,f,m),h),h<0)}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(n<0||o==nodeSize(a))){var d=a.childNodes[o-1];if(d.nodeType==1)return flattenH(d.getBoundingClientRect(),!1)}if(o<nodeSize(a)){var g=a.childNodes[o];if(g.nodeType==1)return flattenH(g.getBoundingClientRect(),!0)}return flattenH(a.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==nodeSize(a))){var v=a.childNodes[o-1],_=v.nodeType==3?textRange(v,nodeSize(v)-(s?0:1)):v.nodeType==1&&(v.nodeName!="BR"||!v.nextSibling)?v:null;if(_)return flattenV(singleRect(_,1),!1)}if(o<nodeSize(a)){for(var y=a.childNodes[o];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var q=y?y.nodeType==3?textRange(y,0,s?0:1):y.nodeType==1?y:null:null;if(q)return flattenV(singleRect(q,-1),!0)}return flattenV(singleRect(a.nodeType==3?textRange(a):a,-n),n>=0)}function flattenV(e,t){if(e.width==0)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function flattenH(e,t){if(e.height==0)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function withFlushedState(e,t,n){var r=e.state,a=e.root.activeElement;r!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),a!=e.dom&&a&&a.focus()}}function endOfTextblockVertical(e,t,n){var r=t.selection,a=n=="up"?r.$from:r.$to;return withFlushedState(e,t,function(){for(var o=e.docView.domFromPos(a.pos,n=="up"?-1:1),s=o.node;;){var l=e.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.dom;break}s=l.dom.parentNode}for(var c=coordsAtPos(e,a.pos,1),u=s.firstChild;u;u=u.nextSibling){var f=void 0;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=textRange(u,0,u.nodeValue.length).getClientRects();else continue;for(var m=0;m<f.length;m++){var h=f[m];if(h.bottom>h.top+1&&(n=="up"?c.top-h.top>(h.bottom-c.top)*2:h.bottom-c.bottom>(c.bottom-h.top)*2))return!1}}return!0})}var maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(e,t,n){var r=t.selection,a=r.$head;if(!a.parent.isTextblock)return!1;var o=a.parentOffset,s=!o,l=o==a.parent.content.size,c=e.root.getSelection();return!maybeRTL.test(a.parent.textContent)||!c.modify?n=="left"||n=="backward"?s:l:withFlushedState(e,t,function(){var u=c.getRangeAt(0),f=c.focusNode,m=c.focusOffset,h=c.caretBidiLevel;c.modify("move",n,"character");var d=a.depth?e.docView.domAfterPos(a.before()):e.dom,g=!d.contains(c.focusNode.nodeType==1?c.focusNode:c.focusNode.parentNode)||f==c.focusNode&&m==c.focusOffset;return c.removeAllRanges(),c.addRange(u),h!=null&&(c.caretBidiLevel=h),g})}var cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(e,t,n){return cachedState==t&&cachedDir==n?cachedResult:(cachedState=t,cachedDir=n,cachedResult=n=="up"||n=="down"?endOfTextblockVertical(e,t,n):endOfTextblockHorizontal(e,t,n))}var NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3,ViewDesc=function(t,n,r,a){this.parent=t,this.children=n,this.dom=r,r.pmViewDesc=this,this.contentDOM=a,this.dirty=NOT_DIRTY},prototypeAccessors={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};ViewDesc.prototype.matchesWidget=function(){return!1};ViewDesc.prototype.matchesMark=function(){return!1};ViewDesc.prototype.matchesNode=function(){return!1};ViewDesc.prototype.matchesHack=function(t){return!1};ViewDesc.prototype.parseRule=function(){return null};ViewDesc.prototype.stopEvent=function(){return!1};prototypeAccessors.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e};prototypeAccessors.border.get=function(){return 0};ViewDesc.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()};ViewDesc.prototype.posBeforeChild=function(t){for(var n=0,r=this.posAtStart;n<this.children.length;n++){var a=this.children[n];if(a==t)return r;r+=a.size}};prototypeAccessors.posBefore.get=function(){return this.parent.posBeforeChild(this)};prototypeAccessors.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};prototypeAccessors.posAfter.get=function(){return this.posBefore+this.size};prototypeAccessors.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};ViewDesc.prototype.localPosFromDOM=function(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){var a,o;if(t==this.contentDOM)a=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{var s,l;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}var c;if(t==this.dom&&this.contentDOM)c=n>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(var u=t;;u=u.parentNode){if(u==this.dom){c=!1;break}if(u.parentNode.firstChild!=u)break}if(c==null&&n==t.childNodes.length)for(var f=t;;f=f.parentNode){if(f==this.dom){c=!0;break}if(f.parentNode.lastChild!=f)break}}return(c==null?r>0:c)?this.posAtEnd:this.posAtStart};ViewDesc.prototype.nearestDesc=function(t,n){for(var r=!0,a=t;a;a=a.parentNode){var o=this.getDesc(a);if(o&&(!n||o.node))if(r&&o.nodeDOM&&!(o.nodeDOM.nodeType==1?o.nodeDOM.contains(t.nodeType==1?t:t.parentNode):o.nodeDOM==t))r=!1;else return o}};ViewDesc.prototype.getDesc=function(t){for(var n=t.pmViewDesc,r=n;r;r=r.parent)if(r==this)return n};ViewDesc.prototype.posFromDOM=function(t,n,r){for(var a=t;a;a=a.parentNode){var o=this.getDesc(a);if(o)return o.localPosFromDOM(t,n,r)}return-1};ViewDesc.prototype.descAt=function(t){for(var n=0,r=0;n<this.children.length;n++){var a=this.children[n],o=r+a.size;if(r==t&&o!=r){for(;!a.border&&a.children.length;)a=a.children[0];return a}if(t<o)return a.descAt(t-r-a.border);r=o}};ViewDesc.prototype.domFromPos=function(t,n){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,a=0,o=0;r<this.children.length;r++){var s=this.children[r],l=o+s.size;if(l>t||s instanceof TrailingHackViewDesc){a=t-o;break}o=l}if(a)return this.children[r].domFromPos(a-this.children[r].border,n);for(var c=void 0;r&&!(c=this.children[r-1]).size&&c instanceof WidgetViewDesc&&c.widget.type.side>=0;r--);if(n<=0){for(var u,f=!0;u=r?this.children[r-1]:null,!(!u||u.dom.parentNode==this.contentDOM);r--,f=!1);return u&&n&&f&&!u.border&&!u.domAtom?u.domFromPos(u.size,n):{node:this.contentDOM,offset:u?domIndex(u.dom)+1:0}}else{for(var m,h=!0;m=r<this.children.length?this.children[r]:null,!(!m||m.dom.parentNode==this.contentDOM);r++,h=!1);return m&&h&&!m.border&&!m.domAtom?m.domFromPos(0,n):{node:this.contentDOM,offset:m?domIndex(m.dom):this.contentDOM.childNodes.length}}};ViewDesc.prototype.parseRange=function(t,n,r){if(r===void 0&&(r=0),this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var a=-1,o=-1,s=r,l=0;;l++){var c=this.children[l],u=s+c.size;if(a==-1&&t<=u){var f=s+c.border;if(t>=f&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,f);t=s;for(var m=l;m>0;m--){var h=this.children[m-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){a=domIndex(h.dom)+1;break}t-=h.size}a==-1&&(a=0)}if(a>-1&&(u>n||l==this.children.length-1)){n=u;for(var d=l+1;d<this.children.length;d++){var g=this.children[d];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=domIndex(g.dom);break}n+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:t,to:n,fromOffset:a,toOffset:o}};ViewDesc.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)};ViewDesc.prototype.domAfterPos=function(t){var n=this.domFromPos(t,0),r=n.node,a=n.offset;if(r.nodeType!=1||a==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[a]};ViewDesc.prototype.setSelection=function(t,n,r,a){for(var o=Math.min(t,n),s=Math.max(t,n),l=0,c=0;l<this.children.length;l++){var u=this.children[l],f=c+u.size;if(o>c&&s<f)return u.setSelection(t-c-u.border,n-c-u.border,r,a);c=f}var m=this.domFromPos(t,t?-1:1),h=n==t?m:this.domFromPos(n,n?-1:1),d=r.getSelection(),g=!1;if((result.gecko||result.safari)&&t==n){var v=m.node,_=m.offset;if(v.nodeType==3){if(g=_&&v.nodeValue[_-1]==`
`,g&&_==v.nodeValue.length)for(var y=v,q=void 0;y;y=y.parentNode){if(q=y.nextSibling){q.nodeName=="BR"&&(m=h={node:q.parentNode,offset:domIndex(q)+1});break}var b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{var x=v.childNodes[_-1];g=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(result.gecko&&d.focusNode&&d.focusNode!=h.node&&d.focusNode.nodeType==1){var E=d.focusNode.childNodes[d.focusOffset];E&&E.contentEditable=="false"&&(a=!0)}if(!(!(a||g&&result.safari)&&isEquivalentPosition(m.node,m.offset,d.anchorNode,d.anchorOffset)&&isEquivalentPosition(h.node,h.offset,d.focusNode,d.focusOffset))){var T=!1;if((d.extend||t==n)&&!g){d.collapse(m.node,m.offset);try{t!=n&&d.extend(h.node,h.offset),T=!0}catch(M){if(!(M instanceof DOMException))throw M}}if(!T){if(t>n){var k=m;m=h,h=k}var A=document.createRange();A.setEnd(h.node,h.offset),A.setStart(m.node,m.offset),d.removeAllRanges(),d.addRange(A)}}};ViewDesc.prototype.ignoreMutation=function(t){return!this.contentDOM&&t.type!="selection"};prototypeAccessors.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};ViewDesc.prototype.markDirty=function(t,n){for(var r=0,a=0;a<this.children.length;a++){var o=this.children[a],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){var l=r+o.border,c=s-o.border;if(t>=l&&n<=c){this.dirty=t==r||n==s?CONTENT_DIRTY:CHILD_DIRTY,t==l&&n==c&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=NODE_DIRTY:o.markDirty(t-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?CONTENT_DIRTY:NODE_DIRTY}r=s}this.dirty=CONTENT_DIRTY};ViewDesc.prototype.markParentsDirty=function(){for(var t=1,n=this.parent;n;n=n.parent,t++){var r=t==1?CONTENT_DIRTY:CHILD_DIRTY;n.dirty<r&&(n.dirty=r)}};prototypeAccessors.domAtom.get=function(){return!1};prototypeAccessors.ignoreForCoords.get=function(){return!1};Object.defineProperties(ViewDesc.prototype,prototypeAccessors);var nothing=[],WidgetViewDesc=function(e){function t(r,a,o,s){var l,c=a.type.toDOM;if(typeof c=="function"&&(c=c(o,function(){if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)})),!a.type.spec.raw){if(c.nodeType!=1){var u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable=!1,c.classList.add("ProseMirror-widget")}e.call(this,r,nothing,c,null),this.widget=a,l=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(a){return this.dirty==NOT_DIRTY&&a.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(a){var o=this.widget.spec.stopEvent;return o?o(a):!1},t.prototype.ignoreMutation=function(a){return a.type!="selection"||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(ViewDesc),CompositionViewDesc=function(e){function t(r,a,o,s){e.call(this,r,nothing,a,null),this.textDOM=o,this.text=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(a,o){return a!=this.textDOM?this.posAtStart+(o?this.size:0):this.posAtStart+o},t.prototype.domFromPos=function(a){return{node:this.textDOM,offset:a}},t.prototype.ignoreMutation=function(a){return a.type==="characterData"&&a.target.nodeValue==a.oldValue},Object.defineProperties(t.prototype,n),t}(ViewDesc),MarkViewDesc=function(e){function t(n,r,a,o){e.call(this,n,[],a,o),this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(r,a,o,s){var l=s.nodeViews[a.type.name],c=l&&l(a,s,o);return(!c||!c.dom)&&(c=DOMSerializer.renderSpec(document,a.type.spec.toDOM(a,o))),new t(r,a,c.dom,c.contentDOM||c.dom)},t.prototype.parseRule=function(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(r){return this.dirty!=NODE_DIRTY&&this.mark.eq(r)},t.prototype.markDirty=function(r,a){if(e.prototype.markDirty.call(this,r,a),this.dirty!=NOT_DIRTY){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=NOT_DIRTY}},t.prototype.slice=function(r,a,o){var s=t.create(this.parent,this.mark,!0,o),l=this.children,c=this.size;a<c&&(l=replaceNodes(l,a,c,o)),r>0&&(l=replaceNodes(l,0,r,o));for(var u=0;u<l.length;u++)l[u].parent=s;return s.children=l,s},t}(ViewDesc),NodeViewDesc=function(e){function t(r,a,o,s,l,c,u,f,m){e.call(this,r,a.isLeaf?nothing:[],l,c),this.nodeDOM=u,this.node=a,this.outerDeco=o,this.innerDeco=s,c&&this.updateChildren(f,m)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(a,o,s,l,c,u){var f,m=c.nodeViews[o.type.name],h,d=m&&m(o,c,function(){if(!h)return u;if(h.parent)return h.parent.posBeforeChild(h)},s,l),g=d&&d.dom,v=d&&d.contentDOM;if(o.isText){if(!g)g=document.createTextNode(o.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||(f=DOMSerializer.renderSpec(document,o.type.spec.toDOM(o)),g=f.dom,v=f.contentDOM);!v&&!o.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable=!1),o.type.spec.draggable&&(g.draggable=!0));var _=g;return g=applyOuterDeco(g,s,o),d?h=new CustomNodeViewDesc(a,o,s,l,g,v,_,d,c,u+1):o.isText?new TextViewDesc(a,o,s,l,g,_,c):new t(a,o,s,l,g,v,_,c,u+1)},t.prototype.parseRule=function(){var a=this;if(this.node.type.spec.reparseInView)return null;var o={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(o.preserveWhitespace="full"),!this.contentDOM)o.getContent=function(){return a.node.content};else if(!this.contentLost)o.contentElement=this.contentDOM;else{for(var s=this.children.length-1;s>=0;s--){var l=this.children[s];if(this.dom.contains(l.dom.parentNode)){o.contentElement=l.dom.parentNode;break}}o.contentElement||(o.getContent=function(){return Fragment.empty})}return o},t.prototype.matchesNode=function(a,o,s){return this.dirty==NOT_DIRTY&&a.eq(this.node)&&sameOuterDeco(o,this.outerDeco)&&s.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(a,o){var s=this,l=this.node.inlineContent,c=o,u=a.composing&&this.localCompositionInfo(a,o),f=u&&u.pos>-1?u:null,m=u&&u.pos<0,h=new ViewTreeUpdater(this,f&&f.node);iterDeco(this.node,this.innerDeco,function(d,g,v){d.spec.marks?h.syncToMarks(d.spec.marks,l,a):d.type.side>=0&&!v&&h.syncToMarks(g==s.node.childCount?Mark$1.none:s.node.child(g).marks,l,a),h.placeWidget(d,a,c)},function(d,g,v,_){h.syncToMarks(d.marks,l,a);var y;h.findNodeMatch(d,g,v,_)||m&&a.state.selection.from>c&&a.state.selection.to<c+d.nodeSize&&(y=h.findIndexWithChild(u.node))>-1&&h.updateNodeAt(d,g,v,y,a)||h.updateNextNode(d,g,v,a,_)||h.addNode(d,g,v,a,c),c+=d.nodeSize}),h.syncToMarks(nothing,l,a),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==CONTENT_DIRTY)&&(f&&this.protectLocalComposition(a,f),renderDescs(this.contentDOM,this.children,a),result.ios&&iosHacks(this.dom))},t.prototype.localCompositionInfo=function(a,o){var s=a.state.selection,l=s.from,c=s.to;if(!(!(a.state.selection instanceof TextSelection)||l<o||c>o+this.node.content.size)){var u=a.root.getSelection(),f=nearbyTextNode(u.focusNode,u.focusOffset);if(!(!f||!this.dom.contains(f.parentNode)))if(this.node.inlineContent){var m=f.nodeValue,h=findTextInFragment(this.node.content,m,l-o,c-o);return h<0?null:{node:f,pos:h,text:m}}else return{node:f,pos:-1}}},t.prototype.protectLocalComposition=function(a,o){var s=o.node,l=o.pos,c=o.text;if(!this.getDesc(s)){for(var u=s;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=null)}var f=new CompositionViewDesc(this,u,s,c);a.compositionNodes.push(f),this.children=replaceNodes(this.children,l,l+c.length,a,f)}},t.prototype.update=function(a,o,s,l){return this.dirty==NODE_DIRTY||!a.sameMarkup(this.node)?!1:(this.updateInner(a,o,s,l),!0)},t.prototype.updateInner=function(a,o,s,l){this.updateOuterDeco(o),this.node=a,this.innerDeco=s,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=NOT_DIRTY},t.prototype.updateOuterDeco=function(a){if(!sameOuterDeco(a,this.outerDeco)){var o=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,o),computeOuterDeco(a,this.node,o)),this.dom!=s&&(s.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=a}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(ViewDesc);function docViewDesc(e,t,n,r,a){return applyOuterDeco(r,t,e),new NodeViewDesc(null,e,t,n,r,r,r,a,0)}var TextViewDesc=function(e){function t(r,a,o,s,l,c,u){e.call(this,r,a,o,s,l,null,c,u)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var a=this.nodeDOM.parentNode;a&&a!=this.dom&&!a.pmIsDeco;)a=a.parentNode;return{skip:a||!0}},t.prototype.update=function(a,o,s,l){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!a.sameMarkup(this.node)?!1:(this.updateOuterDeco(o),(this.dirty!=NOT_DIRTY||a.text!=this.node.text)&&a.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=a.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=a,this.dirty=NOT_DIRTY,!0)},t.prototype.inParent=function(){for(var a=this.parent.contentDOM,o=this.nodeDOM;o;o=o.parentNode)if(o==a)return!0;return!1},t.prototype.domFromPos=function(a){return{node:this.nodeDOM,offset:a}},t.prototype.localPosFromDOM=function(a,o,s){return a==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):e.prototype.localPosFromDOM.call(this,a,o,s)},t.prototype.ignoreMutation=function(a){return a.type!="characterData"&&a.type!="selection"},t.prototype.slice=function(a,o,s){var l=this.node.cut(a,o),c=document.createTextNode(l.text);return new t(this.parent,l,this.outerDeco,this.innerDeco,c,c,s)},t.prototype.markDirty=function(a,o){e.prototype.markDirty.call(this,a,o),this.dom!=this.nodeDOM&&(a==0||o==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(NodeViewDesc),TrailingHackViewDesc=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(a){return this.dirty==NOT_DIRTY&&this.dom.nodeName==a},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(t.prototype,n),t}(ViewDesc),CustomNodeViewDesc=function(e){function t(n,r,a,o,s,l,c,u,f,m){e.call(this,n,r,a,o,s,l,c,f,m),this.spec=u}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(r,a,o,s){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update){var l=this.spec.update(r,a,o);return l&&this.updateInner(r,a,o,s),l}else return!this.contentDOM&&!r.isLeaf?!1:e.prototype.update.call(this,r,a,o,s)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(r,a,o,s){this.spec.setSelection?this.spec.setSelection(r,a,o):e.prototype.setSelection.call(this,r,a,o,s)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(r){return this.spec.stopEvent?this.spec.stopEvent(r):!1},t.prototype.ignoreMutation=function(r){return this.spec.ignoreMutation?this.spec.ignoreMutation(r):e.prototype.ignoreMutation.call(this,r)},t}(NodeViewDesc);function renderDescs(e,t,n){for(var r=e.firstChild,a=!1,o=0;o<t.length;o++){var s=t[o],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=rm(r),a=!0;r=r.nextSibling}else a=!0,e.insertBefore(l,r);if(s instanceof MarkViewDesc){var c=r?r.previousSibling:e.lastChild;renderDescs(s.contentDOM,s.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=rm(r),a=!0;a&&n.trackWrites==e&&(n.trackWrites=null)}function OuterDecoLevel(e){e&&(this.nodeName=e)}OuterDecoLevel.prototype=Object.create(null);var noDeco=[new OuterDecoLevel];function computeOuterDeco(e,t,n){if(e.length==0)return noDeco;for(var r=n?noDeco[0]:new OuterDecoLevel,a=[r],o=0;o<e.length;o++){var s=e[o].type.attrs;if(!!s){s.nodeName&&a.push(r=new OuterDecoLevel(s.nodeName));for(var l in s){var c=s[l];c!=null&&(n&&a.length==1&&a.push(r=new OuterDecoLevel(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return a}function patchOuterDeco(e,t,n,r){if(n==noDeco&&r==noDeco)return t;for(var a=t,o=0;o<r.length;o++){var s=r[o],l=n[o];if(o){var c=void 0;l&&l.nodeName==s.nodeName&&a!=e&&(c=a.parentNode)&&c.tagName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=noDeco[0]),a=c}patchAttributes(a,l||noDeco[0],s)}return a}function patchAttributes(e,t,n){for(var r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(var a in n)a!="class"&&a!="style"&&a!="nodeName"&&n[a]!=t[a]&&e.setAttribute(a,n[a]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):nothing,s=n.class?n.class.split(" ").filter(Boolean):nothing,l=0;l<o.length;l++)s.indexOf(o[l])==-1&&e.classList.remove(o[l]);for(var c=0;c<s.length;c++)o.indexOf(s[c])==-1&&e.classList.add(s[c]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,f;f=u.exec(t.style);)e.style.removeProperty(f[1]);n.style&&(e.style.cssText+=n.style)}}function applyOuterDeco(e,t,n){return patchOuterDeco(e,e,noDeco,computeOuterDeco(t,n,e.nodeType!=1))}function sameOuterDeco(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function rm(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ViewTreeUpdater=function(t,n){this.top=t,this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.preMatch=preMatch(t.node.content,t)};ViewTreeUpdater.prototype.destroyBetween=function(t,n){if(t!=n){for(var r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}};ViewTreeUpdater.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};ViewTreeUpdater.prototype.syncToMarks=function(t,n,r){for(var a=0,o=this.stack.length>>1,s=Math.min(o,t.length);a<s&&(a==o-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<o;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var l=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(t[o])){l=c;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{var u=MarkViewDesc.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}};ViewTreeUpdater.prototype.findNodeMatch=function(t,n,r,a){var o=-1,s;if(a>=this.preMatch.index&&(s=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(var l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){var u=this.top.children[l];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)};ViewTreeUpdater.prototype.updateNodeAt=function(t,n,r,a,o){var s=this.top.children[a];return s.update(t,n,r,o)?(this.destroyBetween(this.index,a),this.index=a+1,!0):!1};ViewTreeUpdater.prototype.findIndexWithChild=function(t){for(;;){var n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){var r=t.pmViewDesc;if(r){for(var a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==r)return a}return-1}t=n}};ViewTreeUpdater.prototype.updateNextNode=function(t,n,r,a,o){for(var s=this.index;s<this.top.children.length;s++){var l=this.top.children[s];if(l instanceof NodeViewDesc){var c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;var u=l.dom,f=this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=NODE_DIRTY&&sameOuterDeco(n,l.outerDeco));if(!f&&l.update(t,n,r,a))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1};ViewTreeUpdater.prototype.addNode=function(t,n,r,a,o){this.top.children.splice(this.index++,0,NodeViewDesc.create(this.top,t,n,r,a,o)),this.changed=!0};ViewTreeUpdater.prototype.placeWidget=function(t,n,r){var a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{var o=new WidgetViewDesc(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}};ViewTreeUpdater.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof MarkViewDesc;)t=t.children[t.children.length-1];(!t||!(t instanceof TextViewDesc)||/\n$/.test(t.node.text))&&((result.safari||result.chrome)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};ViewTreeUpdater.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new TrailingHackViewDesc(this.top,nothing,n,null)),this.changed=!0}};function preMatch(e,t){var n=t,r=n.children.length,a=e.childCount,o=new Map,s=[];e:for(;a>0;){for(var l=void 0;;)if(r){var c=n.children[r-1];if(c instanceof MarkViewDesc)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var u=l.node;if(!!u){if(u!=e.child(a-1))break;--a,o.set(l,a),s.push(l)}}return{index:a,matched:o,matches:s.reverse()}}function compareSide(e,t){return e.type.side-t.type.side}function iterDeco(e,t,n,r){var a=t.locals(e),o=0;if(a.length==0){for(var s=0;s<e.childCount;s++){var l=e.child(s);r(l,a,t.forChild(o,l),s),o+=l.nodeSize}return}for(var c=0,u=[],f=null,m=0;;){if(c<a.length&&a[c].to==o){for(var h=a[c++],d=void 0;c<a.length&&a[c].to==o;)(d||(d=[h])).push(a[c++]);if(d){d.sort(compareSide);for(var g=0;g<d.length;g++)n(d[g],m,!!f)}else n(h,m,!!f)}var v=void 0,_=void 0;if(f)_=-1,v=f,f=null;else if(m<e.childCount)_=m,v=e.child(m++);else break;for(var y=0;y<u.length;y++)u[y].to<=o&&u.splice(y--,1);for(;c<a.length&&a[c].from<=o&&a[c].to>o;)u.push(a[c++]);var q=o+v.nodeSize;if(v.isText){var b=q;c<a.length&&a[c].from<b&&(b=a[c].from);for(var x=0;x<u.length;x++)u[x].to<b&&(b=u[x].to);b<q&&(f=v.cut(b-o),v=v.cut(0,b-o),q=b,_=-1)}var E=u.length?v.isInline&&!v.isLeaf?u.filter(function(T){return!T.inline}):u.slice():nothing;r(v,E,t.forChild(o,v),_),o=q}}function iosHacks(e){if(e.nodeName=="UL"||e.nodeName=="OL"){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function nearbyTextNode(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=nodeSize(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function findTextInFragment(e,t,n,r){for(var a=0,o=0;a<e.childCount&&o<=r;){var s=e.child(a++),l=o;if(o+=s.nodeSize,!!s.isText){for(var c=s.text;a<e.childCount;){var u=e.child(a++);if(o+=u.nodeSize,!u.isText)break;c+=u.text}if(o>=n){var f=l<r?c.lastIndexOf(t,r-l-1):-1;if(f>=0&&f+t.length+l>=n)return l+f;if(n==r&&c.length>=r+t.length-l&&c.slice(r-l,r-l+t.length)==t)return r}}}return-1}function replaceNodes(e,t,n,r,a){for(var o=[],s=0,l=0;s<e.length;s++){var c=e[s],u=l,f=l+=c.size;u>=n||f<=t?o.push(c):(u<t&&o.push(c.slice(0,t-u,r)),a&&(o.push(a),a=null),f>n&&o.push(c.slice(n-u,c.size,r)))}return o}function selectionFromDOM(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var a=e.docView.nearestDesc(n.focusNode),o=a&&a.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var l=r.resolve(s),c,u;if(selectionCollapsed(n)){for(c=l;a&&!a.node;)a=a.parent;if(a&&a.node.isAtom&&NodeSelection.isSelectable(a.node)&&a.parent&&!(a.node.isInline&&isOnEdge(n.focusNode,n.focusOffset,a.dom))){var f=a.posBefore;u=new NodeSelection(s==f?l:r.resolve(f))}}else{var m=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(m<0)return null;c=r.resolve(m)}if(!u){var h=t=="pointer"||e.state.selection.head<l.pos&&!o?1:-1;u=selectionBetween(e,c,l,h)}return u}function editorOwnsSelection(e){return e.editable?e.hasFocus():hasSelection(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function selectionToDOM(e,t){var n=e.state.selection;if(syncNodeSelection(e,n),!!editorOwnsSelection(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault&&result.chrome){var r=e.root.getSelection(),a=e.domObserver.currentSelection;if(r.anchorNode&&isEquivalentPosition(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset)){e.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)selectCursorWrapper(e);else{var o=n.anchor,s=n.head,l,c;brokenSelectBetweenUneditable&&!(n instanceof TextSelection)&&(n.$from.parent.inlineContent||(l=temporarilyEditableNear(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=temporarilyEditableNear(e,n.to))),e.docView.setSelection(o,s,e.root,t),brokenSelectBetweenUneditable&&(l&&resetEditable(l),c&&resetEditable(c)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var brokenSelectBetweenUneditable=result.safari||result.chrome&&result.chrome_version<63;function temporarilyEditableNear(e,t){var n=e.docView.domFromPos(t,0),r=n.node,a=n.offset,o=a<r.childNodes.length?r.childNodes[a]:null,s=a?r.childNodes[a-1]:null;if(result.safari&&o&&o.contentEditable=="false")return setEditable(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return setEditable(o);if(s)return setEditable(s)}}function setEditable(e){return e.contentEditable="true",result.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function resetEditable(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function removeClassOnSelectionChange(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,a=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){(n.anchorNode!=r||n.anchorOffset!=a)&&(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout(function(){(!editorOwnsSelection(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,a=r.nodeName=="IMG";a?n.setEnd(r.parentNode,domIndex(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!a&&!e.state.selection.visible&&result.ie&&result.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function syncNodeSelection(e,t){if(t instanceof NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(clearNodeSelection(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else clearNodeSelection(e)}function clearNodeSelection(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function selectionBetween(e,t,n,r){return e.someProp("createSelectionBetween",function(a){return a(e,t,n)})||TextSelection.between(t,n,r)}function hasFocusAndSelection(e){return e.editable&&e.root.activeElement!=e.dom?!1:hasSelection(e)}function hasSelection(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function anchorInRightPlace(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.root.getSelection();return isEquivalentPosition(t.node,t.offset,n.anchorNode,n.anchorOffset)}function moveSelectionBlock(e,t){var n=e.selection,r=n.$anchor,a=n.$head,o=t>0?r.max(a):r.min(a),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&Selection.findFrom(s,t)}function apply$2(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function selectHorizontally(e,t,n){var r=e.state.selection;if(r instanceof TextSelection){if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var a=moveSelectionBlock(e.state,t);return a&&a instanceof NodeSelection?apply$2(e,a):!1}else if(!(result.mac&&n.indexOf("m")>-1)){var o=r.$head,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,l;if(!s||s.isText)return!1;var c=t<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(l=e.docView.descAt(c))&&!l.contentDOM?NodeSelection.isSelectable(s)?apply$2(e,new NodeSelection(t<0?e.state.doc.resolve(o.pos-s.nodeSize):o)):result.webkit?apply$2(e,new TextSelection(e.state.doc.resolve(t<0?c:c+s.nodeSize))):!1:!1}}else{if(r instanceof NodeSelection&&r.node.isInline)return apply$2(e,new TextSelection(t>0?r.$to:r.$from));var u=moveSelectionBlock(e.state,t);return u?apply$2(e,u):!1}}function nodeLen(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function isIgnorable(e){var t=e.pmViewDesc;return t&&t.size==0&&(e.nextSibling||e.nodeName!="BR")}function skipIgnoredNodesLeft(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(!!n){var a,o,s=!1;for(result.gecko&&n.nodeType==1&&r<nodeLen(n)&&isIgnorable(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;var l=n.childNodes[r-1];if(isIgnorable(l))a=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}else{if(isBlockNode(n))break;for(var c=n.previousSibling;c&&isIgnorable(c);)a=n.parentNode,o=domIndex(c),c=c.previousSibling;if(c)n=c,r=nodeLen(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}s?setSelFocus(e,t,n,r):a&&setSelFocus(e,t,a,o)}}function skipIgnoredNodesRight(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(!!n){for(var a=nodeLen(n),o,s;;)if(r<a){if(n.nodeType!=1)break;var l=n.childNodes[r];if(isIgnorable(l))o=n,s=++r;else break}else{if(isBlockNode(n))break;for(var c=n.nextSibling;c&&isIgnorable(c);)o=c.parentNode,s=domIndex(c)+1,c=c.nextSibling;if(c)n=c,r=0,a=nodeLen(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}o&&setSelFocus(e,t,o,s)}}function isBlockNode(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function setSelFocus(e,t,n,r){if(selectionCollapsed(t)){var a=document.createRange();a.setEnd(n,r),a.setStart(n,r),t.removeAllRanges(),t.addRange(a)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var o=e.state;setTimeout(function(){e.state==o&&selectionToDOM(e)},50)}function selectVertically(e,t,n){var r=e.state.selection;if(r instanceof TextSelection&&!r.empty||n.indexOf("s")>-1||result.mac&&n.indexOf("m")>-1)return!1;var a=r.$from,o=r.$to;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=moveSelectionBlock(e.state,t);if(s&&s instanceof NodeSelection)return apply$2(e,s)}if(!a.parent.inlineContent){var l=t<0?a:o,c=r instanceof AllSelection?Selection.near(l,t):Selection.findFrom(l,t);return c?apply$2(e,c):!1}return!1}function stopNativeHorizontalDelete(e,t){if(!(e.state.selection instanceof TextSelection))return!0;var n=e.state.selection,r=n.$head,a=n.$anchor,o=n.empty;if(!r.sameParent(a))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var l=e.state.tr;return t<0?l.delete(r.pos-s.nodeSize,r.pos):l.delete(r.pos,r.pos+s.nodeSize),e.dispatch(l),!0}return!1}function switchEditable(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function safariDownArrowBug(e){if(!(!result.safari||e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&n.nodeType==1&&r==0&&n.firstChild&&n.firstChild.contentEditable=="false"){var a=n.firstChild;switchEditable(e,a,!0),setTimeout(function(){return switchEditable(e,a,!1)},20)}}}function getMods(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function captureKeyDown(e,t){var n=t.keyCode,r=getMods(t);return n==8||result.mac&&n==72&&r=="c"?stopNativeHorizontalDelete(e,-1)||skipIgnoredNodesLeft(e):n==46||result.mac&&n==68&&r=="c"?stopNativeHorizontalDelete(e,1)||skipIgnoredNodesRight(e):n==13||n==27?!0:n==37?selectHorizontally(e,-1,r)||skipIgnoredNodesLeft(e):n==39?selectHorizontally(e,1,r)||skipIgnoredNodesRight(e):n==38?selectVertically(e,-1,r)||skipIgnoredNodesLeft(e):n==40?safariDownArrowBug(e)||selectVertically(e,1,r)||skipIgnoredNodesRight(e):r==(result.mac?"m":"c")&&(n==66||n==73||n==89||n==90)}function parseBetween(e,t,n){var r=e.docView.parseRange(t,n),a=r.node,o=r.fromOffset,s=r.toOffset,l=r.from,c=r.to,u=e.root.getSelection(),f=null,m=u.anchorNode;if(m&&e.dom.contains(m.nodeType==1?m:m.parentNode)&&(f=[{node:m,offset:u.anchorOffset}],selectionCollapsed(u)||f.push({node:u.focusNode,offset:u.focusOffset})),result.chrome&&e.lastKeyCode===8)for(var h=s;h>o;h--){var d=a.childNodes[h-1],g=d.pmViewDesc;if(d.nodeName=="BR"&&!g){s=h;break}if(!g||g.size)break}var v=e.state.doc,_=e.someProp("domParser")||DOMParser$1.fromSchema(e.state.schema),y=v.resolve(l),q=null,b=_.parse(a,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,editableContent:!0,findPositions:f,ruleFromNode,context:y});if(f&&f[0].pos!=null){var x=f[0].pos,E=f[1]&&f[1].pos;E==null&&(E=x),q={anchor:x+l,head:E+l}}return{doc:b,sel:q,from:l,to:c}}function ruleFromNode(e){var t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(result.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||result.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function readDOMChange(e,t,n,r,a){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,s=selectionFromDOM(e,o);if(s&&!e.state.selection.eq(s)){var l=e.state.tr.setSelection(s);o=="pointer"?l.setMeta("pointer",!0):o=="key"&&l.scrollIntoView(),e.dispatch(l)}return}var c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);var f=e.state.selection,m=parseBetween(e,t,n);if(result.chrome&&e.cursorWrapper&&m.sel&&m.sel.anchor==e.cursorWrapper.deco.from){var h=e.cursorWrapper.deco.type.toDOM.nextSibling,d=h&&h.nodeValue?h.nodeValue.length:1;m.sel={anchor:m.sel.anchor+d,head:m.sel.anchor+d}}var g=e.state.doc,v=g.slice(m.from,m.to),_,y;e.lastKeyCode===8&&Date.now()-100<e.lastKeyCodeTime?(_=e.state.selection.to,y="end"):(_=e.state.selection.from,y="start"),e.lastKeyCode=null;var q=findDiff(v.content,m.doc.content,m.from,_,y);if(!q)if(r&&f instanceof TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor)&&!e.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))q={start:f.from,endA:f.to,endB:f.to};else if((result.ios&&e.lastIOSEnter>Date.now()-225||result.android)&&a.some(function(w){return w.nodeName=="DIV"||w.nodeName=="P"})&&e.someProp("handleKeyDown",function(w){return w(e,keyEvent(13,"Enter"))})){e.lastIOSEnter=0;return}else{if(m.sel){var b=resolveSelection(e,e.state.doc,m.sel);b&&!b.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(b))}return}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&q.start==q.endB&&e.state.selection instanceof TextSelection&&(q.start>e.state.selection.from&&q.start<=e.state.selection.from+2&&e.state.selection.from>=m.from?q.start=e.state.selection.from:q.endA<e.state.selection.to&&q.endA>=e.state.selection.to-2&&e.state.selection.to<=m.to&&(q.endB+=e.state.selection.to-q.endA,q.endA=e.state.selection.to)),result.ie&&result.ie_version<=11&&q.endB==q.start+1&&q.endA==q.start&&q.start>m.from&&m.doc.textBetween(q.start-m.from-1,q.start-m.from+1)==" \xA0"&&(q.start--,q.endA--,q.endB--);var x=m.doc.resolveNoCache(q.start-m.from),E=m.doc.resolveNoCache(q.endB-m.from),T=x.sameParent(E)&&x.parent.inlineContent,k;if((result.ios&&e.lastIOSEnter>Date.now()-225&&(!T||a.some(function(w){return w.nodeName=="DIV"||w.nodeName=="P"}))||!T&&x.pos<m.doc.content.size&&(k=Selection.findFrom(m.doc.resolve(x.pos+1),1,!0))&&k.head==E.pos)&&e.someProp("handleKeyDown",function(w){return w(e,keyEvent(13,"Enter"))})){e.lastIOSEnter=0;return}if(e.state.selection.anchor>q.start&&looksLikeJoin(g,q.start,q.endA,x,E)&&e.someProp("handleKeyDown",function(w){return w(e,keyEvent(8,"Backspace"))})){result.android&&result.chrome&&e.domObserver.suppressSelectionUpdates();return}result.chrome&&result.android&&q.toB==q.from&&(e.lastAndroidDelete=Date.now()),result.android&&!T&&x.start()!=E.start()&&E.parentOffset==0&&x.depth==E.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==q.endA&&(q.endB-=2,E=m.doc.resolveNoCache(q.endB-m.from),setTimeout(function(){e.someProp("handleKeyDown",function(w){return w(e,keyEvent(13,"Enter"))})},20));var A=q.start,M=q.endA,S,C,I,O;if(T){if(x.pos==E.pos)result.ie&&result.ie_version<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(function(){return selectionToDOM(e)},20)),S=e.state.tr.delete(A,M),C=g.resolve(q.start).marksAcross(g.resolve(q.endA));else if(q.endA==q.endB&&(O=g.resolve(q.start))&&(I=isMarkChange(x.parent.content.cut(x.parentOffset,E.parentOffset),O.parent.content.cut(O.parentOffset,q.endA-O.start()))))S=e.state.tr,I.type=="add"?S.addMark(A,M,I.mark):S.removeMark(A,M,I.mark);else if(x.parent.child(x.index()).isText&&x.index()==E.index()-(E.textOffset?0:1)){var D=x.parent.textBetween(x.parentOffset,E.parentOffset);if(e.someProp("handleTextInput",function(w){return w(e,A,M,D)}))return;S=e.state.tr.insertText(D,A,M)}}if(S||(S=e.state.tr.replace(A,M,m.doc.slice(q.start-m.from,q.endB-m.from))),m.sel){var R=resolveSelection(e,S.doc,m.sel);R&&!(result.chrome&&result.android&&e.composing&&R.empty&&(q.start!=q.endB||e.lastAndroidDelete<Date.now()-100)&&(R.head==A||R.head==S.mapping.map(M)-1)||result.ie&&R.empty&&R.head==A)&&S.setSelection(R)}C&&S.ensureMarks(C),e.dispatch(S.scrollIntoView())}function resolveSelection(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:selectionBetween(e,t.resolve(n.anchor),t.resolve(n.head))}function isMarkChange(e,t){for(var n=e.firstChild.marks,r=t.firstChild.marks,a=n,o=r,s,l,c,u=0;u<r.length;u++)a=r[u].removeFromSet(a);for(var f=0;f<n.length;f++)o=n[f].removeFromSet(o);if(a.length==1&&o.length==0)l=a[0],s="add",c=function(d){return d.mark(l.addToSet(d.marks))};else if(a.length==0&&o.length==1)l=o[0],s="remove",c=function(d){return d.mark(l.removeFromSet(d.marks))};else return null;for(var m=[],h=0;h<t.childCount;h++)m.push(c(t.child(h)));if(Fragment.from(m).eq(e))return{mark:l,type:s}}function looksLikeJoin(e,t,n,r,a){if(!r.parent.isTextblock||n-t<=a.pos-r.pos||skipClosingAndOpening(r,!0,!1)<a.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=e.resolve(skipClosingAndOpening(o,!0,!0));return!s.parent.isTextblock||s.pos>n||skipClosingAndOpening(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function skipClosingAndOpening(e,t,n){for(var r=e.depth,a=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,a++,t=!1;if(n)for(var o=e.node(r).maybeChild(e.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,a++;return a}function findDiff(e,t,n,r,a){var o=e.findDiffStart(t,n);if(o==null)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),l=s.a,c=s.b;if(a=="end"){var u=Math.max(0,o-Math.min(l,c));r-=l+u-o}if(l<o&&e.size<t.size){var f=r<=o&&r>=l?o-r:0;o-=f,c=o+(c-l),l=o}else if(c<o){var m=r<=o&&r>=c?o-r:0;o-=m,l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function serializeForClipboard(e,t){for(var n=[],r=t.content,a=t.openStart,o=t.openEnd;a>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){a--,o--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var l=e.someProp("clipboardSerializer")||DOMSerializer.fromSchema(e.state.schema),c=detachedDoc(),u=c.createElement("div");u.appendChild(l.serializeFragment(r,{document:c}));for(var f=u.firstChild,m;f&&f.nodeType==1&&(m=wrapMap[f.nodeName.toLowerCase()]);){for(var h=m.length-1;h>=0;h--){for(var d=c.createElement(m[h]);u.firstChild;)d.appendChild(u.firstChild);u.appendChild(d),m[h]!="tbody"&&(a++,o++)}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",a+" "+o+" "+JSON.stringify(n));var g=e.someProp("clipboardTextSerializer",function(v){return v(t)})||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:g}}function parseFromClipboard(e,t,n,r,a){var o,s=a.parent.type.spec.code,l;if(!n&&!t)return null;var c=t&&(r||s||!n);if(c){if(e.someProp("transformPastedText",function(E){t=E(t,s||r)}),s)return t?new Slice(Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Slice.empty;var u=e.someProp("clipboardTextParser",function(E){return E(t,a,r)});if(u)l=u;else{var f=a.marks(),m=e.state,h=m.schema,d=DOMSerializer.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(function(E){var T=o.appendChild(document.createElement("p"));E&&T.appendChild(d.serializeNode(h.text(E,f)))})}}else e.someProp("transformPastedHTML",function(E){n=E(n)}),o=readHTML(n),result.webkit&&restoreReplacedSpaces(o);var g=o&&o.querySelector("[data-pm-slice]"),v=g&&/^(\d+) (\d+) (.*)/.exec(g.getAttribute("data-pm-slice"));if(!l){var _=e.someProp("clipboardParser")||e.someProp("domParser")||DOMParser$1.fromSchema(e.state.schema);l=_.parseSlice(o,{preserveWhitespace:!!(c||v),context:a,ruleFromNode:function(T){if(T.nodeName=="BR"&&!T.nextSibling&&T.parentNode&&!inlineParents.test(T.parentNode.nodeName))return{ignore:!0}}})}if(v)l=addContext(closeSlice(l,+v[1],+v[2]),v[3]);else if(l=Slice.maxOpen(normalizeSiblings(l.content,a),!0),l.openStart||l.openEnd){for(var y=0,q=0,b=l.content.firstChild;y<l.openStart&&!b.type.spec.isolating;y++,b=b.firstChild);for(var x=l.content.lastChild;q<l.openEnd&&!x.type.spec.isolating;q++,x=x.lastChild);l=closeSlice(l,y,q)}return e.someProp("transformPasted",function(E){l=E(l)}),l}var inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(e,t){if(e.childCount<2)return e;for(var n=function(o){var s=t.node(o),l=s.contentMatchAt(t.index(o)),c=void 0,u=[];if(e.forEach(function(f){if(!!u){var m=l.findWrapping(f.type),h;if(!m)return u=null;if(h=u.length&&c.length&&addToSibling(m,c,f,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=closeRight(u[u.length-1],c.length));var d=withWrappers(f,m);u.push(d),l=l.matchType(d.type,d.attrs),c=m}}}),u)return{v:Fragment.from(u)}},r=t.depth;r>=0;r--){var a=n(r);if(a)return a.v}return e}function withWrappers(e,t,n){n===void 0&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,Fragment.from(e));return e}function addToSibling(e,t,n,r,a){if(a<e.length&&a<t.length&&e[a]==t[a]){var o=addToSibling(e,t,n,r.lastChild,a+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));var s=r.contentMatchAt(r.childCount);if(s.matchType(a==e.length-1?n.type:e[a+1]))return r.copy(r.content.append(Fragment.from(withWrappers(n,e,a+1))))}}function closeRight(e,t){if(t==0)return e;var n=e.content.replaceChild(e.childCount-1,closeRight(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Fragment.empty,!0);return e.copy(n.append(r))}function closeRange(e,t,n,r,a,o){var s=t<0?e.firstChild:e.lastChild,l=s.content;return a<r-1&&(l=closeRange(l,t,n,r,a+1,o)),a>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||o<=a).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function closeSlice(e,t,n){return t<e.openStart&&(e=new Slice(closeRange(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Slice(closeRange(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},_detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}function readHTML(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n=detachedDoc().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),a;if((a=r&&wrapMap[r[1].toLowerCase()])&&(e=a.map(function(s){return"<"+s+">"}).join("")+e+a.map(function(s){return"</"+s+">"}).reverse().join("")),n.innerHTML=e,a)for(var o=0;o<a.length;o++)n=n.querySelector(a[o])||n;return n}function restoreReplacedSpaces(e){for(var t=e.querySelectorAll(result.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function addContext(e,t){if(!e.size)return e;var n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}for(var a=e.content,o=e.openStart,s=e.openEnd,l=r.length-2;l>=0;l-=2){var c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;a=Fragment.from(c.create(r[l+1],a)),o++,s++}return new Slice(a,o,s)}var observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=result.ie&&result.ie_version<=11,SelectionState=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};SelectionState.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset};SelectionState.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var DOMObserver=function(t,n){var r=this;this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(a){for(var o=0;o<a.length;o++)r.queue.push(a[o]);result.ie&&result.ie_version<=11&&a.some(function(s){return s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length})?r.flushSoon():r.flush()}),this.currentSelection=new SelectionState,useCharData&&(this.onCharData=function(a){r.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};DOMObserver.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))};DOMObserver.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};DOMObserver.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,observeOptions),useCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};DOMObserver.prototype.stop=function(){var t=this;if(this.observer){var n=this.observer.takeRecords();if(n.length){for(var r=0;r<n.length;r++)this.queue.push(n[r]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}useCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};DOMObserver.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};DOMObserver.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};DOMObserver.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)};DOMObserver.prototype.onSelectionChange=function(){if(!!hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(result.ie&&result.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}};DOMObserver.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};DOMObserver.prototype.ignoreSelectionChange=function(t){if(t.rangeCount==0)return!0;var n=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0};DOMObserver.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var n=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&hasSelection(this.view)&&!this.ignoreSelectionChange(n),a=-1,o=-1,s=!1,l=[];if(this.view.editable)for(var c=0;c<t.length;c++){var u=this.registerMutation(t[c],l);u&&(a=a<0?u.from:Math.min(u.from,a),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(s=!0))}if(result.gecko&&l.length>1){var f=l.filter(function(d){return d.nodeName=="BR"});if(f.length==2){var m=f[0],h=f[1];m.parentNode&&m.parentNode.parentNode==h.parentNode?h.remove():m.remove()}}(a>-1||r)&&(a>-1&&(this.view.docView.markDirty(a,o),checkCSS(this.view)),this.handleDOMChange(a,o,s,l),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||selectionToDOM(this.view),this.currentSelection.set(n))}};DOMObserver.prototype.registerMutation=function(t,n){if(n.indexOf(t.target)>-1)return null;var r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(var a=0;a<t.addedNodes.length;a++)n.push(t.addedNodes[a]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};var o=t.previousSibling,s=t.nextSibling;if(result.ie&&result.ie_version<=11&&t.addedNodes.length)for(var l=0;l<t.addedNodes.length;l++){var c=t.addedNodes[l],u=c.previousSibling,f=c.nextSibling;(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(o=u),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}var m=o&&o.parentNode==t.target?domIndex(o)+1:0,h=r.localPosFromDOM(t.target,m,-1),d=s&&s.parentNode==t.target?domIndex(s):t.target.childNodes.length,g=r.localPosFromDOM(t.target,d,1);return{from:h,to:g}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var cssChecked=!1;function checkCSS(e){cssChecked||(cssChecked=!0,getComputedStyle(e.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var handlers$1={},editHandlers={};function initInput(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new DOMObserver(e,function(r,a,o,s){return readDOMChange(e,r,a,o,s)}),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(r){var a=handlers$1[r];e.dom.addEventListener(r,e.eventHandlers[r]=function(o){eventBelongsToView(e,o)&&!runCustomHandler(e,o)&&(e.editable||!(o.type in editHandlers))&&a(e,o)})};for(var n in handlers$1)t(n);result.safari&&e.dom.addEventListener("input",function(){return null}),ensureListeners(e)}function setSelectionOrigin(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function destroyInput(e){e.domObserver.stop();for(var t in e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}function ensureListeners(e){e.someProp("handleDOMEvents",function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(r){return runCustomHandler(e,r)})})}function runCustomHandler(e,t){return e.someProp("handleDOMEvents",function(n){var r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function eventBelongsToView(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function dispatchEvent$2(e,t){!runCustomHandler(e,t)&&handlers$1[t.type]&&(e.editable||!(t.type in editHandlers))&&handlers$1[t.type](e,t)}editHandlers.keydown=function(e,t){if(e.shiftKey=t.keyCode==16||t.shiftKey,!inOrNearComposition(e,t)&&(e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!(result.android&&result.chrome&&t.keyCode==13)))if(t.keyCode!=229&&e.domObserver.forceFlush(),result.ios&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout(function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",function(r){return r(e,keyEvent(13,"Enter"))}),e.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",function(r){return r(e,t)})||captureKeyDown(e,t)?t.preventDefault():setSelectionOrigin(e,"key")};editHandlers.keyup=function(e,t){t.keyCode==16&&(e.shiftKey=!1)};editHandlers.keypress=function(e,t){if(!(inOrNearComposition(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||result.mac&&t.metaKey)){if(e.someProp("handleKeyPress",function(a){return a(e,t)})){t.preventDefault();return}var n=e.state.selection;if(!(n instanceof TextSelection)||!n.$from.sameParent(n.$to)){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",function(a){return a(e,n.$from.pos,n.$to.pos,r)})||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};function eventCoords(e){return{left:e.clientX,top:e.clientY}}function isNear(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function runHandlerOnContext(e,t,n,r,a){if(r==-1)return!1;for(var o=e.state.doc.resolve(r),s=function(u){if(e.someProp(t,function(f){return u>o.depth?f(e,n,o.nodeAfter,o.before(u),a,!0):f(e,n,o.node(u),o.before(u),a,!1)}))return{v:!0}},l=o.depth+1;l>0;l--){var c=s(l);if(c)return c.v}return!1}function updateSelection(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function selectClickedLeaf(e,t){if(t==-1)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&NodeSelection.isSelectable(r)?(updateSelection(e,new NodeSelection(n),"pointer"),!0):!1}function selectClickedNode(e,t){if(t==-1)return!1;var n=e.state.selection,r,a;n instanceof NodeSelection&&(r=n.node);for(var o=e.state.doc.resolve(t),s=o.depth+1;s>0;s--){var l=s>o.depth?o.nodeAfter:o.node(s);if(NodeSelection.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?a=o.before(n.$from.depth):a=o.before(s);break}}return a!=null?(updateSelection(e,NodeSelection.create(e.state.doc,a),"pointer"),!0):!1}function handleSingleClick(e,t,n,r,a){return runHandlerOnContext(e,"handleClickOn",t,n,r)||e.someProp("handleClick",function(o){return o(e,t,r)})||(a?selectClickedNode(e,n):selectClickedLeaf(e,n))}function handleDoubleClick(e,t,n,r){return runHandlerOnContext(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",function(a){return a(e,t,r)})}function handleTripleClick$1(e,t,n,r){return runHandlerOnContext(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",function(a){return a(e,t,r)})||defaultTripleClick(e,n,r)}function defaultTripleClick(e,t,n){if(n.button!=0)return!1;var r=e.state.doc;if(t==-1)return r.inlineContent?(updateSelection(e,TextSelection.create(r,0,r.content.size),"pointer"),!0):!1;for(var a=r.resolve(t),o=a.depth+1;o>0;o--){var s=o>a.depth?a.nodeAfter:a.node(o),l=a.before(o);if(s.inlineContent)updateSelection(e,TextSelection.create(r,l+1,l+1+s.content.size),"pointer");else if(NodeSelection.isSelectable(s))updateSelection(e,NodeSelection.create(r,l),"pointer");else continue;return!0}}function forceDOMFlush(e){return endComposition(e)}var selectNodeModifier=result.mac?"metaKey":"ctrlKey";handlers$1.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=forceDOMFlush(e),r=Date.now(),a="singleClick";r-e.lastClick.time<500&&isNear(t,e.lastClick)&&!t[selectNodeModifier]&&(e.lastClick.type=="singleClick"?a="doubleClick":e.lastClick.type=="doubleClick"&&(a="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:a};var o=e.posAtCoords(eventCoords(t));!o||(a=="singleClick"?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new MouseDown(e,o,t,n)):(a=="doubleClick"?handleDoubleClick:handleTripleClick$1)(e,o.pos,o.inside,t)?t.preventDefault():setSelectionOrigin(e,"pointer"))};var MouseDown=function(t,n,r,a){var o=this;this.view=t,this.startDoc=t.state.doc,this.pos=n,this.event=r,this.flushed=a,this.selectNode=r[selectNodeModifier],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1;var s,l;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),l=n.inside;else{var c=t.state.doc.resolve(n.pos);s=c.parent,l=c.depth?c.before():0}this.mightDrag=null;var u=a?null:r.target,f=u?t.docView.nearestDesc(u,!0):null;this.target=f?f.dom:null;var m=t.state,h=m.selection;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||h instanceof NodeSelection&&h.from<=l&&h.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&result.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){o.view.mouseDown==o&&o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(t,"pointer")};MouseDown.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return selectionToDOM(t.view)}),this.view.mouseDown=null};MouseDown.prototype.up=function(t){if(this.done(),!!this.view.dom.contains(t.target.nodeType==3?t.target.parentNode:t.target)){var n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(eventCoords(t))),this.allowDefault||!n?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||result.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||result.chrome&&!(this.view.state.selection instanceof TextSelection)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):setSelectionOrigin(this.view,"pointer")}};MouseDown.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),setSelectionOrigin(this.view,"pointer"),t.buttons==0&&this.done()};handlers$1.touchdown=function(e){forceDOMFlush(e),setSelectionOrigin(e,"pointer")};handlers$1.contextmenu=function(e){return forceDOMFlush(e)};function inOrNearComposition(e,t){return e.composing?!0:result.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500?(e.compositionEndedAt=-2e8,!0):!1}var timeoutComposition=result.android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(l){return l.type.spec.inclusive===!1})))e.markCursor=e.state.storedMarks||n.marks(),endComposition(e,!0),e.markCursor=null;else if(endComposition(e),result.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),a=r.focusNode,o=r.focusOffset;a&&a.nodeType==1&&o!=0;){var s=o<0?a.lastChild:a.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else a=s,o=-1}e.composing=!0}scheduleComposeEnd(e,timeoutComposition)};editHandlers.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,scheduleComposeEnd(e,20))};function scheduleComposeEnd(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout(function(){return endComposition(e)},t))}function clearComposition(e){for(e.composing&&(e.composing=!1,e.compositionEndedAt=timestampFromCustomEvent());e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function timestampFromCustomEvent(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function endComposition(e,t){if(!(result.android&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),clearComposition(e),t||e.docView&&e.docView.dirty){var n=selectionFromDOM(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function captureCopy(e,t){if(!!e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}}var brokenClipboardAPI=result.ie&&result.ie_version<15||result.ios&&result.webkit_version<604;handlers$1.copy=editHandlers.cut=function(e,t){var n=e.state.selection,r=t.type=="cut";if(!n.empty){var a=brokenClipboardAPI?null:t.clipboardData,o=n.content(),s=serializeForClipboard(e,o),l=s.dom,c=s.text;a?(t.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",c)):captureCopy(e,l),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function sliceSingleNode(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function capturePaste(e,t){if(!!e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?doPaste(e,r.value,null,t):doPaste(e,r.textContent,r.innerHTML,t)},50)}}function doPaste(e,t,n,r){var a=parseFromClipboard(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",function(l){return l(e,r,a||Slice.empty)}))return!0;if(!a)return!1;var o=sliceSingleNode(a),s=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(a);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}editHandlers.paste=function(e,t){if(!(e.composing&&!result.android)){var n=brokenClipboardAPI?null:t.clipboardData;n&&doPaste(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():capturePaste(e,t)}};var Dragging=function(t,n){this.slice=t,this.move=n},dragCopyModifier=result.mac?"altKey":"ctrlKey";handlers$1.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),!!t.dataTransfer){var r=e.state.selection,a=r.empty?null:e.posAtCoords(eventCoords(t));if(!(a&&a.pos>=r.from&&a.pos<=(r instanceof NodeSelection?r.to-1:r.to))){if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){var o=e.docView.nearestDesc(t.target,!0);o&&o.node.type.spec.draggable&&o!=e.docView&&e.dispatch(e.state.tr.setSelection(NodeSelection.create(e.state.doc,o.posBefore)))}}var s=e.state.selection.content(),l=serializeForClipboard(e,s),c=l.dom,u=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||t.dataTransfer.setData("text/plain",u),e.dragging=new Dragging(s,!t[dragCopyModifier])}};handlers$1.dragend=function(e){var t=e.dragging;window.setTimeout(function(){e.dragging==t&&(e.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=function(e,t){return t.preventDefault()};editHandlers.drop=function(e,t){var n=e.dragging;if(e.dragging=null,!!t.dataTransfer){var r=e.posAtCoords(eventCoords(t));if(!!r){var a=e.state.doc.resolve(r.pos);if(!!a){var o=n&&n.slice;o?e.someProp("transformPasted",function(g){o=g(o)}):o=parseFromClipboard(e,t.dataTransfer.getData(brokenClipboardAPI?"Text":"text/plain"),brokenClipboardAPI?null:t.dataTransfer.getData("text/html"),!1,a);var s=n&&!t[dragCopyModifier];if(e.someProp("handleDrop",function(g){return g(e,t,o||Slice.empty,s)})){t.preventDefault();return}if(!!o){t.preventDefault();var l=o?dropPoint(e.state.doc,a.pos,o):a.pos;l==null&&(l=a.pos);var c=e.state.tr;s&&c.deleteSelection();var u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),!c.doc.eq(m)){var h=c.doc.resolve(u);if(f&&NodeSelection.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new NodeSelection(h));else{var d=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(function(g,v,_,y){return d=y}),c.setSelection(selectionBetween(e,h,c.doc.resolve(d)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}}};handlers$1.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&selectionToDOM(e)},20))};handlers$1.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)};handlers$1.beforeinput=function(e,t){if(result.chrome&&result.android&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();var n=e.domChangeCount;setTimeout(function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",function(o){return o(e,keyEvent(8,"Backspace"))}))){var r=e.state.selection,a=r.$cursor;a&&a.pos>0&&e.dispatch(e.state.tr.delete(a.pos-1,a.pos).scrollIntoView())}},50)}};for(var prop in editHandlers)handlers$1[prop]=editHandlers[prop];function compareObjs(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var WidgetType=function(t,n){this.spec=n||noSpec,this.side=this.spec.side||0,this.toDOM=t};WidgetType.prototype.map=function(t,n,r,a){var o=t.mapResult(n.from+a,this.side<0?-1:1),s=o.pos,l=o.deleted;return l?null:new Decoration(s-r,s-r,this)};WidgetType.prototype.valid=function(){return!0};WidgetType.prototype.eq=function(t){return this==t||t instanceof WidgetType&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&compareObjs(this.spec,t.spec))};WidgetType.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var InlineType=function(t,n){this.spec=n||noSpec,this.attrs=t};InlineType.prototype.map=function(t,n,r,a){var o=t.map(n.from+a,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+a,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Decoration(o,s,this)};InlineType.prototype.valid=function(t,n){return n.from<n.to};InlineType.prototype.eq=function(t){return this==t||t instanceof InlineType&&compareObjs(this.attrs,t.attrs)&&compareObjs(this.spec,t.spec)};InlineType.is=function(t){return t.type instanceof InlineType};var NodeType=function(t,n){this.spec=n||noSpec,this.attrs=t};NodeType.prototype.map=function(t,n,r,a){var o=t.mapResult(n.from+a,1);if(o.deleted)return null;var s=t.mapResult(n.to+a,-1);return s.deleted||s.pos<=o.pos?null:new Decoration(o.pos-r,s.pos-r,this)};NodeType.prototype.valid=function(t,n){var r=t.content.findIndex(n.from),a=r.index,o=r.offset,s;return o==n.from&&!(s=t.child(a)).isText&&o+s.nodeSize==n.to};NodeType.prototype.eq=function(t){return this==t||t instanceof NodeType&&compareObjs(this.attrs,t.attrs)&&compareObjs(this.spec,t.spec)};var Decoration=function(t,n,r){this.from=t,this.to=n,this.type=r},prototypeAccessors$1={spec:{configurable:!0},inline:{configurable:!0}};Decoration.prototype.copy=function(t,n){return new Decoration(t,n,this.type)};Decoration.prototype.eq=function(t,n){return n===void 0&&(n=0),this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to};Decoration.prototype.map=function(t,n,r){return this.type.map(t,this,n,r)};Decoration.widget=function(t,n,r){return new Decoration(t,t,new WidgetType(n,r))};Decoration.inline=function(t,n,r,a){return new Decoration(t,n,new InlineType(r,a))};Decoration.node=function(t,n,r,a){return new Decoration(t,n,new NodeType(r,a))};prototypeAccessors$1.spec.get=function(){return this.type.spec};prototypeAccessors$1.inline.get=function(){return this.type instanceof InlineType};Object.defineProperties(Decoration.prototype,prototypeAccessors$1);var none=[],noSpec={},DecorationSet=function(t,n){this.local=t&&t.length?t:none,this.children=n&&n.length?n:none};DecorationSet.create=function(t,n){return n.length?buildTree(n,t,0,noSpec):empty};DecorationSet.prototype.find=function(t,n,r){var a=[];return this.findInner(t==null?0:t,n==null?1e9:n,a,0,r),a};DecorationSet.prototype.findInner=function(t,n,r,a,o){for(var s=0;s<this.local.length;s++){var l=this.local[s];l.from<=n&&l.to>=t&&(!o||o(l.spec))&&r.push(l.copy(l.from+a,l.to+a))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>t){var u=this.children[c]+1;this.children[c+2].findInner(t-u,n-u,r,a+u,o)}};DecorationSet.prototype.map=function(t,n,r){return this==empty||t.maps.length==0?this:this.mapInner(t,n,0,0,r||noSpec)};DecorationSet.prototype.mapInner=function(t,n,r,a,o){for(var s,l=0;l<this.local.length;l++){var c=this.local[l].map(t,r,a);c&&c.type.valid(n,c)?(s||(s=[])).push(c):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?mapChildren(this.children,s,t,n,r,a,o):s?new DecorationSet(s.sort(byPos)):empty};DecorationSet.prototype.add=function(t,n){return n.length?this==empty?DecorationSet.create(t,n):this.addInner(t,n,0):this};DecorationSet.prototype.addInner=function(t,n,r){var a=this,o,s=0;t.forEach(function(u,f){var m=f+r,h;if(!!(h=takeSpansForNode(n,u,m))){for(o||(o=a.children.slice());s<o.length&&o[s]<f;)s+=3;o[s]==f?o[s+2]=o[s+2].addInner(u,h,m+1):o.splice(s,0,f,f+u.nodeSize,buildTree(h,u,m+1,noSpec)),s+=3}});for(var l=moveSpans(s?withoutNulls(n):n,-r),c=0;c<l.length;c++)l[c].type.valid(t,l[c])||l.splice(c--,1);return new DecorationSet(l.length?this.local.concat(l).sort(byPos):this.local,o||this.children)};DecorationSet.prototype.remove=function(t){return t.length==0||this==empty?this:this.removeInner(t,0)};DecorationSet.prototype.removeInner=function(t,n){for(var r=this.children,a=this.local,o=0;o<r.length;o+=3){for(var s=void 0,l=r[o]+n,c=r[o+1]+n,u=0,f=void 0;u<t.length;u++)(f=t[u])&&f.from>l&&f.to<c&&(t[u]=null,(s||(s=[])).push(f));if(!!s){r==this.children&&(r=this.children.slice());var m=r[o+2].removeInner(s,l+1);m!=empty?r[o+2]=m:(r.splice(o,3),o-=3)}}if(a.length){for(var h=0,d=void 0;h<t.length;h++)if(d=t[h])for(var g=0;g<a.length;g++)a[g].eq(d,n)&&(a==this.local&&(a=this.local.slice()),a.splice(g--,1))}return r==this.children&&a==this.local?this:a.length||r.length?new DecorationSet(a,r):empty};DecorationSet.prototype.forChild=function(t,n){if(this==empty)return this;if(n.isLeaf)return DecorationSet.empty;for(var r,a,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}for(var s=t+1,l=s+n.content.size,c=0;c<this.local.length;c++){var u=this.local[c];if(u.from<l&&u.to>s&&u.type instanceof InlineType){var f=Math.max(s,u.from)-s,m=Math.min(l,u.to)-s;f<m&&(a||(a=[])).push(u.copy(f,m))}}if(a){var h=new DecorationSet(a.sort(byPos));return r?new DecorationGroup([h,r]):h}return r||empty};DecorationSet.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof DecorationSet)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0};DecorationSet.prototype.locals=function(t){return removeOverlap(this.localsInner(t))};DecorationSet.prototype.localsInner=function(t){if(this==empty)return none;if(t.inlineContent||!this.local.some(InlineType.is))return this.local;for(var n=[],r=0;r<this.local.length;r++)this.local[r].type instanceof InlineType||n.push(this.local[r]);return n};var empty=new DecorationSet;DecorationSet.empty=empty;DecorationSet.removeOverlap=removeOverlap;var DecorationGroup=function(t){this.members=t};DecorationGroup.prototype.map=function(t,n){var r=this.members.map(function(a){return a.map(t,n,noSpec)});return DecorationGroup.from(r)};DecorationGroup.prototype.forChild=function(t,n){if(n.isLeaf)return DecorationSet.empty;for(var r=[],a=0;a<this.members.length;a++){var o=this.members[a].forChild(t,n);o!=empty&&(o instanceof DecorationGroup?r=r.concat(o.members):r.push(o))}return DecorationGroup.from(r)};DecorationGroup.prototype.eq=function(t){if(!(t instanceof DecorationGroup)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0};DecorationGroup.prototype.locals=function(t){for(var n,r=!0,a=0;a<this.members.length;a++){var o=this.members[a].localsInner(t);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(var s=0;s<o.length;s++)n.push(o[s])}}return n?removeOverlap(r?n:n.sort(byPos)):none};DecorationGroup.from=function(t){switch(t.length){case 0:return empty;case 1:return t[0];default:return new DecorationGroup(t)}};function mapChildren(e,t,n,r,a,o,s){for(var l=e.slice(),c=function(C,I,O,D){for(var R=0;R<l.length;R+=3){var w=l[R+1],B=void 0;if(!(w<0||C>w+o)){var G=l[R]+o;I>=G?l[R+1]=C<=G?-2:-1:O>=a&&(B=D-O-(I-C))&&(l[R]+=B,l[R+1]+=B)}}},u=0;u<n.maps.length;u++)n.maps[u].forEach(c);for(var f=!1,m=0;m<l.length;m+=3)if(l[m+1]<0){if(l[m+1]==-2){f=!0,l[m+1]=-1;continue}var h=n.map(e[m]+o),d=h-a;if(d<0||d>=r.content.size){f=!0;continue}var g=n.map(e[m+1]+o,-1),v=g-a,_=r.content.findIndex(d),y=_.index,q=_.offset,b=r.maybeChild(y);if(b&&q==d&&q+b.nodeSize==v){var x=l[m+2].mapInner(n,b,h+1,e[m]+o+1,s);x!=empty?(l[m]=d,l[m+1]=v,l[m+2]=x):(l[m+1]=-2,f=!0)}else f=!0}if(f){var E=mapAndGatherRemainingDecorations(l,e,t||[],n,a,o,s),T=buildTree(E,r,0,s);t=T.local;for(var k=0;k<l.length;k+=3)l[k+1]<0&&(l.splice(k,3),k-=3);for(var A=0,M=0;A<T.children.length;A+=3){for(var S=T.children[A];M<l.length&&l[M]<S;)M+=3;l.splice(M,0,T.children[A],T.children[A+1],T.children[A+2])}}return new DecorationSet(t&&t.sort(byPos),l)}function moveSpans(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var a=e[r];n.push(new Decoration(a.from+t,a.to+t,a.type))}return n}function mapAndGatherRemainingDecorations(e,t,n,r,a,o,s){function l(u,f){for(var m=0;m<u.local.length;m++){var h=u.local[m].map(r,a,f);h?n.push(h):s.onRemove&&s.onRemove(u.local[m].spec)}for(var d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(var c=0;c<e.length;c+=3)e[c+1]==-1&&l(e[c+2],t[c]+o+1);return n}function takeSpansForNode(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,a=null,o=0,s=void 0;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((a||(a=[])).push(s),e[o]=null);return a}function withoutNulls(e){for(var t=[],n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function buildTree(e,t,n,r){var a=[],o=!1;t.forEach(function(c,u){var f=takeSpansForNode(e,c,u+n);if(f){o=!0;var m=buildTree(f,c,n+u+1,r);m!=empty&&a.push(u,u+c.nodeSize,m)}});for(var s=moveSpans(o?withoutNulls(e):e,-n).sort(byPos),l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||a.length?new DecorationSet(s,a):empty}function byPos(e,t){return e.from-t.from||e.to-t.to}function removeOverlap(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var a=n+1;a<t.length;a++){var o=t[a];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[a]=o.copy(o.from,r.to),insertAhead(t,a+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),insertAhead(t,a,r.copy(o.from,r.to)));break}}}return t}function insertAhead(e,t,n){for(;t<e.length&&byPos(n,e[t])>0;)t++;e.splice(t,0,n)}function viewDecorations(e){var t=[];return e.someProp("decorations",function(n){var r=n(e.state);r&&r!=empty&&t.push(r)}),e.cursorWrapper&&t.push(DecorationSet.create(e.state.doc,[e.cursorWrapper.deco])),DecorationGroup.from(t)}var EditorView=function(t,n){this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=getEditable(this),this.markCursor=null,this.cursorWrapper=null,updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,initInput(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},prototypeAccessors$2={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};prototypeAccessors$2.props.get=function(){if(this._props.state!=this.state){var e=this._props;this._props={};for(var t in e)this._props[t]=e[t];this._props.state=this.state}return this._props};EditorView.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this),this._props=t,t.plugins&&(t.plugins.forEach(checkStateComponent),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)};EditorView.prototype.setProps=function(t){var n={};for(var r in this._props)n[r]=this._props[r];n.state=this.state;for(var a in t)n[a]=t[a];this.update(n)};EditorView.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)};EditorView.prototype.updateStateInner=function(t,n){var r=this,a=this.state,o=!1,s=!1;if(t.storedMarks&&this.composing&&(clearComposition(this),s=!0),this.state=t,n){var l=buildNodeViews(this);changedNodeViews(l,this.nodeViews)&&(this.nodeViews=l,o=!0),ensureListeners(this)}this.editable=getEditable(this),updateCursorWrapper(this);var c=viewDecorations(this),u=computeDocDeco(this),f=n?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(t.doc,u,c);(m||!t.selection.eq(a.selection))&&(s=!0);var h=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(s){this.domObserver.stop();var d=m&&(result.ie||result.chrome)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&selectionContextChanged(a.selection,t.selection);if(m){var g=result.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(o||!this.docView.update(t.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(t.doc,u,c,this.dom,this)),g&&!this.trackWrites&&(d=!0)}d||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&anchorInRightPlace(this))?selectionToDOM(this,d):(syncNodeSelection(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(a),f=="reset")this.dom.scrollTop=0;else if(f=="to selection"){var v=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(_){return _(r)})||(t.selection instanceof NodeSelection?scrollRectIntoView(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),v):scrollRectIntoView(this,this.coordsAtPos(t.selection.head,1),v))}else h&&resetScrollPos(h)};EditorView.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()};EditorView.prototype.updatePluginViews=function(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var a=0;a<this.state.plugins.length;a++){var o=this.state.plugins[a];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(var s=0;s<this.pluginViews.length;s++){var l=this.pluginViews[s];l.update&&l.update(this,t)}};EditorView.prototype.someProp=function(t,n){var r=this._props&&this._props[t],a;if(r!=null&&(a=n?n(r):r))return a;for(var o=0;o<this.directPlugins.length;o++){var s=this.directPlugins[o].props[t];if(s!=null&&(a=n?n(s):s))return a}var l=this.state.plugins;if(l)for(var c=0;c<l.length;c++){var u=l[c].props[t];if(u!=null&&(a=n?n(u):u))return a}};EditorView.prototype.hasFocus=function(){return this.root.activeElement==this.dom};EditorView.prototype.focus=function(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()};prototypeAccessors$2.root.get=function(){var e=this._root;if(e==null){for(var t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t}return e||document};EditorView.prototype.posAtCoords=function(t){return posAtCoords(this,t)};EditorView.prototype.coordsAtPos=function(t,n){return n===void 0&&(n=1),coordsAtPos(this,t,n)};EditorView.prototype.domAtPos=function(t,n){return n===void 0&&(n=0),this.docView.domFromPos(t,n)};EditorView.prototype.nodeDOM=function(t){var n=this.docView.descAt(t);return n?n.nodeDOM:null};EditorView.prototype.posAtDOM=function(t,n,r){r===void 0&&(r=-1);var a=this.docView.posFromDOM(t,n,r);if(a==null)throw new RangeError("DOM position not inside the editor");return a};EditorView.prototype.endOfTextblock=function(t,n){return endOfTextblock(this,n||this.state,t)};EditorView.prototype.destroy=function(){!this.docView||(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};prototypeAccessors$2.isDestroyed.get=function(){return this.docView==null};EditorView.prototype.dispatchEvent=function(t){return dispatchEvent$2(this,t)};EditorView.prototype.dispatch=function(t){var n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))};Object.defineProperties(EditorView.prototype,prototypeAccessors$2);function computeDocDeco(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",function(n){if(typeof n=="function"&&(n=n(e.state)),n)for(var r in n)r=="class"&&(t.class+=" "+n[r]),r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),[Decoration.node(0,e.state.doc.content.size,t)]}function updateCursorWrapper(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Decoration.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function getEditable(e){return!e.someProp("editable",function(t){return t(e.state)===!1})}function selectionContextChanged(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function buildNodeViews(e){var t={};return e.someProp("nodeViews",function(n){for(var r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}),t}function changedNodeViews(e,t){var n=0,r=0;for(var a in e){if(e[a]!=t[a])return!0;n++}for(var o in t)r++;return n!=r}function checkStateComponent(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function dropCursor(e){return e===void 0&&(e={}),new Plugin({view:function(n){return new DropCursorView(n,e)}})}var DropCursorView=function(t,n){var r=this;this.editorView=t,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(a){var o=function(s){return r[a](s)};return t.dom.addEventListener(a,o),{name:a,handler:o}})};DropCursorView.prototype.destroy=function(){var t=this;this.handlers.forEach(function(n){var r=n.name,a=n.handler;return t.editorView.dom.removeEventListener(r,a)})};DropCursorView.prototype.update=function(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&this.updateOverlay()};DropCursorView.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};DropCursorView.prototype.updateOverlay=function(){var t=this.editorView.state.doc.resolve(this.cursorPos),n;if(!t.parent.inlineContent){var r=t.nodeBefore,a=t.nodeAfter;if(r||a){var o=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),s=r?o.bottom:o.top;r&&a&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:o.left,right:o.right,top:s-this.width/2,bottom:s+this.width/2}}}if(!n){var l=this.editorView.coordsAtPos(this.cursorPos);n={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}var c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var u=!c||c==document.body&&getComputedStyle(c).position=="static"?{left:-pageXOffset,top:-pageYOffset}:c.getBoundingClientRect();this.element.style.left=n.left-u.left+"px",this.element.style.top=n.top-u.top+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"};DropCursorView.prototype.scheduleRemoval=function(t){var n=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return n.setCursor(null)},t)};DropCursorView.prototype.dragover=function(t){if(!!this.editorView.editable){var n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(n){var r=n.pos;this.editorView.dragging&&this.editorView.dragging.slice&&(r=dropPoint(this.editorView.state.doc,r,this.editorView.dragging.slice),r==null&&(r=n.pos)),this.setCursor(r),this.scheduleRemoval(5e3)}}};DropCursorView.prototype.dragend=function(){this.scheduleRemoval(20)};DropCursorView.prototype.drop=function(){this.scheduleRemoval(20)};DropCursorView.prototype.dragleave=function(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)};var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},chrome=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),safari=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),gecko=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),mac$2=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),ie=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=chrome&&(mac$2||+chrome[1]<57)||gecko&&mac$2;for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(e){var t=brokenModifierNames&&(e.ctrlKey||e.altKey||e.metaKey)||(safari||ie)&&e.shiftKey&&e.key&&e.key.length==1,n=!t&&e.key||(e.shiftKey?shift:base)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var mac$1=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function normalizeKeyName(e){var t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");for(var r,a,o,s,l=0;l<t.length-1;l++){var c=t[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))mac$1?s=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),a&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function normalize(e){var t=Object.create(null);for(var n in e)t[normalizeKeyName(n)]=e[n];return t}function modifiers(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}function keymap(e){return new Plugin({props:{handleKeyDown:keydownHandler(e)}})}function keydownHandler(e){var t=normalize(e);return function(n,r){var a=keyName(r),o=a.length==1&&a!=" ",s,l=t[modifiers(a,r,!o)];if(l&&l(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||a.charCodeAt(0)>127)&&(s=base[r.keyCode])&&s!=a){var c=t[modifiers(s,r,!0)];if(c&&c(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){var u=t[modifiers(a,r,!0)];if(u&&u(n.state,n.dispatch,n))return!0}return!1}}var GapCursor=function(e){function t(n){e.call(this,n,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,a){var o=r.resolve(a.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return Slice.empty},t.prototype.eq=function(r){return r instanceof t&&r.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(r,a){if(typeof a.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(r.resolve(a.pos))},t.prototype.getBookmark=function(){return new GapBookmark(this.anchor)},t.valid=function(r){var a=r.parent;if(a.isTextblock||!closedBefore(r)||!closedAfter(r))return!1;var o=a.type.spec.allowGapCursor;if(o!=null)return o;var s=a.contentMatchAt(r.index()).defaultType;return s&&s.isTextblock},t.findFrom=function(r,a,o){e:for(;;){if(!o&&t.valid(r))return r;for(var s=r.pos,l=null,c=r.depth;;c--){var u=r.node(c);if(a>0?r.indexAfter(c)<u.childCount:r.index(c)>0){l=u.child(a>0?r.indexAfter(c):r.index(c)-1);break}else if(c==0)return null;s+=a;var f=r.doc.resolve(s);if(t.valid(f))return f}for(;;){var m=a>0?l.firstChild:l.lastChild;if(!m){if(l.isAtom&&!l.isText&&!NodeSelection.isSelectable(l)){r=r.doc.resolve(s+l.nodeSize*a),o=!1;continue e}break}l=m,s+=a;var h=r.doc.resolve(s);if(t.valid(h))return h}return null}},t}(Selection);GapCursor.prototype.visible=!1;Selection.jsonID("gapcursor",GapCursor);var GapBookmark=function(t){this.pos=t};GapBookmark.prototype.map=function(t){return new GapBookmark(t.map(this.pos))};GapBookmark.prototype.resolve=function(t){var n=t.resolve(this.pos);return GapCursor.valid(n)?new GapCursor(n):Selection.near(n)};function closedBefore(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(n!=0)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function closedAfter(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var a=r.child(n);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}var gapCursor=function(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween:function(t,n,r){if(n.pos==r.pos&&GapCursor.valid(r))return new GapCursor(r)},handleClick,handleKeyDown:handleKeyDown$1}})},handleKeyDown$1=keydownHandler({ArrowLeft:arrow$1("horiz",-1),ArrowRight:arrow$1("horiz",1),ArrowUp:arrow$1("vert",-1),ArrowDown:arrow$1("vert",1)});function arrow$1(e,t){var n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,a,o){var s=r.selection,l=t>0?s.$to:s.$from,c=s.empty;if(s instanceof TextSelection){if(!o.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(t>0?l.after():l.before())}var u=GapCursor.findFrom(l,t,c);return u?(a&&a(r.tr.setSelection(new GapCursor(u))),!0):!1}}function handleClick(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!GapCursor.valid(r))return!1;var a=e.posAtCoords({left:n.clientX,top:n.clientY}),o=a.inside;return o>-1&&NodeSelection.isSelectable(e.state.doc.nodeAt(o))?!1:(e.dispatch(e.state.tr.setSelection(new GapCursor(r))),!0)}function drawGapCursor(e){if(!(e.selection instanceof GapCursor))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",DecorationSet.create(e.doc,[Decoration.widget(e.selection.head,t,{key:"gapcursor"})])}function deleteSelection(e,t){return e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function joinBackward(e,t,n){var r=e.selection,a=r.$cursor;if(!a||(n?!n.endOfTextblock("backward",e):a.parentOffset>0))return!1;var o=findCutBefore(a);if(!o){var s=a.blockRange(),l=s&&liftTarget(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var c=o.nodeBefore;if(!c.type.spec.isolating&&deleteBarrier(e,o,t))return!0;if(a.parent.content.size==0&&(textblockAt(c,"end")||NodeSelection.isSelectable(c))){var u=replaceStep(e.doc,a.before(),a.after(),Slice.empty);if(u.slice.size<u.to-u.from){if(t){var f=e.tr.step(u);f.setSelection(textblockAt(c,"end")?Selection.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):NodeSelection.create(f.doc,o.pos-c.nodeSize)),t(f.scrollIntoView())}return!0}}return c.isAtom&&o.depth==a.depth-1?(t&&t(e.tr.delete(o.pos-c.nodeSize,o.pos).scrollIntoView()),!0):!1}function textblockAt(e,t,n){for(;e;e=t=="start"?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&e.childCount!=1)return!1}return!1}function selectNodeBackward(e,t,n){var r=e.selection,a=r.$head,o=r.empty,s=a;if(!o)return!1;if(a.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):a.parentOffset>0)return!1;s=findCutBefore(a)}var l=s&&s.nodeBefore;return!l||!NodeSelection.isSelectable(l)?!1:(t&&t(e.tr.setSelection(NodeSelection.create(e.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)}function findCutBefore(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function joinForward(e,t,n){var r=e.selection,a=r.$cursor;if(!a||(n?!n.endOfTextblock("forward",e):a.parentOffset<a.parent.content.size))return!1;var o=findCutAfter(a);if(!o)return!1;var s=o.nodeAfter;if(deleteBarrier(e,o,t))return!0;if(a.parent.content.size==0&&(textblockAt(s,"start")||NodeSelection.isSelectable(s))){var l=replaceStep(e.doc,a.before(),a.after(),Slice.empty);if(l.slice.size<l.to-l.from){if(t){var c=e.tr.step(l);c.setSelection(textblockAt(s,"start")?Selection.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):NodeSelection.create(c.doc,c.mapping.map(o.pos))),t(c.scrollIntoView())}return!0}}return s.isAtom&&o.depth==a.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1}function selectNodeForward(e,t,n){var r=e.selection,a=r.$head,o=r.empty,s=a;if(!o)return!1;if(a.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):a.parentOffset<a.parent.content.size)return!1;s=findCutAfter(a)}var l=s&&s.nodeAfter;return!l||!NodeSelection.isSelectable(l)?!1:(t&&t(e.tr.setSelection(NodeSelection.create(e.doc,s.pos)).scrollIntoView()),!0)}function findCutAfter(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function lift(e,t){var n=e.selection,r=n.$from,a=n.$to,o=r.blockRange(a),s=o&&liftTarget(o);return s==null?!1:(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}function newlineInCode(e,t){var n=e.selection,r=n.$head,a=n.$anchor;return!r.parent.type.spec.code||!r.sameParent(a)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)}function defaultBlockAt(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function exitCode(e,t){var n=e.selection,r=n.$head,a=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(a))return!1;var o=r.node(-1),s=r.indexAfter(-1),l=defaultBlockAt(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,l))return!1;if(t){var c=r.after(),u=e.tr.replaceWith(c,c,l.createAndFill());u.setSelection(Selection.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0}function createParagraphNear(e,t){var n=e.selection,r=n.$from,a=n.$to;if(n instanceof AllSelection||r.parent.inlineContent||a.parent.inlineContent)return!1;var o=defaultBlockAt(a.parent.contentMatchAt(a.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var s=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,l=e.tr.insert(s,o.createAndFill());l.setSelection(TextSelection.create(l.doc,s+1)),t(l.scrollIntoView())}return!0}function liftEmptyBlock(e,t){var n=e.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var a=r.before();if(canSplit(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}var o=r.blockRange(),s=o&&liftTarget(o);return s==null?!1:(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}function splitBlock(e,t){var n=e.selection,r=n.$from,a=n.$to;if(e.selection instanceof NodeSelection&&e.selection.node.isBlock)return!r.parentOffset||!canSplit(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var o=a.parentOffset==a.parent.content.size,s=e.tr;(e.selection instanceof TextSelection||e.selection instanceof AllSelection)&&s.deleteSelection();var l=r.depth==0?null:defaultBlockAt(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=o&&l?[{type:l}]:null,u=canSplit(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!u&&canSplit(s.doc,s.mapping.map(r.pos),1,l&&[{type:l}])&&(c=[{type:l}],u=!0),u&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=l)){var f=s.mapping.map(r.before()),m=s.doc.resolve(f);r.node(-1).canReplaceWith(m.index(),m.index()+1,l)&&s.setNodeMarkup(s.mapping.map(r.before()),l)}t(s.scrollIntoView())}return!0}function selectAll(e,t){return t&&t(e.tr.setSelection(new AllSelection(e.doc))),!0}function joinMaybeClear(e,t,n){var r=t.nodeBefore,a=t.nodeAfter,o=t.index();return!r||!a||!r.type.compatibleContent(a.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(a.isTextblock||canJoin(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function deleteBarrier(e,t,n){var r=t.nodeBefore,a=t.nodeAfter,o,s;if(r.type.spec.isolating||a.type.spec.isolating)return!1;if(joinMaybeClear(e,t,n))return!0;var l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(a.type))&&s.matchType(o[0]||a.type).validEnd){if(n){for(var c=t.pos+a.nodeSize,u=Fragment.empty,f=o.length-1;f>=0;f--)u=Fragment.from(o[f].create(null,u));u=Fragment.from(r.copy(u));var m=e.tr.step(new ReplaceAroundStep(t.pos-1,c,t.pos,c,new Slice(u,1,0),o.length,!0)),h=c+2*o.length;canJoin(m.doc,h)&&m.join(h),n(m.scrollIntoView())}return!0}var d=Selection.findFrom(t,1),g=d&&d.$from.blockRange(d.$to),v=g&&liftTarget(g);if(v!=null&&v>=t.depth)return n&&n(e.tr.lift(g,v).scrollIntoView()),!0;if(l&&textblockAt(a,"start",!0)&&textblockAt(r,"end")){for(var _=r,y=[];y.push(_),!_.isTextblock;)_=_.lastChild;for(var q=a,b=1;!q.isTextblock;q=q.firstChild)b++;if(_.canReplace(_.childCount,_.childCount,q.content)){if(n){for(var x=Fragment.empty,E=y.length-1;E>=0;E--)x=Fragment.from(y[E].copy(x));var T=e.tr.step(new ReplaceAroundStep(t.pos-y.length,t.pos+a.nodeSize,t.pos+b,t.pos+a.nodeSize-b,new Slice(x,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function selectTextblockSide(e){return function(t,n){for(var r=t.selection,a=e<0?r.$from:r.$to,o=a.depth;a.node(o).isInline;){if(!o)return!1;o--}return a.node(o).isTextblock?(n&&n(t.tr.setSelection(TextSelection.create(t.doc,e<0?a.start(o):a.end(o)))),!0):!1}}var selectTextblockStart=selectTextblockSide(-1),selectTextblockEnd=selectTextblockSide(1);function wrapIn(e,t){return function(n,r){var a=n.selection,o=a.$from,s=a.$to,l=o.blockRange(s),c=l&&findWrapping(l,e,t);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function setBlockType(e,t){return function(n,r){var a=n.selection,o=a.from,s=a.to,l=!1;return n.doc.nodesBetween(o,s,function(c,u){if(l)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)l=!0;else{var f=n.doc.resolve(u),m=f.index();l=f.parent.canReplaceWith(m,m+1,e)}}),l?(r&&r(n.tr.setBlockType(o,s,e,t).scrollIntoView()),!0):!1}}function markApplies(e,t,n){for(var r=function(s){var l=t[s],c=l.$from,u=l.$to,f=c.depth==0?e.type.allowsMarkType(n):!1;if(e.nodesBetween(c.pos,u.pos,function(m){if(f)return!1;f=m.inlineContent&&m.type.allowsMarkType(n)}),f)return{v:!0}},a=0;a<t.length;a++){var o=r(a);if(o)return o.v}return!1}function toggleMark(e,t){return function(n,r){var a=n.selection,o=a.empty,s=a.$cursor,l=a.ranges;if(o&&!s||!markApplies(n.doc,l,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,u=n.tr,f=0;!c&&f<l.length;f++){var m=l[f],h=m.$from,d=m.$to;c=n.doc.rangeHasMark(h.pos,d.pos,e)}for(var g=0;g<l.length;g++){var v=l[g],_=v.$from,y=v.$to;if(c)u.removeMark(_.pos,y.pos,e);else{var q=_.pos,b=y.pos,x=_.nodeAfter,E=y.nodeBefore,T=x&&x.isText?/^\s*/.exec(x.text)[0].length:0,k=E&&E.isText?/\s*$/.exec(E.text)[0].length:0;q+T<b&&(q+=T,b-=k),u.addMark(q,b,e.create(t))}}r(u.scrollIntoView())}return!0}}function chainCommands(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(n,r,a){for(var o=0;o<e.length;o++)if(e[o](n,r,a))return!0;return!1}}var backspace=chainCommands(deleteSelection,joinBackward,selectNodeBackward),del=chainCommands(deleteSelection,joinForward,selectNodeForward),pcBaseKeymap={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:backspace,"Mod-Backspace":backspace,"Shift-Backspace":backspace,Delete:del,"Mod-Delete":del,"Mod-a":selectAll},macBaseKeymap={"Ctrl-h":pcBaseKeymap.Backspace,"Alt-Backspace":pcBaseKeymap["Mod-Backspace"],"Ctrl-d":pcBaseKeymap.Delete,"Ctrl-Alt-Backspace":pcBaseKeymap["Mod-Delete"],"Alt-Delete":pcBaseKeymap["Mod-Delete"],"Alt-d":pcBaseKeymap["Mod-Delete"],"Ctrl-a":selectTextblockStart,"Ctrl-e":selectTextblockEnd};for(var key$2 in pcBaseKeymap)macBaseKeymap[key$2]=pcBaseKeymap[key$2];var mac=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"?os.platform()=="darwin":!1,baseKeymap=mac?macBaseKeymap:pcBaseKeymap,InputRule=function(t,n){this.match=t,this.handler=typeof n=="string"?stringHandler(n):n};function stringHandler(e){return function(t,n,r,a){var o=e;if(n[1]){var s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;var l=r-a;l>0&&(o=n[0].slice(s-l,s)+o,r=a)}return t.tr.insertText(o,r,a)}}var MAX_MATCH=500;function inputRules(e){var t=e.rules,n=new Plugin({state:{init:function(){return null},apply:function(a,o){var s=a.getMeta(this);return s||(a.selectionSet||a.docChanged?null:o)}},props:{handleTextInput:function(a,o,s,l){return run(a,o,s,l,t,n)},handleDOMEvents:{compositionend:function(r){setTimeout(function(){var a=r.state.selection,o=a.$cursor;o&&run(r,o.pos,o.pos,"",t,n)})}}},isInputRules:!0});return n}function run(e,t,n,r,a,o){if(e.composing)return!1;var s=e.state,l=s.doc.resolve(t);if(l.parent.type.spec.code)return!1;for(var c=l.parent.textBetween(Math.max(0,l.parentOffset-MAX_MATCH),l.parentOffset,null,"\uFFFC")+r,u=0;u<a.length;u++){var f=a[u].match.exec(c),m=f&&a[u].handler(s,f,t-(f[0].length-r.length),n);if(!!m)return e.dispatch(m.setMeta(o,{transform:m,from:t,to:n,text:r})),!0}return!1}function undoInputRule(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var a=n[r],o=void 0;if(a.spec.isInputRules&&(o=a.getState(e))){if(t){for(var s=e.tr,l=o.transform,c=l.steps.length-1;c>=0;c--)s.step(l.steps[c].invert(l.docs[c]));if(o.text){var u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,u))}else s.delete(o.from,o.to);t(s)}return!0}}return!1}new InputRule(/--$/,"\u2014");new InputRule(/\.\.\.$/,"\u2026");new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new InputRule(/"$/,"\u201D");new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new InputRule(/'$/,"\u2019");function wrappingInputRule(e,t,n,r){return new InputRule(e,function(a,o,s,l){var c=n instanceof Function?n(o):n,u=a.tr.delete(s,l),f=u.doc.resolve(s),m=f.blockRange(),h=m&&findWrapping(m,t,c);if(!h)return null;u.wrap(m,h);var d=u.doc.resolve(s-1).nodeBefore;return d&&d.type==t&&canJoin(u.doc,s-1)&&(!r||r(o,d))&&u.join(s-1),u})}function textblockTypeInputRule(e,t,n){return new InputRule(e,function(r,a,o,s){var l=r.doc.resolve(o),c=n instanceof Function?n(a):n;return l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),t)?r.tr.delete(o,s).setBlockType(o,o,t,c):null})}function createCell(e,t){return t?e.createChecked(null,t):e.createAndFill()}function getTableNodeTypes(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function createTable(e,t,n,r,a){const o=getTableNodeTypes(e),s=[],l=[];for(let u=0;u<n;u+=1){const f=createCell(o.cell,a);if(f&&l.push(f),r){const m=createCell(o.header_cell,a);m&&s.push(m)}}const c=[];for(let u=0;u<t;u+=1)c.push(o.row.createChecked(null,r&&u===0?s:l));return o.table.createChecked(null,c)}function equalNodeType(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}function findParentNodeClosestToPos(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function findParentNode(e){return t=>findParentNodeClosestToPos(t.$from,e)}function isNodeSelection(e){return e instanceof NodeSelection}function findSelectedNodeOfType(e){return function(t){if(isNodeSelection(t)){const{node:n}=t,{$from:r}=t;if(equalNodeType(e,n))return{node:n,pos:r.pos,depth:r.depth}}}}function getMarkAttrs(e,t){const{from:n,to:r}=e.selection;let a=[];e.doc.nodesBetween(n,r,s=>{a=[...a,...s.marks]});const o=a.find(s=>s.type.name===t.name);return o?o.attrs:{}}function getMarkRange(e=null,t=null){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const r=n.node.marks.find(c=>c.type===t);if(!r)return!1;let a=e.index(),o=e.start()+n.offset,s=a+1,l=o+n.node.nodeSize;for(;a>0&&r.isInSet(e.parent.child(a-1).marks);)a-=1,o-=e.parent.child(a).nodeSize;for(;s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks);)l+=e.parent.child(s).nodeSize,s+=1;return{from:o,to:l}}function getNodeAttrs(e,t){const{from:n,to:r}=e.selection;let a=[];e.doc.nodesBetween(n,r,s=>{a=[...a,s]});const o=a.reverse().find(s=>s.type.name===t.name);return o?o.attrs:{}}function markIsActive(e,t){const{from:n,$from:r,to:a,empty:o}=e.selection;return o?!!t.isInSet(e.storedMarks||r.marks()):!!e.doc.rangeHasMark(n,a,t)}function nodeIsActive(e,t,n={}){const r=o=>o.type===t,a=findSelectedNodeOfType(t)(e.selection)||findParentNode(r)(e.selection);return!Object.keys(n).length||!a?!!a:a.node.hasMarkup(t,{...a.node.attrs,...n})}function wrapInList(e,t){return function(n,r){var a=n.selection,o=a.$from,s=a.$to,l=o.blockRange(s),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&o.node(l.depth-1).type.compatibleContent(e)&&l.startIndex==0){if(o.index(l.depth-1)==0)return!1;var f=n.doc.resolve(l.start-2);u=new NodeRange(f,f,l.depth),l.endIndex<l.parent.childCount&&(l=new NodeRange(o,n.doc.resolve(s.end(l.depth)),l.depth)),c=!0}var m=findWrapping(u,e,t,l);return m?(r&&r(doWrapInList(n.tr,l,m,c,e).scrollIntoView()),!0):!1}}function doWrapInList(e,t,n,r,a){for(var o=Fragment.empty,s=n.length-1;s>=0;s--)o=Fragment.from(n[s].type.create(n[s].attrs,o));e.step(new ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new Slice(o,0,0),n.length,!0));for(var l=0,c=0;c<n.length;c++)n[c].type==a&&(l=c+1);for(var u=n.length-l,f=t.start+n.length-(r?2:0),m=t.parent,h=t.startIndex,d=t.endIndex,g=!0;h<d;h++,g=!1)!g&&canSplit(e.doc,f,u)&&(e.split(f,u),f+=2*u),f+=m.child(h).nodeSize;return e}function splitListItem(e){return function(t,n){var r=t.selection,a=r.$from,o=r.$to,s=r.node;if(s&&s.isBlock||a.depth<2||!a.sameParent(o))return!1;var l=a.node(-1);if(l.type!=e)return!1;if(a.parent.content.size==0&&a.node(-1).childCount==a.indexAfter(-1)){if(a.depth==2||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var c=Fragment.empty,u=a.index(-1)?1:a.index(-2)?2:3,f=a.depth-u;f>=a.depth-3;f--)c=Fragment.from(a.node(f).copy(c));var m=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3;c=c.append(Fragment.from(e.createAndFill()));var h=a.before(a.depth-(u-1)),d=t.tr.replace(h,a.after(-m),new Slice(c,4-u,0)),g=-1;d.doc.nodesBetween(h,d.doc.content.size,function(q,b){if(g>-1)return!1;q.isTextblock&&q.content.size==0&&(g=b+1)}),g>-1&&d.setSelection(t.selection.constructor.near(d.doc.resolve(g))),n(d.scrollIntoView())}return!0}var v=o.pos==a.end()?l.contentMatchAt(0).defaultType:null,_=t.tr.delete(a.pos,o.pos),y=v&&[null,{type:v}];return canSplit(_.doc,a.pos,2,y)?(n&&n(_.split(a.pos,2,y).scrollIntoView()),!0):!1}}function liftListItem(e){return function(t,n){var r=t.selection,a=r.$from,o=r.$to,s=a.blockRange(o,function(l){return l.childCount&&l.firstChild.type==e});return s?n?a.node(s.depth-1).type==e?liftToOuterList(t,n,e,s):liftOutOfList(t,n,s):!0:!1}}function liftToOuterList(e,t,n,r){var a=e.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(a.step(new ReplaceAroundStep(o-1,s,o,s,new Slice(Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new NodeRange(a.doc.resolve(r.$from.pos),a.doc.resolve(s),r.depth)),t(a.lift(r,liftTarget(r)).scrollIntoView()),!0}function liftOutOfList(e,t,n){for(var r=e.tr,a=n.parent,o=n.end,s=n.endIndex-1,l=n.startIndex;s>l;s--)o-=a.child(s).nodeSize,r.delete(o-1,o+1);var c=r.doc.resolve(n.start),u=c.nodeAfter;if(r.mapping.map(n.end)!=n.start+c.nodeAfter.nodeSize)return!1;var f=n.startIndex==0,m=n.endIndex==a.childCount,h=c.node(-1),d=c.index(-1);if(!h.canReplace(d+(f?0:1),d+1,u.content.append(m?Fragment.empty:Fragment.from(a))))return!1;var g=c.pos,v=g+u.nodeSize;return r.step(new ReplaceAroundStep(g-(f?1:0),v+(m?1:0),g+1,v-1,new Slice((f?Fragment.empty:Fragment.from(a.copy(Fragment.empty))).append(m?Fragment.empty:Fragment.from(a.copy(Fragment.empty))),f?0:1,m?0:1),f?0:1)),t(r.scrollIntoView()),!0}function sinkListItem(e){return function(t,n){var r=t.selection,a=r.$from,o=r.$to,s=a.blockRange(o,function(v){return v.childCount&&v.firstChild.type==e});if(!s)return!1;var l=s.startIndex;if(l==0)return!1;var c=s.parent,u=c.child(l-1);if(u.type!=e)return!1;if(n){var f=u.lastChild&&u.lastChild.type==c.type,m=Fragment.from(f?e.create():null),h=new Slice(Fragment.from(e.create(null,Fragment.from(c.type.create(null,m)))),f?3:1,0),d=s.start,g=s.end;n(t.tr.step(new ReplaceAroundStep(d-(f?3:1),g,d,g,h,1,!0)).scrollIntoView())}return!0}}function getMarksBetween(e,t,n){let r=[];return n.doc.nodesBetween(e,t,(a,o)=>{r=[...r,...a.marks.map(s=>({start:o,end:o+a.nodeSize,mark:s}))]}),r}function markInputRule(e,t,n){return new InputRule(e,(r,a,o,s)=>{const l=n instanceof Function?n(a):n,{tr:c}=r,u=a.length-1;let f=s,m=o;if(a[u]){const h=o+a[0].indexOf(a[u-1]),d=h+a[u-1].length-1,g=h+a[u-1].lastIndexOf(a[u]),v=g+a[u].length;if(getMarksBetween(o,s,r).filter(y=>{const{excluded:q}=y.mark.type;return q.find(b=>b.name===t.name)}).filter(y=>y.end>h).length)return!1;v<d&&c.delete(v,d),g>h&&c.delete(h,g),m=h,f=m+a[u].length}return c.addMark(m,f,t.create(l)),c.removeStoredMark(t),c})}function pasteRule(e,t,n){const r=a=>{const o=[];return a.forEach(s=>{if(s.isText){const{text:l}=s;let c=0,u;do if(u=e.exec(l),u){const f=u.index,m=f+u[0].length,h=n instanceof Function?n(u[0]):n;f>0&&o.push(s.cut(c,f)),o.push(s.cut(f,m).mark(t.create(h).addToSet(s.marks))),c=m}while(u);c<l.length&&o.push(s.cut(c))}else o.push(s.copy(r(s.content)))}),Fragment.fromArray(o)};return new Plugin({props:{transformPasted:a=>new Slice(r(a.content),a.openStart,a.openEnd)}})}function markPasteRule(e,t,n){const r=(a,o)=>{const s=[];return a.forEach(l=>{if(l.isText){const{text:c,marks:u}=l;let f=0,m;const h=!!u.filter(d=>d.type.name==="link")[0];for(;!h&&(m=e.exec(c))!==null;)if(o&&o.type.allowsMarkType(t)&&m[1]){const d=m.index,g=d+m[0].length,v=d+m[0].indexOf(m[1]),_=v+m[1].length,y=n instanceof Function?n(m):n;d>0&&s.push(l.cut(f,d)),s.push(l.cut(v,_).mark(t.create(y).addToSet(l.marks))),f=g}f<c.length&&s.push(l.cut(f))}else s.push(l.copy(r(l.content,l)))}),Fragment.fromArray(s)};return new Plugin({props:{transformPasted:a=>new Slice(r(a.content),a.openStart,a.openEnd)}})}function removeMark(e){return(t,n)=>{const{tr:r,selection:a}=t;let{from:o,to:s}=a;const{$from:l,empty:c}=a;if(c){const u=getMarkRange(l,e);o=u.from,s=u.to}return r.removeMark(o,s,e),n(r)}}function toggleBlockType(e,t,n={}){return(r,a,o)=>nodeIsActive(r,e,n)?setBlockType(t)(r,a,o):setBlockType(e,n)(r,a,o)}function isList(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}function toggleList(e,t){return(n,r,a)=>{const{schema:o,selection:s}=n,{$from:l,$to:c}=s,u=l.blockRange(c);if(!u)return!1;const f=findParentNode(m=>isList(m,o))(s);if(u.depth>=1&&f&&u.depth-f.depth<=1){if(f.node.type===e)return liftListItem(t)(n,r,a);if(isList(f.node,o)&&e.validContent(f.node.content)){const{tr:m}=n;return m.setNodeMarkup(f.pos,e),r&&r(m),!1}}return wrapInList(e)(n,r,a)}}function toggleWrap(e,t={}){return(n,r,a)=>nodeIsActive(n,e,t)?lift(n,r):wrapIn(e,t)(n,r,a)}function updateMark(e,t){return(n,r)=>{const{tr:a,selection:o,doc:s}=n,{ranges:l,empty:c}=o;if(c){const{from:u,to:f}=getMarkRange(o.$from,e);s.rangeHasMark(u,f,e)&&a.removeMark(u,f,e),a.addMark(u,f,e.create(t))}else l.forEach(u=>{const{$to:f,$from:m}=u;s.rangeHasMark(m.pos,f.pos,e)&&a.removeMark(m.pos,f.pos,e),a.addMark(m.pos,f.pos,e.create(t))});return r(a)}}function camelCase$1(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,n)=>n===0?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,"")}class ComponentView{constructor(t,{editor:n,extension:r,parent:a,node:o,view:s,decorations:l,getPos:c}){this.component=t,this.editor=n,this.extension=r,this.parent=a,this.node=o,this.view=s,this.decorations=l,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:c,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const t=Vue$1.extend(this.component),n={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:r=>this.updateAttrs(r)};return typeof this.extension.setSelection=="function"&&(this.setSelection=this.extension.setSelection),typeof this.extension.update=="function"&&(this.update=this.extension.update),this.vm=new t({parent:this.parent,propsData:n}).$mount(),this.vm.$el}update(t,n){return t.type!==this.node.type?!1:(t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,this.updateComponentProps({node:t,decorations:n})),!0)}updateComponentProps(t){if(!this.vm._props)return;const n=Vue$1.config.silent;Vue$1.config.silent=!0,Object.entries(t).forEach(([r,a])=>{this.vm._props[r]=a}),Vue$1.config.silent=n}updateAttrs(t){if(!this.view.editable)return;const{state:n}=this.view,{type:r}=this.node,a=this.getPos(),o={...this.node.attrs,...t},s=this.isMark?n.tr.removeMark(a.from,a.to,r).addMark(a.from,a.to,r.create(o)):n.tr.setNodeMarkup(a,null,o);this.view.dispatch(s)}ignoreMutation(t){return t.type==="selection"?!1:this.contentDOM?!this.contentDOM.contains(t.target):!0}stopEvent(t){if(typeof this.extension.stopEvent=="function")return this.extension.stopEvent(t);const n=!!this.extension.schema.draggable;if(n&&t.type==="mousedown"){const l=t.target.closest&&t.target.closest("[data-drag-handle]");l&&(this.dom===l||this.dom.contains(l))&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const r=t.type==="copy",a=t.type==="paste",o=t.type==="cut",s=t.type.startsWith("drag")||t.type==="drop";return n&&s||r||a||o?!1:this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const t=this.view.posAtDOM(this.dom),n=this.view.state.doc.resolve(t);return getMarkRange(n,this.node.type)}destroy(){this.vm.$destroy()}}class Emitter{on(t,n){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(n),this}emit(t,...n){this._callbacks=this._callbacks||{};const r=this._callbacks[t];return r&&r.forEach(a=>a.apply(this,n)),this}off(t,n){if(!arguments.length)this._callbacks={};else{const r=this._callbacks?this._callbacks[t]:null;r&&(n?this._callbacks[t]=r.filter(a=>a!==n):delete this._callbacks[t])}return this}}class Extension{constructor(t={}){this.options={...this.defaultOptions,...t}}init(){return null}bindEditor(t=null){this.editor=t}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class ExtensionManager{constructor(t=[],n){t.forEach(r=>{r.bindEditor(n),r.init()}),this.extensions=t}get nodes(){return this.extensions.filter(t=>t.type==="node").reduce((t,{name:n,schema:r})=>({...t,[n]:r}),{})}get options(){const{view:t}=this;return this.extensions.reduce((n,r)=>({...n,[r.name]:new Proxy(r.options,{set(a,o,s){const l=a[o]!==s;return Object.assign(a,{[o]:s}),l&&t.updateState(t.state),!0}})}),{})}get marks(){return this.extensions.filter(t=>t.type==="mark").reduce((t,{name:n,schema:r})=>({...t,[n]:r}),{})}get plugins(){return this.extensions.filter(t=>t.plugins).reduce((t,{plugins:n})=>[...t,...n],[])}keymaps({schema:t}){const n=this.extensions.filter(a=>["extension"].includes(a.type)).filter(a=>a.keys).map(a=>a.keys({schema:t})),r=this.extensions.filter(a=>["node","mark"].includes(a.type)).filter(a=>a.keys).map(a=>a.keys({type:t[`${a.type}s`][a.name],schema:t}));return[...n,...r].map(a=>keymap(a))}inputRules({schema:t,excludedExtensions:n}){if(!(n instanceof Array)&&n)return[];const r=n instanceof Array?this.extensions.filter(s=>!n.includes(s.name)):this.extensions,a=r.filter(s=>["extension"].includes(s.type)).filter(s=>s.inputRules).map(s=>s.inputRules({schema:t})),o=r.filter(s=>["node","mark"].includes(s.type)).filter(s=>s.inputRules).map(s=>s.inputRules({type:t[`${s.type}s`][s.name],schema:t}));return[...a,...o].reduce((s,l)=>[...s,...l],[])}pasteRules({schema:t,excludedExtensions:n}){if(!(n instanceof Array)&&n)return[];const r=n instanceof Array?this.extensions.filter(s=>!n.includes(s.name)):this.extensions,a=r.filter(s=>["extension"].includes(s.type)).filter(s=>s.pasteRules).map(s=>s.pasteRules({schema:t})),o=r.filter(s=>["node","mark"].includes(s.type)).filter(s=>s.pasteRules).map(s=>s.pasteRules({type:t[`${s.type}s`][s.name],schema:t}));return[...a,...o].reduce((s,l)=>[...s,...l],[])}commands({schema:t,view:n}){return this.extensions.filter(r=>r.commands).reduce((r,a)=>{const{name:o,type:s}=a,l={},c=a.commands({schema:t,...["node","mark"].includes(s)?{type:t[`${s}s`][o]}:{}}),u=(m,h)=>n.editable?(n.focus(),m(h)(n.state,n.dispatch,n)):!1,f=(m,h)=>{Array.isArray(h)?l[m]=d=>h.forEach(g=>u(g,d)):typeof h=="function"&&(l[m]=d=>u(h,d))};return typeof c=="object"?Object.entries(c).forEach(([m,h])=>{f(m,h)}):f(o,c),{...r,...l}},{})}}function injectCSS(e){{const t=document.createElement("style");t.type="text/css",t.textContent=e;const{head:n}=document,{firstChild:r}=n;r?n.insertBefore(t,r):n.appendChild(t)}}class Mark extends Extension{constructor(t={}){super(t)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function minMax(e=0,t=0,n=0){return Math.min(Math.max(parseInt(e,10),t),n)}class Node$1 extends Extension{constructor(t={}){super(t)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class Doc extends Node$1{get name(){return"doc"}get schema(){return{content:"block+"}}}class Paragraph extends Node$1{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:t}){return()=>setBlockType(t)}}class Text$1 extends Node$1{get name(){return"text"}get schema(){return{group:"inline"}}}var css$1=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}
`;class Editor extends Emitter{constructor(t={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(t)}init(t={}){this.setOptions({...this.defaultOptions,...t}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&injectCSS(css$1),this.options.autoFocus!==null&&this.focus(this.options.autoFocus),this.events.forEach(n=>{this.on(n,this.options[camelCase$1(`on ${n}`)]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(t){this.options={...this.options,...t},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new Doc,new Text$1,new Paragraph]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new ExtensionManager([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new Schema({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return EditorState.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,inputRules({rules:this.inputRules}),...this.pasteRules,...this.keymaps,keymap({Backspace:undoInputRule}),keymap(baseKeymap),...this.options.enableDropCursor?[dropCursor(this.options.dropCursor)]:[],...this.options.enableGapCursor?[gapCursor()]:[],new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.options.editable}}),new Plugin({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(t,n)=>{this.focused=!0,this.emit("focus",{event:n,state:t.state,view:t});const r=this.state.tr.setMeta("focused",!0);this.view.dispatch(r)},blur:(t,n)=>{this.focused=!1,this.emit("blur",{event:n,state:t.state,view:t});const r=this.state.tr.setMeta("focused",!1);this.view.dispatch(r)}}}}),new Plugin({props:this.options.editorProps})]})}createDocument(t,n=this.options.parseOptions){if(t===null)return this.schema.nodeFromJSON(this.options.emptyDocument);if(typeof t=="object")try{return this.schema.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),this.schema.nodeFromJSON(this.options.emptyDocument)}if(typeof t=="string"){const r=`<div>${t}</div>`,o=new window.DOMParser().parseFromString(r,"text/html").body.firstElementChild;return DOMParser$1.fromSchema(this.schema).parse(o,n)}return!1}createView(){return new EditorView(this.element,{state:this.createState(),handlePaste:(...t)=>{this.emit("paste",...t)},handleDrop:(...t)=>{this.emit("drop",...t)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(t=null){!t||this.view.setProps({nodeViews:this.initNodeViews({parent:t,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:t,extensions:n}){return n.filter(r=>["node","mark"].includes(r.type)).filter(r=>r.view).reduce((r,a)=>{const o=(s,l,c,u)=>{const f=a.view;return new ComponentView(f,{editor:this,extension:a,parent:t,node:s,view:l,getPos:c,decorations:u})};return{...r,[a.name]:o}},{})}dispatchTransaction(t){const n=this.state.apply(t);this.view.updateState(n),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emitUpdate(t)}emitUpdate(t){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t})}resolveSelection(t=null){if(this.selection&&t===null)return this.selection;if(t==="start"||t===!0)return{from:0,to:0};if(t==="end"){const{doc:n}=this.state;return{from:n.content.size,to:n.content.size}}return{from:t,to:t}}focus(t=null){if(this.view.focused&&t===null||t===!1)return;const{from:n,to:r}=this.resolveSelection(t);this.setSelection(n,r),setTimeout(()=>this.view.focus(),10)}setSelection(t=0,n=0){const{doc:r,tr:a}=this.state,o=minMax(t,0,r.content.size),s=minMax(n,0,r.content.size),l=TextSelection.create(r,o,s),c=a.setSelection(l);this.view.dispatch(c)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const t=document.createElement("div"),n=DOMSerializer.fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(n),t.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(t={},n=!1,r){const{doc:a,tr:o}=this.state,s=this.createDocument(t,r),l=TextSelection.create(a,0,a.content.size),c=o.setSelection(l).replaceSelectionWith(s,!1).setMeta("preventUpdate",!n);this.view.dispatch(c)}clearContent(t=!1){this.setContent(this.options.emptyDocument,t)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((t,[n,r])=>({...t,[n]:(a={})=>markIsActive(this.state,r)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((t,[n,r])=>({...t,[n]:getMarkAttrs(this.state,r)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((t,[n,r])=>({...t,[n]:(a={})=>nodeIsActive(this.state,r,a)}),{})}getMarkAttrs(t=null){return this.activeMarkAttrs[t]}getNodeAttrs(t=null){return{...getNodeAttrs(this.state,this.schema.nodes[t])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((t,[n,r])=>({...t,[n]:(a={})=>r(a)}),{})}registerPlugin(t=null,n){const r=typeof n=="function"?n(t,this.state.plugins):[t,...this.state.plugins],a=this.state.reconfigure({plugins:r});this.view.updateState(a)}unregisterPlugin(t=null){if(!t||!this.view.docView)return;const n=this.state.reconfigure({plugins:this.state.plugins.filter(r=>!r.key.startsWith(`${t}$`))});this.view.updateState(n)}destroy(){!this.view||this.view.destroy()}}var EditorContent={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.element&&this.$nextTick(()=>{this.$el.appendChild(e.element.firstChild),e.setParentComponent(this)})}}},render(e){return e("div")},beforeDestroy(){this.editor.element=this.$el}};class Menu{constructor({options:t}){this.options=t,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{if(this.preventHide){this.preventHide=!1;return}this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function MenuBar(e){return new Plugin({key:new PluginKey("menu_bar"),view(t){return new Menu({editorView:t,options:e})}})}var EditorMenuBar={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(MenuBar({editor:e,element:this.$el})),this.focused=e.focused,e.on("focus",()=>{this.focused=!0}),e.on("menubar:focusUpdate",t=>{this.focused=t})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function deepFreeze(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&deepFreeze(n)}),e}var deepFreezeEs6=deepFreeze,_default$3=deepFreeze;deepFreezeEs6.default=_default$3;class Response{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function escapeHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function inherit(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const a in r)n[a]=r[a]}),n}const SPAN_CLOSE="</span>",emitsWrappingTags=e=>!!e.kind;class HTMLRenderer{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=escapeHTML(t)}openNode(t){if(!emitsWrappingTags(t))return;let n=t.kind;t.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(t){!emitsWrappingTags(t)||(this.buffer+=SPAN_CLOSE)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class TokenTree{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n={kind:t,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{TokenTree._collapse(n)})))}}class TokenTreeEmitter extends TokenTree{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const r=t.root;r.kind=n,r.sublanguage=!0,this.add(r)}toHTML(){return new HTMLRenderer(this,this.options).value()}finalize(){return!0}}function escape$1(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function source$1(e){return e?typeof e=="string"?e:e.source:null}function concat(...e){return e.map(n=>source$1(n)).join("")}function either(...e){return"("+e.map(n=>source$1(n)).join("|")+")"}function countMatchGroups(e){return new RegExp(e.toString()+"|").exec("").length-1}function startsWith(e,t){const n=e&&e.exec(t);return n&&n.index===0}const BACKREF_RE=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function join(e,t="|"){let n=0;return e.map(r=>{n+=1;const a=n;let o=source$1(r),s="";for(;o.length>0;){const l=BACKREF_RE.exec(o);if(!l){s+=o;break}s+=o.substring(0,l.index),o=o.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?s+="\\"+String(Number(l[1])+a):(s+=l[0],l[0]==="("&&n++)}return s}).map(r=>`(${r})`).join(t)}const MATCH_NOTHING_RE=/\b\B/,IDENT_RE="[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",NUMBER_RE="\\b\\d+(\\.\\d+)?",C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",BINARY_NUMBER_RE="\\b(0b[01]+)",RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=concat(t,/.*\b/,e.binary,/\b.*/)),inherit({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[BACKSLASH_ESCAPE]},QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[BACKSLASH_ESCAPE]},PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT=function(e,t,n={}){const r=inherit({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(PHRASAL_WORDS_MODE),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},C_LINE_COMMENT_MODE=COMMENT("//","$"),C_BLOCK_COMMENT_MODE=COMMENT("/\\*","\\*/"),HASH_COMMENT_MODE=COMMENT("#","$"),NUMBER_MODE={className:"number",begin:NUMBER_RE,relevance:0},C_NUMBER_MODE={className:"number",begin:C_NUMBER_RE,relevance:0},BINARY_NUMBER_MODE={className:"number",begin:BINARY_NUMBER_RE,relevance:0},CSS_NUMBER_MODE={className:"number",begin:NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[BACKSLASH_ESCAPE]}]}]},TITLE_MODE={className:"title",begin:IDENT_RE,relevance:0},UNDERSCORE_TITLE_MODE={className:"title",begin:UNDERSCORE_IDENT_RE,relevance:0},METHOD_GUARD={begin:"\\.\\s*"+UNDERSCORE_IDENT_RE,relevance:0},END_SAME_AS_BEGIN=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var MODES=Object.freeze({__proto__:null,MATCH_NOTHING_RE,IDENT_RE,UNDERSCORE_IDENT_RE,NUMBER_RE,C_NUMBER_RE,BINARY_NUMBER_RE,RE_STARTERS_RE,SHEBANG,BACKSLASH_ESCAPE,APOS_STRING_MODE,QUOTE_STRING_MODE,PHRASAL_WORDS_MODE,COMMENT,C_LINE_COMMENT_MODE,C_BLOCK_COMMENT_MODE,HASH_COMMENT_MODE,NUMBER_MODE,C_NUMBER_MODE,BINARY_NUMBER_MODE,CSS_NUMBER_MODE,REGEXP_MODE,TITLE_MODE,UNDERSCORE_TITLE_MODE,METHOD_GUARD,END_SAME_AS_BEGIN});function skipIfhasPrecedingDot(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function beginKeywords(e,t){!t||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=skipIfhasPrecedingDot,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function compileIllegal(e,t){!Array.isArray(e.illegal)||(e.illegal=either(...e.illegal))}function compileMatch(e,t){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function compileRelevance(e,t){e.relevance===void 0&&(e.relevance=1)}const COMMON_KEYWORDS=["of","and","for","in","not","or","if","then","parent","list","value"],DEFAULT_KEYWORD_CLASSNAME="keyword";function compileKeywords(e,t,n=DEFAULT_KEYWORD_CLASSNAME){const r={};return typeof e=="string"?a(n,e.split(" ")):Array.isArray(e)?a(n,e):Object.keys(e).forEach(function(o){Object.assign(r,compileKeywords(e[o],t,o))}),r;function a(o,s){t&&(s=s.map(l=>l.toLowerCase())),s.forEach(function(l){const c=l.split("|");r[c[0]]=[o,scoreForKeyword(c[0],c[1])]})}}function scoreForKeyword(e,t){return t?Number(t):commonKeyword(e)?0:1}function commonKeyword(e){return COMMON_KEYWORDS.includes(e.toLowerCase())}function compileLanguage(e,{plugins:t}){function n(l,c){return new RegExp(source$1(l),"m"+(e.case_insensitive?"i":"")+(c?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,c]),this.matchAt+=countMatchGroups(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(u=>u[1]);this.matcherRe=n(join(c),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const u=this.matcherRe.exec(c);if(!u)return null;const f=u.findIndex((h,d)=>d>0&&h!==void 0),m=this.matchIndexes[f];return u.splice(0,f),Object.assign(u,m)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const u=new r;return this.rules.slice(c).forEach(([f,m])=>u.addRule(f,m)),u.compile(),this.multiRegexes[c]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,u){this.rules.push([c,u]),u.type==="begin"&&this.count++}exec(c){const u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let f=u.exec(c);if(this.resumingScanAtSamePosition()&&!(f&&f.index===this.lastIndex)){const m=this.getMatcher(0);m.lastIndex=this.lastIndex+1,f=m.exec(c)}return f&&(this.regexIndex+=f.position+1,this.regexIndex===this.count&&this.considerAll()),f}}function o(l){const c=new a;return l.contains.forEach(u=>c.addRule(u.begin,{rule:u,type:"begin"})),l.terminatorEnd&&c.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&c.addRule(l.illegal,{type:"illegal"}),c}function s(l,c){const u=l;if(l.isCompiled)return u;[compileMatch].forEach(m=>m(l,c)),e.compilerExtensions.forEach(m=>m(l,c)),l.__beforeBegin=null,[beginKeywords,compileIllegal,compileRelevance].forEach(m=>m(l,c)),l.isCompiled=!0;let f=null;if(typeof l.keywords=="object"&&(f=l.keywords.$pattern,delete l.keywords.$pattern),l.keywords&&(l.keywords=compileKeywords(l.keywords,e.case_insensitive)),l.lexemes&&f)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return f=f||l.lexemes||/\w+/,u.keywordPatternRe=n(f,!0),c&&(l.begin||(l.begin=/\B|\b/),u.beginRe=n(l.begin),l.endSameAsBegin&&(l.end=l.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(u.endRe=n(l.end)),u.terminatorEnd=source$1(l.end)||"",l.endsWithParent&&c.terminatorEnd&&(u.terminatorEnd+=(l.end?"|":"")+c.terminatorEnd)),l.illegal&&(u.illegalRe=n(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(m){return expandOrCloneMode(m==="self"?l:m)})),l.contains.forEach(function(m){s(m,u)}),l.starts&&s(l.starts,c),u.matcher=o(u),u}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=inherit(e.classNameAliases||{}),s(e)}function dependencyOnParent(e){return e?e.endsWithParent||dependencyOnParent(e.starts):!1}function expandOrCloneMode(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return inherit(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:dependencyOnParent(e)?inherit(e,{starts:e.starts?inherit(e.starts):null}):Object.isFrozen(e)?inherit(e):e}var version$2="10.7.1";function hasValueOrEmptyAttribute(e){return Boolean(e||e==="")}function BuildVuePlugin(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,escapeHTML(this.code);let r={};return this.autoDetect?(r=e.highlightAuto(this.code),this.detectedLanguage=r.language):(r=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),r.value},autoDetect(){return!this.language||hasValueOrEmptyAttribute(this.autodetect)},ignoreIllegals(){return!0}},render(r){return r("pre",{},[r("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(r){r.component("highlightjs",t)}}}}const mergeHTMLPlugin={"after:highlightElement":({el:e,result:t,text:n})=>{const r=nodeStream(e);if(!r.length)return;const a=document.createElement("div");a.innerHTML=t.value,t.value=mergeStreams(r,nodeStream(a),n)}};function tag(e){return e.nodeName.toLowerCase()}function nodeStream(e){const t=[];return function n(r,a){for(let o=r.firstChild;o;o=o.nextSibling)o.nodeType===3?a+=o.nodeValue.length:o.nodeType===1&&(t.push({event:"start",offset:a,node:o}),a=n(o,a),tag(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:a,node:o}));return a}(e,0),t}function mergeStreams(e,t,n){let r=0,a="";const o=[];function s(){return!e.length||!t.length?e.length?e:t:e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:t[0].event==="start"?e:t}function l(f){function m(h){return" "+h.nodeName+'="'+escapeHTML(h.value)+'"'}a+="<"+tag(f)+[].map.call(f.attributes,m).join("")+">"}function c(f){a+="</"+tag(f)+">"}function u(f){(f.event==="start"?l:c)(f.node)}for(;e.length||t.length;){let f=s();if(a+=escapeHTML(n.substring(r,f[0].offset)),r=f[0].offset,f===e){o.reverse().forEach(c);do u(f.splice(0,1)[0]),f=s();while(f===e&&f.length&&f[0].offset===r);o.reverse().forEach(l)}else f[0].event==="start"?o.push(f[0].node):o.pop(),u(f.splice(0,1)[0])}return a+escapeHTML(n.substr(r))}const error$1=e=>{console.error(e)},warn$1=(e,...t)=>{console.log(`WARN: ${e}`,...t)},deprecated=(e,t)=>{console.log(`Deprecated as of ${e}. ${t}`)},escape$1$1=escapeHTML,inherit$1=inherit,NO_MATCH=Symbol("nomatch"),HLJS=function(e){const t=Object.create(null),n=Object.create(null),r=[];let a=!0;const o=/(^(<[^>]+>|\t|)+|\n)/gm,s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:TokenTreeEmitter};function u(N){return c.noHighlightRe.test(N)}function f(N){let z=N.className+" ";z+=N.parentNode?N.parentNode.className:"";const V=c.languageDetectRe.exec(z);if(V){const L=R(V[1]);return L||(warn$1(s.replace("{}",V[1])),warn$1("Falling back to no-highlight mode for this block.",N)),L?V[1]:"no-highlight"}return z.split(/\s+/).find(L=>u(L)||R(L))}function m(N,z,V,L){let j="",J="";typeof z=="object"?(j=N,V=z.ignoreIllegals,J=z.language,L=void 0):(deprecated("10.7.0","highlight(lang, code, ...args) has been deprecated."),deprecated("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),J=N,j=z);const Q={code:j,language:J};$("before:highlight",Q);const re=Q.result?Q.result:h(Q.language,Q.code,V,L);return re.code=Q.code,$("after:highlight",re),re}function h(N,z,V,L){function j(fe,me){const we=ee.case_insensitive?me[0].toLowerCase():me[0];return Object.prototype.hasOwnProperty.call(fe.keywords,we)&&fe.keywords[we]}function J(){if(!ne.keywords){he.addText(ve);return}let fe=0;ne.keywordPatternRe.lastIndex=0;let me=ne.keywordPatternRe.exec(ve),we="";for(;me;){we+=ve.substring(fe,me.index);const Se=j(ne,me);if(Se){const[Ae,Ne]=Se;if(he.addText(we),we="",ke+=Ne,Ae.startsWith("_"))we+=me[0];else{const Be=ee.classNameAliases[Ae]||Ae;he.addKeyword(me[0],Be)}}else we+=me[0];fe=ne.keywordPatternRe.lastIndex,me=ne.keywordPatternRe.exec(ve)}we+=ve.substr(fe),he.addText(we)}function Q(){if(ve==="")return;let fe=null;if(typeof ne.subLanguage=="string"){if(!t[ne.subLanguage]){he.addText(ve);return}fe=h(ne.subLanguage,ve,!0,_e[ne.subLanguage]),_e[ne.subLanguage]=fe.top}else fe=g(ve,ne.subLanguage.length?ne.subLanguage:null);ne.relevance>0&&(ke+=fe.relevance),he.addSublanguage(fe.emitter,fe.language)}function re(){ne.subLanguage!=null?Q():J(),ve=""}function ce(fe){return fe.className&&he.openNode(ee.classNameAliases[fe.className]||fe.className),ne=Object.create(fe,{parent:{value:ne}}),ne}function ge(fe,me,we){let Se=startsWith(fe.endRe,we);if(Se){if(fe["on:end"]){const Ae=new Response(fe);fe["on:end"](me,Ae),Ae.isMatchIgnored&&(Se=!1)}if(Se){for(;fe.endsParent&&fe.parent;)fe=fe.parent;return fe}}if(fe.endsWithParent)return ge(fe.parent,me,we)}function H(fe){return ne.matcher.regexIndex===0?(ve+=fe[0],1):(Me=!0,0)}function Y(fe){const me=fe[0],we=fe.rule,Se=new Response(we),Ae=[we.__beforeBegin,we["on:begin"]];for(const Ne of Ae)if(!!Ne&&(Ne(fe,Se),Se.isMatchIgnored))return H(me);return we&&we.endSameAsBegin&&(we.endRe=escape$1(me)),we.skip?ve+=me:(we.excludeBegin&&(ve+=me),re(),!we.returnBegin&&!we.excludeBegin&&(ve=me)),ce(we),we.returnBegin?0:me.length}function W(fe){const me=fe[0],we=z.substr(fe.index),Se=ge(ne,fe,we);if(!Se)return NO_MATCH;const Ae=ne;Ae.skip?ve+=me:(Ae.returnEnd||Ae.excludeEnd||(ve+=me),re(),Ae.excludeEnd&&(ve=me));do ne.className&&he.closeNode(),!ne.skip&&!ne.subLanguage&&(ke+=ne.relevance),ne=ne.parent;while(ne!==Se.parent);return Se.starts&&(Se.endSameAsBegin&&(Se.starts.endRe=Se.endRe),ce(Se.starts)),Ae.returnEnd?0:me.length}function ae(){const fe=[];for(let me=ne;me!==ee;me=me.parent)me.className&&fe.unshift(me.className);fe.forEach(me=>he.openNode(me))}let se={};function X(fe,me){const we=me&&me[0];if(ve+=fe,we==null)return re(),0;if(se.type==="begin"&&me.type==="end"&&se.index===me.index&&we===""){if(ve+=z.slice(me.index,me.index+1),!a){const Se=new Error("0 width match regex");throw Se.languageName=N,Se.badRule=se.rule,Se}return 1}if(se=me,me.type==="begin")return Y(me);if(me.type==="illegal"&&!V){const Se=new Error('Illegal lexeme "'+we+'" for mode "'+(ne.className||"<unnamed>")+'"');throw Se.mode=ne,Se}else if(me.type==="end"){const Se=W(me);if(Se!==NO_MATCH)return Se}if(me.type==="illegal"&&we==="")return 1;if(qe>1e5&&qe>me.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ve+=we,we.length}const ee=R(N);if(!ee)throw error$1(s.replace("{}",N)),new Error('Unknown language: "'+N+'"');const oe=compileLanguage(ee,{plugins:r});let le="",ne=L||oe;const _e={},he=new c.__emitter(c);ae();let ve="",ke=0,Ce=0,qe=0,Me=!1;try{for(ne.matcher.considerAll();;){qe++,Me?Me=!1:ne.matcher.considerAll(),ne.matcher.lastIndex=Ce;const fe=ne.matcher.exec(z);if(!fe)break;const me=z.substring(Ce,fe.index),we=X(me,fe);Ce=fe.index+we}return X(z.substr(Ce)),he.closeAllNodes(),he.finalize(),le=he.toHTML(),{relevance:Math.floor(ke),value:le,language:N,illegal:!1,emitter:he,top:ne}}catch(fe){if(fe.message&&fe.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:fe.message,context:z.slice(Ce-100,Ce+100),mode:fe.mode},sofar:le,relevance:0,value:escape$1$1(z),emitter:he};if(a)return{illegal:!1,relevance:0,value:escape$1$1(z),emitter:he,language:N,top:ne,errorRaised:fe};throw fe}}function d(N){const z={relevance:0,emitter:new c.__emitter(c),value:escape$1$1(N),illegal:!1,top:l};return z.emitter.addText(N),z}function g(N,z){z=z||c.languages||Object.keys(t);const V=d(N),L=z.filter(R).filter(B).map(ce=>h(ce,N,!1));L.unshift(V);const j=L.sort((ce,ge)=>{if(ce.relevance!==ge.relevance)return ge.relevance-ce.relevance;if(ce.language&&ge.language){if(R(ce.language).supersetOf===ge.language)return 1;if(R(ge.language).supersetOf===ce.language)return-1}return 0}),[J,Q]=j,re=J;return re.second_best=Q,re}function v(N){return c.tabReplace||c.useBR?N.replace(o,z=>z===`
`?c.useBR?"<br>":z:c.tabReplace?z.replace(/\t/g,c.tabReplace):z):N}function _(N,z,V){const L=z?n[z]:V;N.classList.add("hljs"),L&&N.classList.add(L)}const y={"before:highlightElement":({el:N})=>{c.useBR&&(N.innerHTML=N.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:N})=>{c.useBR&&(N.value=N.value.replace(/\n/g,"<br>"))}},q=/^(<[^>]+>|\t)+/gm,b={"after:highlightElement":({result:N})=>{c.tabReplace&&(N.value=N.value.replace(q,z=>z.replace(/\t/g,c.tabReplace)))}};function x(N){let z=null;const V=f(N);if(u(V))return;$("before:highlightElement",{el:N,language:V}),z=N;const L=z.textContent,j=V?m(L,{language:V,ignoreIllegals:!0}):g(L);$("after:highlightElement",{el:N,result:j,text:L}),N.innerHTML=j.value,_(N,V,j.language),N.result={language:j.language,re:j.relevance,relavance:j.relevance},j.second_best&&(N.second_best={language:j.second_best.language,re:j.second_best.relevance,relavance:j.second_best.relevance})}function E(N){N.useBR&&(deprecated("10.3.0","'useBR' will be removed entirely in v11.0"),deprecated("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),c=inherit$1(c,N)}const T=()=>{if(T.called)return;T.called=!0,deprecated("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(x)};function k(){deprecated("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),A=!0}let A=!1;function M(){if(document.readyState==="loading"){A=!0;return}document.querySelectorAll("pre code").forEach(x)}function S(){A&&M()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",S,!1);function C(N,z){let V=null;try{V=z(e)}catch(L){if(error$1("Language definition for '{}' could not be registered.".replace("{}",N)),a)error$1(L);else throw L;V=l}V.name||(V.name=N),t[N]=V,V.rawDefinition=z.bind(null,e),V.aliases&&w(V.aliases,{languageName:N})}function I(N){delete t[N];for(const z of Object.keys(n))n[z]===N&&delete n[z]}function O(){return Object.keys(t)}function D(N){deprecated("10.4.0","requireLanguage will be removed entirely in v11."),deprecated("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const z=R(N);if(z)return z;throw new Error("The '{}' language is required, but not loaded.".replace("{}",N))}function R(N){return N=(N||"").toLowerCase(),t[N]||t[n[N]]}function w(N,{languageName:z}){typeof N=="string"&&(N=[N]),N.forEach(V=>{n[V.toLowerCase()]=z})}function B(N){const z=R(N);return z&&!z.disableAutodetect}function G(N){N["before:highlightBlock"]&&!N["before:highlightElement"]&&(N["before:highlightElement"]=z=>{N["before:highlightBlock"](Object.assign({block:z.el},z))}),N["after:highlightBlock"]&&!N["after:highlightElement"]&&(N["after:highlightElement"]=z=>{N["after:highlightBlock"](Object.assign({block:z.el},z))})}function U(N){G(N),r.push(N)}function $(N,z){const V=N;r.forEach(function(L){L[V]&&L[V](z)})}function P(N){return deprecated("10.2.0","fixMarkup will be removed entirely in v11.0"),deprecated("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),v(N)}function F(N){return deprecated("10.7.0","highlightBlock will be removed entirely in v12.0"),deprecated("10.7.0","Please use highlightElement now."),x(N)}Object.assign(e,{highlight:m,highlightAuto:g,highlightAll:M,fixMarkup:P,highlightElement:x,highlightBlock:F,configure:E,initHighlighting:T,initHighlightingOnLoad:k,registerLanguage:C,unregisterLanguage:I,listLanguages:O,getLanguage:R,registerAliases:w,requireLanguage:D,autoDetection:B,inherit:inherit$1,addPlugin:U,vuePlugin:BuildVuePlugin(e).VuePlugin}),e.debugMode=function(){a=!1},e.safeMode=function(){a=!0},e.versionString=version$2;for(const N in MODES)typeof MODES[N]=="object"&&deepFreezeEs6(MODES[N]);return Object.assign(e,MODES),e.addPlugin(y),e.addPlugin(mergeHTMLPlugin),e.addPlugin(b),e};HLJS({});var format$1={exports:{}};(function(e){(function(){var t;t=e.exports=a,t.format=a,t.vsprintf=r,typeof console!="undefined"&&typeof console.log=="function"&&(t.printf=n);function n(){console.log(a.apply(null,arguments))}function r(o,s){return a.apply(null,[o].concat(s))}function a(o){for(var s=1,l=[].slice.call(arguments),c=0,u=o.length,f="",m,h=!1,d,g,v=!1,_,y=function(){return l[s++]},q=function(){for(var b="";/\d/.test(o[c]);)b+=o[c++],m=o[c];return b.length>0?parseInt(b):null};c<u;++c)if(m=o[c],h)switch(h=!1,m=="."?(v=!1,m=o[++c]):m=="0"&&o[c+1]=="."?(v=!0,c+=2,m=o[c]):v=!0,_=q(),m){case"b":f+=parseInt(y(),10).toString(2);break;case"c":d=y(),typeof d=="string"||d instanceof String?f+=d:f+=String.fromCharCode(parseInt(d,10));break;case"d":f+=parseInt(y(),10);break;case"f":g=String(parseFloat(y()).toFixed(_||6)),f+=v?g:g.replace(/^0/,"");break;case"j":f+=JSON.stringify(y());break;case"o":f+="0"+parseInt(y(),10).toString(8);break;case"s":f+=y();break;case"x":f+="0x"+parseInt(y(),10).toString(16);break;case"X":f+="0x"+parseInt(y(),10).toString(16).toUpperCase();break;default:f+=m;break}else m==="%"?h=!0:f+=m;return f}})()})(format$1);var formatter=format$1.exports,fault=create(Error);fault.eval=create(EvalError);fault.range=create(RangeError);fault.reference=create(ReferenceError);fault.syntax=create(SyntaxError);fault.type=create(TypeError);fault.uri=create(URIError);fault.create=create;function create(e){return t.displayName=e.displayName||e.name,t;function t(n){return n&&(n=formatter.apply(null,arguments)),new e(n)}}var readFromCache,addToCache;if(typeof WeakMap!="undefined"){var cache=new WeakMap;readFromCache=function(e){return cache.get(e)},addToCache=function(e,t){return cache.set(e,t),t}}else{var cache$1=[],cacheSize=10,cachePos=0;readFromCache=function(e){for(var t=0;t<cache$1.length;t+=2)if(cache$1[t]==e)return cache$1[t+1]},addToCache=function(e,t){return cachePos==cacheSize&&(cachePos=0),cache$1[cachePos++]=e,cache$1[cachePos++]=t}}var Rect=function(t,n,r,a){this.left=t,this.top=n,this.right=r,this.bottom=a},TableMap=function(t,n,r,a){this.width=t,this.height=n,this.map=r,this.problems=a};TableMap.prototype.findCell=function(t){for(var n=0;n<this.map.length;n++){var r=this.map[n];if(r==t){for(var a=n%this.width,o=n/this.width|0,s=a+1,l=o+1,c=1;s<this.width&&this.map[n+c]==r;c++)s++;for(var u=1;l<this.height&&this.map[n+this.width*u]==r;u++)l++;return new Rect(a,o,s,l)}}throw new RangeError("No cell with offset "+t+" found")};TableMap.prototype.colCount=function(t){for(var n=0;n<this.map.length;n++)if(this.map[n]==t)return n%this.width;throw new RangeError("No cell with offset "+t+" found")};TableMap.prototype.nextCell=function(t,n,r){var a=this.findCell(t),o=a.left,s=a.right,l=a.top,c=a.bottom;return n=="horiz"?(r<0?o==0:s==this.width)?null:this.map[l*this.width+(r<0?o-1:s)]:(r<0?l==0:c==this.height)?null:this.map[o+this.width*(r<0?l-1:c)]};TableMap.prototype.rectBetween=function(t,n){var r=this.findCell(t),a=r.left,o=r.right,s=r.top,l=r.bottom,c=this.findCell(n),u=c.left,f=c.right,m=c.top,h=c.bottom;return new Rect(Math.min(a,u),Math.min(s,m),Math.max(o,f),Math.max(l,h))};TableMap.prototype.cellsInRect=function(t){for(var n=[],r={},a=t.top;a<t.bottom;a++)for(var o=t.left;o<t.right;o++){var s=a*this.width+o,l=this.map[s];r[l]||(r[l]=!0,(o!=t.left||!o||this.map[s-1]!=l)&&(a!=t.top||!a||this.map[s-this.width]!=l)&&n.push(l))}return n};TableMap.prototype.positionAt=function(t,n,r){for(var a=0,o=0;;a++){var s=o+r.child(a).nodeSize;if(a==t){for(var l=n+t*this.width,c=(t+1)*this.width;l<c&&this.map[l]<o;)l++;return l==c?s-1:this.map[l]}o=s}};TableMap.get=function(t){return readFromCache(t)||addToCache(t,computeMap(t))};function computeMap(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);for(var t=findWidth(e),n=e.childCount,r=[],a=0,o=null,s=[],l=0,c=t*n;l<c;l++)r[l]=0;for(var u=0,f=0;u<n;u++){var m=e.child(u);f++;for(var h=0;;h++){for(;a<r.length&&r[a]!=0;)a++;if(h==m.childCount)break;for(var d=m.child(h),g=d.attrs,v=g.colspan,_=g.rowspan,y=g.colwidth,q=0;q<_;q++){if(q+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:f,n:_-q});break}for(var b=a+q*t,x=0;x<v;x++){r[b+x]==0?r[b+x]=f:(o||(o=[])).push({type:"collision",row:u,pos:f,n:v-x});var E=y&&y[x];if(E){var T=(b+x)%t*2,k=s[T];k==null||k!=E&&s[T+1]==1?(s[T]=E,s[T+1]=1):k==E&&s[T+1]++}}}a+=v,f+=d.nodeSize}for(var A=(u+1)*t,M=0;a<A;)r[a++]==0&&M++;M&&(o||(o=[])).push({type:"missing",row:u,n:M}),f++}for(var S=new TableMap(t,n,r,o),C=!1,I=0;!C&&I<s.length;I+=2)s[I]!=null&&s[I+1]<n&&(C=!0);return C&&findBadColWidths(S,s,e),S}function findWidth(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var a=e.child(r),o=0;if(n)for(var s=0;s<r;s++)for(var l=e.child(s),c=0;c<l.childCount;c++){var u=l.child(c);s+u.attrs.rowspan>r&&(o+=u.attrs.colspan)}for(var f=0;f<a.childCount;f++){var m=a.child(f);o+=m.attrs.colspan,m.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function findBadColWidths(e,t,n){e.problems||(e.problems=[]);for(var r=0,a={};r<e.map.length;r++){var o=e.map[r];if(!a[o]){a[o]=!0;for(var s=n.nodeAt(o),l=null,c=0;c<s.attrs.colspan;c++){var u=(r+c)%e.width,f=t[u*2];f!=null&&(!s.attrs.colwidth||s.attrs.colwidth[c]!=f)&&((l||(l=freshColWidth(s.attrs)))[c]=f)}l&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:l})}}}function freshColWidth(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function getCellAttrs(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(function(u){return Number(u)}):null,a=Number(e.getAttribute("colspan")||1),o={colspan:a,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==a?r:null};for(var s in t){var l=t[s].getFromDOM,c=l&&l(e);c!=null&&(o[s]=c)}return o}function setCellAttrs(e,t){var n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(var r in t){var a=t[r].setDOMAttr;a&&a(e.attrs[r],n)}return n}function tableNodes(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(a){return getCellAttrs(a,t)}}],toDOM:function(o){return["td",setCellAttrs(o,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(a){return getCellAttrs(a,t)}}],toDOM:function(o){return["th",setCellAttrs(o,t),0]}}}}function tableNodeTypes(e){var t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(var n in e.nodes){var r=e.nodes[n],a=r.spec.tableRole;a&&(t[a]=r)}}return t}var key=new PluginKey("selectingCells");function cellAround(e){for(var t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function cellWrapping(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function isInTable(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function selectionCell(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&t.node.type.spec.tableRole=="cell"?t.$anchor:cellAround(t.$head)||cellNear(t.$head)}function cellNear(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(var a=e.nodeBefore,o=e.pos;a;a=a.lastChild,o--){var s=a.type.spec.tableRole;if(s=="cell"||s=="header_cell")return e.doc.resolve(o-a.nodeSize)}}function pointsAtCell(e){return e.parent.type.spec.tableRole=="row"&&e.nodeAfter}function moveCellForward(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function inSameTable(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function nextCell(e,t,n){var r=e.start(-1),a=TableMap.get(e.node(-1)),o=a.nextCell(e.pos-r,t,n);return o==null?null:e.node(0).resolve(r+o)}function setAttr(e,t,n){var r={};for(var a in e)r[a]=e[a];return r[t]=n,r}function removeColSpan(e,t,n){n===void 0&&(n=1);var r=setAttr(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(function(a){return a>0})||(r.colwidth=null)),r}function addColSpan(e,t,n){n===void 0&&(n=1);var r=setAttr(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var a=0;a<n;a++)r.colwidth.splice(t,0,0)}return r}function columnIsHeader(e,t,n){for(var r=tableNodeTypes(t.type.schema).header_cell,a=0;a<e.height;a++)if(t.nodeAt(e.map[n+a*e.width]).type!=r)return!1;return!0}var CellSelection=function(e){function t(n,r){r===void 0&&(r=n);var a=n.node(-1),o=TableMap.get(a),s=n.start(-1),l=o.rectBetween(n.pos-s,r.pos-s),c=n.node(0),u=o.cellsInRect(l).filter(function(m){return m!=r.pos-s});u.unshift(r.pos-s);var f=u.map(function(m){var h=a.nodeAt(m),d=m+s+1;return new SelectionRange(c.resolve(d),c.resolve(d+h.content.size))});e.call(this,f[0].$from,f[0].$to,f),this.$anchorCell=n,this.$headCell=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,a){var o=r.resolve(a.map(this.$anchorCell.pos)),s=r.resolve(a.map(this.$headCell.pos));if(pointsAtCell(o)&&pointsAtCell(s)&&inSameTable(o,s)){var l=this.$anchorCell.node(-1)!=o.node(-1);return l&&this.isRowSelection()?t.rowSelection(o,s):l&&this.isColSelection()?t.colSelection(o,s):new t(o,s)}return TextSelection.between(o,s)},t.prototype.content=function(){for(var r=this.$anchorCell.node(-1),a=TableMap.get(r),o=this.$anchorCell.start(-1),s=a.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),l={},c=[],u=s.top;u<s.bottom;u++){for(var f=[],m=u*a.width+s.left,h=s.left;h<s.right;h++,m++){var d=a.map[m];if(!l[d]){l[d]=!0;var g=a.findCell(d),v=r.nodeAt(d),_=s.left-g.left,y=g.right-s.right;if(_>0||y>0){var q=v.attrs;_>0&&(q=removeColSpan(q,0,_)),y>0&&(q=removeColSpan(q,q.colspan-y,y)),g.left<s.left?v=v.type.createAndFill(q):v=v.type.create(q,v.content)}if(g.top<s.top||g.bottom>s.bottom){var b=setAttr(v.attrs,"rowspan",Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top));g.top<s.top?v=v.type.createAndFill(b):v=v.type.create(b,v.content)}f.push(v)}}c.push(r.child(u).copy(Fragment.from(f)))}var x=this.isColSelection()&&this.isRowSelection()?r:c;return new Slice(Fragment.from(x),1,1)},t.prototype.replace=function(r,a){a===void 0&&(a=Slice.empty);for(var o=r.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,f=c.$to,m=r.mapping.slice(o);r.replace(m.map(u.pos),m.map(f.pos),l?Slice.empty:a)}var h=e.findFrom(r.doc.resolve(r.mapping.slice(o).map(this.to)),-1);h&&r.setSelection(h)},t.prototype.replaceWith=function(r,a){this.replace(r,new Slice(Fragment.from(a),0,0))},t.prototype.forEachCell=function(r){for(var a=this.$anchorCell.node(-1),o=TableMap.get(a),s=this.$anchorCell.start(-1),l=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s)),c=0;c<l.length;c++)r(a.nodeAt(l[c]),s+l[c])},t.prototype.isColSelection=function(){var r=this.$anchorCell.index(-1),a=this.$headCell.index(-1);if(Math.min(r,a)>0)return!1;var o=r+this.$anchorCell.nodeAfter.attrs.rowspan,s=a+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,s)==this.$headCell.node(-1).childCount},t.colSelection=function(r,a){a===void 0&&(a=r);var o=TableMap.get(r.node(-1)),s=r.start(-1),l=o.findCell(r.pos-s),c=o.findCell(a.pos-s),u=r.node(0);return l.top<=c.top?(l.top>0&&(r=u.resolve(s+o.map[l.left])),c.bottom<o.height&&(a=u.resolve(s+o.map[o.width*(o.height-1)+c.right-1]))):(c.top>0&&(a=u.resolve(s+o.map[c.left])),l.bottom<o.height&&(r=u.resolve(s+o.map[o.width*(o.height-1)+l.right-1]))),new t(r,a)},t.prototype.isRowSelection=function(){var r=TableMap.get(this.$anchorCell.node(-1)),a=this.$anchorCell.start(-1),o=r.colCount(this.$anchorCell.pos-a),s=r.colCount(this.$headCell.pos-a);if(Math.min(o,s)>0)return!1;var l=o+this.$anchorCell.nodeAfter.attrs.colspan,c=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(l,c)==r.width},t.prototype.eq=function(r){return r instanceof t&&r.$anchorCell.pos==this.$anchorCell.pos&&r.$headCell.pos==this.$headCell.pos},t.rowSelection=function(r,a){a===void 0&&(a=r);var o=TableMap.get(r.node(-1)),s=r.start(-1),l=o.findCell(r.pos-s),c=o.findCell(a.pos-s),u=r.node(0);return l.left<=c.left?(l.left>0&&(r=u.resolve(s+o.map[l.top*o.width])),c.right<o.width&&(a=u.resolve(s+o.map[o.width*(c.top+1)-1]))):(c.left>0&&(a=u.resolve(s+o.map[c.top*o.width])),l.right<o.width&&(r=u.resolve(s+o.map[o.width*(l.top+1)-1]))),new t(r,a)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(r,a){return new t(r.resolve(a.anchor),r.resolve(a.head))},t.create=function(r,a,o){return o===void 0&&(o=a),new t(r.resolve(a),r.resolve(o))},t.prototype.getBookmark=function(){return new CellBookmark(this.$anchorCell.pos,this.$headCell.pos)},t}(Selection);CellSelection.prototype.visible=!1;Selection.jsonID("cell",CellSelection);var CellBookmark=function(t,n){this.anchor=t,this.head=n};CellBookmark.prototype.map=function(t){return new CellBookmark(t.map(this.anchor),t.map(this.head))};CellBookmark.prototype.resolve=function(t){var n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&inSameTable(n,r)?new CellSelection(n,r):Selection.near(r,1)};function drawCellSelection(e){if(!(e.selection instanceof CellSelection))return null;var t=[];return e.selection.forEachCell(function(n,r){t.push(Decoration.node(r,r+n.nodeSize,{class:"selectedCell"}))}),DecorationSet.create(e.doc,t)}function isCellBoundarySelection(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,a=n.pos,o=t.depth;o>=0&&!(t.after(o+1)<t.end(o));o--,r++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,a--);return r==a&&/row|table/.test(t.node(o).type.spec.tableRole)}function isTextSelectionAcrossCells(e){for(var t=e.$from,n=e.$to,r,a,o=t.depth;o>0;o--){var s=t.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}for(var l=n.depth;l>0;l--){var c=n.node(l);if(c.type.spec.tableRole==="cell"||c.type.spec.tableRole==="header_cell"){a=c;break}}return r!==a&&n.parentOffset===0}function normalizeSelection(e,t,n){var r=(t||e).selection,a=(t||e).doc,o,s;if(r instanceof NodeSelection&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=CellSelection.create(a,r.from);else if(s=="row"){var l=a.resolve(r.from+1);o=CellSelection.rowSelection(l,l)}else if(!n){var c=TableMap.get(r.node),u=r.from+1,f=u+c.map[c.width*c.height-1];o=CellSelection.create(a,u+1,f)}}else r instanceof TextSelection&&isCellBoundarySelection(r)?o=TextSelection.create(a,r.from):r instanceof TextSelection&&isTextSelectionAcrossCells(r)&&(o=TextSelection.create(a,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}function pastedCells(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;t.childCount==1&&(n>0&&r>0||t.firstChild.type.spec.tableRole=="table");)n--,r--,t=t.firstChild.content;var a=t.firstChild,o=a.type.spec.tableRole,s=a.type.schema,l=[];if(o=="row")for(var c=0;c<t.childCount;c++){var u=t.child(c).content,f=c?0:Math.max(0,n-1),m=c<t.childCount-1?0:Math.max(0,r-1);(f||m)&&(u=fitSlice(tableNodeTypes(s).row,new Slice(u,f,m)).content),l.push(u)}else if(o=="cell"||o=="header_cell")l.push(n||r?fitSlice(tableNodeTypes(s).row,new Slice(t,n,r)).content:t);else return null;return ensureRectangular(s,l)}function ensureRectangular(e,t){for(var n=[],r=0;r<t.length;r++)for(var a=t[r],o=a.childCount-1;o>=0;o--)for(var s=a.child(o).attrs,l=s.rowspan,c=s.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var f=0,m=0;m<n.length;m++)f=Math.max(f,n[m]);for(var h=0;h<n.length;h++)if(h>=t.length&&t.push(Fragment.empty),n[h]<f){for(var d=tableNodeTypes(e).cell.createAndFill(),g=[],v=n[h];v<f;v++)g.push(d);t[h]=t[h].append(Fragment.from(g))}return{height:t.length,width:f,rows:t}}function fitSlice(e,t){var n=e.createAndFill(),r=new Transform(n).replace(0,n.content.size,t);return r.doc}function clipCells(e,t,n){var r=e.width,a=e.height,o=e.rows;if(r!=t){for(var s=[],l=[],c=0;c<o.length;c++){for(var u=o[c],f=[],m=s[c]||0,h=0;m<t;h++){var d=u.child(h%u.childCount);m+d.attrs.colspan>t&&(d=d.type.create(removeColSpan(d.attrs,d.attrs.colspan,m+d.attrs.colspan-t),d.content)),f.push(d),m+=d.attrs.colspan;for(var g=1;g<d.attrs.rowspan;g++)s[c+g]=(s[c+g]||0)+d.attrs.colspan}l.push(Fragment.from(f))}o=l,r=t}if(a!=n){for(var v=[],_=0,y=0;_<n;_++,y++){for(var q=[],b=o[y%a],x=0;x<b.childCount;x++){var E=b.child(x);_+E.attrs.rowspan>n&&(E=E.type.create(setAttr(E.attrs,"rowspan",Math.max(1,n-E.attrs.rowspan)),E.content)),q.push(E)}v.push(Fragment.from(q))}o=v,a=n}return{width:r,height:a,rows:o}}function growTable(e,t,n,r,a,o,s){var l=e.doc.type.schema,c=tableNodeTypes(l),u,f;if(a>t.width)for(var m=0,h=0;m<t.height;m++){var d=n.child(m);h+=d.nodeSize;var g=[],v=void 0;d.lastChild==null||d.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=f||(f=c.header_cell.createAndFill());for(var _=t.width;_<a;_++)g.push(v);e.insert(e.mapping.slice(s).map(h-1+r),g)}if(o>t.height){for(var y=[],q=0,b=(t.height-1)*t.width;q<Math.max(t.width,a);q++){var x=q>=t.width?!1:n.nodeAt(t.map[b+q]).type==c.header_cell;y.push(x?f||(f=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}for(var E=c.row.create(null,Fragment.from(y)),T=[],k=t.height;k<o;k++)T.push(E);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),T)}return!!(u||f)}function isolateHorizontal(e,t,n,r,a,o,s,l){if(s==0||s==t.height)return!1;for(var c=!1,u=a;u<o;u++){var f=s*t.width+u,m=t.map[f];if(t.map[f-t.width]==m){c=!0;var h=n.nodeAt(m),d=t.findCell(m),g=d.top,v=d.left;e.setNodeMarkup(e.mapping.slice(l).map(m+r),null,setAttr(h.attrs,"rowspan",s-g)),e.insert(e.mapping.slice(l).map(t.positionAt(s,v,n)),h.type.createAndFill(setAttr(h.attrs,"rowspan",g+h.attrs.rowspan-s))),u+=h.attrs.colspan-1}}return c}function isolateVertical(e,t,n,r,a,o,s,l){if(s==0||s==t.width)return!1;for(var c=!1,u=a;u<o;u++){var f=u*t.width+s,m=t.map[f];if(t.map[f-1]==m){c=!0;var h=n.nodeAt(m),d=t.colCount(m),g=e.mapping.slice(l).map(m+r);e.setNodeMarkup(g,null,removeColSpan(h.attrs,s-d,h.attrs.colspan-(s-d))),e.insert(g+h.nodeSize,h.type.createAndFill(removeColSpan(h.attrs,0,s-d))),u+=h.attrs.rowspan-1}}return c}function insertCells(e,t,n,r,a){var o=n?e.doc.nodeAt(n-1):e.doc,s=TableMap.get(o),l=r.top,c=r.left,u=c+a.width,f=l+a.height,m=e.tr,h=0;function d(){o=n?m.doc.nodeAt(n-1):m.doc,s=TableMap.get(o),h=m.mapping.maps.length}growTable(m,s,o,n,u,f,h)&&d(),isolateHorizontal(m,s,o,n,c,u,l,h)&&d(),isolateHorizontal(m,s,o,n,c,u,f,h)&&d(),isolateVertical(m,s,o,n,l,f,c,h)&&d(),isolateVertical(m,s,o,n,l,f,u,h)&&d();for(var g=l;g<f;g++){var v=s.positionAt(g,c,o),_=s.positionAt(g,u,o);m.replace(m.mapping.slice(h).map(v+n),m.mapping.slice(h).map(_+n),new Slice(a.rows[g-l],0,0))}d(),m.setSelection(new CellSelection(m.doc.resolve(n+s.positionAt(l,c,o)),m.doc.resolve(n+s.positionAt(f-1,u-1,o)))),t(m)}var handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1),"Shift-ArrowLeft":shiftArrow("horiz",-1),"Shift-ArrowRight":shiftArrow("horiz",1),"Shift-ArrowUp":shiftArrow("vert",-1),"Shift-ArrowDown":shiftArrow("vert",1),Backspace:deleteCellSelection,"Mod-Backspace":deleteCellSelection,Delete:deleteCellSelection,"Mod-Delete":deleteCellSelection});function maybeSetSelection(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function arrow(e,t){return function(n,r,a){var o=n.selection;if(o instanceof CellSelection)return maybeSetSelection(n,r,Selection.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;var s=atEndOfCell(a,e,t);if(s==null)return!1;if(e=="horiz")return maybeSetSelection(n,r,Selection.near(n.doc.resolve(o.head+t),t));var l=n.doc.resolve(s),c=nextCell(l,e,t),u;return c?u=Selection.near(c,1):t<0?u=Selection.near(n.doc.resolve(l.before(-1)),-1):u=Selection.near(n.doc.resolve(l.after(-1)),1),maybeSetSelection(n,r,u)}}function shiftArrow(e,t){return function(n,r,a){var o=n.selection;if(!(o instanceof CellSelection)){var s=atEndOfCell(a,e,t);if(s==null)return!1;o=new CellSelection(n.doc.resolve(s))}var l=nextCell(o.$headCell,e,t);return l?maybeSetSelection(n,r,new CellSelection(o.$anchorCell,l)):!1}}function deleteCellSelection(e,t){var n=e.selection;if(!(n instanceof CellSelection))return!1;if(t){var r=e.tr,a=tableNodeTypes(e.schema).cell.createAndFill().content;n.forEachCell(function(o,s){o.content.eq(a)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new Slice(a,0,0))}),r.docChanged&&t(r)}return!0}function handleTripleClick(e,t){var n=e.state.doc,r=cellAround(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new CellSelection(r))),!0):!1}function handlePaste(e,t,n){if(!isInTable(e.state))return!1;var r=pastedCells(n),a=e.state.selection;if(a instanceof CellSelection){r||(r={width:1,height:1,rows:[Fragment.from(fitSlice(tableNodeTypes(e.state.schema).cell,n))]});var o=a.$anchorCell.node(-1),s=a.$anchorCell.start(-1),l=TableMap.get(o).rectBetween(a.$anchorCell.pos-s,a.$headCell.pos-s);return r=clipCells(r,l.right-l.left,l.bottom-l.top),insertCells(e.state,e.dispatch,s,l,r),!0}else if(r){var c=selectionCell(e.state),u=c.start(-1);return insertCells(e.state,e.dispatch,u,TableMap.get(c.node(-1)).findCell(c.pos-u),r),!0}else return!1}function handleMouseDown(e,t){if(t.ctrlKey||t.metaKey)return;var n=domInCell(e,t.target),r;if(t.shiftKey&&e.state.selection instanceof CellSelection)a(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&n&&(r=cellAround(e.state.selection.$anchor))!=null&&cellUnderMouse(e,t).pos!=r.pos)a(r,t),t.preventDefault();else if(!n)return;function a(l,c){var u=cellUnderMouse(e,c),f=key.getState(e.state)==null;if(!u||!inSameTable(l,u))if(f)u=l;else return;var m=new CellSelection(l,u);if(f||!e.state.selection.eq(m)){var h=e.state.tr.setSelection(m);f&&h.setMeta(key,l.pos),e.dispatch(h)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",s),key.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(key,-1))}function s(l){var c=key.getState(e.state),u;if(c!=null)u=e.state.doc.resolve(c);else if(domInCell(e,l.target)!=n&&(u=cellUnderMouse(e,t),!u))return o();u&&a(u,l)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",s)}function atEndOfCell(e,t,n){if(!(e.state.selection instanceof TextSelection))return null;for(var r=e.state.selection,a=r.$head,o=a.depth-1;o>=0;o--){var s=a.node(o),l=n<0?a.index(o):a.indexAfter(o);if(l!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){var c=a.before(o),u=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(u)?c:null}}return null}function domInCell(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t}function cellUnderMouse(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?cellAround(e.state.doc.resolve(n.pos)):null}var fixTablesKey=new PluginKey("fix-tables");function changedDescendants(e,t,n,r){var a=e.childCount,o=t.childCount;e:for(var s=0,l=0;s<o;s++){for(var c=t.child(s),u=l,f=Math.min(a,s+3);u<f;u++)if(e.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<a&&e.child(l).sameMarkup(c)?changedDescendants(e.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function fixTables(e,t){var n,r=function(a,o){a.type.spec.tableRole=="table"&&(n=fixTable(e,a,o,n))};return t?t.doc!=e.doc&&changedDescendants(t.doc,e.doc,0,r):e.doc.descendants(r),n}function fixTable(e,t,n,r){var a=TableMap.get(t);if(!a.problems)return r;r||(r=e.tr);for(var o=[],s=0;s<a.height;s++)o.push(0);for(var l=0;l<a.problems.length;l++){var c=a.problems[l];if(c.type=="collision"){for(var u=t.nodeAt(c.pos),f=0;f<u.attrs.rowspan;f++)o[c.row+f]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,removeColSpan(u.attrs,u.attrs.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){var m=t.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,setAttr(m.attrs,"rowspan",m.attrs.rowspan-c.n))}else if(c.type=="colwidth mismatch"){var h=t.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,setAttr(h.attrs,"colwidth",c.colwidth))}}for(var d,g,v=0;v<o.length;v++)o[v]&&(d==null&&(d=v),g=v);for(var _=0,y=n+1;_<a.height;_++){var q=t.child(_),b=y+q.nodeSize,x=o[_];if(x>0){var E="cell";q.firstChild&&(E=q.firstChild.type.spec.tableRole);for(var T=[],k=0;k<x;k++)T.push(tableNodeTypes(e.schema)[E].createAndFill());var A=(_==0||d==_-1)&&g==_?y+1:b-1;r.insert(r.mapping.map(A),T)}y=b}return r.setMeta(fixTablesKey,{fixTables:!0})}function selectedRect(e){var t=e.selection,n=selectionCell(e),r=n.node(-1),a=n.start(-1),o=TableMap.get(r),s;return t instanceof CellSelection?s=o.rectBetween(t.$anchorCell.pos-a,t.$headCell.pos-a):s=o.findCell(n.pos-a),s.tableStart=a,s.map=o,s.table=r,s}function addColumn(e,t,n){var r=t.map,a=t.tableStart,o=t.table,s=n>0?-1:0;columnIsHeader(r,o,n+s)&&(s=n==0||n==r.width?null:0);for(var l=0;l<r.height;l++){var c=l*r.width+n;if(n>0&&n<r.width&&r.map[c-1]==r.map[c]){var u=r.map[c],f=o.nodeAt(u);e.setNodeMarkup(e.mapping.map(a+u),null,addColSpan(f.attrs,n-r.colCount(u))),l+=f.attrs.rowspan-1}else{var m=s==null?tableNodeTypes(o.type.schema).cell:o.nodeAt(r.map[c+s]).type,h=r.positionAt(l,n,o);e.insert(e.mapping.map(a+h),m.createAndFill())}}return e}function addColumnBefore(e,t){if(!isInTable(e))return!1;if(t){var n=selectedRect(e);t(addColumn(e.tr,n,n.left))}return!0}function addColumnAfter(e,t){if(!isInTable(e))return!1;if(t){var n=selectedRect(e);t(addColumn(e.tr,n,n.right))}return!0}function removeColumn(e,t,n){for(var r=t.map,a=t.table,o=t.tableStart,s=e.mapping.maps.length,l=0;l<r.height;){var c=l*r.width+n,u=r.map[c],f=a.nodeAt(u);if(n>0&&r.map[c-1]==u||n<r.width-1&&r.map[c+1]==u)e.setNodeMarkup(e.mapping.slice(s).map(o+u),null,removeColSpan(f.attrs,n-r.colCount(u)));else{var m=e.mapping.slice(s).map(o+u);e.delete(m,m+f.nodeSize)}l+=f.attrs.rowspan}}function deleteColumn(e,t){if(!isInTable(e))return!1;if(t){var n=selectedRect(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(var a=n.right-1;removeColumn(r,n,a),a!=n.left;a--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=TableMap.get(n.table);t(r)}return!0}function rowIsHeader(e,t,n){for(var r=tableNodeTypes(t.type.schema).header_cell,a=0;a<e.width;a++)if(t.nodeAt(e.map[a+n*e.width]).type!=r)return!1;return!0}function addRow(e,t,n){for(var r=t.map,a=t.tableStart,o=t.table,s=a,l=0;l<n;l++)s+=o.child(l).nodeSize;var c=[],u=n>0?-1:0;rowIsHeader(r,o,n+u)&&(u=n==0||n==r.height?null:0);for(var f=0,m=r.width*n;f<r.width;f++,m++)if(n>0&&n<r.height&&r.map[m]==r.map[m-r.width]){var h=r.map[m],d=o.nodeAt(h).attrs;e.setNodeMarkup(a+h,null,setAttr(d,"rowspan",d.rowspan+1)),f+=d.colspan-1}else{var g=u==null?tableNodeTypes(o.type.schema).cell:o.nodeAt(r.map[m+u*r.width]).type;c.push(g.createAndFill())}return e.insert(s,tableNodeTypes(o.type.schema).row.create(null,c)),e}function addRowBefore(e,t){if(!isInTable(e))return!1;if(t){var n=selectedRect(e);t(addRow(e.tr,n,n.top))}return!0}function addRowAfter(e,t){if(!isInTable(e))return!1;if(t){var n=selectedRect(e);t(addRow(e.tr,n,n.bottom))}return!0}function removeRow(e,t,n){for(var r=t.map,a=t.table,o=t.tableStart,s=0,l=0;l<n;l++)s+=a.child(l).nodeSize;var c=s+a.child(n).nodeSize,u=e.mapping.maps.length;e.delete(s+o,c+o);for(var f=0,m=n*r.width;f<r.width;f++,m++){var h=r.map[m];if(n>0&&h==r.map[m-r.width]){var d=a.nodeAt(h).attrs;e.setNodeMarkup(e.mapping.slice(u).map(h+o),null,setAttr(d,"rowspan",d.rowspan-1)),f+=d.colspan-1}else if(n<r.width&&h==r.map[m+r.width]){var g=a.nodeAt(h),v=g.type.create(setAttr(g.attrs,"rowspan",g.attrs.rowspan-1),g.content),_=r.positionAt(n+1,f,a);e.insert(e.mapping.slice(u).map(o+_),v),f+=g.attrs.colspan-1}}}function deleteRow(e,t){if(!isInTable(e))return!1;if(t){var n=selectedRect(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(var a=n.bottom-1;removeRow(r,n,a),a!=n.top;a--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=TableMap.get(n.table);t(r)}return!0}function isEmpty$1(e){var t=e.content;return t.childCount==1&&t.firstChild.isTextblock&&t.firstChild.childCount==0}function cellsOverlapRectangle(e,t){for(var n=e.width,r=e.height,a=e.map,o=t.top*n+t.left,s=o,l=(t.bottom-1)*n+t.left,c=o+(t.right-t.left-1),u=t.top;u<t.bottom;u++){if(t.left>0&&a[s]==a[s-1]||t.right<n&&a[c]==a[c+1])return!0;s+=n,c+=n}for(var f=t.left;f<t.right;f++){if(t.top>0&&a[o]==a[o-n]||t.bottom<r&&a[l]==a[l+n])return!0;o++,l++}return!1}function mergeCells(e,t){var n=e.selection;if(!(n instanceof CellSelection)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=selectedRect(e),a=r.map;if(cellsOverlapRectangle(a,r))return!1;if(t){for(var o=e.tr,s={},l=Fragment.empty,c,u,f=r.top;f<r.bottom;f++)for(var m=r.left;m<r.right;m++){var h=a.map[f*a.width+m],d=r.table.nodeAt(h);if(!s[h])if(s[h]=!0,c==null)c=h,u=d;else{isEmpty$1(d)||(l=l.append(d.content));var g=o.mapping.map(h+r.tableStart);o.delete(g,g+d.nodeSize)}}if(o.setNodeMarkup(c+r.tableStart,null,setAttr(addColSpan(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),"rowspan",r.bottom-r.top)),l.size){var v=c+1+u.content.size,_=isEmpty$1(u)?c+1:v;o.replaceWith(_+r.tableStart,v+r.tableStart,l)}o.setSelection(new CellSelection(o.doc.resolve(c+r.tableStart))),t(o)}return!0}function splitCell(e,t){var n=tableNodeTypes(e.schema);return splitCellWithType(function(r){var a=r.node;return n[a.type.spec.tableRole]})(e,t)}function splitCellWithType(e){return function(t,n){var r=t.selection,a,o;if(r instanceof CellSelection){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;a=r.$anchorCell.nodeAfter,o=r.$anchorCell.pos}else{if(a=cellWrapping(r.$from),!a)return!1;o=cellAround(r.$from).pos}if(a.attrs.colspan==1&&a.attrs.rowspan==1)return!1;if(n){var s=a.attrs,l=[],c=s.colwidth;s.rowspan>1&&(s=setAttr(s,"rowspan",1)),s.colspan>1&&(s=setAttr(s,"colspan",1));for(var u=selectedRect(t),f=t.tr,m=0;m<u.right-u.left;m++)l.push(c?setAttr(s,"colwidth",c&&c[m]?[c[m]]:null):s);for(var h,d=u.top;d<u.bottom;d++){var g=u.map.positionAt(d,u.left,u.table);d==u.top&&(g+=a.nodeSize);for(var v=u.left,_=0;v<u.right;v++,_++)v==u.left&&d==u.top||f.insert(h=f.mapping.map(g+u.tableStart,1),e({node:a,row:d,col:v}).createAndFill(l[_]))}f.setNodeMarkup(o,e({node:a,row:u.top,col:u.left}),l[0]),r instanceof CellSelection&&f.setSelection(new CellSelection(f.doc.resolve(r.$anchorCell.pos),h&&f.doc.resolve(h))),n(f)}return!0}}function setCellAttr(e,t){return function(n,r){if(!isInTable(n))return!1;var a=selectionCell(n);if(a.nodeAfter.attrs[e]===t)return!1;if(r){var o=n.tr;n.selection instanceof CellSelection?n.selection.forEachCell(function(s,l){s.attrs[e]!==t&&o.setNodeMarkup(l,null,setAttr(s.attrs,e,t))}):o.setNodeMarkup(a.pos,null,setAttr(a.nodeAfter.attrs,e,t)),r(o)}return!0}}function deprecated_toggleHeader(e){return function(t,n){if(!isInTable(t))return!1;if(n){for(var r=tableNodeTypes(t.schema),a=selectedRect(t),o=t.tr,s=a.map.cellsInRect(e=="column"?new Rect(a.left,0,a.right,a.map.height):e=="row"?new Rect(0,a.top,a.map.width,a.bottom):a),l=s.map(function(f){return a.table.nodeAt(f)}),c=0;c<s.length;c++)l[c].type==r.header_cell&&o.setNodeMarkup(a.tableStart+s[c],r.cell,l[c].attrs);if(o.steps.length==0)for(var u=0;u<s.length;u++)o.setNodeMarkup(a.tableStart+s[u],r.header_cell,l[u].attrs);n(o)}return!0}}function isHeaderEnabledByType(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1}),a=0;a<r.length;a++){var o=t.table.nodeAt(r[a]);if(o&&o.type!==n.header_cell)return!1}return!0}function toggleHeader(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?deprecated_toggleHeader(e):function(n,r){if(!isInTable(n))return!1;if(r){var a=tableNodeTypes(n.schema),o=selectedRect(n),s=n.tr,l=isHeaderEnabledByType("row",o,a),c=isHeaderEnabledByType("column",o,a),u=e==="column"?l:e==="row"?c:!1,f=u?1:0,m=e=="column"?new Rect(0,f,1,o.map.height):e=="row"?new Rect(f,0,o.map.width,1):o,h=e=="column"?c?a.cell:a.header_cell:e=="row"?l?a.cell:a.header_cell:a.cell;o.map.cellsInRect(m).forEach(function(d){var g=d+o.tableStart,v=s.doc.nodeAt(g);v&&s.setNodeMarkup(g,h,v.attrs)}),r(s)}return!0}}var toggleHeaderRow=toggleHeader("row",{useDeprecatedLogic:!0}),toggleHeaderColumn=toggleHeader("column",{useDeprecatedLogic:!0}),toggleHeaderCell=toggleHeader("cell",{useDeprecatedLogic:!0});function findNextCell(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,a=e.before();r>=0;r--){var o=e.node(-1).child(r);if(o.childCount)return a-1-o.lastChild.nodeSize;a-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var s=e.node(-1),l=e.indexAfter(-1),c=e.after();l<s.childCount;l++){var u=s.child(l);if(u.childCount)return c+1;c+=u.nodeSize}}}function goToNextCell(e){return function(t,n){if(!isInTable(t))return!1;var r=findNextCell(selectionCell(t),e);if(r!=null){if(n){var a=t.doc.resolve(r);n(t.tr.setSelection(TextSelection.between(a,moveCellForward(a))).scrollIntoView())}return!0}}}function deleteTable(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){var a=n.node(r);if(a.type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var TableView=function(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),updateColumns(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};TableView.prototype.update=function(t){return t.type!=this.node.type?!1:(this.node=t,updateColumns(t,this.colgroup,this.table,this.cellMinWidth),!0)};TableView.prototype.ignoreMutation=function(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))};function updateColumns(e,t,n,r,a,o){for(var s=0,l=!0,c=t.firstChild,u=e.firstChild,f=0,m=0;f<u.childCount;f++)for(var h=u.child(f).attrs,d=h.colspan,g=h.colwidth,v=0;v<d;v++,m++){var _=a==m?o:g&&g[v],y=_?_+"px":"";s+=_||r,_||(l=!1),c?(c.style.width!=y&&(c.style.width=y),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=y}for(;c;){var q=c.nextSibling;c.parentNode.removeChild(c),c=q}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}var key$1=new PluginKey("tableColumnResizing");function columnResizing(e){e===void 0&&(e={});var t=e.handleWidth;t===void 0&&(t=5);var n=e.cellMinWidth;n===void 0&&(n=25);var r=e.View;r===void 0&&(r=TableView);var a=e.lastColumnResizable;a===void 0&&(a=!0);var o=new Plugin({key:key$1,state:{init:function(l,c){return this.spec.props.nodeViews[tableNodeTypes(c.schema).table.name]=function(u,f){return new r(u,n,f)},new ResizeState(-1,!1)},apply:function(l,c){return c.apply(l)}},props:{attributes:function(l){var c=key$1.getState(l);return c.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(l,c){handleMouseMove(l,c,t,n,a)},mouseleave:function(l){handleMouseLeave(l)},mousedown:function(l,c){handleMouseDown$1(l,c,n)}},decorations:function(l){var c=key$1.getState(l);if(c.activeHandle>-1)return handleDecorations(l,c.activeHandle)},nodeViews:{}}});return o}var ResizeState=function(t,n){this.activeHandle=t,this.dragging=n};ResizeState.prototype.apply=function(t){var n=this,r=t.getMeta(key$1);if(r&&r.setHandle!=null)return new ResizeState(r.setHandle,null);if(r&&r.setDragging!==void 0)return new ResizeState(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){var a=t.mapping.map(n.activeHandle,-1);pointsAtCell(t.doc.resolve(a))||(a=null),n=new ResizeState(a,n.dragging)}return n};function handleMouseMove(e,t,n,r,a){var o=key$1.getState(e.state);if(!o.dragging){var s=domCellAround(t.target),l=-1;if(s){var c=s.getBoundingClientRect(),u=c.left,f=c.right;t.clientX-u<=n?l=edgeCell(e,t,"left"):f-t.clientX<=n&&(l=edgeCell(e,t,"right"))}if(l!=o.activeHandle){if(!a&&l!==-1){var m=e.state.doc.resolve(l),h=m.node(-1),d=TableMap.get(h),g=m.start(-1),v=d.colCount(m.pos-g)+m.nodeAfter.attrs.colspan-1;if(v==d.width-1)return}updateHandle(e,l)}}}function handleMouseLeave(e){var t=key$1.getState(e.state);t.activeHandle>-1&&!t.dragging&&updateHandle(e,-1)}function handleMouseDown$1(e,t,n){var r=key$1.getState(e.state);if(r.activeHandle==-1||r.dragging)return!1;var a=e.state.doc.nodeAt(r.activeHandle),o=currentColWidth(e,r.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(key$1,{setDragging:{startX:t.clientX,startWidth:o}}));function s(c){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);var u=key$1.getState(e.state);u.dragging&&(updateColumnWidth(e,u.activeHandle,draggedWidth(u.dragging,c,n)),e.dispatch(e.state.tr.setMeta(key$1,{setDragging:null})))}function l(c){if(!c.which)return s(c);var u=key$1.getState(e.state),f=draggedWidth(u.dragging,c,n);displayColumnWidth(e,u.activeHandle,f,n)}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),t.preventDefault(),!0}function currentColWidth(e,t,n){var r=n.colspan,a=n.colwidth,o=a&&a[a.length-1];if(o)return o;var s=e.domAtPos(t),l=s.node.childNodes[s.offset],c=l.offsetWidth,u=r;if(a)for(var f=0;f<r;f++)a[f]&&(c-=a[f],u--);return c/u}function domCellAround(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}function edgeCell(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var a=r.pos,o=cellAround(e.state.doc.resolve(a));if(!o)return-1;if(n=="right")return o.pos;var s=TableMap.get(o.node(-1)),l=o.start(-1),c=s.map.indexOf(o.pos-l);return c%s.width==0?-1:l+s.map[c-1]}function draggedWidth(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function updateHandle(e,t){e.dispatch(e.state.tr.setMeta(key$1,{setHandle:t}))}function updateColumnWidth(e,t,n){for(var r=e.state.doc.resolve(t),a=r.node(-1),o=TableMap.get(a),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,c=e.state.tr,u=0;u<o.height;u++){var f=u*o.width+l;if(!(u&&o.map[f]==o.map[f-o.width])){var m=o.map[f],h=a.nodeAt(m),d=h.attrs,g=d.colspan==1?0:l-o.colCount(m);if(!(d.colwidth&&d.colwidth[g]==n)){var v=d.colwidth?d.colwidth.slice():zeroes(d.colspan);v[g]=n,c.setNodeMarkup(s+m,null,setAttr(d,"colwidth",v))}}}c.docChanged&&e.dispatch(c)}function displayColumnWidth(e,t,n,r){for(var a=e.state.doc.resolve(t),o=a.node(-1),s=a.start(-1),l=TableMap.get(o).colCount(a.pos-s)+a.nodeAfter.attrs.colspan-1,c=e.domAtPos(a.start(-1)).node;c.nodeName!="TABLE";)c=c.parentNode;updateColumns(o,c.firstChild,c,r,l,n)}function zeroes(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function handleDecorations(e,t){for(var n=[],r=e.doc.resolve(t),a=r.node(-1),o=TableMap.get(a),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,c=0;c<o.height;c++){var u=l+c*o.width-1;if((l==o.width||o.map[u]!=o.map[u+1])&&(c==0||o.map[u-1]!=o.map[u-1-o.width])){var f=o.map[u],m=s+f+a.nodeAt(f).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(Decoration.widget(m,h))}}return DecorationSet.create(e.doc,n)}function tableEditing(e){e===void 0&&(e={});var t=e.allowTableNodeSelection;return t===void 0&&(t=!1),new Plugin({key,state:{init:function(){return null},apply:function(r,a){var o=r.getMeta(key);if(o!=null)return o==-1?null:o;if(a==null||!r.docChanged)return a;var s=r.mapping.mapResult(a),l=s.deleted,c=s.pos;return l?null:c}},props:{decorations:drawCellSelection,handleDOMEvents:{mousedown:handleMouseDown},createSelectionBetween:function(r){if(key.getState(r.state)!=null)return r.state.selection},handleTripleClick,handleKeyDown,handlePaste},appendTransaction:function(r,a,o){return normalizeSelection(o,fixTables(o,a),t)}})}new PluginKey("collab");var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(t){return t.length?(t=RopeSequence.from(t),!this.length&&t||t.length<GOOD_LEAF_SIZE&&this.leafAppend(t)||this.length<GOOD_LEAF_SIZE&&t.leafPrepend(this)||this.appendInner(t)):this};RopeSequence.prototype.prepend=function(t){return t.length?RopeSequence.from(t).append(this):this};RopeSequence.prototype.appendInner=function(t){return new Append(this,t)};RopeSequence.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?RopeSequence.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};RopeSequence.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};RopeSequence.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};RopeSequence.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var a=[];return this.forEach(function(o,s){return a.push(t(o,s))},n,r),a};RopeSequence.from=function(t){return t instanceof RopeSequence?t:t&&t.length?new Leaf(t):RopeSequence.empty};var Leaf=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,o){return a==0&&o==this.length?this:new t(this.values.slice(a,o))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,o,s,l){for(var c=o;c<s;c++)if(a(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(a,o,s,l){for(var c=o-1;c>=s;c--)if(a(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=GOOD_LEAF_SIZE)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=GOOD_LEAF_SIZE)return new t(a.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,a,o,s){var l=this.left.length;if(a<l&&this.left.forEachInner(r,a,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(a-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,a,o,s){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(r,a-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(a,l),o,s)===!1)return!1},t.prototype.sliceInner=function(r,a){if(r==0&&a==this.length)return this;var o=this.left.length;return a<=o?this.left.slice(r,a):r>=o?this.right.slice(r-o,a-o):this.left.slice(r,o).append(this.right.slice(0,a-o))},t.prototype.leafAppend=function(r){var a=this.right.leafAppend(r);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(r){var a=this.left.leafPrepend(r);if(a)return new t(a,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(RopeSequence),ropeSequence=RopeSequence,max_empty_items=500,Branch=function(t,n){this.items=t,this.eventCount=n};Branch.prototype.popEvent=function(t,n){var r=this;if(this.eventCount==0)return null;for(var a=this.items.length;;a--){var o=this.items.get(a-1);if(o.selection){--a;break}}var s,l;n&&(s=this.remapping(a,this.items.length),l=s.maps.length);var c=t.tr,u,f,m=[],h=[];return this.items.forEach(function(d,g){if(!d.step){s||(s=r.remapping(a,g+1),l=s.maps.length),l--,h.push(d);return}if(s){h.push(new Item(d.map));var v=d.step.map(s.slice(l)),_;v&&c.maybeStep(v).doc&&(_=c.mapping.maps[c.mapping.maps.length-1],m.push(new Item(_,null,null,m.length+h.length))),l--,_&&s.appendMap(_,l)}else c.maybeStep(d.step);if(d.selection)return u=s?d.selection.map(s.slice(l)):d.selection,f=new Branch(r.items.slice(0,a).append(h.reverse().concat(m)),r.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:u}};Branch.prototype.addTransform=function(t,n,r,a){for(var o=[],s=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null,u=0;u<t.steps.length;u++){var f=t.steps[u].invert(t.docs[u]),m=new Item(t.mapping.maps[u],f,n),h=void 0;(h=c&&c.merge(m))&&(m=h,u?o.pop():l=l.slice(0,l.length-1)),o.push(m),n&&(s++,n=null),a||(c=m)}var d=s-r.depth;return d>DEPTH_OVERFLOW&&(l=cutOffEvents(l,d),s-=d),new Branch(l.append(o),s)};Branch.prototype.remapping=function(t,n){var r=new Mapping;return this.items.forEach(function(a,o){var s=a.mirrorOffset!=null&&o-a.mirrorOffset>=t?r.maps.length-a.mirrorOffset:null;r.appendMap(a.map,s)},t,n),r};Branch.prototype.addMaps=function(t){return this.eventCount==0?this:new Branch(this.items.append(t.map(function(n){return new Item(n)})),this.eventCount)};Branch.prototype.rebased=function(t,n){if(!this.eventCount)return this;var r=[],a=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,l=this.eventCount;this.items.forEach(function(d){d.selection&&l--},a);var c=n;this.items.forEach(function(d){var g=o.getMirror(--c);if(g!=null){s=Math.min(s,g);var v=o.maps[g];if(d.step){var _=t.steps[g].invert(t.docs[g]),y=d.selection&&d.selection.map(o.slice(c+1,g));y&&l++,r.push(new Item(v,_,y))}else r.push(new Item(v))}},a);for(var u=[],f=n;f<s;f++)u.push(new Item(o.maps[f]));var m=this.items.slice(0,a).append(u).append(r),h=new Branch(m,l);return h.emptyItemCount()>max_empty_items&&(h=h.compress(this.items.length-r.length)),h};Branch.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(n){n.step||t++}),t};Branch.prototype.compress=function(t){t===void 0&&(t=this.items.length);var n=this.remapping(0,t),r=n.maps.length,a=[],o=0;return this.items.forEach(function(s,l){if(l>=t)a.push(s),s.selection&&o++;else if(s.step){var c=s.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){var f=s.selection&&s.selection.map(n.slice(r));f&&o++;var m=new Item(u.invert(),c,f),h,d=a.length-1;(h=a.length&&a[d].merge(m))?a[d]=h:a.push(m)}}else s.map&&r--},this.items.length,0),new Branch(ropeSequence.from(a.reverse()),o)};Branch.empty=new Branch(ropeSequence.empty,0);function cutOffEvents(e,t){var n;return e.forEach(function(r,a){if(r.selection&&t--==0)return n=a,!1}),e.slice(n)}var Item=function(t,n,r,a){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=a};Item.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var n=t.step.merge(this.step);if(n)return new Item(n.getMap().invert(),n,this.selection)}};var HistoryState=function(t,n,r,a){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=a},DEPTH_OVERFLOW=20;function applyTransaction(e,t,n,r){var a=n.getMeta(historyKey),o;if(a)return a.historyState;n.getMeta(closeHistoryKey)&&(e=new HistoryState(e.done,e.undone,null,0));var s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(historyKey))return s.getMeta(historyKey).redo?new HistoryState(e.done.addTransform(n,null,r,mustPreserveItems(t)),e.undone,rangesFor(n.mapping.maps[n.steps.length-1]),e.prevTime):new HistoryState(e.done,e.undone.addTransform(n,null,r,mustPreserveItems(t)),null,e.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){var l=e.prevTime==0||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!isAdjacentTo(n,e.prevRanges)),c=s?mapRanges(e.prevRanges,n.mapping):rangesFor(n.mapping.maps[n.steps.length-1]);return new HistoryState(e.done.addTransform(n,l?t.selection.getBookmark():null,r,mustPreserveItems(t)),Branch.empty,c,n.time)}else return(o=n.getMeta("rebased"))?new HistoryState(e.done.rebased(n,o),e.undone.rebased(n,o),mapRanges(e.prevRanges,n.mapping),e.prevTime):new HistoryState(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),mapRanges(e.prevRanges,n.mapping),e.prevTime)}function isAdjacentTo(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach(function(r,a){for(var o=0;o<t.length;o+=2)r<=t[o+1]&&a>=t[o]&&(n=!0)}),n}function rangesFor(e){var t=[];return e.forEach(function(n,r,a,o){return t.push(a,o)}),t}function mapRanges(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var a=t.map(e[r],1),o=t.map(e[r+1],-1);a<=o&&n.push(a,o)}return n}function histTransaction(e,t,n,r){var a=mustPreserveItems(t),o=historyKey.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,a);if(!!s){var l=s.selection.resolve(s.transform.doc),c=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,a),u=new HistoryState(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(l).setMeta(historyKey,{redo:r,historyState:u}).scrollIntoView())}}var cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(e){var t=e.plugins;if(cachedPreserveItemsPlugins!=t){cachedPreserveItems=!1,cachedPreserveItemsPlugins=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}var historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new Plugin({key:historyKey,state:{init:function(){return new HistoryState(Branch.empty,Branch.empty,null,0)},apply:function(n,r,a){return applyTransaction(r,a,n,e)}},config:e})}function undo(e,t){var n=historyKey.getState(e);return!n||n.done.eventCount==0?!1:(t&&histTransaction(n,e,t,!1),!0)}function redo(e,t){var n=historyKey.getState(e);return!n||n.undone.eventCount==0?!1:(t&&histTransaction(n,e,t,!0),!0)}function undoDepth(e){var t=historyKey.getState(e);return t?t.done.eventCount:0}function redoDepth(e){var t=historyKey.getState(e);return t?t.undone.eventCount:0}class Blockquote extends Node$1{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:t}){return()=>toggleWrap(t)}keys({type:t}){return{"Ctrl->":toggleWrap(t)}}inputRules({type:t}){return[wrappingInputRule(/^\s*>\s$/,t)]}}class BulletList extends Node$1{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:t,schema:n}){return()=>toggleList(t,n.nodes.list_item)}keys({type:t,schema:n}){return{"Shift-Ctrl-8":toggleList(t,n.nodes.list_item)}}inputRules({type:t}){return[wrappingInputRule(/^\s*([-+*])\s$/,t)]}}class CodeBlock extends Node$1{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:t,schema:n}){return()=>toggleBlockType(t,n.nodes.paragraph)}keys({type:t}){return{"Shift-Ctrl-\\":setBlockType(t)}}inputRules({type:t}){return[textblockTypeInputRule(/^```$/,t)]}}class HardBreak extends Node$1{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:t}){return()=>chainCommands(exitCode,(n,r)=>(r(n.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0))}keys({type:t}){const n=chainCommands(exitCode,(r,a)=>(a(r.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0));return{"Mod-Enter":n,"Shift-Enter":n}}}class Heading extends Node$1{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}})),toDOM:t=>[`h${t.attrs.level}`,0]}}commands({type:t,schema:n}){return r=>toggleBlockType(t,n.nodes.paragraph,r)}keys({type:t}){return this.options.levels.reduce((n,r)=>({...n,[`Shift-Ctrl-${r}`]:setBlockType(t,{level:r})}),{})}inputRules({type:t}){return this.options.levels.map(n=>textblockTypeInputRule(new RegExp(`^(#{1,${n}})\\s$`),t,()=>({level:n})))}}class ListItem extends Node$1{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:t}){return{Enter:splitListItem(t),Tab:sinkListItem(t),"Shift-Tab":liftListItem(t)}}}class OrderedList extends Node$1{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>t.attrs.order===1?["ol",0]:["ol",{start:t.attrs.order},0]}}commands({type:t,schema:n}){return()=>toggleList(t,n.nodes.list_item)}keys({type:t,schema:n}){return{"Shift-Ctrl-9":toggleList(t,n.nodes.list_item)}}inputRules({type:t}){return[wrappingInputRule(/^(\d+)\.\s$/,t,n=>({order:+n[1]}),(n,r)=>r.childCount+r.attrs.order===+n[1])]}}var TableNodes=tableNodes({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){if(e){const n={style:`${t.style||""}background-color: ${e};`};Object.assign(t,n)}}}}});class Table extends Node$1{get name(){return"table"}get defaultOptions(){return{resizable:!1}}get schema(){return TableNodes.table}commands({schema:t}){return{createTable:({rowsCount:n,colsCount:r,withHeaderRow:a})=>(o,s)=>{const l=o.tr.selection.anchor+1,c=createTable(t,n,r,a),u=o.tr.replaceSelectionWith(c).scrollIntoView(),f=u.doc.resolve(l);u.setSelection(TextSelection.near(f)),s(u)},addColumnBefore:()=>addColumnBefore,addColumnAfter:()=>addColumnAfter,deleteColumn:()=>deleteColumn,addRowBefore:()=>addRowBefore,addRowAfter:()=>addRowAfter,deleteRow:()=>deleteRow,deleteTable:()=>deleteTable,toggleCellMerge:()=>(n,r)=>{mergeCells(n,r)||splitCell(n,r)},mergeCells:()=>mergeCells,splitCell:()=>splitCell,toggleHeaderColumn:()=>toggleHeaderColumn,toggleHeaderRow:()=>toggleHeaderRow,toggleHeaderCell:()=>toggleHeaderCell,setCellAttr:({name:n,value:r})=>setCellAttr(n,r),fixTables:()=>fixTables}}keys(){return{Tab:goToNextCell(1),"Shift-Tab":goToNextCell(-1)}}get plugins(){return[...this.options.resizable?[columnResizing()]:[],tableEditing()]}}class TableHeader extends Node$1{get name(){return"table_header"}get schema(){return TableNodes.table_header}}class TableCell extends Node$1{get name(){return"table_cell"}get schema(){return TableNodes.table_cell}}class TableRow extends Node$1{get name(){return"table_row"}get schema(){return TableNodes.table_row}}class Bold extends Mark{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong",0]}}keys({type:t}){return{"Mod-b":toggleMark(t)}}commands({type:t}){return()=>toggleMark(t)}inputRules({type:t}){return[markInputRule(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}pasteRules({type:t}){return[markPasteRule(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,t)]}}class Code extends Mark{get name(){return"code"}get schema(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:()=>["code",0]}}keys({type:t}){return{"Mod-`":toggleMark(t)}}commands({type:t}){return()=>toggleMark(t)}inputRules({type:t}){return[markInputRule(/(?:`)([^`]+)(?:`)$/,t)]}pasteRules({type:t}){return[markPasteRule(/(?:`)([^`]+)(?:`)/g,t)]}}class Italic extends Mark{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:t}){return{"Mod-i":toggleMark(t)}}commands({type:t}){return()=>toggleMark(t)}inputRules({type:t}){return[markInputRule(/(?:^|[^_])(_([^_]+)_)$/,t),markInputRule(/(?:^|[^*])(\*([^*]+)\*)$/,t)]}pasteRules({type:t}){return[markPasteRule(/_([^_]+)_/g,t),markPasteRule(/\*([^*]+)\*/g,t)]}}class Link extends Mark{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),target:t.getAttribute("target")})}],toDOM:t=>["a",{...t.attrs,rel:"noopener noreferrer nofollow",target:t.attrs.target||this.options.target},0]}}commands({type:t}){return n=>n.href?updateMark(t,n):removeMark(t)}pasteRules({type:t}){return[pasteRule(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,t,n=>({href:n}))]}get plugins(){return this.options.openOnClick?[new Plugin({props:{handleClick:(t,n,r)=>{const{schema:a}=t.state,o=getMarkAttrs(t.state,a.marks.link);o.href&&r.target instanceof HTMLAnchorElement&&(r.stopPropagation(),window.open(o.href,o.target))}}})]:[]}}class Strike extends Mark{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:t=>t==="line-through"}],toDOM:()=>["s",0]}}keys({type:t}){return{"Mod-d":toggleMark(t)}}commands({type:t}){return()=>toggleMark(t)}inputRules({type:t}){return[markInputRule(/~([^~]+)~$/,t)]}pasteRules({type:t}){return[markPasteRule(/~([^~]+)~/g,t)]}}class Underline extends Mark{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:t=>t==="underline"}],toDOM:()=>["u",0]}}keys({type:t}){return{"Mod-u":toggleMark(t)}}commands({type:t}){return()=>toggleMark(t)}}class History extends Extension{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){return{"Mod-z":undo,"Mod-y":redo,"Shift-Mod-z":redo,"Mod-\u044F":undo,"Shift-Mod-\u044F":redo}}get plugins(){return[history({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>undo,redo:()=>redo,undoDepth:()=>undoDepth,redoDepth:()=>redoDepth}}}class Placeholder extends Extension{get name(){return"placeholder"}get defaultOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}get plugins(){return[new Plugin({props:{decorations:({doc:t,plugins:n,selection:r})=>{const s=n.find(f=>f.key.startsWith("editable$")).props.editable()||!this.options.showOnlyWhenEditable,{anchor:l}=r,c=[],u=t.textContent.length===0;return s?(t.descendants((f,m)=>{const h=l>=m&&l<=m+f.nodeSize,d=f.content.size===0;if((h||!this.options.showOnlyCurrent)&&d){const g=[this.options.emptyNodeClass];u&&g.push(this.options.emptyEditorClass);const v=Decoration.node(m,m+f.nodeSize,{class:g.join(" "),"data-empty-text":typeof this.options.emptyNodeText=="function"?this.options.emptyNodeText(f):this.options.emptyNodeText});c.push(v)}return!1}),DecorationSet.create(t,c)):!1}}})]}}var render$B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"wysiwyg__menubar-button",class:{"is-active":e.isActive},attrs:{type:"button"},on:{click:e.handleClick}},[n("span",{staticClass:"icon",class:"icon--wysiwyg_"+e.icon,attrs:{"aria-hidden":"true"}},[n("svg",[n("title",[e._v(e._s(e.icon))]),n("use",{attrs:{"xlink:href":"#icon--wysiwyg_"+e.icon}})])])])},staticRenderFns$A=[],WysiwygMenuBarButton_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-407fbc24]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-407fbc24]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-407fbc24]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-407fbc24]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-407fbc24]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-407fbc24]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-407fbc24]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-407fbc24]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-407fbc24]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-407fbc24]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-407fbc24]{width:auto}}.wysiwyg__menubar-button[data-v-407fbc24]{width:24px;margin-right:10px;margin-top:5px;margin-bottom:5px;font-size:1em;border:0 none;outline:none;cursor:pointer;text-align:center;background-color:transparent;-webkit-appearance:none}.wysiwyg__menubar-button[data-v-407fbc24]:hover,.wysiwyg__menubar-button[data-v-407fbc24]:focus,.wysiwyg__menubar-button.is-active[data-v-407fbc24]{color:#3278b8}.icon[data-v-407fbc24]{width:15px;height:15px}.icon svg[data-v-407fbc24]{width:15px;height:15px}
`)();const __vue2_script$A={name:"WysiwygMenuBarButton",props:{icon:{type:String,required:!0},isActive:{type:Boolean,default:!1}},methods:{handleClick(){this.$emit("btn:click")}}},__cssModules$A={};var __component__$A=normalizeComponent(__vue2_script$A,render$B,staticRenderFns$A,!1,__vue2_injectStyles$A,"407fbc24",null,null);function __vue2_injectStyles$A(e){for(let t in __cssModules$A)this[t]=__cssModules$A[t]}var WysiwygMenuBarBtn=function(){return __component__$A.exports}(),render$A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,required:e.required},on:{localize:e.updateLocale}},[n("div",{staticClass:"wysiwyg__outer"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{name:e.name,type:"hidden"},domProps:{value:e.value},on:{input:function(r){r.target.composing||(e.value=r.target.value)}}}),n("div",{ref:"editor",staticClass:"wysiwyg__editor"},[n("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.commands,o=r.isActive;return[n("div",{staticClass:"wysiwyg__menubar"},[e.toolbar.header?[e.toolbar.header?n("wysiwyg-menu-bar-btn",{attrs:{icon:"paragraph",isActive:o.paragraph()},on:{"btn:click":a.paragraph}}):e._e(),e._l(e.headingOptions,function(s){return n("wysiwyg-menu-bar-btn",{key:s,attrs:{icon:s>1?"header-"+s:"header",isActive:o.heading({level:s})},on:{"btn:click":function(l){return a.heading({level:s})}}})})]:e._e(),e.toolbar.bold?n("wysiwyg-menu-bar-btn",{attrs:{icon:"bold",isActive:o.bold()},on:{"btn:click":a.bold}}):e._e(),e.toolbar.italic?n("wysiwyg-menu-bar-btn",{attrs:{icon:"italic",isActive:o.italic()},on:{"btn:click":a.italic}}):e._e(),e.toolbar.strike?n("wysiwyg-menu-bar-btn",{attrs:{icon:"strike",isActive:o.strike()},on:{"btn:click":a.strike}}):e._e(),e.toolbar.underline?n("wysiwyg-menu-bar-btn",{attrs:{icon:"underline",isActive:o.underline()},on:{"btn:click":a.underline}}):e._e(),e.toolbar.bullet?n("wysiwyg-menu-bar-btn",{attrs:{icon:"ul",isActive:o.bullet_list()},on:{"btn:click":a.bullet_list}}):e._e(),e.toolbar.ordered?n("wysiwyg-menu-bar-btn",{attrs:{icon:"ol",isActive:o.ordered_list()},on:{"btn:click":a.ordered_list}}):e._e(),e.toolbar.blockquote?n("wysiwyg-menu-bar-btn",{attrs:{icon:"quote",isActive:o.blockquote()},on:{"btn:click":a.blockquote}}):e._e(),e.toolbar["code-block"]?n("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:o.code_block()},on:{"btn:click":a.code_block}}):e._e(),e.toolbar.code?n("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:o.code()},on:{"btn:click":a.code}}):e._e(),e.toolbar.table?[n("wysiwyg-menu-bar-btn",{attrs:{icon:"table"},on:{"btn:click":function(s){return a.createTable({rowsCount:3,colsCount:3,withHeaderRow:!0})}}}),o.table()?n("div",{staticClass:"wysiwyg__menubar-table-buttons"},[n("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_table"},on:{"btn:click":a.deleteTable}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_before"},on:{"btn:click":a.addColumnBefore}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_after"},on:{"btn:click":a.addColumnAfter}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_col"},on:{"btn:click":a.deleteColumn}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_before"},on:{"btn:click":a.addRowBefore}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_after"},on:{"btn:click":a.addRowAfter}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_row"},on:{"btn:click":a.deleteRow}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"combine_cells"},on:{"btn:click":a.toggleCellMerge}})],1):e._e()]:e._e(),n("wysiwyg-menu-bar-btn",{attrs:{icon:"undo"},on:{"btn:click":a.undo}}),n("wysiwyg-menu-bar-btn",{attrs:{icon:"redo"},on:{"btn:click":a.redo}})],2)]}}])}),n("div",{staticClass:"wysiwyg__contentWrapper",class:{"wysiwyg__contentWrapper--limitHeight":e.limitHeight}},[n("editor-content",{staticClass:"wysiwyg__content",attrs:{editor:e.editor}})],1)],1),e.shouldShowCounter?n("span",{staticClass:"input__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()]),e.editSource?[n("div",{directives:[{name:"show",rawName:"v-show",value:e.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.textareaHeight,attrs:{placeholder:e.placeholder,autofocus:e.autofocus},domProps:{value:e.value},on:{change:e.updateSourcecode,input:function(r){r.target.composing||(e.value=r.target.value)}}})]),n("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:e.toggleSourcecode}},[e._v("Source code ")])]:e._e()],2)])},staticRenderFns$z=[],WysiwygTiptap_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-4b9855c2]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-4b9855c2]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-4b9855c2]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-4b9855c2]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-4b9855c2]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-4b9855c2]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-4b9855c2]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-4b9855c2]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-4b9855c2]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-4b9855c2]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-4b9855c2]{width:auto}}.wysiwyg[data-v-4b9855c2]{position:relative}.wysiwyg .input__limit[data-v-4b9855c2]{color:#8c8c8c;user-select:none;pointer-events:none;position:absolute;right:15px;bottom:15px}.wysiwyg .input__limit.input__limit--red[data-v-4b9855c2]{color:#e61414}.wysiwyg__editor[data-v-4b9855c2]{border-radius:2px;box-shadow:inset 0 0 1px #f9f9f9;width:100%;border:0 none;box-sizing:border-box;font-size:15px;caret-color:#3278b8;background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;position:relative}.input--error .wysiwyg__editor[data-v-4b9855c2]{border-color:#e61414}.wysiwyg__editor.s--focus[data-v-4b9855c2],.wysiwyg__editor[data-v-4b9855c2]:hover{border-color:#a6a6a6;color:#666;outline:0;background-color:#fff}.wysiwyg__editor.s--disabled[data-v-4b9855c2]{background-color:#fbfbfb;border:1px solid #d9d9d9;color:#666;box-shadow:0 none;outline:0;opacity:.5;pointer-events:none}.wysiwyg[dir=rtl] .wysiwyg__editor[data-v-4b9855c2]{direction:rtl;text-align:right}.wysiwyg__menubar[data-v-4b9855c2]{padding:5px 8px;border-top-left-radius:2px;border-top-right-radius:2px;background-color:#fbfbfb;border-bottom:1px solid #f2f2f2}.s--focus .wysiwyg__menubar[data-v-4b9855c2]{border-color:#a6a6a6;border-bottom-color:#f2f2f2}.wysiwyg__button[data-v-4b9855c2]{margin-top:20px}.wysiwyg__contentWrapper[data-v-4b9855c2]{padding:15px;min-height:90px}.wysiwyg__contentWrapper--limitHeight[data-v-4b9855c2]{max-height:calc(100vh - 250px);overflow-y:scroll}.wysiwyg__menubar-table-buttons[data-v-4b9855c2]{display:inline}.wysiwyg__menubar-heading[data-v-4b9855c2]{display:inline-block;max-width:150px;margin-right:10px}
`)(),WysiwygTiptap_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.wysiwyg__content .ProseMirror{color:#262626}.wysiwyg__content .ProseMirror h1,.wysiwyg__content .ProseMirror h2,.wysiwyg__content .ProseMirror h3,.wysiwyg__content .ProseMirror h4,.wysiwyg__content .ProseMirror h5,.wysiwyg__content .ProseMirror h6,.wysiwyg__content .ProseMirror b,.wysiwyg__content .ProseMirror p b,.wysiwyg__content .ProseMirror p strong,.wysiwyg__content .ProseMirror strong{font-weight:700}.wysiwyg__content .ProseMirror p,.wysiwyg__content .ProseMirror ul,.wysiwyg__content .ProseMirror ol,.wysiwyg__content .ProseMirror h1,.wysiwyg__content .ProseMirror h2,.wysiwyg__content .ProseMirror h3,.wysiwyg__content .ProseMirror h4,.wysiwyg__content .ProseMirror h5{margin-bottom:1em}.wysiwyg__content .ProseMirror ol{padding-left:1em}.wysiwyg__content .ProseMirror ol li{list-style-type:decimal}.wysiwyg__content .ProseMirror ul{padding-left:1em}.wysiwyg__content .ProseMirror ul li{list-style-type:disc}.wysiwyg__content .ProseMirror h1{font-size:2em;line-height:1.25em}.wysiwyg__content .ProseMirror h2{font-size:1.66em;line-height:1.25em}.wysiwyg__content .ProseMirror h3{font-size:1.33em;line-height:1.25em}.wysiwyg__content .ProseMirror h4{font-size:1.25em;line-height:1.25em}.wysiwyg__content .ProseMirror h5{font-size:1em;line-height:1.25em}.wysiwyg__content .ProseMirror pre{color:#333;padding:15px;overflow:auto;background-color:#f6f8fa;border-radius:3px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}.wysiwyg__content .ProseMirror a{color:#3278b8}.wysiwyg__content .ProseMirror sup{vertical-align:super;font-size:smaller}.wysiwyg__content .ProseMirror sub{vertical-align:sub;font-size:smaller}.wysiwyg__content .ProseMirror .tableWrapper{margin:1em 0;overflow-x:auto}.wysiwyg__content .ProseMirror table{border-collapse:collapse;table-layout:fixed;width:100%;margin:0;overflow:hidden}.wysiwyg__content .ProseMirror table .selectedCell:after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(234,244,250,.8);pointer-events:none;z-index:2}.wysiwyg__content .ProseMirror table td,.wysiwyg__content .ProseMirror table th{min-width:1em;border:2px solid #e5e5e5;padding:3px 5px;vertical-align:top;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;width:80px}.wysiwyg__content .ProseMirror blockquote{border-left:3px solid #e5e5e5;color:#000c;padding-left:.8rem}.wysiwyg__content .ProseMirror p.is-empty:first-child:before{content:attr(data-empty-text);float:left;color:#8c8c8c;pointer-events:none;height:0;font-style:italic}
`)();const __vue2_script$z={name:"A17Wysiwyg",mixins:[InputMixin,InputframeMixin,LocaleMixin,FormStoreMixin],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{modules:{}}}}},computed:{textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"input__limit--red":this.counter<this.maxlength*.1}},...mapState({baseUrl:e=>e.form.baseUrl})},components:{EditorContent,EditorMenuBar,"wysiwyg-menu-bar-btn":WysiwygMenuBarBtn},data(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,toolbar:this.options.modules.toolbar?this.options.modules.toolbar.reduce((e,t)=>t.list?(e[t.list]=!0,e):typeof t=="object"?{...e,...t}:(e[t]=!0,e),{}):{bold:!0,italic:!0,underline:!0,link:!0},headingOptions:[],focused:!1,activeSource:!1,counter:0,editor:null}},methods:{updateEditor:function(e){this.editor&&this.editor.setContent(e)},updateFromStore:function(e){typeof e=="undefined"&&(e=""),this.value!==e&&(this.value=e,this.updateEditor(e))},textUpdate:function(){this.preventSubmit(),this._textUpdateInternal()},_textUpdateInternal:debounce_1(function(){this.saveIntoStore(),this.allowSubmit()},600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateSourcecode()},updateSourcecode:function(){this.updateEditor(this.value),this.saveIntoStore()},updateCounter(){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-this.getTextLength())},getTextLength(){return this.editor.getHTML().replace(/<[^>]+>/g,"").length}},beforeMount(){const e=this.value||"",t=[new History,new HardBreak];this.placeholder&&this.placeholder.length>0&&t.push(new Placeholder({emptyNodeClass:"is-empty",emptyNodeText:this.placeHolder,showOnlyWhenEditable:!0})),(this.toolbar.ordered||this.toolbar.bullet)&&t.push(new ListItem),Object.keys(this.toolbar).forEach(n=>{switch(n){case"header":{const r=this.toolbar[n].filter(a=>typeof a=="number");r.forEach(a=>{this.headingOptions.push(a)}),t.push(new Heading({levels:r}));break}case"bold":{t.push(new Bold);break}case"italic":{t.push(new Italic);break}case"strike":{t.push(new Strike);break}case"underline":{t.push(new Underline);break}case"link":{t.push(new Link);break}case"blockquote":{t.push(new Blockquote);break}case"bullet":{t.push(new BulletList);break}case"ordered":{t.push(new OrderedList);break}case"code":{t.push(new Code);break}case"code-block":{t.push(new CodeBlock);break}case"table":{t.push(new Table({resizable:!1})),t.push(new TableHeader),t.push(new TableCell),t.push(new TableRow);break}}}),this.editor=new Editor({extensions:t,content:e,onUpdate:({getHTML:n})=>{this.value=n(),this.textUpdate(),this.updateCounter()}}),this.updateCounter()},beforeDestroy(){this.editor.destroy()}},__cssModules$z={};var __component__$z=normalizeComponent(__vue2_script$z,render$A,staticRenderFns$z,!1,__vue2_injectStyles$z,"4b9855c2",null,null);function __vue2_injectStyles$z(e){for(let t in __cssModules$z)this[t]=__cssModules$z[t]}var a17WysiwygTipTap=function(){return __component__$z.exports}();const state$1={publishDateDisplayFormat:window[{}.VUE_APP_NAME].STORE.config.publishDateDisplayFormat},getters$1={},mutations$1={},actions$1={};var config={state:state$1,getters:getters$1,mutations:mutations$1,actions:actions$1};function isDate$3(e){return e instanceof Date}var is_date=isDate$3,isDate$2=is_date,MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE$1=6e4,DEFAULT_ADDITIONAL_DIGITS=2,parseTokenDateTimeDelimeter=/[T ]/,parseTokenPlainTime=/:/,parseTokenYY=/^(\d{2})$/,parseTokensYYY=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],parseTokenYYYY=/^(\d{4})/,parseTokensYYYYY=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],parseTokenMM=/^-(\d{2})$/,parseTokenDDD=/^-?(\d{3})$/,parseTokenMMDD=/^-?(\d{2})-?(\d{2})$/,parseTokenWww=/^-?W(\d{2})$/,parseTokenWwwD=/^-?W(\d{2})-?(\d{1})$/,parseTokenHH=/^(\d{2}([.,]\d*)?)$/,parseTokenHHMM=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenHHMMSS=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenTimezone=/([Z+-].*)$/,parseTokenTimezoneZ=/^(Z)$/,parseTokenTimezoneHH=/^([+-])(\d{2})$/,parseTokenTimezoneHHMM=/^([+-])(\d{2}):?(\d{2})$/;function parse$d(e,t){if(isDate$2(e))return new Date(e.getTime());if(typeof e!="string")return new Date(e);var n=t||{},r=n.additionalDigits;r==null?r=DEFAULT_ADDITIONAL_DIGITS:r=Number(r);var a=splitDateString(e),o=parseYear(a.date,r),s=o.year,l=o.restDateString,c=parseDate(l,s);if(c){var u=c.getTime(),f=0,m;return a.time&&(f=parseTime(a.time)),a.timezone?m=parseTimezone(a.timezone):(m=new Date(u+f).getTimezoneOffset(),m=new Date(u+f+m*MILLISECONDS_IN_MINUTE$1).getTimezoneOffset()),new Date(u+f+m*MILLISECONDS_IN_MINUTE$1)}else return new Date(e)}function splitDateString(e){var t={},n=e.split(parseTokenDateTimeDelimeter),r;if(parseTokenPlainTime.test(n[0])?(t.date=null,r=n[0]):(t.date=n[0],r=n[1]),r){var a=parseTokenTimezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function parseYear(e,t){var n=parseTokensYYY[t],r=parseTokensYYYYY[t],a;if(a=parseTokenYYYY.exec(e)||r.exec(e),a){var o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=parseTokenYY.exec(e)||n.exec(e),a){var s=a[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function parseDate(e,t){if(t===null)return null;var n,r,a,o;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=parseTokenMM.exec(e),n)return r=new Date(0),a=parseInt(n[1],10)-1,r.setUTCFullYear(t,a),r;if(n=parseTokenDDD.exec(e),n){r=new Date(0);var s=parseInt(n[1],10);return r.setUTCFullYear(t,0,s),r}if(n=parseTokenMMDD.exec(e),n){r=new Date(0),a=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return r.setUTCFullYear(t,a,l),r}if(n=parseTokenWww.exec(e),n)return o=parseInt(n[1],10)-1,dayOfISOYear(t,o);if(n=parseTokenWwwD.exec(e),n){o=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return dayOfISOYear(t,o,c)}return null}function parseTime(e){var t,n,r;if(t=parseTokenHH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),n%24*MILLISECONDS_IN_HOUR;if(t=parseTokenHHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*MILLISECONDS_IN_HOUR+r*MILLISECONDS_IN_MINUTE$1;if(t=parseTokenHHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*MILLISECONDS_IN_HOUR+r*MILLISECONDS_IN_MINUTE$1+a*1e3}return null}function parseTimezone(e){var t,n;return t=parseTokenTimezoneZ.exec(e),t?0:(t=parseTokenTimezoneHH.exec(e),t?(n=parseInt(t[2],10)*60,t[1]==="+"?-n:n):(t=parseTokenTimezoneHHMM.exec(e),t?(n=parseInt(t[2],10)*60+parseInt(t[3],10),t[1]==="+"?-n:n):0))}function dayOfISOYear(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,o=t*7+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}var parse_1=parse$d,parse$c=parse_1;function startOfYear$1(e){var t=parse$c(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var start_of_year=startOfYear$1,parse$b=parse_1;function startOfDay$1(e){var t=parse$b(e);return t.setHours(0,0,0,0),t}var start_of_day=startOfDay$1,startOfDay=start_of_day,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_DAY=864e5;function differenceInCalendarDays$1(e,t){var n=startOfDay(e),r=startOfDay(t),a=n.getTime()-n.getTimezoneOffset()*MILLISECONDS_IN_MINUTE,o=r.getTime()-r.getTimezoneOffset()*MILLISECONDS_IN_MINUTE;return Math.round((a-o)/MILLISECONDS_IN_DAY)}var difference_in_calendar_days=differenceInCalendarDays$1,parse$a=parse_1,startOfYear=start_of_year,differenceInCalendarDays=difference_in_calendar_days;function getDayOfYear$1(e){var t=parse$a(e),n=differenceInCalendarDays(t,startOfYear(t)),r=n+1;return r}var get_day_of_year=getDayOfYear$1,parse$9=parse_1;function startOfWeek$1(e,t){var n=t&&Number(t.weekStartsOn)||0,r=parse$9(e),a=r.getDay(),o=(a<n?7:0)+a-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}var start_of_week=startOfWeek$1,startOfWeek=start_of_week;function startOfISOWeek$3(e){return startOfWeek(e,{weekStartsOn:1})}var start_of_iso_week=startOfISOWeek$3,parse$8=parse_1,startOfISOWeek$2=start_of_iso_week;function getISOYear$2(e){var t=parse$8(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=startOfISOWeek$2(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=startOfISOWeek$2(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}var get_iso_year=getISOYear$2,getISOYear$1=get_iso_year,startOfISOWeek$1=start_of_iso_week;function startOfISOYear$1(e){var t=getISOYear$1(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=startOfISOWeek$1(n);return r}var start_of_iso_year=startOfISOYear$1,parse$7=parse_1,startOfISOWeek=start_of_iso_week,startOfISOYear=start_of_iso_year,MILLISECONDS_IN_WEEK=6048e5;function getISOWeek$1(e){var t=parse$7(e),n=startOfISOWeek(t).getTime()-startOfISOYear(t).getTime();return Math.round(n/MILLISECONDS_IN_WEEK)+1}var get_iso_week=getISOWeek$1,isDate$1=is_date;function isValid$1(e){if(isDate$1(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var is_valid=isValid$1;function buildDistanceInWordsLocale$1(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function t(n,r,a){a=a||{};var o;return typeof e[n]=="string"?o=e[n]:r===1?o=e[n].one:o=e[n].other.replace("{{count}}",r),a.addSuffix?a.comparison>0?"in "+o:o+" ago":o}return{localize:t}}var build_distance_in_words_locale=buildDistanceInWordsLocale$1,commonFormatterKeys=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];function buildFormattingTokensRegExp$1(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var r=commonFormatterKeys.concat(t).sort().reverse(),a=new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g");return a}var build_formatting_tokens_reg_exp=buildFormattingTokensRegExp$1,buildFormattingTokensRegExp=build_formatting_tokens_reg_exp;function buildFormatLocale$1(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["AM","PM"],s=["am","pm"],l=["a.m.","p.m."],c={MMM:function(f){return e[f.getMonth()]},MMMM:function(f){return t[f.getMonth()]},dd:function(f){return n[f.getDay()]},ddd:function(f){return r[f.getDay()]},dddd:function(f){return a[f.getDay()]},A:function(f){return f.getHours()/12>=1?o[1]:o[0]},a:function(f){return f.getHours()/12>=1?s[1]:s[0]},aa:function(f){return f.getHours()/12>=1?l[1]:l[0]}},u=["M","D","DDD","d","Q","W"];return u.forEach(function(f){c[f+"o"]=function(m,h){return ordinal(h[f](m))}}),{formatters:c,formattingTokensRegExp:buildFormattingTokensRegExp(c)}}function ordinal(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var build_format_locale=buildFormatLocale$1,buildDistanceInWordsLocale=build_distance_in_words_locale,buildFormatLocale=build_format_locale,en={distanceInWords:buildDistanceInWordsLocale(),format:buildFormatLocale()},getDayOfYear=get_day_of_year,getISOWeek=get_iso_week,getISOYear=get_iso_year,parse$6=parse_1,isValid=is_valid,enLocale$1=en;function format(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",a=n||{},o=a.locale,s=enLocale$1.format.formatters,l=enLocale$1.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(s=o.format.formatters,o.format.formattingTokensRegExp&&(l=o.format.formattingTokensRegExp));var c=parse$6(e);if(!isValid(c))return"Invalid Date";var u=buildFormatFn(r,s,l);return u(c)}var formatters={M:function(e){return e.getMonth()+1},MM:function(e){return addLeadingZeros(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return addLeadingZeros(e.getDate(),2)},DDD:function(e){return getDayOfYear(e)},DDDD:function(e){return addLeadingZeros(getDayOfYear(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return getISOWeek(e)},WW:function(e){return addLeadingZeros(getISOWeek(e),2)},YY:function(e){return addLeadingZeros(e.getFullYear(),4).substr(2)},YYYY:function(e){return addLeadingZeros(e.getFullYear(),4)},GG:function(e){return String(getISOYear(e)).substr(2)},GGGG:function(e){return getISOYear(e)},H:function(e){return e.getHours()},HH:function(e){return addLeadingZeros(e.getHours(),2)},h:function(e){var t=e.getHours();return t===0?12:t>12?t%12:t},hh:function(e){return addLeadingZeros(formatters.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return addLeadingZeros(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return addLeadingZeros(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return addLeadingZeros(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return addLeadingZeros(e.getMilliseconds(),3)},Z:function(e){return formatTimezone(e.getTimezoneOffset(),":")},ZZ:function(e){return formatTimezone(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function buildFormatFn(e,t,n){var r=e.match(n),a=r.length,o,s;for(o=0;o<a;o++)s=t[r[o]]||formatters[r[o]],s?r[o]=s:r[o]=removeFormattingTokens(r[o]);return function(l){for(var c="",u=0;u<a;u++)r[u]instanceof Function?c+=r[u](l,formatters):c+=r[u];return c}}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function formatTimezone(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;return n+addLeadingZeros(a,2)+t+addLeadingZeros(o,2)}function addLeadingZeros(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var format_1=format,zh={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],longhand:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},months:{shorthand:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],longhand:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},rangeSeparator:" \u81F3 ",weekAbbreviation:"\u5468",scrollTitle:"\u6EDA\u52A8\u5207\u6362",toggleTitle:"\u70B9\u51FB\u5207\u6362 12/24 \u5C0F\u65F6\u65F6\u5236"};r.l10ns.zh=a;var o=r.l10ns;n.Mandarin=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(zh,zh.exports);var ru={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={firstDayOfWeek:1,weekdays:{shorthand:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],longhand:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"]},months:{shorthand:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],longhand:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"]},rangeSeparator:" \u2014 ",scrollTitle:"\u041F\u0440\u043E\u043A\u0440\u0443\u0442\u0438\u0442\u0435 \u0434\u043B\u044F \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D\u0438\u044F",toggleTitle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F"};r.l10ns.ru=a;var o=r.l10ns;n.Russian=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(ru,ru.exports);var fr={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={firstDayOfWeek:1,weekdays:{shorthand:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],longhand:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]},months:{shorthand:["Janv","F\xE9vr","Mars","Avr","Mai","Juin","Juil","Ao\xFBt","Sept","Oct","Nov","D\xE9c"],longhand:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"]},ordinal:function(s){return s>1?"\xE8me":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"D\xE9filer pour augmenter la valeur",toggleTitle:"Cliquer pour basculer"};r.l10ns.fr=a;var o=r.l10ns;n.French=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(fr,fr.exports);var pl={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["Nd","Pn","Wt","\u015Ar","Cz","Pt","So"],longhand:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"]},months:{shorthand:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],longhand:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"]},firstDayOfWeek:1,ordinal:function(){return"."}};r.l10ns.pl=a;var o=r.l10ns;n.Polish=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(pl,pl.exports);var de={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum \xC4ndern scrollen",toggleTitle:"Zum Umschalten klicken"};r.l10ns.de=a;var o=r.l10ns;n.German=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(de,de.exports);var nl={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" tot ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",ordinal:function(s){return s===1||s===8||s>=20?"ste":"de"}};r.l10ns.nl=a;var o=r.l10ns;n.Dutch=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(nl,nl.exports);var pt={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"],longhand:["Domingo","Segunda-feira","Ter\xE7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"]},months:{shorthand:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longhand:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},rangeSeparator:" at\xE9 "};r.l10ns.pt=a;var o=r.l10ns;n.Portuguese=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(pt,pt.exports);var tr={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){var r=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["Paz","Pzt","Sal","\xC7ar","Per","Cum","Cmt"],longhand:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"]},months:{shorthand:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],longhand:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Art\u0131rmak i\xE7in kayd\u0131r\u0131n",toggleTitle:"A\xE7/Kapa",amPM:["\xD6\xD6","\xD6S"]};r.l10ns.tr=a;var o=r.l10ns;n.Turkish=a,n.default=o,Object.defineProperty(n,"__esModule",{value:!0})})})(tr,tr.exports);const locales={en:{"date-fns":require("date-fns/locale/en")},"zh-Hans":{"date-fns":require("date-fns/locale/zh_cn"),flatpickr:zh.exports.Mandarin},ru:{"date-fns":require("date-fns/locale/ru"),flatpickr:ru.exports.Russian},fr:{"date-fns":require("date-fns/locale/fr"),flatpickr:fr.exports.French},pl:{"date-fns":require("date-fns/locale/pl"),flatpickr:pl.exports.Polish},de:{"date-fns":require("date-fns/locale/de"),flatpickr:de.exports.German},nl:{"date-fns":require("date-fns/locale/nl"),flatpickr:nl.exports.Dutch},pt:{"date-fns":require("date-fns/locale/pt"),flatpickr:pt.exports.Portuguese},tr:{"date-fns":require("date-fns/locale/tr"),flatpickr:tr.exports.Turkish}};function getCurrentLocale(){return window[{}.VUE_APP_NAME].twillLocalization.locale}function isCurrentLocale24HrFormatted(){return new Intl.DateTimeFormat(getCurrentLocale(),{hour:"numeric"}).formatToParts(new Date(2020,0,1,13)).find(e=>e.type==="hour").value.length===2}function getTimeFormatForCurrentLocale(){return isCurrentLocale24HrFormatted()?"HH:mm":"hh:mm A"}function dateFormatLocale(e,t){const n=locales[getCurrentLocale()];return format_1(e,t,{locale:n!==void 0&&n.hasOwnProperty("date-fns")?n["date-fns"]:require("date-fns/locale/en")})}const filters={slugify:function(e){const t={",":"-","/":"-",":":"-",";":"-",_:"-","\xA9":"(c)","\xB7":"-",\u00DF:"ss",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00E6:"ae",\u00E7:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00FD:"y",\u00FE:"th",\u00FF:"y",\u0101:"a",\u0103:"a",\u0105:"a",\u0107:"c",\u010D:"c",\u010F:"d",\u0113:"e",\u0119:"e",\u011B:"e",\u011F:"g",\u0123:"g",\u012B:"i",\u0131:"i",\u0137:"k",\u013C:"l",\u0142:"l",\u0144:"n",\u0146:"n",\u0148:"n",\u0151:"o",\u0153:"oe",\u0155:"r",\u0159:"r",\u015B:"s",\u015F:"s",\u0161:"s",\u0165:"t",\u016B:"u",\u016F:"u",\u0171:"u",\u017A:"z",\u017C:"z",\u017E:"z",\u01D8:"u",\u01F5:"g",\u01F9:"n",\u0219:"s",\u021B:"t",\u0390:"i",\u03AC:"a",\u03AD:"e",\u03AE:"h",\u03AF:"i",\u03B0:"y",\u03B1:"a",\u03B2:"b",\u03B3:"g",\u03B4:"d",\u03B5:"e",\u03B6:"z",\u03B7:"h",\u03B8:"8",\u03B9:"i",\u03BA:"k",\u03BB:"l",\u03BC:"m",\u03BD:"n",\u03BE:"3",\u03BF:"o",\u03C0:"p",\u03C1:"r",\u03C2:"s",\u03C3:"s",\u03C4:"t",\u03C5:"y",\u03C6:"f",\u03C7:"x",\u03C8:"ps",\u03C9:"w",\u03CA:"i",\u03CB:"y",\u03CC:"o",\u03CD:"y",\u03CE:"w",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043A:"k",\u043B:"l",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"h",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"sh",\u044A:"",\u044B:"y",\u044C:"",\u044D:"e",\u044E:"yu",\u044F:"ya",\u0451:"yo",\u0454:"ye",\u0456:"i",\u0457:"yi",\u0491:"g",\u1E27:"h",\u1E3F:"m",\u1E55:"p",\u1E83:"w",\u1E8D:"x",\u04D9:"a",\u0493:"g",\u049B:"q",\u04A3:"n",\u04E9:"o",\u04B1:"u"},n=new RegExp(Object.keys(t).join("|"),"g");return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(n,r=>t[r]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},formatDate:function(e){return e?dateFormatLocale(e,"MMM, DD, YYYY, "+getTimeFormatForCurrentLocale()):""},formatDateWithFormat:function(e,t){return e||(e=new Date),dateFormatLocale(e,t)},formatDatatableDate:function(e){const t=config.state.publishDateDisplayFormat.length>0?config.state.publishDateDisplayFormat:"MMM DD, YYYY";return e||(e=new Date),dateFormatLocale(e,t)},formatCalendarDate:function(e){const t="MMM, DD, YYYY, "+getTimeFormatForCurrentLocale();return e||(e=new Date),dateFormatLocale(e,t)}};/*!
 * Cropper.js v1.5.6
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-10-04T04:33:48.372Z
 */function _typeof$2(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(t){return typeof t}:_typeof$2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(n,!0).forEach(function(r){_defineProperty$1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _iterableToArray$1(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var IS_BROWSER=typeof window!="undefined"&&typeof window.document!="undefined",WINDOW=IS_BROWSER?window:{},IS_TOUCH_DEVICE=IS_BROWSER?"ontouchstart"in WINDOW.document.documentElement:!1,HAS_POINTER_EVENT=IS_BROWSER?"PointerEvent"in WINDOW:!1,NAMESPACE="cropper",ACTION_ALL="all",ACTION_CROP="crop",ACTION_MOVE="move",ACTION_ZOOM="zoom",ACTION_EAST="e",ACTION_WEST="w",ACTION_SOUTH="s",ACTION_NORTH="n",ACTION_NORTH_EAST="ne",ACTION_NORTH_WEST="nw",ACTION_SOUTH_EAST="se",ACTION_SOUTH_WEST="sw",CLASS_CROP="".concat(NAMESPACE,"-crop"),CLASS_DISABLED="".concat(NAMESPACE,"-disabled"),CLASS_HIDDEN="".concat(NAMESPACE,"-hidden"),CLASS_HIDE="".concat(NAMESPACE,"-hide"),CLASS_INVISIBLE="".concat(NAMESPACE,"-invisible"),CLASS_MODAL="".concat(NAMESPACE,"-modal"),CLASS_MOVE="".concat(NAMESPACE,"-move"),DATA_ACTION="".concat(NAMESPACE,"Action"),DATA_PREVIEW="".concat(NAMESPACE,"Preview"),DRAG_MODE_CROP="crop",DRAG_MODE_MOVE="move",DRAG_MODE_NONE="none",EVENT_CROP="crop",EVENT_CROP_END="cropend",EVENT_CROP_MOVE="cropmove",EVENT_CROP_START="cropstart",EVENT_DBLCLICK="dblclick",EVENT_TOUCH_START=IS_TOUCH_DEVICE?"touchstart":"mousedown",EVENT_TOUCH_MOVE=IS_TOUCH_DEVICE?"touchmove":"mousemove",EVENT_TOUCH_END=IS_TOUCH_DEVICE?"touchend touchcancel":"mouseup",EVENT_POINTER_DOWN=HAS_POINTER_EVENT?"pointerdown":EVENT_TOUCH_START,EVENT_POINTER_MOVE=HAS_POINTER_EVENT?"pointermove":EVENT_TOUCH_MOVE,EVENT_POINTER_UP=HAS_POINTER_EVENT?"pointerup pointercancel":EVENT_TOUCH_END,EVENT_READY="ready",EVENT_RESIZE="resize",EVENT_WHEEL="wheel",EVENT_ZOOM="zoom",MIME_TYPE_JPEG="image/jpeg",REGEXP_ACTIONS=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,REGEXP_DATA_URL=/^data:/,REGEXP_DATA_URL_JPEG=/^data:image\/jpeg;base64,/,REGEXP_TAG_NAME=/^img|canvas$/i,MIN_CONTAINER_WIDTH=200,MIN_CONTAINER_HEIGHT=100,DEFAULTS={viewMode:0,dragMode:DRAG_MODE_CROP,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},TEMPLATE='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',isNaN$1=Number.isNaN||WINDOW.isNaN;function isNumber$1(e){return typeof e=="number"&&!isNaN$1(e)}var isPositiveNumber=function(t){return t>0&&t<1/0};function isUndefined$1(e){return typeof e=="undefined"}function isObject$6(e){return _typeof$2(e)==="object"&&e!==null}var hasOwnProperty$4=Object.prototype.hasOwnProperty;function isPlainObject$3(e){if(!isObject$6(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&hasOwnProperty$4.call(n,"isPrototypeOf")}catch{return!1}}function isFunction$2(e){return typeof e=="function"}var slice=Array.prototype.slice;function toArray(e){return Array.from?Array.from(e):slice.call(e)}function forEach$1(e,t){return e&&isFunction$2(t)&&(Array.isArray(e)||isNumber$1(e.length)?toArray(e).forEach(function(n,r){t.call(e,n,r,e)}):isObject$6(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var assign=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return isObject$6(t)&&r.length>0&&r.forEach(function(o){isObject$6(o)&&Object.keys(o).forEach(function(s){t[s]=o[s]})}),t},REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS.test(e)?Math.round(e*t)/t:e}var REGEXP_SUFFIX=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(e,t){var n=e.style;forEach$1(t,function(r,a){REGEXP_SUFFIX.test(a)&&isNumber$1(r)&&(r="".concat(r,"px")),n[a]=r})}function hasClass(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function addClass(e,t){if(!!t){if(isNumber$1(e.length)){forEach$1(e,function(r){addClass(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function removeClass(e,t){if(!!t){if(isNumber$1(e.length)){forEach$1(e,function(n){removeClass(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function toggleClass$1(e,t,n){if(!!t){if(isNumber$1(e.length)){forEach$1(e,function(r){toggleClass$1(r,t,n)});return}n?addClass(e,t):removeClass(e,t)}}var REGEXP_CAMEL_CASE=/([a-z\d])([A-Z])/g;function toParamCase(e){return e.replace(REGEXP_CAMEL_CASE,"$1-$2").toLowerCase()}function getData(e,t){return isObject$6(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(toParamCase(t)))}function setData(e,t,n){isObject$6(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(toParamCase(t)),n)}function removeData(e,t){if(isObject$6(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(toParamCase(t)))}var REGEXP_SPACES=/\s\s*/,onceSupported=function(){var e=!1;if(IS_BROWSER){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(o){t=o}});WINDOW.addEventListener("test",n,r),WINDOW.removeEventListener("test",n,r)}return e}();function removeListener(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=n;t.trim().split(REGEXP_SPACES).forEach(function(o){if(!onceSupported){var s=e.listeners;s&&s[o]&&s[o][n]&&(a=s[o][n],delete s[o][n],Object.keys(s[o]).length===0&&delete s[o],Object.keys(s).length===0&&delete e.listeners)}e.removeEventListener(o,a,r)})}function addListener(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=n;t.trim().split(REGEXP_SPACES).forEach(function(o){if(r.once&&!onceSupported){var s=e.listeners,l=s===void 0?{}:s;a=function(){delete l[o][n],e.removeEventListener(o,a,r);for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];n.apply(e,f)},l[o]||(l[o]={}),l[o][n]&&e.removeEventListener(o,l[o][n],r),l[o][n]=a,e.listeners=l}e.addEventListener(o,a,r)})}function dispatchEvent$1(e,t,n){var r;return isFunction$2(Event)&&isFunction$2(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function getOffset(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var location=WINDOW.location,REGEXP_ORIGINS=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(e){var t=e.match(REGEXP_ORIGINS);return t!==null&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function addTimestamp(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function getTransforms(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,a=e.translateX,o=e.translateY,s=[];isNumber$1(a)&&a!==0&&s.push("translateX(".concat(a,"px)")),isNumber$1(o)&&o!==0&&s.push("translateY(".concat(o,"px)")),isNumber$1(t)&&t!==0&&s.push("rotate(".concat(t,"deg)")),isNumber$1(n)&&n!==1&&s.push("scaleX(".concat(n,")")),isNumber$1(r)&&r!==1&&s.push("scaleY(".concat(r,")"));var l=s.length?s.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function getMaxZoomRatio(e){var t=_objectSpread2({},e),n=[];return forEach$1(e,function(r,a){delete t[a],forEach$1(t,function(o){var s=Math.abs(r.startX-o.startX),l=Math.abs(r.startY-o.startY),c=Math.abs(r.endX-o.endX),u=Math.abs(r.endY-o.endY),f=Math.sqrt(s*s+l*l),m=Math.sqrt(c*c+u*u),h=(m-f)/f;n.push(h)})}),n.sort(function(r,a){return Math.abs(r)<Math.abs(a)}),n[0]}function getPointer(e,t){var n=e.pageX,r=e.pageY,a={endX:n,endY:r};return t?a:_objectSpread2({startX:n,startY:r},a)}function getPointersCenter(e){var t=0,n=0,r=0;return forEach$1(e,function(a){var o=a.startX,s=a.startY;t+=o,n+=s,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function getAdjustedSizes(e){var t=e.aspectRatio,n=e.height,r=e.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",o=isPositiveNumber(r),s=isPositiveNumber(n);if(o&&s){var l=n*t;a==="contain"&&l>r||a==="cover"&&l<r?n=r/t:r=n*t}else o?n=r/t:s&&(r=n*t);return{width:r,height:n}}function getRotatedSizes(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var a=r%90*Math.PI/180,o=Math.sin(a),s=Math.cos(a),l=t*s+n*o,c=t*o+n*s;return r>90?{width:c,height:l}:{width:l,height:c}}function getSourceCanvas(e,t,n,r){var a=t.aspectRatio,o=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=l===void 0?0:l,u=t.scaleX,f=u===void 0?1:u,m=t.scaleY,h=m===void 0?1:m,d=n.aspectRatio,g=n.naturalWidth,v=n.naturalHeight,_=r.fillColor,y=_===void 0?"transparent":_,q=r.imageSmoothingEnabled,b=q===void 0?!0:q,x=r.imageSmoothingQuality,E=x===void 0?"low":x,T=r.maxWidth,k=T===void 0?1/0:T,A=r.maxHeight,M=A===void 0?1/0:A,S=r.minWidth,C=S===void 0?0:S,I=r.minHeight,O=I===void 0?0:I,D=document.createElement("canvas"),R=D.getContext("2d"),w=getAdjustedSizes({aspectRatio:d,width:k,height:M}),B=getAdjustedSizes({aspectRatio:d,width:C,height:O},"cover"),G=Math.min(w.width,Math.max(B.width,g)),U=Math.min(w.height,Math.max(B.height,v)),$=getAdjustedSizes({aspectRatio:a,width:k,height:M}),P=getAdjustedSizes({aspectRatio:a,width:C,height:O},"cover"),F=Math.min($.width,Math.max(P.width,o)),N=Math.min($.height,Math.max(P.height,s)),z=[-F/2,-N/2,F,N];return D.width=normalizeDecimalNumber(G),D.height=normalizeDecimalNumber(U),R.fillStyle=y,R.fillRect(0,0,G,U),R.save(),R.translate(G/2,U/2),R.rotate(c*Math.PI/180),R.scale(f,h),R.imageSmoothingEnabled=b,R.imageSmoothingQuality=E,R.drawImage.apply(R,[e].concat(_toConsumableArray$1(z.map(function(V){return Math.floor(normalizeDecimalNumber(V))})))),R.restore(),D}var fromCharCode=String.fromCharCode;function getStringFromCharCode(e,t,n){var r="";n+=t;for(var a=t;a<n;a+=1)r+=fromCharCode(e.getUint8(a));return r}var REGEXP_DATA_URL_HEAD=/^data:.*,/;function dataURLToArrayBuffer(e){var t=e.replace(REGEXP_DATA_URL_HEAD,""),n=atob(t),r=new ArrayBuffer(n.length),a=new Uint8Array(r);return forEach$1(a,function(o,s){a[s]=n.charCodeAt(s)}),r}function arrayBufferToDataURL(e,t){for(var n=[],r=8192,a=new Uint8Array(e);a.length>0;)n.push(fromCharCode.apply(null,toArray(a.subarray(0,r)))),a=a.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function resetAndGetOrientation(e){var t=new DataView(e),n;try{var r,a,o;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var s=t.byteLength,l=2;l+1<s;){if(t.getUint8(l)===255&&t.getUint8(l+1)===225){a=l;break}l+=1}if(a){var c=a+4,u=a+10;if(getStringFromCharCode(t,c,4)==="Exif"){var f=t.getUint16(u);if(r=f===18761,(r||f===19789)&&t.getUint16(u+2,r)===42){var m=t.getUint32(u+4,r);m>=8&&(o=u+m)}}}if(o){var h=t.getUint16(o,r),d,g;for(g=0;g<h;g+=1)if(d=o+g*12+2,t.getUint16(d,r)===274){d+=8,n=t.getUint16(d,r),t.setUint16(d,1,r);break}}}catch{n=1}return n}function parseOrientation(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var render$z={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,a=this.cropper;addClass(a,CLASS_HIDDEN),removeClass(t,CLASS_HIDDEN);var o={width:Math.max(r.offsetWidth,Number(n.minContainerWidth)||200),height:Math.max(r.offsetHeight,Number(n.minContainerHeight)||100)};this.containerData=o,setStyle(a,{width:o.width,height:o.height}),addClass(t,CLASS_HIDDEN),removeClass(a,CLASS_HIDDEN)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,a=Math.abs(n.rotate)%180===90,o=a?n.naturalHeight:n.naturalWidth,s=a?n.naturalWidth:n.naturalHeight,l=o/s,c=t.width,u=t.height;t.height*l>t.width?r===3?c=t.height*l:u=t.width/l:r===3?u=t.width/l:c=t.height*l;var f={aspectRatio:l,naturalWidth:o,naturalHeight:s,width:c,height:u};f.left=(t.width-c)/2,f.top=(t.height-u)/2,f.oldLeft=f.left,f.oldTop=f.top,this.canvasData=f,this.limited=r===1||r===2,this.limitCanvas(!0,!0),this.initialImageData=assign({},n),this.initialCanvasData=assign({},f)},limitCanvas:function(t,n){var r=this.options,a=this.containerData,o=this.canvasData,s=this.cropBoxData,l=r.viewMode,c=o.aspectRatio,u=this.cropped&&s;if(t){var f=Number(r.minCanvasWidth)||0,m=Number(r.minCanvasHeight)||0;l>1?(f=Math.max(f,a.width),m=Math.max(m,a.height),l===3&&(m*c>f?f=m*c:m=f/c)):l>0&&(f?f=Math.max(f,u?s.width:0):m?m=Math.max(m,u?s.height:0):u&&(f=s.width,m=s.height,m*c>f?f=m*c:m=f/c));var h=getAdjustedSizes({aspectRatio:c,width:f,height:m});f=h.width,m=h.height,o.minWidth=f,o.minHeight=m,o.maxWidth=1/0,o.maxHeight=1/0}if(n)if(l>(u?0:1)){var d=a.width-o.width,g=a.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,g),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,g),u&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,l===2&&(o.width>=a.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=a.height&&(o.minTop=Math.min(0,g),o.maxTop=Math.max(0,g))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=a.width,o.maxTop=a.height},renderCanvas:function(t,n){var r=this.canvasData,a=this.imageData;if(n){var o=getRotatedSizes({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),s=o.width,l=o.height,c=r.width*(s/r.naturalWidth),u=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(u-r.height)/2,r.width=c,r.height=u,r.aspectRatio=s/l,r.naturalWidth=s,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,setStyle(this.canvas,assign({width:r.width,height:r.height},getTransforms({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,a=r.naturalWidth*(n.width/n.naturalWidth),o=r.naturalHeight*(n.height/n.naturalHeight);assign(r,{width:a,height:o,left:(n.width-a)/2,top:(n.height-o)/2}),setStyle(this.image,assign({width:r.width,height:r.height},getTransforms(assign({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,a=Number(t.autoCropArea)||.8,o={width:n.width,height:n.height};r&&(n.height*r>n.width?o.height=o.width/r:o.width=o.height*r),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*a),o.height=Math.max(o.minHeight,o.height*a),o.left=n.left+(n.width-o.width)/2,o.top=n.top+(n.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=assign({},o)},limitCropBox:function(t,n){var r=this.options,a=this.containerData,o=this.canvasData,s=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(t){var u=Number(r.minCropBoxWidth)||0,f=Number(r.minCropBoxHeight)||0,m=l?Math.min(a.width,o.width,o.width+o.left,a.width-o.left):a.width,h=l?Math.min(a.height,o.height,o.height+o.top,a.height-o.top):a.height;u=Math.min(u,a.width),f=Math.min(f,a.height),c&&(u&&f?f*c>u?f=u/c:u=f*c:u?f=u/c:f&&(u=f*c),h*c>m?h=m/c:m=h*c),s.minWidth=Math.min(u,m),s.minHeight=Math.min(f,h),s.maxWidth=m,s.maxHeight=h}n&&(l?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(a.width,o.left+o.width)-s.width,s.maxTop=Math.min(a.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=a.width-s.width,s.maxTop=a.height-s.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&setData(this.face,DATA_ACTION,r.width>=n.width&&r.height>=n.height?ACTION_MOVE:ACTION_ALL),setStyle(this.cropBox,assign({width:r.width,height:r.height},getTransforms({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),dispatchEvent$1(this.element,EVENT_CROP,this.getData())}},preview={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,a=n?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",s=document.createElement("img");if(n&&(s.crossOrigin=n),s.src=a,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,!!r){var l=r;typeof r=="string"?l=t.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,forEach$1(l,function(c){var u=document.createElement("img");setData(c,DATA_PREVIEW,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(u.crossOrigin=n),u.src=a,u.alt=o,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){forEach$1(this.previews,function(t){var n=getData(t,DATA_PREVIEW);setStyle(t,{width:n.width,height:n.height}),t.innerHTML=n.html,removeData(t,DATA_PREVIEW)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,a=r.width,o=r.height,s=t.width,l=t.height,c=r.left-n.left-t.left,u=r.top-n.top-t.top;!this.cropped||this.disabled||(setStyle(this.viewBoxImage,assign({width:s,height:l},getTransforms(assign({translateX:-c,translateY:-u},t)))),forEach$1(this.previews,function(f){var m=getData(f,DATA_PREVIEW),h=m.width,d=m.height,g=h,v=d,_=1;a&&(_=h/a,v=o*_),o&&v>d&&(_=d/o,g=a*_,v=d),setStyle(f,{width:g,height:v}),setStyle(f.getElementsByTagName("img")[0],assign({width:s*_,height:l*_},getTransforms(assign({translateX:-c*_,translateY:-u*_},t))))}))}},events={bind:function(){var t=this.element,n=this.options,r=this.cropper;isFunction$2(n.cropstart)&&addListener(t,EVENT_CROP_START,n.cropstart),isFunction$2(n.cropmove)&&addListener(t,EVENT_CROP_MOVE,n.cropmove),isFunction$2(n.cropend)&&addListener(t,EVENT_CROP_END,n.cropend),isFunction$2(n.crop)&&addListener(t,EVENT_CROP,n.crop),isFunction$2(n.zoom)&&addListener(t,EVENT_ZOOM,n.zoom),addListener(r,EVENT_POINTER_DOWN,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&addListener(r,EVENT_WHEEL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&addListener(r,EVENT_DBLCLICK,this.onDblclick=this.dblclick.bind(this)),addListener(t.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove=this.cropMove.bind(this)),addListener(t.ownerDocument,EVENT_POINTER_UP,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&addListener(window,EVENT_RESIZE,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;isFunction$2(n.cropstart)&&removeListener(t,EVENT_CROP_START,n.cropstart),isFunction$2(n.cropmove)&&removeListener(t,EVENT_CROP_MOVE,n.cropmove),isFunction$2(n.cropend)&&removeListener(t,EVENT_CROP_END,n.cropend),isFunction$2(n.crop)&&removeListener(t,EVENT_CROP,n.crop),isFunction$2(n.zoom)&&removeListener(t,EVENT_ZOOM,n.zoom),removeListener(r,EVENT_POINTER_DOWN,this.onCropStart),n.zoomable&&n.zoomOnWheel&&removeListener(r,EVENT_WHEEL,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&removeListener(r,EVENT_DBLCLICK,this.onDblclick),removeListener(t.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove),removeListener(t.ownerDocument,EVENT_POINTER_UP,this.onCropEnd),n.responsive&&removeListener(window,EVENT_RESIZE,this.onResize)}},handlers={resize:function(){var t=this.options,n=this.container,r=this.containerData,a=Number(t.minContainerWidth)||MIN_CONTAINER_WIDTH,o=Number(t.minContainerHeight)||MIN_CONTAINER_HEIGHT;if(!(this.disabled||r.width<=a||r.height<=o)){var s=n.offsetWidth/r.width;if(s!==1||n.offsetHeight!==r.height){var l,c;t.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(forEach$1(l,function(u,f){l[f]=u*s})),this.setCropBoxData(forEach$1(c,function(u,f){c[f]=u*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===DRAG_MODE_NONE||this.setDragMode(hasClass(this.dragBox,CLASS_CROP)?DRAG_MODE_MOVE:DRAG_MODE_CROP)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(isNumber$1(n)&&n!==1||isNumber$1(r)&&r!==0||t.ctrlKey))){var a=this.options,o=this.pointers,s;t.changedTouches?forEach$1(t.changedTouches,function(l){o[l.identifier]=getPointer(l)}):o[t.pointerId||0]=getPointer(t),Object.keys(o).length>1&&a.zoomable&&a.zoomOnTouch?s=ACTION_ZOOM:s=getData(t.target,DATA_ACTION),!!REGEXP_ACTIONS.test(s)&&dispatchEvent$1(this.element,EVENT_CROP_START,{originalEvent:t,action:s})!==!1&&(t.preventDefault(),this.action=s,this.cropping=!1,s===ACTION_CROP&&(this.cropping=!0,addClass(this.dragBox,CLASS_MODAL)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),dispatchEvent$1(this.element,EVENT_CROP_MOVE,{originalEvent:t,action:n})!==!1&&(t.changedTouches?forEach$1(t.changedTouches,function(a){assign(r[a.identifier]||{},getPointer(a,!0))}):assign(r[t.pointerId||0]||{},getPointer(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?forEach$1(t.changedTouches,function(a){delete r[a.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass$1(this.dragBox,CLASS_MODAL,this.cropped&&this.options.modal)),dispatchEvent$1(this.element,EVENT_CROP_END,{originalEvent:t,action:n}))}}},change={change:function(t){var n=this.options,r=this.canvasData,a=this.containerData,o=this.cropBoxData,s=this.pointers,l=this.action,c=n.aspectRatio,u=o.left,f=o.top,m=o.width,h=o.height,d=u+m,g=f+h,v=0,_=0,y=a.width,q=a.height,b=!0,x;!c&&t.shiftKey&&(c=m&&h?m/h:1),this.limited&&(v=o.minLeft,_=o.minTop,y=v+Math.min(a.width,r.width,r.left+r.width),q=_+Math.min(a.height,r.height,r.top+r.height));var E=s[Object.keys(s)[0]],T={x:E.endX-E.startX,y:E.endY-E.startY},k=function(M){switch(M){case ACTION_EAST:d+T.x>y&&(T.x=y-d);break;case ACTION_WEST:u+T.x<v&&(T.x=v-u);break;case ACTION_NORTH:f+T.y<_&&(T.y=_-f);break;case ACTION_SOUTH:g+T.y>q&&(T.y=q-g);break}};switch(l){case ACTION_ALL:u+=T.x,f+=T.y;break;case ACTION_EAST:if(T.x>=0&&(d>=y||c&&(f<=_||g>=q))){b=!1;break}k(ACTION_EAST),m+=T.x,m<0&&(l=ACTION_WEST,m=-m,u-=m),c&&(h=m/c,f+=(o.height-h)/2);break;case ACTION_NORTH:if(T.y<=0&&(f<=_||c&&(u<=v||d>=y))){b=!1;break}k(ACTION_NORTH),h-=T.y,f+=T.y,h<0&&(l=ACTION_SOUTH,h=-h,f-=h),c&&(m=h*c,u+=(o.width-m)/2);break;case ACTION_WEST:if(T.x<=0&&(u<=v||c&&(f<=_||g>=q))){b=!1;break}k(ACTION_WEST),m-=T.x,u+=T.x,m<0&&(l=ACTION_EAST,m=-m,u-=m),c&&(h=m/c,f+=(o.height-h)/2);break;case ACTION_SOUTH:if(T.y>=0&&(g>=q||c&&(u<=v||d>=y))){b=!1;break}k(ACTION_SOUTH),h+=T.y,h<0&&(l=ACTION_NORTH,h=-h,f-=h),c&&(m=h*c,u+=(o.width-m)/2);break;case ACTION_NORTH_EAST:if(c){if(T.y<=0&&(f<=_||d>=y)){b=!1;break}k(ACTION_NORTH),h-=T.y,f+=T.y,m=h*c}else k(ACTION_NORTH),k(ACTION_EAST),T.x>=0?d<y?m+=T.x:T.y<=0&&f<=_&&(b=!1):m+=T.x,T.y<=0?f>_&&(h-=T.y,f+=T.y):(h-=T.y,f+=T.y);m<0&&h<0?(l=ACTION_SOUTH_WEST,h=-h,m=-m,f-=h,u-=m):m<0?(l=ACTION_NORTH_WEST,m=-m,u-=m):h<0&&(l=ACTION_SOUTH_EAST,h=-h,f-=h);break;case ACTION_NORTH_WEST:if(c){if(T.y<=0&&(f<=_||u<=v)){b=!1;break}k(ACTION_NORTH),h-=T.y,f+=T.y,m=h*c,u+=o.width-m}else k(ACTION_NORTH),k(ACTION_WEST),T.x<=0?u>v?(m-=T.x,u+=T.x):T.y<=0&&f<=_&&(b=!1):(m-=T.x,u+=T.x),T.y<=0?f>_&&(h-=T.y,f+=T.y):(h-=T.y,f+=T.y);m<0&&h<0?(l=ACTION_SOUTH_EAST,h=-h,m=-m,f-=h,u-=m):m<0?(l=ACTION_NORTH_EAST,m=-m,u-=m):h<0&&(l=ACTION_SOUTH_WEST,h=-h,f-=h);break;case ACTION_SOUTH_WEST:if(c){if(T.x<=0&&(u<=v||g>=q)){b=!1;break}k(ACTION_WEST),m-=T.x,u+=T.x,h=m/c}else k(ACTION_SOUTH),k(ACTION_WEST),T.x<=0?u>v?(m-=T.x,u+=T.x):T.y>=0&&g>=q&&(b=!1):(m-=T.x,u+=T.x),T.y>=0?g<q&&(h+=T.y):h+=T.y;m<0&&h<0?(l=ACTION_NORTH_EAST,h=-h,m=-m,f-=h,u-=m):m<0?(l=ACTION_SOUTH_EAST,m=-m,u-=m):h<0&&(l=ACTION_NORTH_WEST,h=-h,f-=h);break;case ACTION_SOUTH_EAST:if(c){if(T.x>=0&&(d>=y||g>=q)){b=!1;break}k(ACTION_EAST),m+=T.x,h=m/c}else k(ACTION_SOUTH),k(ACTION_EAST),T.x>=0?d<y?m+=T.x:T.y>=0&&g>=q&&(b=!1):m+=T.x,T.y>=0?g<q&&(h+=T.y):h+=T.y;m<0&&h<0?(l=ACTION_NORTH_WEST,h=-h,m=-m,f-=h,u-=m):m<0?(l=ACTION_SOUTH_WEST,m=-m,u-=m):h<0&&(l=ACTION_NORTH_EAST,h=-h,f-=h);break;case ACTION_MOVE:this.move(T.x,T.y),b=!1;break;case ACTION_ZOOM:this.zoom(getMaxZoomRatio(s),t),b=!1;break;case ACTION_CROP:if(!T.x||!T.y){b=!1;break}x=getOffset(this.cropper),u=E.startX-x.left,f=E.startY-x.top,m=o.minWidth,h=o.minHeight,T.x>0?l=T.y>0?ACTION_SOUTH_EAST:ACTION_NORTH_EAST:T.x<0&&(u-=m,l=T.y>0?ACTION_SOUTH_WEST:ACTION_NORTH_WEST),T.y<0&&(f-=h),this.cropped||(removeClass(this.cropBox,CLASS_HIDDEN),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}b&&(o.width=m,o.height=h,o.left=u,o.top=f,this.action=l,this.renderCropBox()),forEach$1(s,function(A){A.startX=A.endX,A.startY=A.endY})}},methods={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,CLASS_MODAL),removeClass(this.cropBox,CLASS_HIDDEN),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=assign({},this.initialImageData),this.canvasData=assign({},this.initialCanvasData),this.cropBoxData=assign({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(assign(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,CLASS_MODAL),addClass(this.cropBox,CLASS_HIDDEN)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,forEach$1(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,CLASS_DISABLED)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,CLASS_DISABLED)),this},destroy:function(){var t=this.element;return t[NAMESPACE]?(t[NAMESPACE]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,a=r.left,o=r.top;return this.moveTo(isUndefined$1(t)?t:a+Number(t),isUndefined$1(n)?n:o+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,a=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(isNumber$1(t)&&(r.left=t,a=!0),isNumber$1(n)&&(r.top=n,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var a=this.options,o=this.canvasData,s=o.width,l=o.height,c=o.naturalWidth,u=o.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&a.zoomable){var f=c*t,m=u*t;if(dispatchEvent$1(this.element,EVENT_ZOOM,{ratio:t,oldRatio:s/c,originalEvent:r})===!1)return this;if(r){var h=this.pointers,d=getOffset(this.cropper),g=h&&Object.keys(h).length?getPointersCenter(h):{pageX:r.pageX,pageY:r.pageY};o.left-=(f-s)*((g.pageX-d.left-o.left)/s),o.top-=(m-l)*((g.pageY-d.top-o.top)/l)}else isPlainObject$3(n)&&isNumber$1(n.x)&&isNumber$1(n.y)?(o.left-=(f-s)*((n.x-o.left)/s),o.top-=(m-l)*((n.y-o.top)/l)):(o.left-=(f-s)/2,o.top-=(m-l)/2);o.width=f,o.height=m,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),isNumber$1(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,isNumber$1(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(isNumber$1(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,a=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(isNumber$1(t)&&(r.scaleX=t,a=!0),isNumber$1(n)&&(r.scaleY=n,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,a=this.canvasData,o=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:o.left-a.left,y:o.top-a.top,width:o.width,height:o.height};var l=r.width/r.naturalWidth;if(forEach$1(s,function(f,m){s[m]=f/l}),t){var c=Math.round(s.y+s.height),u=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=u-s.x,s.height=c-s.y}}else s={x:0,y:0,width:0,height:0};return n.rotatable&&(s.rotate=r.rotate||0),n.scalable&&(s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1),s},setData:function(t){var n=this.options,r=this.imageData,a=this.canvasData,o={};if(this.ready&&!this.disabled&&isPlainObject$3(t)){var s=!1;n.rotatable&&isNumber$1(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,s=!0),n.scalable&&(isNumber$1(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,s=!0),isNumber$1(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;isNumber$1(t.x)&&(o.left=t.x*l+a.left),isNumber$1(t.y)&&(o.top=t.y*l+a.top),isNumber$1(t.width)&&(o.width=t.width*l),isNumber$1(t.height)&&(o.height=t.height*l),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?assign({},this.containerData):{}},getImageData:function(){return this.sized?assign({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&forEach$1(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&isPlainObject$3(t)&&(isNumber$1(t.left)&&(n.left=t.left),isNumber$1(t.top)&&(n.top=t.top),isNumber$1(t.width)?(n.width=t.width,n.height=t.width/r):isNumber$1(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,a,o;return this.ready&&this.cropped&&!this.disabled&&isPlainObject$3(t)&&(isNumber$1(t.left)&&(n.left=t.left),isNumber$1(t.top)&&(n.top=t.top),isNumber$1(t.width)&&t.width!==n.width&&(a=!0,n.width=t.width),isNumber$1(t.height)&&t.height!==n.height&&(o=!0,n.height=t.height),r&&(a?n.height=n.width/r:o&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=getSourceCanvas(this.image,this.imageData,n,t);if(!this.cropped)return r;var a=this.getData(),o=a.x,s=a.y,l=a.width,c=a.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(o*=u,s*=u,l*=u,c*=u);var f=l/c,m=getAdjustedSizes({aspectRatio:f,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),h=getAdjustedSizes({aspectRatio:f,width:t.minWidth||0,height:t.minHeight||0},"cover"),d=getAdjustedSizes({aspectRatio:f,width:t.width||(u!==1?r.width:l),height:t.height||(u!==1?r.height:c)}),g=d.width,v=d.height;g=Math.min(m.width,Math.max(h.width,g)),v=Math.min(m.height,Math.max(h.height,v));var _=document.createElement("canvas"),y=_.getContext("2d");_.width=normalizeDecimalNumber(g),_.height=normalizeDecimalNumber(v),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,g,v);var q=t.imageSmoothingEnabled,b=q===void 0?!0:q,x=t.imageSmoothingQuality;y.imageSmoothingEnabled=b,x&&(y.imageSmoothingQuality=x);var E=r.width,T=r.height,k=o,A=s,M,S,C,I,O,D;k<=-l||k>E?(k=0,M=0,C=0,O=0):k<=0?(C=-k,k=0,M=Math.min(E,l+k),O=M):k<=E&&(C=0,M=Math.min(l,E-k),O=M),M<=0||A<=-c||A>T?(A=0,S=0,I=0,D=0):A<=0?(I=-A,A=0,S=Math.min(T,c+A),D=S):A<=T&&(I=0,S=Math.min(c,T-A),D=S);var R=[k,A,M,S];if(O>0&&D>0){var w=g/l;R.push(C*w,I*w,O*w,D*w)}return y.drawImage.apply(y,[r].concat(_toConsumableArray$1(R.map(function(B){return Math.floor(normalizeDecimalNumber(B))})))),_},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!isUndefined$1(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var o=t===DRAG_MODE_CROP,s=n.movable&&t===DRAG_MODE_MOVE;t=o||s?t:DRAG_MODE_NONE,n.dragMode=t,setData(r,DATA_ACTION,t),toggleClass$1(r,CLASS_CROP,o),toggleClass$1(r,CLASS_MOVE,s),n.cropBoxMovable||(setData(a,DATA_ACTION,t),toggleClass$1(a,CLASS_CROP,o),toggleClass$1(a,CLASS_MOVE,s))}return this}},AnotherCropper=WINDOW.Cropper,Cropper=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck$5(this,e),!t||!REGEXP_TAG_NAME.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=assign({},DEFAULTS,isPlainObject$3(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _createClass$2(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),a;if(!n[NAMESPACE]){if(n[NAMESPACE]=this,r==="img"){if(this.isImg=!0,a=n.getAttribute("src")||"",this.originalUrl=a,!a)return;a=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(a=n.toDataURL());this.load(a)}}},{key:"load",value:function(n){var r=this;if(!!n){this.url=n,this.imageData={};var a=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(REGEXP_DATA_URL.test(n)){REGEXP_DATA_URL_JPEG.test(n)?this.read(dataURLToArrayBuffer(n)):this.clone();return}var s=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=l,s.onerror=l,s.ontimeout=l,s.onprogress=function(){s.getResponseHeader("content-type")!==MIME_TYPE_JPEG&&s.abort()},s.onload=function(){r.read(s.response)},s.onloadend=function(){r.reloading=!1,r.xhr=null},o.checkCrossOrigin&&isCrossOriginURL(n)&&a.crossOrigin&&(n=addTimestamp(n)),s.open("GET",n),s.responseType="arraybuffer",s.withCredentials=a.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(n){var r=this.options,a=this.imageData,o=resetAndGetOrientation(n),s=0,l=1,c=1;if(o>1){this.url=arrayBufferToDataURL(n,MIME_TYPE_JPEG);var u=parseOrientation(o);s=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(a.rotate=s),r.scalable&&(a.scaleX=l,a.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,a=n.crossOrigin,o=r;this.options.checkCrossOrigin&&isCrossOriginURL(r)&&(a||(a="anonymous"),o=addTimestamp(r)),this.crossOrigin=a,this.crossOriginUrl=o;var s=document.createElement("img");a&&(s.crossOrigin=a),s.src=o||r,s.alt=n.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),addClass(s,CLASS_HIDE),n.parentNode.insertBefore(s,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var a=WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent),o=function(u,f){assign(n.imageData,{naturalWidth:u,naturalHeight:f,aspectRatio:u/f}),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!a){o(r.naturalWidth,r.naturalHeight);return}var s=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){o(s.width,s.height),a||l.removeChild(s)},s.src=r.src,a||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(s))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,a=this.image,o=n.parentNode,s=document.createElement("div");s.innerHTML=TEMPLATE;var l=s.querySelector(".".concat(NAMESPACE,"-container")),c=l.querySelector(".".concat(NAMESPACE,"-canvas")),u=l.querySelector(".".concat(NAMESPACE,"-drag-box")),f=l.querySelector(".".concat(NAMESPACE,"-crop-box")),m=f.querySelector(".".concat(NAMESPACE,"-face"));this.container=o,this.cropper=l,this.canvas=c,this.dragBox=u,this.cropBox=f,this.viewBox=l.querySelector(".".concat(NAMESPACE,"-view-box")),this.face=m,c.appendChild(a),addClass(n,CLASS_HIDDEN),o.insertBefore(l,n.nextSibling),this.isImg||removeClass(a,CLASS_HIDE),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,addClass(f,CLASS_HIDDEN),r.guides||addClass(f.getElementsByClassName("".concat(NAMESPACE,"-dashed")),CLASS_HIDDEN),r.center||addClass(f.getElementsByClassName("".concat(NAMESPACE,"-center")),CLASS_HIDDEN),r.background&&addClass(l,"".concat(NAMESPACE,"-bg")),r.highlight||addClass(m,CLASS_INVISIBLE),r.cropBoxMovable&&(addClass(m,CLASS_MOVE),setData(m,DATA_ACTION,ACTION_ALL)),r.cropBoxResizable||(addClass(f.getElementsByClassName("".concat(NAMESPACE,"-line")),CLASS_HIDDEN),addClass(f.getElementsByClassName("".concat(NAMESPACE,"-point")),CLASS_HIDDEN)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),isFunction$2(r.ready)&&addListener(n,EVENT_READY,r.ready,{once:!0}),dispatchEvent$1(n,EVENT_READY)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),removeClass(this.element,CLASS_HIDDEN))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=AnotherCropper,e}},{key:"setDefaults",value:function(n){assign(DEFAULTS,isPlainObject$3(n)&&n)}}]),e}();assign(Cropper.prototype,render$z,preview,events,handlers,change,methods);var cropper_min=(()=>`/*!
 * Cropper.js v1.5.6
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-10-04T04:33:44.164Z
 */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:#3399ffbf;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}
`)(),cropperMixin={props:{aspectRatio:{type:Number,default:null},viewMode:{type:Number,default:2},cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},dragMode:{type:String,default:"crop"},rotatable:{type:Boolean,default:!1},scalable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1}},computed:{defaultCropsOpts:function(){return{aspectRatio:this.initAspectRatio,viewMode:this.viewMode,cropBoxResizable:this.cropBoxResizable,cropBoxMovable:this.cropBoxMovable,dragMode:this.dragMode,rotatable:this.rotatable,scalable:this.scalable,zoomable:this.zoomable,guides:!1,center:!1,checkCrossOrigin:!1,background:!1}}}};const cropConversion=(e,t,n)=>({x:Math.round(e.x*t.width/n.width),y:Math.round(e.y*t.height/n.height),width:Math.round(e.width*t.width/n.width),height:Math.round(e.height*t.height/n.height)});var render$y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cropper"},[n("header",{staticClass:"cropper__header"},[e.multiCrops?n("ul",{staticClass:"cropper__breakpoints"},e._l(e.cropOptions,function(r,a,o){return n("li",{key:a,class:{"s--active":e.toggleBreakpoint===o},on:{click:function(s){return e.changeCrop(a,o)}}},[e._v(e._s(e._f("capitalize")(a)))])}),0):e._e()]),n("div",{staticClass:"cropper__content"},[n("div",{ref:"cropWrapper",staticClass:"cropper__wrapper"},[n("img",{ref:"cropImage",staticClass:"cropper__img",attrs:{src:e.currentMedia.medium||e.currentMedia.original,alt:e.currentMedia.name}})])]),n("footer",{staticClass:"cropper__footer"},[e.ratiosByContext.length>1?n("ul",{staticClass:"cropper__ratios"},e._l(e.ratiosByContext,function(r){return n("li",{key:r.name,staticClass:"f--small",class:{"s--active":e.currentRatioName===r.name},on:{click:function(a){return e.changeRatio(r)}}},[e._v(e._s(e._f("capitalize")(r.name)))])}),0):e._e(),n("span",{staticClass:"cropper__values f--small hide--xsmall",class:e.cropperWarning},[e._v(e._s(e.cropValues.original.width)+" \xD7 "+e._s(e.cropValues.original.height))]),e._t("default")],2)])},staticRenderFns$y=[],Cropper_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-5e6d0389]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-5e6d0389]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-5e6d0389]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-5e6d0389]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-5e6d0389]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-5e6d0389]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-5e6d0389]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-5e6d0389]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-5e6d0389]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-5e6d0389]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-5e6d0389]{width:auto}}.cropper[data-v-5e6d0389]{width:100%;display:flex;flex-flow:column nowrap}.cropper__content[data-v-5e6d0389]{display:flex;justify-content:center;align-items:center;flex-grow:1;height:430px;background-color:#f2f2f2}.cropper__content .cropper-modal[data-v-5e6d0389]{background-color:#f2f2f2}.cropper__wrapper[data-v-5e6d0389]{display:block;height:100%;margin:0 auto}.cropper__img[data-v-5e6d0389]{display:block;max-width:100%;height:100%;margin:0 auto;opacity:0}.cropper__breakpoints[data-v-5e6d0389]{padding:20px 0}.cropper__breakpoints li[data-v-5e6d0389]{display:inline-block;height:35px;line-height:35px;background-color:#fff;color:#3278b8;cursor:pointer;margin:0 20px;border-radius:17.5px}.cropper__breakpoints li.s--active[data-v-5e6d0389]{color:#262626;background-color:#f2f2f2;cursor:default;padding:0 20px;margin:0}.cropper__breakpoints li[data-v-5e6d0389]:not(.s--active):hover{text-decoration:underline}.cropper__breakpoints li[data-v-5e6d0389]:last-child{margin-right:0}.cropper__footer[data-v-5e6d0389]{position:relative;width:100%}@media screen and (min-width: 600px){.cropper__footer[data-v-5e6d0389]{display:flex;justify-content:center;align-items:center;min-height:75px}}.cropper__footer .cropper__ratios[data-v-5e6d0389]{padding:20px 0 0;text-align:center}@media screen and (min-width: 600px){.cropper__footer .cropper__ratios[data-v-5e6d0389]{padding:20px 0}}.cropper__footer .cropper__ratios li[data-v-5e6d0389]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;height:35px;line-height:33px;margin-right:15px;padding:0 20px;background-color:transparent;border:1px solid #d9d9d9;border-radius:5px;color:#8c8c8c;cursor:pointer}.cropper__footer .cropper__ratios li[data-v-5e6d0389]:hover,.cropper__footer .cropper__ratios li.s--active[data-v-5e6d0389]{border-color:#262626;color:#262626}.cropper__footer .cropper__ratios li[data-v-5e6d0389]:focus{border-color:#262626;color:#262626}.cropper__footer .cropper__ratios li[data-v-5e6d0389]:disabled{opacity:.5;pointer-events:none}.cropper__footer .cropper__ratios li[data-v-5e6d0389]:last-child{margin-right:0}.cropper__footer .cropper__ratios li.s--active[data-v-5e6d0389]{cursor:default}.cropper__footer .cropper__values[data-v-5e6d0389]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;top:50%;right:0;color:#1d9f3c;height:35px;line-height:35px;transform:translateY(-50%);transition:color .25s ease}.cropper__footer .cropper__values.cropper__warning[data-v-5e6d0389]{color:#e61414}
`)();const __vue2_script$y={name:"a17Cropper",props:{media:{type:Object,default:()=>{}},context:{type:String,default:""}},mixins:[cropperMixin],data:function(){return{cropper:null,currentMedia:this.media,currentCrop:Object.keys(this.media.crops)[0],toggleBreakpoint:0,cropValues:{natural:{width:null,height:null},original:{width:this.media.crops[Object.keys(this.media.crops)[0]].width,height:this.media.crops[Object.keys(this.media.crops)[0]].height}},minCropValues:{width:0,height:0},currentRatioName:this.media.crops[Object.keys(this.media.crops)[0]].name}},watch:{media:function(e){this.currentMedia=e}},computed:{cropOptions:function(){return this.allCrops.hasOwnProperty(this.context)?this.allCrops[this.context]:{}},crop:function(){return this.currentMedia.crops[this.currentCrop]||{}},multiCrops:function(){return Object.keys(this.cropOptions).length>1},ratiosByContext:function(){const e=this.cropOptions[this.currentCrop];return e||[]},cropperOpts:function(){return{...this.defaultCropsOpts,cropmove:()=>{this.updateCropperValues()},cropend:()=>{this.sendCropperValues()}}},cropperWarning:function(){return{cropper__warning:this.cropValues.original.width<this.minCropValues.width||this.cropValues.original.height<this.minCropValues.height}},...mapState({allCrops:e=>e.mediaLibrary.crops})},filters,mounted:function(){const e=this.cropperOpts,t=this.$refs.cropImage,n=this.$refs.cropWrapper,r=new Image;r.addEventListener("load",()=>{n.style.maxWidth=n.getBoundingClientRect().width+"px",n.style.minHeight=n.getBoundingClientRect().height+"px",this.cropper=new Cropper(t,e)},{once:!0,passive:!0,capture:!0}),r.src=this.currentMedia.medium||this.currentMedia.original,t.addEventListener("ready",()=>{this.cropValues.natural.width=r.naturalWidth,this.cropValues.natural.height=r.naturalHeight,this.updateCrop()},{once:!0,passive:!0,capture:!0})},methods:{initAspectRatio:function(){const t=this.ratiosByContext.find(n=>n.name===this.currentRatioName);if(typeof t!="undefined"&&t){this.minCropValues.width=t.minValues?t.minValues.width:0,this.minCropValues.height=t.minValues?t.minValues.height:0,this.cropper.setAspectRatio(t.ratio);return}this.cropper.setAspectRatio(this.aspectRatio)},changeCrop:function(e,t){this.currentCrop=e,this.currentRatioName=this.crop.name||this.cropOptions[e][0].name,this.toggleBreakpoint=t,this.updateCrop(),this.sendCropperValues()},changeRatio:function(e){this.currentRatioName=e.name,this.updateCrop(),this.sendCropperValues()},updateCrop:function(){this.initAspectRatio(),this.initCrop(),this.updateCropperValues()},updateCropperValues:function(){const e=this.cropper.getData(!0),t=this.toOriginalCrop(e);this.cropValues.original.width=t.width,this.cropValues.original.height=t.height},initCrop:function(){const e=this.toNaturalCrop(this.crop);this.cropper.setData(e)},test:function(){const e=this.toNaturalCrop({x:0,y:0,width:380,height:475});this.cropper.setAspectRatio(.8),this.cropper.setData(e)},sendCropperValues:function(){const e={};e.values={},e.values[this.currentCrop]=this.toOriginalCrop(this.cropper.getData(!0)),e.values[this.currentCrop].name=this.currentRatioName,this.$emit("crop-end",e)},toNaturalCrop:function(e){return cropConversion(e,this.cropValues.natural,this.currentMedia)},toOriginalCrop:function(e){return cropConversion(e,this.currentMedia,this.cropValues.natural)}},beforeDestroy:function(){this.cropper.destroy()}},__cssModules$y={};var __component__$y=normalizeComponent(__vue2_script$y,render$y,staticRenderFns$y,!1,__vue2_injectStyles$y,"5e6d0389",null,null);function __vue2_injectStyles$y(e){for(let t in __cssModules$y)this[t]=__cssModules$y[t]}var a17Cropper=function(){return __component__$y.exports}(),render$x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.languages.length>1&&e.fieldType==="text"?n("a17-locale",{attrs:{type:e.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:e.attributes},on:{change:e.saveMetadata}}):e.fieldType==="text"&&e.wysiwyg?n("div",[n("a17-wysiwyg",{attrs:{options:e.wysiwygOptions,label:e.label,name:e.fieldName,type:e.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:e.maxlength},on:{change:e.saveMetadata}}),n("p",{staticClass:"f--note f--small",domProps:{innerHTML:e._s(e.placeholder)}})],1):e.fieldType==="text"?n("a17-textfield",{attrs:{label:e.label,name:e.fieldName,type:"text",placeholder:e.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:e.maxlength},on:{change:e.saveMetadata}}):e.fieldType==="checkbox"?n("div",{staticClass:"mediaMetadata__checkbox"},[n("a17-checkbox",{attrs:{label:e.label,name:e.fieldName,initialValue:e.initialValue,value:1,inStore:"value"},on:{change:e.saveMetadata}})],1):e._e()},staticRenderFns$x=[],MediaMetadata_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-423669e3]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-423669e3]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-423669e3]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-423669e3]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-423669e3]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-423669e3]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-423669e3]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-423669e3]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-423669e3]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-423669e3]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-423669e3]{width:auto}}.mediaMetadata__checkbox[data-v-423669e3]{margin-top:35px}
`)();const __vue2_script$x={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...mapState({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let t="",n=0;this.languages.forEach(r=>{const a=r.value;if(this.customMetadatas){this.customMetadatas[a]?e[a]=this.customMetadatas[a]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&n===0?(e[a]=this.customMetadatas,t=this.customMetadatas):e[a]="";const o={};o.name=this.fieldName,o.value=e[a],this.languages.length>1&&(o.locale=a),this.$store.commit(FORM.UPDATE_FORM_FIELD,o)}n++}),this.initialValues=e,this.initialValue=t}},__cssModules$x={};var __component__$x=normalizeComponent(__vue2_script$x,render$x,staticRenderFns$x,!1,__vue2_injectStyles$x,"423669e3",null,null);function __vue2_injectStyles$x(e){for(let t in __cssModules$x)this[t]=__cssModules$x[t]}var a17MediaMetadata=function(){return __component__$x.exports}(),mediaLibraryMixin={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,t=this.name,n=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,n),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},mediaFieldMixin={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!1},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},smartcrop={exports:{}};(function(e,t){(function(){var n={};n.Promise=typeof Promise!="undefined"?Promise:function(){throw new Error("No native promises and smartcrop.Promise not set.")},n.DEFAULTS={width:0,height:0,aspect:0,cropWidth:0,cropHeight:0,detailWeight:.2,skinColor:[.78,.57,.44],skinBias:.01,skinBrightnessMin:.2,skinBrightnessMax:1,skinThreshold:.8,skinWeight:1.8,saturationBrightnessMin:.05,saturationBrightnessMax:.9,saturationThreshold:.4,saturationBias:.2,saturationWeight:.1,scoreDownSample:8,step:8,scaleStep:.1,minScale:1,maxScale:1,edgeRadius:.4,edgeWeight:-20,outsideImportance:-.5,boostWeight:100,ruleOfThirds:!0,prescale:!0,imageOperations:null,canvasFactory:v,debug:!1},n.crop=function(S,C,I){var O=E({},n.DEFAULTS,C);O.aspect&&(O.width=O.aspect,O.height=1),O.imageOperations===null&&(O.imageOperations=_(O.canvasFactory));var D=O.imageOperations,R=1,w=1;return D.open(S,O.input).then(function(B){return O.width&&O.height&&(R=y(B.width/O.width,B.height/O.height),O.cropWidth=~~(O.width*R),O.cropHeight=~~(O.height*R),O.minScale=y(O.maxScale,q(1/R,O.minScale)),O.prescale!==!1&&(w=y(q(256/B.width,256/B.height),1),w<1?(B=D.resample(B,B.width*w,B.height*w),O.cropWidth=~~(O.cropWidth*w),O.cropHeight=~~(O.cropHeight*w),O.boost&&(O.boost=O.boost.map(function(G){return{x:~~(G.x*w),y:~~(G.y*w),width:~~(G.width*w),height:~~(G.height*w),weight:G.weight}}))):w=1)),B}).then(function(B){return D.getData(B).then(function(G){for(var U=h(O,G),$=U.crops||[U.topCrop],P=0,F=$.length;P<F;P++){var N=$[P];N.x=~~(N.x/w),N.y=~~(N.y/w),N.width=~~(N.width/w),N.height=~~(N.height/w)}return I&&I(U),U})})},n.isAvailable=function(S){if(!n.Promise)return!1;var C=S?S.canvasFactory:v;if(C===v){var I=document.createElement("canvas");if(!I.getContext("2d"))return!1}return!0};function r(S,C){for(var I=S.data,O=C.data,D=S.width,R=S.height,w=0;w<R;w++)for(var B=0;B<D;B++){var G=(w*D+B)*4,U;B===0||B>=D-1||w===0||w>=R-1?U=A(I,G):U=A(I,G)*4-A(I,G-D*4)-A(I,G-4)-A(I,G+4)-A(I,G+D*4),O[G+1]=U}}function a(S,C,I){for(var O=C.data,D=I.data,R=C.width,w=C.height,B=0;B<w;B++)for(var G=0;G<R;G++){var U=(B*R+G)*4,$=k(O[U],O[U+1],O[U+2])/255,P=m(S,O[U],O[U+1],O[U+2]),F=P>S.skinThreshold,N=$>=S.skinBrightnessMin&&$<=S.skinBrightnessMax;F&&N?D[U]=(P-S.skinThreshold)*(255/(1-S.skinThreshold)):D[U]=0}}function o(S,C,I){for(var O=C.data,D=I.data,R=C.width,w=C.height,B=0;B<w;B++)for(var G=0;G<R;G++){var U=(B*R+G)*4,$=k(O[U],O[U+1],O[U+2])/255,P=M(O[U],O[U+1],O[U+2]),F=P>S.saturationThreshold,N=$>=S.saturationBrightnessMin&&$<=S.saturationBrightnessMax;N&&F?D[U+2]=(P-S.saturationThreshold)*(255/(1-S.saturationThreshold)):D[U+2]=0}}function s(S,C){if(!!S.boost){for(var I=C.data,O=0;O<C.width;O+=4)I[O+3]=0;for(O=0;O<S.boost.length;O++)l(S.boost[O],S,C)}}function l(S,C,I){for(var O=I.data,D=I.width,R=~~S.x,w=~~(S.x+S.width),B=~~S.y,G=~~(S.y+S.height),U=S.weight*255,$=B;$<G;$++)for(var P=R;P<w;P++){var F=($*D+P)*4;O[F+3]+=U}}function c(S,C,I){for(var O=[],D=y(C,I),R=S.cropWidth||D,w=S.cropHeight||D,B=S.maxScale;B>=S.minScale;B-=S.scaleStep)for(var G=0;G+w*B<=I;G+=S.step)for(var U=0;U+R*B<=C;U+=S.step)O.push({x:U,y:G,width:R*B,height:w*B});return O}function u(S,C,I){for(var O={detail:0,saturation:0,skin:0,boost:0,total:0},D=C.data,R=S.scoreDownSample,w=1/R,B=C.height*R,G=C.width*R,U=C.width,$=0;$<B;$+=R)for(var P=0;P<G;P+=R){var F=(~~($*w)*U+~~(P*w))*4,N=f(S,I,P,$),z=D[F+1]/255;O.skin+=D[F]/255*(z+S.skinBias)*N,O.detail+=z*N,O.saturation+=D[F+2]/255*(z+S.saturationBias)*N,O.boost+=D[F+3]/255*N}return O.total=(O.detail*S.detailWeight+O.skin*S.skinWeight+O.saturation*S.saturationWeight+O.boost*S.boostWeight)/(I.width*I.height),O}function f(S,C,I,O){if(C.x>I||I>=C.x+C.width||C.y>O||O>=C.y+C.height)return S.outsideImportance;I=(I-C.x)/C.width,O=(O-C.y)/C.height;var D=b(.5-I)*2,R=b(.5-O)*2,w=Math.max(D-1+S.edgeRadius,0),B=Math.max(R-1+S.edgeRadius,0),G=(w*w+B*B)*S.edgeWeight,U=1.41-x(D*D+R*R);return S.ruleOfThirds&&(U+=Math.max(0,U+G+.5)*1.2*(T(D)+T(R))),U+G}n.importance=f;function m(S,C,I,O){var D=x(C*C+I*I+O*O),R=C/D-S.skinColor[0],w=I/D-S.skinColor[1],B=O/D-S.skinColor[2],G=x(R*R+w*w+B*B);return 1-G}function h(S,C){var I={},O=new d(C.width,C.height);r(C,O),a(S,C,O),o(S,C,O),s(S,O);for(var D=g(O,S.scoreDownSample),R=-1/0,w=null,B=c(S,C.width,C.height),G=0,U=B.length;G<U;G++){var $=B[G];$.score=u(S,D,$),$.score.total>R&&(w=$,R=$.score.total)}return I.topCrop=w,S.debug&&w&&(I.crops=B,I.debugOutput=O,I.debugOptions=S,I.debugTopCrop=E({},I.topCrop)),I}function d(S,C,I){this.width=S,this.height=C,I?this.data=new Uint8ClampedArray(I):this.data=new Uint8ClampedArray(S*C*4)}n.ImgData=d;function g(S,C){for(var I=S.data,O=S.width,D=Math.floor(S.width/C),R=Math.floor(S.height/C),w=new d(D,R),B=w.data,G=1/(C*C),U=0;U<R;U++)for(var $=0;$<D;$++){for(var P=(U*D+$)*4,F=0,N=0,z=0,V=0,L=0,j=0,J=0;J<C;J++)for(var Q=0;Q<C;Q++){var re=((U*C+J)*O+($*C+Q))*4;F+=I[re],N+=I[re+1],z+=I[re+2],V+=I[re+3],L=Math.max(L,I[re]),j=Math.max(j,I[re+1])}B[P]=F*G*.5+L*.5,B[P+1]=N*G*.7+j*.3,B[P+2]=z*G,B[P+3]=V*G}return w}n._downSample=g;function v(S,C){var I=document.createElement("canvas");return I.width=S,I.height=C,I}function _(S){return{open:function(C){var I=C.naturalWidth||C.width,O=C.naturalHeight||C.height,D=S(I,O),R=D.getContext("2d");return C.naturalWidth&&(C.naturalWidth!=C.width||C.naturalHeight!=C.height)?(D.width=C.naturalWidth,D.height=C.naturalHeight):(D.width=C.width,D.height=C.height),R.drawImage(C,0,0),n.Promise.resolve(D)},resample:function(C,I,O){return Promise.resolve(C).then(function(D){var R=S(~~I,~~O),w=R.getContext("2d");return w.drawImage(D,0,0,D.width,D.height,0,0,R.width,R.height),n.Promise.resolve(R)})},getData:function(C){return Promise.resolve(C).then(function(I){var O=I.getContext("2d"),D=O.getImageData(0,0,I.width,I.height);return new d(I.width,I.height,D.data)})}}}n._canvasImageOperations=_;var y=Math.min,q=Math.max,b=Math.abs,x=Math.sqrt;function E(S){for(var C=1,I=arguments.length;C<I;C++){var O=arguments[C];if(O)for(var D in O)S[D]=O[D]}return S}function T(S){return S=((S-1/3+1)%2*.5-.5)*16,Math.max(1-S*S,0)}function k(S,C,I){return .5126*I+.7152*C+.0722*S}function A(S,C){return k(S[C],S[C+1],S[C+2])}function M(S,C,I){var O=q(S/255,C/255,I/255),D=y(S/255,C/255,I/255);if(O===D)return 0;var R=(O+D)/2,w=O-D;return R>.5?w/(2-O-D):w/(O+D)}t.smartcrop=n,e.exports=n})()})(smartcrop,smartcrop.exports);var smartCrop=smartcrop.exports,render$w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media",class:{"media--hoverable":e.hover,"media--slide":e.isSlide}},[n("div",{staticClass:"media__field"},[e.hasMedia?n("div",{staticClass:"media__info"},[n("div",{staticClass:"media__img"},[n("div",{staticClass:"media__imgFrame"},[n("div",{staticClass:"media__imgCentered",style:e.cropThumbnailStyle},[e.cropSrc&&e.showImg?n("img",{ref:"mediaImg",class:e.cropThumbnailClass,attrs:{src:e.cropSrc}}):e._e()]),e.disabled?e._e():n("div",{staticClass:"media__edit",on:{click:function(r){return e.openMediaLibrary(1,e.mediaKey,e.index)}}},[n("span",{staticClass:"media__edit--button"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})])])])]),e.disabled?e._e():n("ul",{staticClass:"media__metadatas"},[n("li",{staticClass:"media__name",on:{click:function(r){return e.openMediaLibrary(1,e.mediaKey,e.index)}}},[n("strong",{attrs:{title:e.media.name}},[e._v(e._s(e.media.name))])]),e.media.size?n("li",{staticClass:"f--small"},[e._v("File size: "+e._s(e._f("uppercase")(e.media.size)))]):e._e(),e.media.width+e.media.height?n("li",{staticClass:"f--small"},[e._v(e._s(e.$trans("fields.medias.original-dimensions"))+": "+e._s(e.media.width)+" \xD7 "+e._s(e.media.height)+" ")]):e._e(),e.cropInfos&&e.activeCrop?n("li",{staticClass:"f--small media__crop-link",on:{click:e.openCropMedia}},e._l(e.cropInfos,function(r,a){return n("p",{key:a,staticClass:"f--small f--note hide--xsmall"},[n("span",{domProps:{innerHTML:e._s(r)}})])}),0):e._e(),n("li",{staticClass:"f--small"},[e.withAddInfo?n("a",{staticClass:"f--link-underlined--o",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.metadatasInfos(r)}}},[e._v(e._s(e.metadatas.text))]):e._e()])]),e.disabled?e._e():n("a17-buttonbar",{staticClass:"media__actions"},[n("a",{attrs:{href:e.media.original,download:""}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]),e.activeCrop?n("button",{attrs:{type:"button"},on:{click:e.openCropMedia}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}})]):e._e(),n("button",{attrs:{type:"button"},on:{click:e.deleteMediaClick}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])]),n("div",{staticClass:"media__actions-dropDown"},[n("a17-dropdown",{ref:"dropDown",attrs:{position:"right"}},[n("a17-button",{attrs:{size:"icon",variant:"icon"},on:{click:function(r){return e.$refs.dropDown.toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[n("a",{attrs:{href:e.media.original,download:""}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}}),e._v(e._s(e.$trans("fields.medias.download")))]),e.activeCrop?n("button",{attrs:{type:"button"},on:{click:e.openCropMedia}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}}),e._v(e._s(e.$trans("fields.medias.crop"))+" ")]):e._e(),n("button",{attrs:{type:"button"},on:{click:e.deleteMediaClick}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}}),e._v(e._s(e.$trans("fields.medias.delete")))])])],1)],1)],1):e._e(),e.hasMedia?e._e():n("a17-button",{attrs:{variant:"ghost",disabled:e.disabled},on:{click:e.openMediaLibrary}},[e._v(e._s(e.btnLabel))]),this.$slots.default?n("p",{staticClass:"media__note f--small"},[e._t("default")],2):e._e(),e.hasMedia&&e.withAddInfo?n("div",{staticClass:"media__metadatas--options",class:{"s--active":e.metadatas.active}},[n("a17-mediametadata",{attrs:{name:e.metadataName,label:e.$trans("fields.medias.alt-text","Alt Text"),id:"altText",media:e.media,maxlength:e.altTextMaxLength},on:{change:e.updateMetadata}}),e.withCaption?n("a17-mediametadata",{attrs:{wysiwyg:e.useWysiwyg,"wysiwyg-options":e.wysiwygOptions,type:"text",name:e.metadataName,label:e.$trans("fields.medias.caption","Caption"),id:"caption",media:e.media,maxlength:e.captionMaxLength},on:{change:e.updateMetadata}}):e._e(),e.withVideoUrl?n("a17-mediametadata",{attrs:{name:e.metadataName,label:e.$trans("fields.medias.video-url","Video URL (optional)"),id:"video",media:e.media},on:{change:e.updateMetadata}}):e._e(),e._l(e.extraMetadatas,function(r){return[e.extraMetadatas.length>0?n("a17-mediametadata",{key:r.name,attrs:{type:r.type,name:e.metadataName,wysiwyg:r.wysiwyg||!1,"wysiwyg-options":r.wysiwygOptions||e.wysiwygOptions,label:r.label,id:r.name,media:e.media,maxlength:r.maxlength||0},on:{change:e.updateMetadata}}):e._e()]})],2):e._e()],1),e.hasMedia&&e.activeCrop?n("a17-modal",{ref:e.cropModalName,staticClass:"modal--cropper",attrs:{forceClose:!0,title:e.$trans("fields.medias.crop-edit"),mode:"medium"}},[n("a17-cropper",{key:e.cropperKey,attrs:{media:e.media,aspectRatio:16/9,context:e.cropContext},on:{"crop-end":e.cropMedia}},[n("a17-button",{staticClass:"cropper__button",attrs:{variant:"action"},on:{click:function(r){return e.$refs[e.cropModalName].close()}}},[e._v(e._s(e.$trans("fields.medias.crop-save")))])],1)],1):e._e(),n("input",{attrs:{name:e.inputName,type:"hidden"},domProps:{value:JSON.stringify(e.media)}})],1)},staticRenderFns$w=[],MediaField_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-6b701c26]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-6b701c26]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-6b701c26]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-6b701c26]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-6b701c26]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-6b701c26]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-6b701c26]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-6b701c26]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-6b701c26]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-6b701c26]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-6b701c26]{width:auto}}.media[data-v-6b701c26]{border-radius:2px;border:1px solid #e5e5e5;background:#fff}.media__field[data-v-6b701c26]{padding:10px;position:relative}.media--slide[data-v-6b701c26]{border:0 none}.media__note[data-v-6b701c26]{color:#8c8c8c;float:right;position:absolute;bottom:18px;right:15px;display:none}@media screen and (min-width: 600px){.media__note[data-v-6b701c26]{display:inline-block}}@media screen and (min-width: 850px) and (max-width: 1039px){.media__note[data-v-6b701c26]{display:none}}@media screen and (min-width: 600px){.s--in-editor .media__note[data-v-6b701c26]{display:none}}.media__img[data-v-6b701c26]{width:33.33%;max-width:240px;user-select:none;position:relative;min-width:100px}.media__img[data-v-6b701c26]:before{content:"";position:absolute;display:block;top:0;left:0;right:0;bottom:0;border:1px solid rgba(0,0,0,.05)}.media__img img[data-v-6b701c26]{display:block;max-width:100%;max-height:100%;margin:auto}.media__img img.media__img--landscape[data-v-6b701c26]{width:100%;height:auto}.media__img img.media__img--portrait[data-v-6b701c26]{width:auto;height:100%}.media--slide .media__img[data-v-6b701c26]{max-width:120px}.media__crop-link[data-v-6b701c26]{text-decoration:none;cursor:pointer}.media__crop-link p[data-v-6b701c26]:first-letter{text-transform:capitalize}.media__crop-link:hover .f--small span[data-v-6b701c26]{text-decoration:none;background-image:linear-gradient(to bottom,rgba(38,38,38,.5) 75%,rgba(38,38,38,.5) 75%);background-repeat:repeat-x;background-size:1px 1px;background-position:0 98%}@media screen and (max-width: 1039px){.media__crop-link[data-v-6b701c26]{flex-direction:column}}.media__imgFrame[data-v-6b701c26]{width:100%;padding-bottom:100%;position:relative;overflow:hidden}.media__imgCentered[data-v-6b701c26]{top:0;bottom:0;left:0;right:0;position:absolute;display:flex;background-color:#f6f6f6;background-size:contain;background-repeat:no-repeat;background-position:center center;transition:background-image .35s cubic-bezier(.795,.125,.28,.99),background-size 0ms .35s}.media__imgCentered[data-v-6b701c26]:before{content:"";position:absolute;display:block;top:0;left:0;right:0;bottom:0;border:1px solid rgba(0,0,0,.05)}.media__edit[data-v-6b701c26]{position:absolute;top:0;bottom:0;left:0;right:0;display:block;opacity:0;background-color:#0003;cursor:pointer;transition:opacity .3s ease}.media__edit .media__edit--button[data-v-6b701c26]{display:block;position:absolute;right:10px;bottom:10px;height:26px;width:26px;line-height:26px;text-align:center;border-radius:50%;background:#fff;color:#a6a6a6}.media__edit .media__edit--button .icon[data-v-6b701c26]{color:#a6a6a6;transition:color .25s linear}.media__imgFrame:hover .media__edit[data-v-6b701c26]{opacity:1}.media__info[data-v-6b701c26]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start;align-content:flex-start}.media__metadatas[data-v-6b701c26]{padding:5px 15px;flex-grow:1;color:#8c8c8c;overflow:hidden}.media__metadatas li[data-v-6b701c26]{overflow:hidden}.media__metadatas a[data-v-6b701c26]{color:#3278b8}.media__name strong[data-v-6b701c26]{font-weight:400;color:#262626;overflow:hidden;text-overflow:ellipsis;display:block;margin-bottom:5px}.media__name[data-v-6b701c26]:hover{cursor:pointer}.media__name:hover strong[data-v-6b701c26]{color:#3278b8}.media__metadatas--options[data-v-6b701c26]{display:none;margin-top:35px}.media__metadatas--options.s--active[data-v-6b701c26]{display:block}.media__actions[data-v-6b701c26]{min-width:135px}@media screen and (max-width: 1140px){.media__actions[data-v-6b701c26]{display:none!important}}.s--in-editor .media__actions[data-v-6b701c26]{display:none!important}@media screen and (min-width: 1139px){.media__actions-dropDown[data-v-6b701c26]{display:none}}.s--in-editor .media__actions-dropDown[data-v-6b701c26]{display:block!important}.media.media--hoverable .media__actions[data-v-6b701c26]{opacity:0;transition:opacity .25s ease}.media.media--hoverable :hover .media__actions[data-v-6b701c26]{opacity:1}.modal--cropper .cropper__button[data-v-6b701c26]{width:100%;display:block;margin-top:20px;margin-bottom:20px}@media screen and (min-width: 600px){.modal--cropper .cropper__button[data-v-6b701c26]{position:absolute;bottom:0;left:0;width:auto;margin-top:20px;margin-bottom:20px}}
`)(),MediaField_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.media .media__actions-dropDown .dropdown__content{margin-top:10px}
`)();const IS_SAFARI=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,__vue2_script$w={name:"A17Mediafield",components:{"a17-cropper":a17Cropper,"a17-mediametadata":a17MediaMetadata},mixins:[mediaLibraryMixin,mediaFieldMixin],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return this.$trans("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!1,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:this.$trans("fields.medias.edit-info"),textOpen:this.$trans("fields.medias.edit-info"),textClose:this.$trans("fields.medias.edit-close"),active:!1}}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.selectedMedias.hasOwnProperty(this.mediaKey)?this.selectedMedias[this.mediaKey][this.index]||{}:{}},cropInfos:function(){const e=[];if(this.media.crops){for(const t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){let n="";n+=this.media.crops[t].name+" "+this.$trans("fields.medias.crop-list")+": ",n+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(n)}}return e.length>0?e:null},hasMedia:function(){return Object.keys(this.media).length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,t){this.hasMediaChanged=e!==t,this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let t=this.media.thumbnail;this.$nextTick(()=>{try{const n=cropConversion(e,this.naturalDim,this.originalDim),r=n.width,a=n.height;this.canvas.width=r,this.canvas.height=a,this.ctx.drawImage(this.img,n.x,n.y,r,a,0,0,r,a),t=this.canvas.toDataURL("image/png"),this.cropSrc!==t&&(this.showImg=!1,this.cropSrc=t)}catch(n){console.error(n),this.cropSrc!==t&&(this.showImg=!0,this.cropSrc=t)}})},setDefaultCrops:function(){const e={},t=[];if(this.allCrops.hasOwnProperty(this.cropContext)){for(const n in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][n][0].ratio,a=this.media.width,o=this.media.height,s={x:a/2,y:o/2};let l=a,c=o;r>0&&r<1?(l=Math.floor(Math.min(o*r,a)),c=Math.floor(l/r)):r>=1&&(c=Math.floor(Math.min(a/r,o)),l=Math.floor(c*r));let u={x:0,y:0,width:l,height:c};u=cropConversion(u,this.naturalDim,this.originalDim),t.push(smartCrop.crop(this.img,{width:u.width,height:u.height,minScale:1}));const f=Math.floor(s.x-l/2),m=Math.floor(s.y-c/2);e[n]={},e[n].name=this.allCrops[this.cropContext][n][0].name||n,e[n].x=f,e[n].y=m,e[n].width=l,e[n].height=c}Promise.all(t).then(n=>{let r=0;n.forEach(a=>{const o={x:a.topCrop.x,y:a.topCrop.y,width:a.topCrop.width,height:a.topCrop.height},s=e[Object.keys(e)[r]],l=cropConversion(o,this.originalDim,this.naturalDim);s.x=l.x,s.y=l.y,s.width=l.width,s.height=l.height,r++}),this.cropMedia({values:e})},n=>{console.error(n),this.cropMedia({values:e})})}else this.cropMedia({values:e})},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){this.showImg=!1;const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},t=>{console.error(t),this.showDefaultThumbnail(),this.$nextTick(()=>{const n=this.$refs.mediaImg;n?(n.addEventListener("load",()=>{this.img=n,e()},{once:!0,passive:!0,capture:!0}),n.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,t)=>{this.img=new Image,IS_SAFARI||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{t(r)});let n="?";this.media.thumbnail.indexOf("?")>-1&&(n="&"),this.img.src=this.media.thumbnail+n+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(){this.isDestroyed=!0,this.deleteMedia()},deleteMedia:function(){this.$store.commit(MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA,{name:this.mediaKey,index:this.index})},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},__cssModules$w={};var __component__$w=normalizeComponent(__vue2_script$w,render$w,staticRenderFns$w,!1,__vue2_injectStyles$w,"6b701c26",null,null);function __vue2_injectStyles$w(e){for(let t in __cssModules$w)this[t]=__cssModules$w[t]}var a17MediaField=function(){return __component__$w.exports}(),render$v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,label:e.label,locale:e.locale,size:e.size,note:e.note,name:e.name},on:{localize:e.updateLocale}},[e.max>1||e.max===0?n("a17-slideshow",{attrs:{name:e.name,cropContext:e.cropContext,max:e.max,required:e.required,buttonOnTop:e.buttonOnTop,withAddInfo:e.withAddInfo,withVideoUrl:e.withVideoUrl,withCaption:e.withCaption,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas}},[e._t("default")],2):n("a17-mediafield",{attrs:{name:e.name,cropContext:e.cropContext,required:e.required,withAddInfo:e.withAddInfo,withVideoUrl:e.withVideoUrl,withCaption:e.withCaption,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas}},[e._t("default")],2)],1)},staticRenderFns$v=[];const __vue2_script$v={name:"A17MediafieldTranslated",mixins:[LocaleMixin,InputframeMixin,mediaFieldMixin],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},max:{type:Number,default:1},buttonOnTop:{type:Boolean,default:!1}}},__cssModules$v={};var __component__$v=normalizeComponent(__vue2_script$v,render$v,staticRenderFns$v,!1,__vue2_injectStyles$v,null,null,null);function __vue2_injectStyles$v(e){for(let t in __cssModules$v)this[t]=__cssModules$v[t]}var a17MediaFieldTranslated=function(){return __component__$v.exports}(),render$u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"radio",class:e.customClass},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"radio__input",attrs:{type:"radio",name:e.name,id:e.uniqId(e.value),disabled:e.disabled},domProps:{value:e.value,checked:e._q(e.selectedValue,e.value)},on:{change:function(r){e.selectedValue=e.value}}}),n("label",{staticClass:"radio__label",attrs:{for:e.uniqId(e.value)}},[e._v(e._s(e.label))])])},staticRenderFns$u=[],Radio_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-96d3b0ec]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-96d3b0ec]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-96d3b0ec]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-96d3b0ec]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-96d3b0ec]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-96d3b0ec]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-96d3b0ec]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-96d3b0ec]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-96d3b0ec]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-96d3b0ec]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-96d3b0ec]{width:auto}}.radio[data-v-96d3b0ec]{color:#262626}.radio__input[data-v-96d3b0ec]{position:absolute;width:1px;height:1px;margin-top:-1px;margin-left:-1px;padding:0;border:0 none;clip:rect(1px,1px,1px,1px);overflow:hidden}.radio__label[data-v-96d3b0ec]{display:block;position:relative;padding-left:28px;color:#8c8c8c;cursor:pointer}.radio__label[data-v-96d3b0ec]:before,.radio__label[data-v-96d3b0ec]:after{content:"";position:absolute;left:0;top:1px;width:18px;height:18px;border-radius:50%;transition:all .25s cubic-bezier(.5,-.6,.5,1.6)}.radio__label[data-v-96d3b0ec]:before{border:1px solid #d9d9d9;background-color:#fbfbfb}.radio__label[data-v-96d3b0ec]:after{border:0 none;background-color:#a6a6a6;opacity:0;transform:scale(.1)}.radio__label[data-v-96d3b0ec]:hover:before{border-color:#a6a6a6}.radio__label[data-v-96d3b0ec]:hover,.radio__input:hover+.radio__label[data-v-96d3b0ec],.radio__input:checked+.radio__label[data-v-96d3b0ec]{color:#262626}.radio__input:focus+.radio__label[data-v-96d3b0ec]:before{border-color:#ccc}.radio__input:checked+.radio__label[data-v-96d3b0ec]{color:#262626}.radio__input:focus:checked+.radio__label[data-v-96d3b0ec]:before,.radio__input:checked+.radio__label[data-v-96d3b0ec]:before{border-color:#8c8c8c;background-color:#8c8c8c}.radio__input:checked+.radio__label[data-v-96d3b0ec]:after{opacity:1;transform:scale(.33);background-color:#fff}.radio__input:disabled+.radio__label[data-v-96d3b0ec]{opacity:.5;pointer-events:none}.radio__bucket--1 .radio__input:hover+.radio__label[data-v-96d3b0ec]:after{opacity:1;transform:scale(.33);background-color:#fff}.radio__bucket--1 .radio__input:hover+.radio__label[data-v-96d3b0ec]:before,.radio__bucket--1 .radio__input:focus:checked+.radio__label[data-v-96d3b0ec]:before,.radio__bucket--1 .radio__input:checked+.radio__label[data-v-96d3b0ec]:before{border-color:#7ca4a2;background-color:#7ca4a2}.radio__bucket--2 .radio__input:hover+.radio__label[data-v-96d3b0ec]:after{opacity:1;transform:scale(.33);background-color:#fff}.radio__bucket--2 .radio__input:hover+.radio__label[data-v-96d3b0ec]:before,.radio__bucket--2 .radio__input:focus:checked+.radio__label[data-v-96d3b0ec]:before,.radio__bucket--2 .radio__input:checked+.radio__label[data-v-96d3b0ec]:before{border-color:#70769f;background-color:#70769f}.radio__bucket--3 .radio__input:hover+.radio__label[data-v-96d3b0ec]:after{opacity:1;transform:scale(.33);background-color:#fff}.radio__bucket--3 .radio__input:hover+.radio__label[data-v-96d3b0ec]:before,.radio__bucket--3 .radio__input:focus:checked+.radio__label[data-v-96d3b0ec]:before,.radio__bucket--3 .radio__input:checked+.radio__label[data-v-96d3b0ec]:before{border-color:#e37a75;background-color:#e37a75}
`)();const __vue2_script$u={name:"A17Radio",mixins:[randKeyMixin],props:{customClass:{type:String,default:""},value:{default:""},name:{type:String,default:""},label:{type:String,default:""},initialValue:{default:""},disabled:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{selectedValue:{get:function(){return this.currentValue},set:function(e){this.currentValue=e,this.$emit("change",e)}}},methods:{uniqId:function(e){return this.name+"_"+e+"-"+this.randKey}}},__cssModules$u={};var __component__$u=normalizeComponent(__vue2_script$u,render$u,staticRenderFns$u,!1,__vue2_injectStyles$u,"96d3b0ec",null,null);function __vue2_injectStyles$u(e){for(let t in __cssModules$u)this[t]=__cssModules$u[t]}var a17Radio=function(){return __component__$u.exports}(),render$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"label-for":e.uniqId}},[n("ul",{staticClass:"radioGroup",class:e.radioClasses},e._l(e.radios,function(r,a){return n("li",{key:a,staticClass:"radioGroup__item"},[n("a17-radio",{attrs:{customClass:"radio__"+e.radioClass+"--"+(a+1),name:e.name,value:r.value,label:r.label,initialValue:e.currentValue,disabled:r.disabled},on:{change:e.changeValue}})],1)}),0)])},staticRenderFns$t=[],RadioGroup_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-5bcac194]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-5bcac194]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-5bcac194]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-5bcac194]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-5bcac194]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-5bcac194]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-5bcac194]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-5bcac194]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-5bcac194]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-5bcac194]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-5bcac194]{width:auto}}.radioGroup[data-v-5bcac194]{color:#262626}.radioGroup--inline[data-v-5bcac194]{display:flex;flex-flow:row wrap;overflow:hidden}.radioGroup--inline .radioGroup__item[data-v-5bcac194]{margin-right:20px}.radioGroup__item[data-v-5bcac194]{padding:7px 0 8px}
`)();const __vue2_script$t={name:"A17CheckboxGroup",mixins:[randKeyMixin,InputframeMixin,FormStoreMixin],props:{radioClass:{type:String,default:""},inline:{type:Boolean,default:!1},name:{type:String,default:""},label:{default:""},initialValue:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},radioClasses:function(){return[this.inline?"radioGroup--inline":""]}},methods:{updateFromStore:function(e){e!==this.currentValue&&this.updateValue(e)},updateValue:function(e){this.currentValue=e},changeValue:function(e){e!==this.currentValue&&(this.updateValue(e),this.$emit("change",this.currentValue),this.saveIntoStore(e))}}},__cssModules$t={};var __component__$t=normalizeComponent(__vue2_script$t,render$t,staticRenderFns$t,!1,__vue2_injectStyles$t,"5bcac194",null,null);function __vue2_injectStyles$t(e){for(let t in __cssModules$t)this[t]=__cssModules$t[t]}var a17RadioGroup=function(){return __component__$t.exports}(),render$s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],staticClass:"checkbox__input",class:e.checkboxClasses,attrs:{type:"checkbox",name:e.name,id:e.uniqId,disabled:e.disabled},domProps:{value:e.value,checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,e.value)>-1:e.checkedValue},on:{change:function(r){var a=e.checkedValue,o=r.target,s=!!o.checked;if(Array.isArray(a)){var l=e.value,c=e._i(a,l);o.checked?c<0&&(e.checkedValue=a.concat([l])):c>-1&&(e.checkedValue=a.slice(0,c).concat(a.slice(c+1)))}else e.checkedValue=s}}}),n("label",{staticClass:"checkbox__label",attrs:{for:e.uniqId}},[e._v(e._s(e.label)+" "),n("span",{staticClass:"checkbox__icon"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})])])])},staticRenderFns$s=[],Checkbox_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-6289904f]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-6289904f]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-6289904f]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-6289904f]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-6289904f]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-6289904f]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-6289904f]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-6289904f]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-6289904f]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-6289904f]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-6289904f]{width:auto}}.checkbox[data-v-6289904f]{color:#262626;min-width:30px}.checkbox__input[data-v-6289904f]{position:absolute;width:1px;height:1px;margin-top:-1px;margin-left:-1px;padding:0;border:0 none;clip:rect(1px,1px,1px,1px);overflow:hidden;opacity:0}.checkbox__label[data-v-6289904f]{display:block;position:relative;padding-left:25px;color:#8c8c8c;cursor:pointer}.checkbox__icon[data-v-6289904f],.checkbox__label[data-v-6289904f]:before{position:absolute;left:0;top:2px;width:15px;height:15px;border-radius:2px;transition:all .2s linear}.checkbox__label[data-v-6289904f]:before{content:"";background-color:#fbfbfb;border:1px solid #d9d9d9}.checkbox__icon[data-v-6289904f]{background-color:#8c8c8c;color:#fff;opacity:0}.checkbox__icon .icon[data-v-6289904f]{color:#fff;top:2px;position:relative;display:block;margin-left:auto;margin-right:auto}.checkbox__input:focus+.checkbox__label[data-v-6289904f]:before,.checkbox__label[data-v-6289904f]:hover:before{border-color:#a6a6a6}.checkbox__label[data-v-6289904f]:hover,.checkbox__input:hover+.checkbox__label[data-v-6289904f],.checkbox__input:checked+.checkbox__label[data-v-6289904f]{color:#262626}.checkbox__input:checked+.checkbox__label .checkbox__icon[data-v-6289904f]{opacity:1}.checkbox__input:disabled+.checkbox__label[data-v-6289904f]{opacity:.33;pointer-events:none}.checkbox__input:checked:disabled+.checkbox__label[data-v-6289904f]{opacity:.66;pointer-events:none}.checkbox__input--bold+.checkbox__label .checkbox__icon[data-v-6289904f]{background-color:#1d9f3c}.checkbox--minus .checkbox__label[data-v-6289904f]:after{content:"";display:block;width:9px;height:2px;background-color:#8c8c8c;position:absolute;left:3px;top:8px}.checkbox--minus .checkbox__input:checked+.checkbox__label .checkbox__icon[data-v-6289904f]{opacity:0}
`)();const __vue2_script$s={name:"A17Checkbox",mixins:[randKeyMixin],props:{value:{default:""},initialValue:{default:function(){return[]}},name:{type:String,default:""},theme:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{uniqId:function(e){return this.name+"_"+this.value+"-"+this.randKey},checkboxClasses:function(){return[this.theme?`checkbox__input--${this.theme}`:""]},checkedValue:{get:function(){return this.initialValue},set:function(e){this.$emit("change",e)}}}},__cssModules$s={};var __component__$s=normalizeComponent(__vue2_script$s,render$s,staticRenderFns$s,!1,__vue2_injectStyles$s,"6289904f",null,null);function __vue2_injectStyles$s(e){for(let t in __cssModules$s)this[t]=__cssModules$s[t]}var a17Checkbox=function(){return __component__$s.exports}(),ConfirmationMixin={props:{requireConfirmation:{type:Boolean,default:!1},confirmMessageText:{type:String,default:"Are you sure you want to change this option ?"},confirmTitleText:{type:String,default:"Confirm selection"}}},render$r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,name:e.name}},[n("div",{staticClass:"singleCheckbox",class:e.wrapperClasses},[n("span",{staticClass:"checkbox"},[n("input",{staticClass:"checkbox__input",class:e.checkboxClasses,attrs:{type:"checkbox",value:"true",name:e.name+"["+e.randKey+"]",id:e.uniqId,disabled:e.disabled},domProps:{checked:e.checkedValue}}),n("label",{staticClass:"checkbox__label",attrs:{for:e.uniqId},on:{click:function(r){return r.preventDefault(),e.changeCheckbox(r)}}},[e._v(e._s(e.label)+" "),n("span",{staticClass:"checkbox__icon"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})])])])]),e.requireConfirmation?[n("a17-dialog",{ref:"warningConfirm",attrs:{"modal-title":"Confirm","confirm-label":"Confirm"}},[n("p",{staticClass:"modal--tiny-title"},[n("strong",[e._v(e._s(e.confirmTitleText))])]),n("p",[e._v(e._s(e.confirmMessageText))])])]:e._e()],2)},staticRenderFns$r=[],SingleCheckbox_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-12a502be]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-12a502be]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-12a502be]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-12a502be]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-12a502be]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-12a502be]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-12a502be]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-12a502be]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-12a502be]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-12a502be]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-12a502be]{width:auto}}.checkbox[data-v-12a502be]{color:#262626;min-width:30px}.checkbox__input[data-v-12a502be]{position:absolute;width:1px;height:1px;margin-top:-1px;margin-left:-1px;padding:0;border:0 none;clip:rect(1px,1px,1px,1px);overflow:hidden;opacity:0}.checkbox__label[data-v-12a502be]{display:block;position:relative;padding-left:25px;color:#8c8c8c;cursor:pointer}.checkbox__icon[data-v-12a502be],.checkbox__label[data-v-12a502be]:before{position:absolute;left:0;top:2px;width:15px;height:15px;border-radius:2px;transition:all .2s linear}.checkbox__label[data-v-12a502be]:before{content:"";background-color:#fbfbfb;border:1px solid #d9d9d9}.checkbox__icon[data-v-12a502be]{background-color:#8c8c8c;color:#fff;opacity:0}.checkbox__icon .icon[data-v-12a502be]{color:#fff;top:2px;position:relative;display:block;margin-left:auto;margin-right:auto}.checkbox__input:focus+.checkbox__label[data-v-12a502be]:before,.checkbox__label[data-v-12a502be]:hover:before{border-color:#a6a6a6}.checkbox__label[data-v-12a502be]:hover,.checkbox__input:hover+.checkbox__label[data-v-12a502be],.checkbox__input--checked+.checkbox__label[data-v-12a502be]{color:#262626}.checkbox__input--checked+.checkbox__label .checkbox__icon[data-v-12a502be]{opacity:1}.checkbox__input:disabled+.checkbox__label[data-v-12a502be]{opacity:.33;pointer-events:none}.checkbox__input--checked:disabled+.checkbox__label[data-v-12a502be]{opacity:.66;pointer-events:none}.checkbox__input--bold+.checkbox__label .checkbox__icon[data-v-12a502be]{background-color:#1d9f3c}.checkbox--minus .checkbox__label[data-v-12a502be]:after{content:"";display:block;width:9px;height:2px;background-color:#8c8c8c;position:absolute;left:3px;top:8px}.checkbox--minus .checkbox__input--checked+.checkbox__label .checkbox__icon[data-v-12a502be]{opacity:0}.singleCheckbox--border[data-v-12a502be]{border:1px solid #e5e5e5;background-clip:padding-box;box-sizing:border-box;overflow:hidden;border-radius:2px;padding:0 15px}.singleCheckbox--border .checkbox__label[data-v-12a502be]{padding-left:25px;height:50px;line-height:50px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.singleCheckbox--border .checkbox__label[data-v-12a502be]:before,.singleCheckbox--border .checkbox__icon[data-v-12a502be]{top:50%;margin-top:-9px}
`)();const __vue2_script$r={name:"A17SingleCheckbox",mixins:[randKeyMixin,InputframeMixin,FormStoreMixin,ConfirmationMixin],props:{name:{type:String,default:""},initialValue:{type:Boolean,default:!0},theme:{type:String,default:""},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(){return this.name+"_"+this.randKey},wrapperClasses:function(){return[this.border?"singleCheckbox--border":""]},checkboxClasses:function(){return[this.theme?`checkbox__input--${this.theme}`:"",this.checkedValue?"checkbox__input--checked":""]},checkedValue:{get:function(){return this.currentValue},set:function(e){e!==this.currentValue&&(this.currentValue=e,typeof this.saveIntoStore!="undefined"&&this.saveIntoStore(e),this.$emit("change",e))}}},methods:{updateFromStore:function(e){this.checkedValue=e},changeCheckbox:function(){this.requireConfirmation?this.$refs.warningConfirm.open(()=>{this.checkedValue=!this.checkedValue}):this.checkedValue=!this.checkedValue}}},__cssModules$r={};var __component__$r=normalizeComponent(__vue2_script$r,render$r,staticRenderFns$r,!1,__vue2_injectStyles$r,"12a502be",null,null);function __vue2_injectStyles$r(e){for(let t in __cssModules$r)this[t]=__cssModules$r[t]}var a17SingleCheckbox=function(){return __component__$r.exports}(),CheckboxMixin={props:{min:{type:Number,default:0},max:{type:Number,default:0},disabled:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:this.selected}},watch:{selected:function(e){this.currentValue=e}},computed:{checkedValue:{get:function(){return this.currentValue},set:function(e){isEqual_1(e,this.currentValue)||(this.currentValue=e,typeof this.saveIntoStore!="undefined"&&this.saveIntoStore(e),this.$emit("change",e))}}},methods:{isMax:function(e){return e.length>this.max&&this.max>0},isMin:function(e){return e.length<this.min&&this.min>0}}},render$q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name}},[n("ul",{staticClass:"checkboxGroup",class:e.checkboxClasses},e._l(e.options,function(r){return n("li",{key:r.value,staticClass:"checkboxGroup__item"},[n("a17-checkbox",{attrs:{name:e.name,value:r.value,label:r.label,initialValue:e.currentValue,disabled:r.disabled||e.disabled},on:{change:e.changeValue}})],1)}),0)])},staticRenderFns$q=[],CheckboxGroup_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-83c88092]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-83c88092]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-83c88092]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-83c88092]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-83c88092]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-83c88092]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-83c88092]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-83c88092]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-83c88092]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-83c88092]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-83c88092]{width:auto}}.checkboxGroup[data-v-83c88092]{color:#262626}.checkboxGroup--inline[data-v-83c88092]{display:flex;flex-flow:row wrap;overflow:hidden}.checkboxGroup--inline .checkboxGroup__item[data-v-83c88092]{margin-right:20px}.checkboxGroup__item[data-v-83c88092]{padding:7px 0 8px}
`)();const __vue2_script$q={name:"A17CheckboxGroup",props:{name:{type:String,default:""},inline:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},mixins:[InputframeMixin,CheckboxMixin,FormStoreMixin],computed:{checkboxClasses:function(){return[this.inline?"checkboxGroup--inline":""]}},methods:{formatValue:function(e,t){const n=this;if(!e||!t)return;const r=this.isMax(e),a=this.isMin(e);(r||a)&&(isEqual_1(t,n.checkedValue)||(n.checkedValue=t))},updateFromStore:function(e){this.updateValue(e)},updateValue:function(e){this.checkedValue=e},changeValue:function(e){isEqual_1(e,this.currentValue)||this.updateValue(e)}},mounted:function(){this.max+this.min>0&&this.$watch("currentValue",this.formatValue,{immediate:!0})}},__cssModules$q={};var __component__$q=normalizeComponent(__vue2_script$q,render$q,staticRenderFns$q,!1,__vue2_injectStyles$q,"83c88092",null,null);function __vue2_injectStyles$q(e){for(let t in __cssModules$q)this[t]=__cssModules$q[t]}var a17CheckboxGroup=function(){return __component__$q.exports}();function FormDataAsObj(e){let t=null;const n=!1;let r=/[^\[\]]+|\[\]/g,a=null,o=[];function s(O){return!!(O&&typeof O=="object"&&"nodeType"in O&&O.nodeType===1)}function l(O){if(!(!O||typeof O!="object"))return Object.keys(O).filter(function(D){return!isNaN(parseInt(D,10))}).splice(-1)[0]}function c(O){const D=l(O);return typeof D=="string"?parseInt(D,10):0}function u(O){const D=l(O);return typeof D=="string"?parseInt(D,10)+1:0}function f(O){if(typeof O!="object"||O===null)return 0;let D=0,R;if(typeof Object.keys=="function")D=Object.keys(O).length;else for(R in O)O.hasOwnProperty(R)&&D++;return D}function m(O,D){if([].forEach)return[].forEach.call(O,D);let R;for(R=0;R<O.length;R++)D.call(O,O[R],R)}function h(O){return!O||(t=O,!d())||!v()?!1:I()}function d(){switch(typeof t){case"string":a=document.getElementById(t);break;case"object":s(t)&&(a=t);break}return a}function g(){return!!(a.enctype&&a.enctype==="multipart/form-data")}function v(){return o=a.querySelectorAll("input, textarea, select"),o.length}function _(O){return O.nodeName==="INPUT"&&O.type==="radio"}function y(O){return O.nodeName==="INPUT"&&O.type==="checkbox"}function q(O){return O.nodeName==="INPUT"&&O.type==="file"}function b(O){return O.nodeName==="TEXTAREA"}function x(O){return O.nodeName==="SELECT"&&O.type==="select-one"}function E(O){return O.nodeName==="SELECT"&&O.type==="select-multiple"}function T(O){return O.nodeName==="BUTTON"&&O.type==="submit"}function k(O){return O.checked}function A(O){return window.FileList&&O.files instanceof window.FileList}function M(O){if(_(O)||y(O))return k(O)?O.value:!1;if(q(O))return g()?A(O)&&O.files.length>0?O.files:O.value&&O.value!==""?O.value:!1:!1;if(b(O))return O.value&&O.value!==""?O.value:!1;if(x(O))return O.value&&O.value!==""?O.value:O.options&&O.options.length&&O.options[0].value!==""?O.options[0].value:!1;if(E(O))if(O.options&&O.options.length>0){const D=[];return m(O.options,function(R){R.selected&&D.push(R.value)}),D.length?D:!1}else return!1;return T(O)?O.value&&O.value!==""?O.value:O.innerText&&O.innerText!==""?O.innerText:!1:typeof O.value!="undefined"&&O.value!==""?O.value:!1}function S(O,D,R,w){const B=D[0];if(_(O))return R!==!1?(w[B]=R,R):void 0;if(y(O))return R!==!1?(w[B]||(w[B]=[]),w[B].push(R)):void 0;if(E(O))if(R!==!1)w[B]=R;else return;return w[B]=R,R}function C(O,D,R,w){const B=D[0];if(D.length>1)return B==="[]"?(w[u(w)]={},C(O,D.splice(1,D.length),R,w[c(w)])):(w[B]&&f(w[B])>0||(w[B]={}),C(O,D.splice(1,D.length),R,w[B]));if(D.length===1)return B==="[]"?(w[u(w)]=R,w):(S(O,D,R,w),w)}function I(){let O=0,D,R,w;const B={};for(O=0;O<o.length;O++)R=o[O],!(!R.name||R.name===""||R.disabled||_(R)&&!k(R))&&(w=M(R),!(w===!1&&!n)&&(D=R.name.match(r),D.length===1&&S(R,D,w||"",B),D.length>1&&C(R,D,w||"",B)));return f(B)>0?B:!1}return h(e)}var render$p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{ref:"form",staticClass:"filter",class:{"filter--opened":e.opened,"filter--single":!e.withNavigation,"filter--full":!e.withNavigation&&e.fullWidth,"filter--withHiddenFilters":e.withHiddenFilters},on:{submit:function(r){return r.preventDefault(),e.submitFilter(r)}}},[n("div",{staticClass:"filter__inner"},[n("div",{staticClass:"filter__navigation"},[e._t("navigation")],2),n("div",{staticClass:"filter__search"},[n("input",{staticClass:"form__input form__input--small",attrs:{type:"search",name:"search",placeholder:e.placeholder},domProps:{value:e.searchValue},on:{input:e.onSearchInput}}),e.withHiddenFilters?n("a17-button",{staticClass:"filter__toggle",attrs:{variant:"ghost","aria-expanded":e.opened?"true":"false"},on:{click:e.toggleFilter}},[e._v(e._s(e.$trans("filter.toggle-label","Filter"))+" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):e._e(),e._t("additional-actions"),n("button",{staticClass:"visually-hidden",attrs:{"aria-hidden":"true",type:"submit"}},[e._v(e._s(e.$trans("filter.apply-btn","Apply")))])],2)]),n("transition",{attrs:{css:!1,duration:275},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},[e.withHiddenFilters?n("div",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],ref:"more",staticClass:"filter__more",attrs:{"aria-hidden":e.opened?null:!0}},[n("div",{ref:"moreInner",staticClass:"filter__moreInner"},[e._t("hidden-filters"),n("a17-button",{attrs:{variant:"ghost",type:"submit"}},[e._v(e._s(e.$trans("filter.apply-btn","Apply")))]),e.clearOption?n("a17-button",{attrs:{variant:"ghost",type:"button"},on:{click:e.clear}},[e._v(e._s(e.$trans("filter.clear-btn","Clear")))]):e._e()],2)]):e._e()])],1)},staticRenderFns$p=[],Filter_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-74c2fa74]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-74c2fa74]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-74c2fa74]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-74c2fa74]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-74c2fa74]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-74c2fa74]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-74c2fa74]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-74c2fa74]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-74c2fa74]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-74c2fa74]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-74c2fa74]{width:auto}}.filter__inner[data-v-74c2fa74]{display:flex;justify-content:space-between}.filter__search[data-v-74c2fa74]{padding:20px 0;white-space:nowrap}.filter__search input[data-v-74c2fa74]{display:inline-block;width:20vw;max-width:300px}.filter__search .icon[data-v-74c2fa74]{position:relative;top:-2px;margin-left:9px}.filter__search div[data-v-74c2fa74]{display:inline-block}.filter__search div button[data-v-74c2fa74],.filter__search div a[data-v-74c2fa74]{vertical-align:middle}.filter__search div input[data-v-74c2fa74],.filter__search div button[data-v-74c2fa74],.filter__search div a[data-v-74c2fa74]{margin-left:15px}@media screen and (max-width: 599px){.filter--withHiddenFilters .filter__inner[data-v-74c2fa74]{display:block}.filter--withHiddenFilters .filter__search[data-v-74c2fa74]{display:flex}.filter--withHiddenFilters .filter__search input[data-v-74c2fa74]{flex-grow:1}}.filter--full .filter__search[data-v-74c2fa74]{display:flex;width:100%}.filter--full .filter__search>div[data-v-74c2fa74]{display:flex;flex-direction:row-reverse}.filter__more[data-v-74c2fa74]{transition:height .275s ease;overflow:hidden}.filter__moreInner[data-v-74c2fa74]{padding:20px 0 0;border-top:1px solid #e5e5e5}.filter__moreInner button[data-v-74c2fa74]{margin-right:10px;margin-bottom:20px}@media screen and (min-width: 600px){.filter__moreInner[data-v-74c2fa74]{display:flex;flex-flow:row wrap}}.filter__toggle[data-v-74c2fa74]{position:relative;padding-right:40px!important;margin-left:15px!important}.filter__toggle .icon[data-v-74c2fa74]{transition:all .2s linear;transform:rotate(0);position:absolute;right:20px;top:50%;margin-top:-3px}.filter--opened .filter__toggle .icon[data-v-74c2fa74]{transform:rotate(180deg)}.filter--single .filter__navigation[data-v-74c2fa74]{display:none}
`)(),Filter_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.filter .filter__moreInner .input{margin-top:0;margin-bottom:20px}@media screen and (min-width: 600px){.filter .filter__moreInner .input{margin-top:0;margin-right:20px}.filter .filter__moreInner>div{display:flex;flex-flow:row wrap}.filter .filter__moreInner>div>*{margin-right:20px}}
`)();const __vue2_script$p={name:"A17Filter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return this.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,t){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,t){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=FormDataAsObj(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e.target.value},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){!this.$refs.more||(this.$refs.more.style.height=this.getHeight()+"px")},_resize:debounce_1(function(){this.resetHeight()},50)},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},__cssModules$p={};var __component__$p=normalizeComponent(__vue2_script$p,render$p,staticRenderFns$p,!1,__vue2_injectStyles$p,"74c2fa74",null,null);function __vue2_injectStyles$p(e){for(let t in __cssModules$p)this[t]=__cssModules$p[t]}var a17Filter=function(){return __component__$p.exports}(),render$o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multiselectorPermissions"},[e.searchable?n("div",{staticClass:"multiselectorPermissions__filter"},[n("a17-filter",{attrs:{"full-width":!0},on:{submit:e.submitFilter}},[e.groups.length&&e.listUser?n("div",{staticClass:"multiselectorPermissions__groups",attrs:{slot:"additional-actions"},slot:"additional-actions"},[n("a17-dropdown",{ref:"groupDropdown",staticClass:"multiselectorPermissions__dd",attrs:{position:"bottom-right",clickable:!0}},[n("button",{staticClass:"multiselectorPermissions__button",attrs:{type:"button"},on:{click:function(r){return e.$refs.groupDropdown.toggle()}}},[e._v("Groups")]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[n("a17-checkboxgroup",{attrs:{name:"permissionsGroups",selected:e.activeGroups,options:e.groups},on:{change:e.updateUserPermission}})],1)])],1):e._e()])],1):e._e(),n("div",{staticClass:"multiselectorPermissions__items"},[e._t("default"),e.empty?n("div",{staticClass:"multiselectorPermissions__empty",style:e.emptyStyle},[n("h4",[e._v(e._s(e.emptyMessage))])]):e._e(),e.allHidden?n("div",{staticClass:"multiselectorPermissions__empty",style:e.emptyStyle},[n("h4",[e._v(e._s(e.allHiddenMessage))])]):e._e()],2)])},staticRenderFns$o=[],SingleSelectPermissions_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-f79815be]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-f79815be]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-f79815be]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-f79815be]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-f79815be]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-f79815be]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-f79815be]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-f79815be]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-f79815be]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-f79815be]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-f79815be]{width:auto}}.multiselectorPermissions__items[data-v-f79815be]{border:1px solid #e5e5e5;margin-top:20px}.multiselectorPermissions__filter[data-v-f79815be]{background:#f2f2f2;margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px}.multiselectorPermissions__filter .filter__search[data-v-f79815be]{display:flex;width:100%}.multiselectorPermissions__item[data-v-f79815be]{padding-left:20px;border-bottom:1px solid #f2f2f2;display:flex;align-items:center;flex-wrap:wrap}.multiselectorPermissions__item label[data-v-f79815be]{padding:20px 0;flex-grow:1}.multiselectorPermissions__item .multiselectorOuter[data-v-f79815be]{padding:13.5px 0}.multiselectorPermissions__item .avatar[data-v-f79815be]{margin-left:-8px}.multiselectorPermissions__item .avatar+label[data-v-f79815be]{margin-left:10px}.multiselectorPermissions__item[data-v-f79815be]:last-child{border-bottom:0 none}.multiselectorPermissions__item.multiselectorPermissions__item--hidden[data-v-f79815be]{display:none}.multiselectorPermissions__empty[data-v-f79815be]{display:flex;justify-content:center;align-items:center;min-height:120px;padding:15px 20px}.multiselectorPermissions__empty h4[data-v-f79815be]{font-size:18px;font-weight:400;color:#8c8c8c}.multiselectorPermissions__groups[data-v-f79815be]{flex-grow:1;display:flex;align-items:flex-end}.multiselectorPermissions__button[data-v-f79815be]{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;border:1px solid #d9d9d9;background-color:#fff;border-radius:2px;color:#8c8c8c;height:35px;min-width:120px;text-align:left;position:relative;margin:0 0 0 auto}@media screen and (min-width: 1040px){.multiselectorPermissions__button[data-v-f79815be]{min-width:200px}}.multiselectorPermissions__button[data-v-f79815be]:after{content:"";display:inline-block;width:0;height:0;margin-top:-1px;border-width:4px 4px 0;border-style:solid;border-color:#a6a6a6 transparent transparent;position:absolute;right:10px;top:50%;margin-left:5px}.multiselectorPermissions__button[data-v-f79815be]:focus,.multiselectorPermissions__button[data-v-f79815be]:hover{color:#262626}.multiselectorPermissions__button[data-v-f79815be]:focus:after,.multiselectorPermissions__button[data-v-f79815be]:hover:after{border-color:#262626 transparent transparent}
`)();const __vue2_script$o={name:"A17SingleSelectPermissions",components:{"a17-filter":a17Filter},props:{searchable:{type:Boolean,default:!0},listUser:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No results found. Please try another search"},allHiddenMessage:{type:String,default:"Use the search box to find items"}},data:function(){return{empty:!1,allHidden:!1,activeGroups:[],emptyHeight:120}},computed:{emptyStyle:function(){return{height:this.emptyHeight+"px"}},...mapGetters(["fieldsByName"]),...mapState({groups:e=>e.permissions.groups,groupUserMapping:e=>e.permissions.groupUserMapping})},mounted(){if(!this.listUser){const e=this.$el.querySelectorAll("[data-singleselect-permissions-field]"),t="multiselectorPermissions__item--hidden";if(e.length){let n=0;e.forEach(r=>{const a=r.getAttribute("data-singleselect-permissions-field"),o=this.fieldsByName(a);(o.length?o[0].value:"")||(r.classList.add(t),n++)}),n===e.length&&(this.allHidden=!0)}}},methods:{submitFilter(e){const t=this.$el.querySelectorAll("[data-singleselect-permissions-filterable]"),n="multiselectorPermissions__item--hidden";t.length&&(this.emptyHeight=Math.max(120,t[0].parentElement.offsetHeight),this.empty=!0,this.allHidden=!1,t.forEach(r=>{const a=r.getAttribute("data-singleselect-permissions-filterable");if(e.search){const o=e.search;a.toUpperCase().includes(o.toUpperCase())?(r.classList.remove(n),this.empty=!1):r.classList.add(n)}else r.classList.remove(n),this.empty=!1}))},setUserPermission(e){const t={};t.name=e,t.value="view-item",this.$store.commit(FORM.UPDATE_FORM_FIELD,t)},updateUserPermission(e){this.activeGroups=e,e.forEach(t=>{this.groupUserMapping[t]&&this.groupUserMapping[t].forEach(n=>{const r=`user_${n}_permission`,a=this.fieldsByName(r);a.length?(a[0].value===""||a[0].value==="view-item")&&this.setUserPermission(r):this.setUserPermission(r)})})}}},__cssModules$o={};var __component__$o=normalizeComponent(__vue2_script$o,render$o,staticRenderFns$o,!1,__vue2_injectStyles$o,"f79815be",null,null);function __vue2_injectStyles$o(e){for(let t in __cssModules$o)this[t]=__cssModules$o[t]}var A17SingleSelectPermissions=function(){return __component__$o.exports}(),render$n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multiselectorOuter"},[n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"add-new":e.addNew}},[n("div",{staticClass:"multiselector",class:e.gridClasses},[n("div",{staticClass:"multiselector__outer"},e._l(e.fullOptions,function(r,a){return n("div",{key:a,staticClass:"multiselector__item",style:e.itemStyle},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],staticClass:"multiselector__checkbox",class:{"multiselector__checkbox--checked":e.checkedValue.includes(r.value)},attrs:{type:"checkbox",name:e.name+"["+e.randKey+"]",id:e.uniqId(r.value,a),disabled:r.disabled||e.disabled},domProps:{value:r.value,checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,r.value)>-1:e.checkedValue},on:{change:function(o){var s=e.checkedValue,l=o.target,c=!!l.checked;if(Array.isArray(s)){var u=r.value,f=e._i(s,u);l.checked?f<0&&(e.checkedValue=s.concat([u])):f>-1&&(e.checkedValue=s.slice(0,f).concat(s.slice(f+1)))}else e.checkedValue=c}}}),n("label",{staticClass:"multiselector__label",attrs:{for:e.uniqId(r.value,a)},on:{click:function(o){return o.preventDefault(),e.changeCheckbox(r.value)}}},[n("span",{staticClass:"multiselector__icon"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})]),e._v(" "+e._s(r.label)+" ")]),n("span",{staticClass:"multiselector__bg"})])}),0)])]),e.addNew?[n("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},staticRenderFns$n=[],MultiSelect_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-f95def46]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-f95def46]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-f95def46]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-f95def46]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-f95def46]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-f95def46]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-f95def46]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-f95def46]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-f95def46]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-f95def46]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-f95def46]{width:auto}}.multiselector[data-v-f95def46]{color:#262626}.multiselector__outer[data-v-f95def46]{display:block}.multiselector__checkbox[data-v-f95def46]{position:absolute;width:1px;height:1px;margin-top:-1px;margin-left:-1px;padding:0;border:0 none;clip:rect(1px,1px,1px,1px);overflow:hidden}.multiselector__label[data-v-f95def46]{display:block;position:relative;color:#8c8c8c;cursor:pointer;z-index:1;padding-left:25px;padding-right:5px}.multiselector__bg[data-v-f95def46]{display:none}.multiselector__icon[data-v-f95def46]{display:block;position:absolute;left:0;top:2px;width:15px;height:15px;border:1px solid #d9d9d9;background:#fbfbfb;border-radius:2px;transition:all .25s cubic-bezier(.5,-.6,.5,1.6)}.multiselector__icon .icon[data-v-f95def46]{color:#fff;top:1px;position:relative;line-height:11px;display:block;margin-left:auto;margin-right:auto}.multiselector__item[data-v-f95def46]{padding:7px 0 8px}.multiselector__label:hover .multiselector__icon[data-v-f95def46],.multiselector__label:focus .multiselector__icon[data-v-f95def46]{border-color:#a6a6a6}.multiselector__label[data-v-f95def46]:hover,.multiselector__checkbox:hover+.multiselector__label[data-v-f95def46],.multiselector__checkbox:focus+.multiselector__label[data-v-f95def46],.multiselector__checkbox--checked+.multiselector__label[data-v-f95def46]{color:#262626}.multiselector__checkbox:disabled+.multiselector__label[data-v-f95def46]{opacity:.5;pointer-events:none}.multiselector__checkbox:focus+.multiselector__label .multiselector__icon[data-v-f95def46]{border-color:#ccc}.multiselector__checkbox:hover+.multiselector__label+.multiselector__bg[data-v-f95def46],.multiselector__checkbox--checked+.multiselector__label+.multiselector__bg[data-v-f95def46]{background-color:#fbfbfb}.multiselector__checkbox--checked+.multiselector__label .multiselector__icon[data-v-f95def46]{border-color:#8c8c8c;background-color:#8c8c8c}.multiselector__checkbox--checked:focus+.multiselector__label .multiselector__icon[data-v-f95def46]{border-color:#8c8c8c}.multiselector--grid[data-v-f95def46],.multiselector--columns[data-v-f95def46]{border:1px solid #e5e5e5;background-clip:padding-box;box-sizing:border-box;overflow:hidden;border-radius:2px}.multiselector--grid .multiselector__outer[data-v-f95def46],.multiselector--columns .multiselector__outer[data-v-f95def46]{display:flex;flex-direction:row;flex-wrap:wrap;box-sizing:border-box;overflow:hidden;margin-bottom:-1px;margin-right:-1px}.multiselector--grid .multiselector__item[data-v-f95def46],.multiselector--columns .multiselector__item[data-v-f95def46]{width:100%;height:50%;border-right:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;overflow:hidden;position:relative;padding:0}@media screen and (min-width: 600px) and (max-width: 849px){.multiselector--grid .multiselector__item[data-v-f95def46],.multiselector--columns .multiselector__item[data-v-f95def46]{width:33.3333%}}@media screen and (min-width: 850px) and (max-width: 1039px){.multiselector--grid .multiselector__item[data-v-f95def46],.multiselector--columns .multiselector__item[data-v-f95def46]{width:100%}}@media screen and (min-width: 1040px) and (max-width: 1539px){.multiselector--grid .multiselector__item[data-v-f95def46],.multiselector--columns .multiselector__item[data-v-f95def46]{width:33.3333%}}@media screen and (min-width: 1040px){.multiselector--grid .multiselector__item[data-v-f95def46],.multiselector--columns .multiselector__item[data-v-f95def46]{width:25%}}.multiselector--grid .multiselector__label[data-v-f95def46],.multiselector--columns .multiselector__label[data-v-f95def46]{height:50px;line-height:50px;padding-left:40px;color:#8c8c8c;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.multiselector--grid .multiselector__icon[data-v-f95def46],.multiselector--columns .multiselector__icon[data-v-f95def46]{left:15px;top:50%;margin-top:-8px}.multiselector--grid .multiselector__bg[data-v-f95def46]{display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;background-color:#fff;transition:background-color .25s cubic-bezier(.5,-.6,.5,1.6)}.multiselector--grid .multiselector__checkbox--checked+.multiselector__label .multiselector__icon[data-v-f95def46]{border-color:#1d9f3c;background-color:#1d9f3c}.multiselector--grid .multiselector__checkbox--checked:focus+.multiselector__label .multiselector__icon[data-v-f95def46]{border-color:#1d9f3c}.s--in-editor .multiselector--grid .multiselector__item[data-v-f95def46],.s--in-editor .multiselector--columns .multiselector__item[data-v-f95def46]{width:100%!important}.multiselector--inline .multiselector__outer[data-v-f95def46]{display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden}.multiselector--inline .multiselector__item[data-v-f95def46]{margin-right:20px}.multiselector--border[data-v-f95def46]{border:1px solid #e5e5e5;background-clip:padding-box;box-sizing:border-box;overflow:hidden;border-radius:2px;padding:7px 15px}.multiselector--border.multiselector--inline[data-v-f95def46]{padding:0 15px}.multiselector--border.multiselector--inline .multiselector__outer[data-v-f95def46]{box-sizing:border-box;overflow:hidden;margin-bottom:-1px;margin-right:-1px}.multiselector--border.multiselector--inline .multiselector__item[data-v-f95def46]{padding:0;height:50%;overflow:hidden;position:relative}.multiselector--border.multiselector--inline .multiselector__label[data-v-f95def46]{padding-left:25px;height:50px;line-height:50px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.multiselector--border.multiselector--inline .multiselector__label .multiselector__icon[data-v-f95def46]{top:50%;margin-top:-9px}
`)();const __vue2_script$n={name:"A17Multiselect",mixins:[randKeyMixin,InputframeMixin,CheckboxMixin,FormStoreMixin,AttributesMixin],props:{grid:{type:Boolean,default:!0},columns:{type:Number,default:0},inline:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},computed:{gridClasses:function(){return this.columns>=1?["multiselector--columns",this.grid?"multiselector--grid":""]:[this.grid?"multiselector--grid":"",this.inline?"multiselector--inline":"",this.border?"multiselector--border":""]},itemStyle:function(){return this.columns>=1?{width:`${100/this.columns}%`}:{}}},methods:{updateFromStore:function(e){isEqual_1(e,this.checkedValue)||(this.checkedValue=e)},changeCheckbox:function(e){const t=this.checkedValue.indexOf(e),n=this.checkedValue.slice();t>-1?n.splice(t,1):n.push(e);const r=this.isMax(n),a=this.isMin(n);r||a||(this.checkedValue=n)},uniqId:function(e,t){return this.name+"_"+e+"-"+this.randKey*(t+1)}}},__cssModules$n={};var __component__$n=normalizeComponent(__vue2_script$n,render$n,staticRenderFns$n,!1,__vue2_injectStyles$n,"f95def46",null,null);function __vue2_injectStyles$n(e){for(let t in __cssModules$n)this[t]=__cssModules$n[t]}var a17Multiselect=function(){return __component__$n.exports}(),render$m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.outerClasses},[n("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"add-new":e.addNew,variant:e.variantInput}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"hidden",name:e.name},domProps:{value:e.value},on:{input:function(r){r.target.composing||(e.value=r.target.value)}}}),n("div",{staticClass:"singleselector",class:e.gridClasses},[n("div",{staticClass:"singleselector__outer"},e._l(e.fullOptions,function(r,a){return n("div",{key:a,staticClass:"singleselector__item",style:e.itemStyle},[n("input",{staticClass:"singleselector__radio",class:{"singleselector__radio--checked":r.value==e.selectedValue},attrs:{type:"radio",name:e.name+"["+e.randKey+"]",id:e.uniqId(r.value,a),disabled:r.disabled||e.disabled},domProps:{value:r.value}}),n("label",{staticClass:"singleselector__label",attrs:{for:e.uniqId(r.value,a)},on:{click:function(o){return o.preventDefault(),e.changeRadio(r.value)}}},[e._v(e._s(r.label))]),n("span",{staticClass:"singleselector__bg"})])}),0)])]),e.addNew?[n("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e(),e.requireConfirmation?[n("a17-dialog",{ref:"warningConfirm",attrs:{"modal-title":"Confirm","confirm-label":"Confirm"}},[n("p",{staticClass:"modal--tiny-title"},[n("strong",[e._v(e._s(e.confirmTitleText))])]),n("p",[e._v(e._s(e.confirmMessageText))])])]:e._e()],2)},staticRenderFns$m=[],SingleSelect_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-218ca7a2]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-218ca7a2]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-218ca7a2]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-218ca7a2]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-218ca7a2]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-218ca7a2]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-218ca7a2]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-218ca7a2]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-218ca7a2]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-218ca7a2]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-218ca7a2]{width:auto}}.singleselector[data-v-218ca7a2]{color:#262626}.singleselector__radio[data-v-218ca7a2]{position:absolute;width:1px;height:1px;margin-top:-1px;margin-left:-1px;padding:0;border:0 none;clip:rect(1px,1px,1px,1px);overflow:hidden}.singleselector__label[data-v-218ca7a2]{display:block;position:relative;padding-left:25px;color:#8c8c8c;cursor:pointer;z-index:1;padding-right:5px}.singleselector__bg[data-v-218ca7a2]{display:none}.singleselector__item[data-v-218ca7a2]{padding:7px 0 8px}.singleselector__label[data-v-218ca7a2]:before,.singleselector__label[data-v-218ca7a2]:after{content:"";position:absolute;left:0;top:1px;width:18px;height:18px;border-radius:50%;transition:all .25s cubic-bezier(.5,-.6,.5,1.6)}.singleselector__label[data-v-218ca7a2]:before{border:1px solid #d9d9d9;background-color:#fbfbfb}.singleselector__label[data-v-218ca7a2]:after{border:0 none;background-color:#a6a6a6;opacity:0;transform:scale(.1)}.singleselector__label[data-v-218ca7a2]:hover:before,.singleselector__radio:focus+.singleselector__label[data-v-218ca7a2]:before{border-color:#a6a6a6}.singleselector__label[data-v-218ca7a2]:hover,.singleselector__radio:hover+.singleselector__label[data-v-218ca7a2],.singleselector__radio:focus+.singleselector__label[data-v-218ca7a2],.singleselector__radio--checked+.singleselector__label[data-v-218ca7a2]{color:#262626}.singleselector__radio--checked+.singleselector__label[data-v-218ca7a2]:after{opacity:1;transform:scale(.33);background-color:#fff}.singleselector__radio:disabled+.singleselector__label[data-v-218ca7a2]{opacity:.5;pointer-events:none}.singleselector__radio:focus+.singleselector__label[data-v-218ca7a2]:before{border-color:#ccc}.singleselector__radio:hover+.singleselector__label+.singleselector__bg[data-v-218ca7a2],.singleselector__radio--checked+.singleselector__label+.singleselector__bg[data-v-218ca7a2]{background:#fbfbfb}.singleselector__radio--checked+.singleselector__label[data-v-218ca7a2]:before{border-color:#8c8c8c;background-color:#8c8c8c}.singleselector__radio--checked:focus+.singleselector__label[data-v-218ca7a2]:before{border-color:#8c8c8c}.singleselector--grid[data-v-218ca7a2],.singleselector--columns[data-v-218ca7a2]{border:1px solid #e5e5e5;background-clip:padding-box;box-sizing:border-box;overflow:hidden;border-radius:2px}.singleselector--grid .singleselector__outer[data-v-218ca7a2],.singleselector--columns .singleselector__outer[data-v-218ca7a2]{display:flex;flex-direction:row;flex-wrap:wrap;box-sizing:border-box;overflow:hidden;margin-bottom:-1px;margin-right:-1px}.singleselector--grid .singleselector__item[data-v-218ca7a2],.singleselector--columns .singleselector__item[data-v-218ca7a2]{padding:0;width:100%;height:50%;border-right:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;overflow:hidden;position:relative}@media screen and (min-width: 600px) and (max-width: 849px){.singleselector--grid .singleselector__item[data-v-218ca7a2],.singleselector--columns .singleselector__item[data-v-218ca7a2]{width:33.3333%}}@media screen and (min-width: 850px) and (max-width: 1039px){.singleselector--grid .singleselector__item[data-v-218ca7a2],.singleselector--columns .singleselector__item[data-v-218ca7a2]{width:100%}}@media screen and (min-width: 1040px) and (max-width: 1539px){.singleselector--grid .singleselector__item[data-v-218ca7a2],.singleselector--columns .singleselector__item[data-v-218ca7a2]{width:33.3333%}}@media screen and (min-width: 1040px){.singleselector--grid .singleselector__item[data-v-218ca7a2],.singleselector--columns .singleselector__item[data-v-218ca7a2]{width:25%}}.singleselector--grid .singleselector__label[data-v-218ca7a2],.singleselector--columns .singleselector__label[data-v-218ca7a2]{padding-left:43px;color:#8c8c8c;height:50px;line-height:50px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.singleselector--grid .singleselector__label[data-v-218ca7a2]:before,.singleselector--grid .singleselector__label[data-v-218ca7a2]:after,.singleselector--columns .singleselector__label[data-v-218ca7a2]:before,.singleselector--columns .singleselector__label[data-v-218ca7a2]:after{left:15px;top:50%;margin-top:-9px}.singleselector--grid .singleselector__bg[data-v-218ca7a2]{display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;background:#fff;transition:background-color .25s cubic-bezier(.5,-.6,.5,1.6)}.singleselector--grid .singleselector__radio--checked+.singleselector__label[data-v-218ca7a2]:before{border-color:#148ddb;background-color:#148ddb}.singleselector--grid .singleselector__radio--checked:focus+.singleselector__label[data-v-218ca7a2]:before{border-color:#148ddb}.s--in-editor .singleselector--grid .singleselector__item[data-v-218ca7a2],.s--in-editor .singleselector--columns .singleselector__item[data-v-218ca7a2]{width:100%!important}.singleselector--inline .singleselector__outer[data-v-218ca7a2]{display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden}.singleselector--inline .singleselector__item[data-v-218ca7a2]{margin-right:20px}.singleselector--border[data-v-218ca7a2]{border:1px solid #e5e5e5;background-clip:padding-box;box-sizing:border-box;overflow:hidden;border-radius:2px;padding:7px 15px}.singleselector--border.singleselector--inline[data-v-218ca7a2]{padding:0 15px}.singleselector--border.singleselector--inline .singleselector__outer[data-v-218ca7a2]{box-sizing:border-box;overflow:hidden;margin-bottom:-1px;margin-right:-1px}.singleselector--border.singleselector--inline .singleselector__item[data-v-218ca7a2]{padding:0;height:50%;overflow:hidden;position:relative}.singleselector--border.singleselector--inline .singleselector__label[data-v-218ca7a2]{padding-left:25px;height:50px;line-height:50px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.singleselector--border.singleselector--inline .singleselector__label[data-v-218ca7a2]:before,.singleselector--border.singleselector--inline .singleselector__label[data-v-218ca7a2]:after{top:50%;margin-top:-9px}
`)();const __vue2_script$m={name:"A17Singleselect",mixins:[randKeyMixin,InputframeMixin,FormStoreMixin,AttributesMixin,ConfirmationMixin],props:{name:{type:String,default:""},grid:{type:Boolean,default:!0},columns:{type:Number,default:0},inline:{type:Boolean,default:!0},inTable:{type:Boolean,default:!1},border:{type:Boolean,default:!1},selected:{default:""},options:{default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{value:this.selected}},computed:{variantInput:function(){return[this.inTable?"intable":""].join(" ")},outerClasses:function(){return["multiselectorOuter"]},gridClasses:function(){return this.columns>=1?["singleselector--columns",this.grid?"singleselector--grid":""]:[this.grid?"singleselector--grid":"",this.inline?"singleselector--inline":"",this.border?"singleselector--border":""]},itemStyle:function(){return this.columns>=1?{width:`${100/this.columns}%`}:{}},selectedValue:{get:function(){return this.value},set:function(e){e!==this.value&&(this.value=e,this.saveIntoStore(e),this.$emit("change",e))}}},methods:{updateFromStore:function(e){e!==this.value&&(this.value=e)},changeRadio:function(e){this.requireConfirmation?this.$refs.warningConfirm.open(()=>{this.selectedValue=e}):this.selectedValue=e},uniqId:function(e,t){return this.name+"_"+e+"-"+this.randKey*(t+1)}}},__cssModules$m={};var __component__$m=normalizeComponent(__vue2_script$m,render$m,staticRenderFns$m,!1,__vue2_injectStyles$m,"218ca7a2",null,null);function __vue2_injectStyles$m(e){for(let t in __cssModules$m)this[t]=__cssModules$m[t]}var a17Singleselect=function(){return __component__$m.exports}(),render$l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown",class:e.dropdownClasses,attrs:{"aria-title":e.title}},[e.fixed?n("div",{ref:"dropdown__cta"},[e._t("default")],2):e._t("default"),n("transition",{attrs:{name:"fade_move_dropdown"}},[e.active?n("div",{ref:"dropdown__position",staticClass:"dropdown__position"},[n("div",{staticClass:"dropdown__content",style:e.offsetStyle,attrs:{"data-dropdown-content":""}},[n("div",{staticClass:"dropdown__inner"},[e.arrow?n("span",{staticClass:"dropdown__arrow"}):e._e(),n("div",{staticClass:"dropdown__scroller",style:e.innerStyle},[e.title?n("span",{staticClass:"dropdown__title f--small"},[e._v(e._s(e.title))]):e._e(),e._t("dropdown__content")],2)])])]):e._e()])],2)},staticRenderFns$l=[],Dropdown_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-1f3d4b20]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-1f3d4b20]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-1f3d4b20]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-1f3d4b20]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-1f3d4b20]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-1f3d4b20]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-1f3d4b20]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-1f3d4b20]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-1f3d4b20]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-1f3d4b20]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-1f3d4b20]{width:auto}}.dropdown[data-v-1f3d4b20]{display:inherit;position:relative}.dropdown__position[data-v-1f3d4b20]{position:absolute;z-index:100}.dropdown--fixed .dropdown__position[data-v-1f3d4b20]{position:fixed}.dropdown--bottom .dropdown__position[data-v-1f3d4b20]{top:100%}.dropdown--top .dropdown__position[data-v-1f3d4b20]{bottom:100%}.dropdown--left .dropdown__position[data-v-1f3d4b20]{left:0}.dropdown--center .dropdown__position[data-v-1f3d4b20]{left:50%}.dropdown--center .dropdown__position .dropdown__content[data-v-1f3d4b20]{transform:translate(-50%)}.dropdown--right .dropdown__position[data-v-1f3d4b20]{right:0}.dropdown__title[data-v-1f3d4b20]{height:35px;line-height:35px;white-space:nowrap;overflow:hidden;padding:0 15px;border-bottom:1px solid #f2f2f2;display:block;margin-bottom:10px;color:#8c8c8c}.dropdown__content[data-v-1f3d4b20]{max-width:300px}.dropdown--full .dropdown__position[data-v-1f3d4b20],.dropdown--full .dropdown__position .dropdown__content[data-v-1f3d4b20]{max-width:100%;width:100%}.dropdown__inner[data-v-1f3d4b20]{position:relative;background:rgba(255,255,255,.98);border-radius:2px;box-shadow:0 0 5px #0000004d;max-width:calc(100vw - 10px)}.dropdown__scroller[data-v-1f3d4b20]{padding:10px 0}.dropdown--arrow.dropdown--bottom .dropdown__content[data-v-1f3d4b20]{margin-top:15px}.dropdown--arrow.dropdown--top .dropdown__content[data-v-1f3d4b20]{margin-bottom:15px}.dropdown--arrow .dropdown__arrow[data-v-1f3d4b20]{left:50%;pointer-events:none;width:50px;height:10px;overflow:hidden;position:absolute}.dropdown--arrow .dropdown__arrow[data-v-1f3d4b20]:after{border:solid transparent;content:"";left:50%;display:block;margin-top:5px;margin-left:-5px;position:absolute;width:10px;height:10px;background-color:#fff;box-shadow:0 0 5px #0000004d;transform:rotate(45deg)}.dropdown--bottom .dropdown__arrow[data-v-1f3d4b20]{bottom:100%}.dropdown--top .dropdown__arrow[data-v-1f3d4b20]{bottom:-10px;transform:rotate(180deg)}.dropdown--top .dropdown__arrow[data-v-1f3d4b20]:after{transform:rotate(45deg)}.dropdown--left .dropdown__arrow[data-v-1f3d4b20]{left:0}.dropdown--right .dropdown__arrow[data-v-1f3d4b20]{right:0;left:auto}.dropdown--center .dropdown__arrow[data-v-1f3d4b20]{left:50%;margin-left:-25px}
`)(),Dropdown_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.dropdown .dropdown__content button{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;width:100%;background:transparent;text-align:left}.dropdown .dropdown__content button:disabled{cursor:default;pointer-events:none;opacity:.5}.dropdown .dropdown__content a,.dropdown .dropdown__content button{display:block;color:#8c8c8c;font-size:1em;padding:0 50px 0 15px;height:40px;line-height:40px;text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-radius:0}.dropdown .dropdown__content a:hover,.dropdown .dropdown__content button:hover,.dropdown .dropdown__content a.dropdown__active,.dropdown .dropdown__content button.dropdown__active{color:#262626;background:#f2f2f2}.dropdown .dropdown__content a .icon,.dropdown .dropdown__content button .icon{margin-right:10px}.dropdown .dropdown__content .checkboxGroup__item,.dropdown .dropdown__content .radioGroup__item{margin:0 -15px;padding-right:50px;padding-left:15px;display:block}.dropdown .dropdown__content .checkbox,.dropdown .dropdown__content .checkbox label{display:block}.dropdown .dropdown__inner .input{margin-top:0;padding:0 15px}
`)();const __vue2_script$l={name:"A17Dropdown",props:{title:{type:String,default:""},position:{type:String,default:"bottom"},width:{type:String,default:"auto"},maxWidth:{type:Number,default:300},maxHeight:{type:Number,default:0},minWidth:{type:Number,default:0},arrow:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},offset:{type:Number,default:5},sideOffset:{type:Number,default:0},fixed:{type:Boolean,default:!1}},data:function(){return{currentPosition:this.position,currentHeight:100,currentMaxWidth:this.maxWidth,active:!1,originScrollPostion:null,scrollOffset:75}},computed:{dropdownClasses:function(){return{"dropdown--active":this.active,"dropdown--arrow":this.arrow,"dropdown--bottom":this.isPosition("bottom"),"dropdown--top":this.isPosition("top"),"dropdown--left":this.isPosition("left"),"dropdown--right":this.isPosition("right"),"dropdown--center":this.isPosition("center"),"dropdown--full":this.width==="full","dropdown--fixed":this.fixed}},offsetStyle:function(){return{"margin-top":this.isPosition("bottom")?this.offset+"px":"","margin-bottom":this.isPosition("top")?this.offset+"px":"",transform:this.sideOffset?"translateX("+this.sideOffset+"px)":"","max-width":this.currentMaxWidth>0&&this.width!=="full"?this.currentMaxWidth+"px":"","min-width":this.minWidth>0?this.minWidth+"px":""}},innerStyle:function(){return{"max-height":this.maxHeight>0?this.maxHeight+"px":"",overflow:this.maxHeight>0?"hidden":"","overflow-y":this.maxHeight>0?"scroll":""}}},methods:{isPosition:function(e){return this.currentPosition.indexOf(e)!==-1},reposition:function(){const e=this.$el.getBoundingClientRect().top+this.$el.offsetHeight+window.pageYOffset+this.offset,t=this.$el.getBoundingClientRect().top+window.pageYOffset-this.offset,n=window.pageYOffset+window.innerHeight;this.currentPosition!==this.position&&(this.currentPosition=this.position),this.isPosition("bottom")?e+this.currentHeight>n&&(this.currentPosition=this.currentPosition.replace(/bottom/i,"top")):this.isPosition("top")&&t-this.currentHeight<window.pageYOffset&&(this.currentPosition=this.currentPosition.replace(/top/i,"bottom"))},getHeight:function(){this.currentHeight=this.$el.querySelector("[data-dropdown-content]")?this.$el.querySelector("[data-dropdown-content]").offsetHeight:100},setMaxWidth:function(){const e=this.$el.getBoundingClientRect();this.isPosition("left")?this.currentMaxWidth=this.maxWidth+e.left>window.innerWidth?window.innerWidth-e.left:this.maxWidth:this.isPosition("right")?this.currentMaxWidth=this.maxWidth+(window.innerWidth-e.right)>window.innerWidth?window.innerWidth-(window.innerWidth-e.right):this.maxWidth:this.currentMaxWidth=this.maxWidth>window.innerWidth?window.innerWidth:this.maxWidth},setFixedPosition:function(){const e=this.$refs.dropdown__cta.getBoundingClientRect();this.isPosition("top")?this.$refs.dropdown__position.style.bottom=Math.round(window.innerHeight-e.bottom+e.height)+"px":this.$refs.dropdown__position.style.top=Math.round(e.top+e.height)+"px",this.isPosition("left")?this.$refs.dropdown__position.style.left=Math.round(e.left)+"px":this.isPosition("right")?this.$refs.dropdown__position.style.right=Math.round(window.innerWidth-e.right)+"px":this.$refs.dropdown__position.style.left=Math.round(e.left+e.width/2)+"px"},closeFromDoc:function(e){const t=e.target;if(e.type==="scroll"){if(this.$el.querySelector("[data-dropdown-content]").contains(t))return;const n=window.pageYOffset||document.documentElement.scrollTop;if(n>this.originScrollPostion-this.scrollOffset&&n<this.originScrollPostion+this.scrollOffset){this.setFixedPosition();return}}this.clickable?!this.$el.querySelector("[data-dropdown-content]").contains(t)&&this.clickable&&this.close():this.close()},open:function(e){this.active||(document.body.click(),this.timer=setTimeout(()=>{this.timer=null,this.active=!0,document.addEventListener("click",this.closeFromDoc,!0),document.addEventListener("touchend",this.closeFromDoc,!0),this.fixed&&(window.addEventListener("scroll",this.closeFromDoc,!0),this.originScrollPostion=window.pageYOffset||document.documentElement.scrollTop),this.$nextTick(function(){this.getHeight(),this.reposition(),this.setMaxWidth(),this.fixed&&this.setFixedPosition()}),this.$emit("open")},1))},close:function(e){if(!!this.active){if(clearTimeout(this.timer),document.removeEventListener("click",this.closeFromDoc,!0),document.removeEventListener("touchend",this.closeFromDoc,!0),this.fixed){window.removeEventListener("scroll",this.closeFromDoc,!0),this.originScrollPostion=null,this.active=!1,this.$emit("close");return}setTimeout(()=>{this.active=!1,this.$emit("close")},0)}},toggle:function(e){this.active?this.close():this.open()}}},__cssModules$l={};var __component__$l=normalizeComponent(__vue2_script$l,render$l,staticRenderFns$l,!1,__vue2_injectStyles$l,"1f3d4b20",null,null);function __vue2_injectStyles$l(e){for(let t in __cssModules$l)this[t]=__cssModules$l[t]}var A17Dropdown=function(){return __component__$l.exports}(),render$k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.barClasses},[e._t("default")],2)},staticRenderFns$k=[],ButtonBar_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-0c5f68fe]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-0c5f68fe]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-0c5f68fe]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-0c5f68fe]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-0c5f68fe]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-0c5f68fe]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-0c5f68fe]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-0c5f68fe]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-0c5f68fe]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-0c5f68fe]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-0c5f68fe]{width:auto}}.buttonbar[data-v-0c5f68fe]{font-size:0;border:1px solid #d9d9d9;clear:both;overflow:hidden;border-radius:2px;display:flex}.buttonbar>a[data-v-0c5f68fe],.buttonbar>button[data-v-0c5f68fe]{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;height:38px;line-height:38px;float:left;padding:0 20px;position:relative;color:#8c8c8c;background:#fff;font-size:15px;text-decoration:none;border-right:1px solid #f2f2f2;display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;border-radius:0}.buttonbar>a .icon[data-v-0c5f68fe],.buttonbar>button .icon[data-v-0c5f68fe]{color:#a6a6a6;display:block}.buttonbar>a[data-v-0c5f68fe]:not(.button--disabled):hover,.buttonbar>button[data-v-0c5f68fe]:not(.button--disabled):hover{color:#262626;background:#fbfbfb}.buttonbar>a:not(.button--disabled):hover .icon[data-v-0c5f68fe],.buttonbar>button:not(.button--disabled):hover .icon[data-v-0c5f68fe]{color:#262626}.buttonbar>a.button--disabled[data-v-0c5f68fe],.buttonbar>button.button--disabled[data-v-0c5f68fe]{opacity:.5;cursor:default}.buttonbar>a[data-v-0c5f68fe]:first-child,.buttonbar>button[data-v-0c5f68fe]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}.buttonbar>a[data-v-0c5f68fe]:last-child,.buttonbar>button[data-v-0c5f68fe]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px;border-right:0 none}.buttonbar[data-v-0c5f68fe]:hover{border-color:#ccc}.buttonbar--visible[data-v-0c5f68fe]{overflow:visible}
`)(),ButtonBar_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.buttonbar>.dropdown>button{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;height:38px;line-height:38px;float:left;padding:0 20px;position:relative;color:#8c8c8c;background:#fff;font-size:15px;text-decoration:none;border-right:1px solid #f2f2f2;display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;border-radius:0}.buttonbar>.dropdown>button .icon{color:#a6a6a6;display:block}.buttonbar>.dropdown>button:not(.button--disabled):hover{color:#262626;background:#fbfbfb}.buttonbar>.dropdown>button:not(.button--disabled):hover .icon{color:#262626}.buttonbar>.dropdown>button.button--disabled{opacity:.5;cursor:default}.buttonbar>.dropdown:first-child>button{border-top-left-radius:2px;border-bottom-left-radius:2px}.buttonbar>.dropdown:last-child>button{border-top-right-radius:2px;border-bottom-right-radius:2px;border-right:0 none}
`)();const __vue2_script$k={name:"A17Buttonbar",props:{type:{type:String,default:"button"},variant:{type:String,default:""}},computed:{barClasses:function(){return["buttonbar",this.variant?`buttonbar--${this.variant}`:""]}}},__cssModules$k={};var __component__$k=normalizeComponent(__vue2_script$k,render$k,staticRenderFns$k,!1,__vue2_injectStyles$k,"0c5f68fe",null,null);function __vue2_injectStyles$k(e){for(let t in __cssModules$k)this[t]=__cssModules$k[t]}var a17Buttonbar=function(){return __component__$k.exports}(),render$j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"locale"},[e.languages&&e.languages.length&&e.languages.length>0?e._l(e.languages,function(r){return n("div",{key:r.value,staticClass:"locale__item"},[r===e.currentLocale||e.isCustomForm?n(""+e.type,e._b({tag:"component",attrs:{"data-lang":r.value,name:e.attributes.name+"["+r.value+"]",fieldName:e.attributes.name,locale:r},on:{localize:e.updateLocale,change:function(a){for(var o=arguments.length,s=Array(o);o--;)s[o]=arguments[o];return e.updateValue.apply(void 0,[r.value].concat(s))},blur:function(a){return e.$emit("blur")},focus:function(a){return e.$emit("focus")}}},"component",e.attributesPerLang(r.value),!1),[e._t("default")],2):e._e()],1)}):[n(""+e.type,e._b({tag:"component",attrs:{name:e.attributes.name},on:{change:function(r){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.updateValue.apply(void 0,[!1].concat(o))},blur:function(r){return e.$emit("blur")},focus:function(r){return e.$emit("focus")}}},"component",e.attributesNoLang(),!1),[e._t("default")],2)]],2)},staticRenderFns$j=[];const __vue2_script$j={name:"A17Locale",props:{type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}},isRequired:{type:Boolean,default:function(){return this.attributes.required||!1}}},computed:{...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},data(){return{isCustomForm:!1}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0},methods:{attributesPerLang:function(e){const t=this.languages.find(r=>r.value===e),n=cloneDeep_1(this.attributes);return this.initialValues&&typeof this.initialValues=="object"&&this.initialValues[e]?n.initialValue=this.initialValues[e]:n.initialValue||(n.initialValue=""),n.required=!!t.published&&this.isRequired,n},attributesNoLang:function(){const e=cloneDeep_1(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(LANGUAGE.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){const t=this.$el.querySelector('[data-lang="'+this.currentLocale.value+'"]');if(t){const n=t.querySelector("input:not([disabled]), textarea:not([disabled]), select:not([disabled])");n&&n.focus()}}),this.$emit("localize",this.currentLocale)},updateValue:function(e,t){e?this.$emit("change",{locale:e,value:t}):this.$emit("change",{value:t})}}},__cssModules$j={};var __component__$j=normalizeComponent(__vue2_script$j,render$j,staticRenderFns$j,!1,__vue2_injectStyles$j,null,null,null);function __vue2_injectStyles$j(e){for(let t in __cssModules$j)this[t]=__cssModules$j[t]}var a17Locale=function(){return __component__$j.exports}(),htmlClasses={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},render$i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",class:e.modalClasses,on:{mousedown:e.hide,touchend:function(r){return r.preventDefault(),e.hide(r)}}},[n("transition",{attrs:{name:"fade_scale_modal"}},[e.active?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],staticClass:"modal__window",on:{mousedown:function(r){r.stopPropagation()},touchend:function(r){r.stopPropagation()}}},[e.modalTitle?n("header",{staticClass:"modal__header"},[e._v(" "+e._s(e.modalTitle)+" "),n("button",{staticClass:"modal__close",attrs:{type:"button"},on:{click:e.hide}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})])]):e._e(),n("div",{staticClass:"modal__content"},[e._t("default")],2)]):e._e()])],1)},staticRenderFns$i=[],Modal_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-21597e76]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-21597e76]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-21597e76]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-21597e76]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-21597e76]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-21597e76]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-21597e76]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-21597e76]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-21597e76]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-21597e76]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-21597e76]{width:auto}}.modal[data-v-21597e76]{position:fixed;top:0;right:0;height:0;left:0;background:rgba(0,0,0,.66);z-index:500;display:flex;flex-wrap:wrap;align-items:flex-start;overflow-x:hidden;overflow-y:auto;opacity:0;visibility:hidden;transition:opacity .35s ease,visibility 0s .35s,height 0s .35s}.modal.modal--wide[data-v-21597e76]{background-color:#333}.modal__window[data-v-21597e76]{background:#fff;width:calc(100vw - 40px);max-width:650px;position:relative;border-radius:2px;display:flex;flex-flow:column nowrap;margin:auto}.modal__content[data-v-21597e76]{overflow:hidden;overflow-y:auto;flex-grow:1;max-height:100%}.modal__header[data-v-21597e76]{border-top-left-radius:2px;border-top-right-radius:2px;background:#d9d9d9;padding:0 20px;height:50px;line-height:50px;position:relative;font-weight:600}.modal__close[data-v-21597e76]{background-color:transparent;-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;position:absolute;right:5px;top:2px;background:transparent;height:46px;width:46px;color:#a6a6a6;padding:15px}.modal__close[data-v-21597e76]:hover,.modal__close[data-v-21597e76]:focus{color:#262626}.modal__content[data-v-21597e76]{padding:0 20px}.modal__content>button[data-v-21597e76]{margin-bottom:20px}.modal--wide[data-v-21597e76]{padding:30px}.modal--wide .modal__content[data-v-21597e76]{padding:0;display:flex}.modal--wide .modal__window[data-v-21597e76]{width:100%;height:100%;max-width:inherit}@media screen and (max-width: 599px){.modal--wide .modal__window[data-v-21597e76]{border-radius:0}}@media screen and (min-width: 600px) and (max-width: 849px){.modal--wide[data-v-21597e76]{padding:10px}}@media screen and (max-width: 599px){.modal--wide[data-v-21597e76]{width:100%;min-height:100%;padding:0}}.modal--medium .modal__window[data-v-21597e76]{width:calc(100vw - 40px);max-width:830px;min-height:66vh;max-height:100%}.modal--medium .modal__content[data-v-21597e76]{display:flex}.modal--tiny .modal__window[data-v-21597e76]{width:calc(100vw - 40px);max-width:350px;height:auto;margin-bottom:40vh}.modal--tiny .modal__content[data-v-21597e76]{padding:0 20px;display:block}.modal--tiny .modal__header[data-v-21597e76]{display:none}.modal--form .modal__content[data-v-21597e76]{padding-bottom:20px}.modal--withintro .modal__content[data-v-21597e76]{padding-top:20px}.modal--browser .modal__content[data-v-21597e76]{padding-left:0;padding-right:0}.modal--cropper .modal__content[data-v-21597e76]{position:relative}.modal--active[data-v-21597e76]{opacity:1;visibility:visible;height:100%;transition:opacity .35s}.modal--hidden[data-v-21597e76]{display:none}
`)(),Modal_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.modal .modal--tiny .modal--tiny-title{margin-bottom:20px}
`)();const html$1=document.documentElement,htmlClass=htmlClasses.modal,__vue2_script$i={name:"A17Modal",props:{title:{type:String,default:""},mode:{type:String,default:""},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1}},data:function(){return{active:!1,hidden:!0,locked:!1,firstFocusableEl:null,lastFocusableEl:null}},computed:{modalTitle:function(){return this.title!==""?this.title:this.browserTitle},modalClasses:function(){return{"modal--active":this.active,"modal--hidden":this.hidden,"modal--tiny":this.mode==="tiny","modal--medium":this.mode==="medium","modal--wide":this.mode==="wide"}},...mapState({browserTitle:e=>e.browser.title})},watch:{forceLock:function(){this.locked=this.forceLock}},methods:{open:function(e=!0){this.active&&!this.hidden||(this.active=!0,this.hidden=!1,html$1.classList.add(htmlClass),this.bindKeyboard(),this.$nextTick(function(){if(e){const t='textarea, input:not([type="hidden"]), select, button[type="submit"]',n=this.$el.querySelectorAll(t),r=this.$el.querySelectorAll(t+', a, button[type="button"]');this.firstFocusableEl=this.$el.querySelector(".modal__close"),this.lastFocusableEl=r[r.length-1],n.length&&n[0].focus()}this.$emit("open")}))},mask:function(){html$1.classList.remove(htmlClass),this.unbindKeyboard(),this.$emit("close")},hide:function(){if(!!this.active&&!this.locked){if(this.forceClose){this.close();return}this.hidden=!0,this.mask()}},close:function(e){!this.active||this.locked||(this.active=!1,this.$emit("close"),this.mask())},bindKeyboard:function(){window.addEventListener("keyup",this.keyPressed),document.addEventListener("keydown",this.keyDown,!1)},unbindKeyboard:function(){window.removeEventListener("keyup",this.keyPressed),document.removeEventListener("keydown",this.keyDown)},keyPressed:function(e){(e.which===27||e.keyCode===27)&&(this.hide(),this.$emit("esc-key"))},keyDown:function(e){e.keyCode&&e.keyCode===9&&(e.shiftKey?document.activeElement.isEqualNode(this.firstFocusableEl)&&(this.lastFocusableEl.focus(),e.preventDefault()):document.activeElement.isEqualNode(this.lastFocusableEl)&&(this.firstFocusableEl.focus(),e.preventDefault()))}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&this.unbindKeyboard(),this.$el.parentNode.removeChild(this.$el))}},__cssModules$i={};var __component__$i=normalizeComponent(__vue2_script$i,render$i,staticRenderFns$i,!1,__vue2_injectStyles$i,"21597e76",null,null);function __vue2_injectStyles$i(e){for(let t in __cssModules$i)this[t]=__cssModules$i[t]}var a17Modal=function(){return __component__$i.exports}(),render$h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-modal",{ref:"modal",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:e.modalTitle,forceClose:!0}},[e._t("default"),n("a17-inputframe",[n("a17-button",{staticClass:"dialog-confirm",attrs:{variant:"validate"}},[e._v(e._s(e.confirmLabel))]),e._v(" "),n("a17-button",{staticClass:"dialog-cancel",attrs:{variant:"aslink"}},[n("span",[e._v(e._s(e.cancelLabel))])])],1)],2)},staticRenderFns$h=[];const __vue2_script$h={name:"A17Dialog",props:{name:{type:String,default:""},modalTitle:{type:String,default:function(){return this.$trans("dialog.title")}},confirmLabel:{type:String,default:function(){return this.$trans("dialog.ok")}},cancelLabel:{type:String,default:function(){return this.$trans("dialog.cancel")}}},methods:{open:function(e){this.$refs.modal&&this.$refs.modal.open(),this.$nextTick(()=>{this.$el.querySelector(".dialog-confirm").addEventListener("click",t=>{e(),this.close()}),this.$el.querySelector(".dialog-cancel").addEventListener("click",t=>{this.close()})})},close:function(){this.$refs.modal&&this.$refs.modal.close()}}},__cssModules$h={};var __component__$h=normalizeComponent(__vue2_script$h,render$h,staticRenderFns$h,!1,__vue2_injectStyles$h,null,null,null);function __vue2_injectStyles$h(e){for(let t in __cssModules$h)this[t]=__cssModules$h[t]}var a17Dialog=function(){return __component__$h.exports}(),DraggableMixin={props:{draggable:{type:Boolean,default:!0}},data:function(){return{animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30}},computed:{dragOptions:function(){return{animation:this.animation,handle:this.handle,ghostClass:this.ghostClass,chosenClass:this.chosenClass,dragClass:this.dragClass,scrollSensitivity:this.scrollSensitivity,disabled:!this.draggable}}}},vuedraggable_umd={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _typeof$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(t){return typeof t}:_typeof$1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){_defineProperty(e,a,n[a])})}return e}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function _objectWithoutProperties(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var version$1="1.10.2";function userAgent(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on$1(e,t,n){e.addEventListener(t,n,!IE11OrLess&&captureMode)}function off(e,t,n){e.removeEventListener(t,n,!IE11OrLess&&captureMode)}function matches(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function getParentOrHost(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function closest(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&matches(e,t):matches(e,t))||r&&e===n)return e;if(e===n)break}while(e=getParentOrHost(e))}return null}var R_SPACE=/\s+/g;function toggleClass(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(R_SPACE," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(R_SPACE," ")}}function css(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function matrix(e,t){var n="";if(typeof e=="string")n=e;else do{var r=css(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function find(e,t,n){if(e){var r=e.getElementsByTagName(t),a=0,o=r.length;if(n)for(;a<o;a++)n(r[a],a);return r}return[]}function getWindowScrollingElement(){var e=document.scrollingElement;return e||document.documentElement}function getRect(e,t,n,r,a){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,l,c,u,f,m;if(e!==window&&e!==getWindowScrollingElement()?(o=e.getBoundingClientRect(),s=o.top,l=o.left,c=o.bottom,u=o.right,f=o.height,m=o.width):(s=0,l=0,c=window.innerHeight,u=window.innerWidth,f=window.innerHeight,m=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!IE11OrLess))do if(a&&a.getBoundingClientRect&&(css(a,"transform")!=="none"||n&&css(a,"position")!=="static")){var h=a.getBoundingClientRect();s-=h.top+parseInt(css(a,"border-top-width")),l-=h.left+parseInt(css(a,"border-left-width")),c=s+o.height,u=l+o.width;break}while(a=a.parentNode);if(r&&e!==window){var d=matrix(a||e),g=d&&d.a,v=d&&d.d;d&&(s/=v,l/=g,m/=g,f/=v,c=s+f,u=l+m)}return{top:s,left:l,bottom:c,right:u,width:m,height:f}}}function isScrolledPast(e,t,n){for(var r=getParentAutoScrollElement(e,!0),a=getRect(e)[t];r;){var o=getRect(r)[n],s=void 0;if(n==="top"||n==="left"?s=a>=o:s=a<=o,!s)return r;if(r===getWindowScrollingElement())break;r=getParentAutoScrollElement(r,!1)}return!1}function getChild(e,t,n){for(var r=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==Sortable.ghost&&o[a]!==Sortable.dragged&&closest(o[a],n.draggable,e,!1)){if(r===t)return o[a];r++}a++}return null}function lastChild(e,t){for(var n=e.lastElementChild;n&&(n===Sortable.ghost||css(n,"display")==="none"||t&&!matches(n,t));)n=n.previousElementSibling;return n||null}function index(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Sortable.clone&&(!t||matches(e,t))&&n++;return n}function getRelativeScrollOffset(e){var t=0,n=0,r=getWindowScrollingElement();if(e)do{var a=matrix(e),o=a.a,s=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function indexOfObject(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function getParentAutoScrollElement(e,t){if(!e||!e.getBoundingClientRect)return getWindowScrollingElement();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=css(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return getWindowScrollingElement();if(r||t)return n;r=!0}}while(n=n.parentNode);return getWindowScrollingElement()}function extend$2(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function isRectEqual(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var _throttleTimeout;function throttle$1(e,t){return function(){if(!_throttleTimeout){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},t)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function clone$1(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function setRect(e,t){css(e,"position","absolute"),css(e,"top",t.top),css(e,"left",t.left),css(e,"width",t.width),css(e,"height",t.height)}function unsetRect(e){css(e,"position",""),css(e,"top",""),css(e,"left",""),css(e,"width",""),css(e,"height","")}var expando="Sortable"+new Date().getTime();function AnimationStateManager(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(a){if(!(css(a,"display")==="none"||a===Sortable.ghost)){e.push({target:a,rect:getRect(a)});var o=_objectSpread({},e[e.length-1].rect);if(a.thisAnimationDuration){var s=matrix(a,!0);s&&(o.top-=s.f,o.left-=s.e)}a.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(indexOfObject(e,{target:r}),1)},animateAll:function(r){var a=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,s=0;e.forEach(function(l){var c=0,u=l.target,f=u.fromRect,m=getRect(u),h=u.prevFromRect,d=u.prevToRect,g=l.rect,v=matrix(u,!0);v&&(m.top-=v.f,m.left-=v.e),u.toRect=m,u.thisAnimationDuration&&isRectEqual(h,m)&&!isRectEqual(f,m)&&(g.top-m.top)/(g.left-m.left)===(f.top-m.top)/(f.left-m.left)&&(c=calculateRealTime(g,h,d,a.options)),isRectEqual(m,f)||(u.prevFromRect=f,u.prevToRect=m,c||(c=a.options.animation),a.animate(u,g,m,c)),c&&(o=!0,s=Math.max(s,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,a,o,s){if(s){css(r,"transition",""),css(r,"transform","");var l=matrix(this.el),c=l&&l.a,u=l&&l.d,f=(a.left-o.left)/(c||1),m=(a.top-o.top)/(u||1);r.animatingX=!!f,r.animatingY=!!m,css(r,"transform","translate3d("+f+"px,"+m+"px,0)"),repaint(r),css(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),css(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){css(r,"transition",""),css(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function repaint(e){return e.offsetWidth}function calculateRealTime(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var plugins=[],defaults$4={initializeByDefault:!0},PluginManager={mount:function(t){for(var n in defaults$4)defaults$4.hasOwnProperty(n)&&!(n in t)&&(t[n]=defaults$4[n]);plugins.push(t)},pluginEvent:function(t,n,r){var a=this;this.eventCanceled=!1,r.cancel=function(){a.eventCanceled=!0};var o=t+"Global";plugins.forEach(function(s){!n[s.pluginName]||(n[s.pluginName][o]&&n[s.pluginName][o](_objectSpread({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](_objectSpread({sortable:n},r)))})},initializePlugins:function(t,n,r,a){plugins.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[c]=u,_extends(r,u.defaults)}});for(var o in t.options)if(!!t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s!="undefined"&&(t.options[o]=s)}},getEventProperties:function(t,n){var r={};return plugins.forEach(function(a){typeof a.eventProperties=="function"&&_extends(r,a.eventProperties.call(n[a.pluginName],t))}),r},modifyOption:function(t,n,r){var a;return plugins.forEach(function(o){!t[o.pluginName]||o.optionListeners&&typeof o.optionListeners[n]=="function"&&(a=o.optionListeners[n].call(t[o.pluginName],r))}),a}};function dispatchEvent(e){var t=e.sortable,n=e.rootEl,r=e.name,a=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,m=e.newDraggableIndex,h=e.originalEvent,d=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[expando],!!t){var v,_=t.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!IE11OrLess&&!Edge?v=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(r,!0,!0)),v.to=s||n,v.from=l||n,v.item=a||n,v.clone=o,v.oldIndex=c,v.newIndex=u,v.oldDraggableIndex=f,v.newDraggableIndex=m,v.originalEvent=h,v.pullMode=d?d.lastPutMode:void 0;var q=_objectSpread({},g,PluginManager.getEventProperties(r,t));for(var b in q)v[b]=q[b];n&&n.dispatchEvent(v),_[y]&&_[y].call(t,v)}}var pluginEvent=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.evt,o=_objectWithoutProperties(r,["evt"]);PluginManager.pluginEvent.bind(Sortable)(t,n,_objectSpread({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent:a,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(l){_dispatchEvent({sortable:n,name:l,originalEvent:a})}},o))};function _dispatchEvent(e){dispatchEvent(_objectSpread({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},e))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document!="undefined",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(!!documentExists){if(IE11OrLess)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),_detectDirection=function(t,n){var r=css(t),a=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=getChild(t,0,n),s=getChild(t,1,n),l=o&&css(o),c=s&&css(s),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+getRect(o).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+getRect(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var m=l.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&r[CSSFloatProperty]==="none"||s&&r[CSSFloatProperty]==="none"&&u+f>a)?"vertical":"horizontal"},_dragElInRowColumn=function(t,n,r){var a=r?t.left:t.top,o=r?t.right:t.bottom,s=r?t.width:t.height,l=r?n.left:n.top,c=r?n.right:n.bottom,u=r?n.width:n.height;return a===l||o===c||a+s/2===l+u/2},_detectNearestEmptySortable=function(t,n){var r;return sortables.some(function(a){if(!lastChild(a)){var o=getRect(a),s=a[expando].options.emptyInsertThreshold,l=t>=o.left-s&&t<=o.right+s,c=n>=o.top-s&&n<=o.bottom+s;if(s&&l&&c)return r=a}}),r},_prepareGroup=function(t){function n(o,s){return function(l,c,u,f){var m=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(o==null&&(s||m))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(l,c,u,f),s)(l,c,u,f);var h=(s?l:c).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var r={},a=t.group;(!a||_typeof$1(a)!="object")&&(a={name:a}),r.name=a.name,r.checkPull=n(a.pull,!0),r.checkPut=n(a.put),r.revertClone=a.revertClone,t.group=r},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&document.addEventListener("click",function(e){if(ignoreNextClick)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(t){if(dragEl){t=t.touches?t.touches[0]:t;var n=_detectNearestEmptySortable(t.clientX,t.clientY);if(n){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[expando]._onDragOver(r)}}},_checkOutsideTargetEl=function(t){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(t.target)};function Sortable(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=_extends({},t),e[expando]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Sortable.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};PluginManager.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);_prepareGroup(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?on$1(e,"pointerdown",this._onTapStart):(on$1(e,"mousedown",this._onTapStart),on$1(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(on$1(e,"dragover",this),on$1(e,"dragenter",this)),sortables.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),_extends(this,AnimationStateManager())}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(lastTarget=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,dragEl):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,r=this.el,a=this.options,o=a.preventOnFilter,s=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,f=a.filter;if(_saveInputCheckedState(r),!dragEl&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||a.disabled)&&!u.isContentEditable&&(c=closest(c,a.draggable,r,!1),!(c&&c.animated)&&lastDownEl!==c)){if(oldIndex=index(c),oldDraggableIndex=index(c,a.draggable),typeof f=="function"){if(f.call(this,t,c,this)){_dispatchEvent({sortable:n,rootEl:u,name:"filter",targetEl:c,toEl:r,fromEl:r}),pluginEvent("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(m){if(m=closest(u,m.trim(),r,!1),m)return _dispatchEvent({sortable:n,rootEl:m,name:"filter",targetEl:c,fromEl:r,toEl:r}),pluginEvent("filter",n,{evt:t}),!0}),f)){o&&t.cancelable&&t.preventDefault();return}a.handle&&!closest(u,a.handle,r,!1)||this._prepareDragStart(t,l,c)}}},_prepareDragStart:function(t,n,r){var a=this,o=a.el,s=a.options,l=o.ownerDocument,c;if(r&&!dragEl&&r.parentNode===o){var u=getRect(r);if(rootEl=o,dragEl=r,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=r,activeGroup=s.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(n||t).clientX,clientY:(n||t).clientY},tapDistanceLeft=tapEvt.clientX-u.left,tapDistanceTop=tapEvt.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,dragEl.style["will-change"]="all",c=function(){if(pluginEvent("delayEnded",a,{evt:t}),Sortable.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!FireFox&&a.nativeDraggable&&(dragEl.draggable=!0),a._triggerDragStart(t,n),_dispatchEvent({sortable:a,name:"choose",originalEvent:t}),toggleClass(dragEl,s.chosenClass,!0)},s.ignore.split(",").forEach(function(f){find(dragEl,f.trim(),_disableDraggable)}),on$1(l,"dragover",nearestEmptyInsertDetectEvent),on$1(l,"mousemove",nearestEmptyInsertDetectEvent),on$1(l,"touchmove",nearestEmptyInsertDetectEvent),on$1(l,"mouseup",a._onDrop),on$1(l,"touchend",a._onDrop),on$1(l,"touchcancel",a._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Edge||IE11OrLess))){if(Sortable.eventCanceled){this._onDrop();return}on$1(l,"mouseup",a._disableDelayedDrag),on$1(l,"touchend",a._disableDelayedDrag),on$1(l,"touchcancel",a._disableDelayedDrag),on$1(l,"mousemove",a._delayedDragTouchMoveHandler),on$1(l,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&on$1(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;off(t,"mouseup",this._disableDelayedDrag),off(t,"touchend",this._disableDelayedDrag),off(t,"touchcancel",this._disableDelayedDrag),off(t,"mousemove",this._delayedDragTouchMoveHandler),off(t,"touchmove",this._delayedDragTouchMoveHandler),off(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?on$1(document,"pointermove",this._onTouchMove):n?on$1(document,"touchmove",this._onTouchMove):on$1(document,"mousemove",this._onTouchMove):(on$1(dragEl,"dragend",this),on$1(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:n}),this.nativeDraggable&&on$1(document,"dragover",_checkOutsideTargetEl);var r=this.options;!t&&toggleClass(dragEl,r.dragClass,!1),toggleClass(dragEl,r.ghostClass,!0),Sortable.active=this,t&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var t=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY),t!==n);)n=t;if(dragEl.parentNode[expando]._isOutsideThisEl(t),n)do{if(n[expando]){var r=void 0;if(r=n[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(t){if(tapEvt){var n=this.options,r=n.fallbackTolerance,a=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=ghostEl&&matrix(ghostEl,!0),l=ghostEl&&s&&s.a,c=ghostEl&&s&&s.d,u=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),f=(o.clientX-tapEvt.clientX+a.x)/(l||1)+(u?u[0]-ghostRelativeParentInitialScroll[0]:0)/(l||1),m=(o.clientY-tapEvt.clientY+a.y)/(c||1)+(u?u[1]-ghostRelativeParentInitialScroll[1]:0)/(c||1);if(!Sortable.active&&!awaitingDragStarted){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(ghostEl){s?(s.e+=f-(lastDx||0),s.f+=m-(lastDy||0)):s={a:1,b:0,c:0,d:1,e:f,f:m};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");css(ghostEl,"webkitTransform",h),css(ghostEl,"mozTransform",h),css(ghostEl,"msTransform",h),css(ghostEl,"transform",h),lastDx=f,lastDy=m,touchEvt=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ghostEl){var t=this.options.fallbackOnBody?document.body:rootEl,n=getRect(dragEl,!0,PositionGhostAbsolutely,!0,t),r=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=t;css(ghostRelativeParent,"position")==="static"&&css(ghostRelativeParent,"transform")==="none"&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),n.top+=ghostRelativeParent.scrollTop,n.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}ghostEl=dragEl.cloneNode(!0),toggleClass(ghostEl,r.ghostClass,!1),toggleClass(ghostEl,r.fallbackClass,!0),toggleClass(ghostEl,r.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",n.top),css(ghostEl,"left",n.left),css(ghostEl,"width",n.width),css(ghostEl,"height",n.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,t.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,a=t.dataTransfer,o=r.options;if(pluginEvent("dragStart",this,{evt:t}),Sortable.eventCanceled){this._onDrop();return}pluginEvent("setupClone",this),Sortable.eventCanceled||(cloneEl=clone$1(dragEl),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),r.cloneId=_nextTick(function(){pluginEvent("clone",r),!Sortable.eventCanceled&&(r.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),r._hideClone(),_dispatchEvent({sortable:r,name:"clone"}))}),!n&&toggleClass(dragEl,o.dragClass,!0),n?(ignoreNextClick=!0,r._loopId=setInterval(r._emulateDragOver,50)):(off(document,"mouseup",r._onDrop),off(document,"touchend",r._onDrop),off(document,"touchcancel",r._onDrop),a&&(a.effectAllowed="move",o.setData&&o.setData.call(r,a,dragEl)),on$1(document,"drop",r),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,r._dragStartId=_nextTick(r._dragStarted.bind(r,n,t)),on$1(document,"selectstart",r),moved=!0,Safari&&css(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,a,o,s,l=this.options,c=l.group,u=Sortable.active,f=activeGroup===c,m=l.sort,h=putSortable||u,d,g=this,v=!1;if(_silent)return;function _(B,G){pluginEvent(B,g,_objectSpread({evt:t,isOwner:f,axis:d?"vertical":"horizontal",revert:s,dragRect:a,targetRect:o,canSort:m,fromSortable:h,target:r,completed:q,onMove:function($,P){return _onMove(rootEl,n,dragEl,a,$,getRect($),t,P)},changed:b},G))}function y(){_("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function q(B){return _("dragOverCompleted",{insertion:B}),B&&(f?u._hideClone():u._showClone(g),g!==h&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:u.options.ghostClass,!1),toggleClass(dragEl,l.ghostClass,!0)),putSortable!==g&&g!==Sortable.active?putSortable=g:g===Sortable.active&&putSortable&&(putSortable=null),h===g&&(g._ignoreWhileAnimating=r),g.animateAll(function(){_("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===dragEl&&!dragEl.animated||r===n&&!r.animated)&&(lastTarget=null),!l.dragoverBubble&&!t.rootEl&&r!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(t.target),!B&&nearestEmptyInsertDetectEvent(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function b(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,l.draggable),_dispatchEvent({sortable:g,name:"change",toEl:n,newIndex,newDraggableIndex,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=closest(r,l.draggable,n,!0),_("dragOver"),Sortable.eventCanceled)return v;if(dragEl.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||g._ignoreWhileAnimating===r)return q(!1);if(ignoreNextClick=!1,u&&!l.disabled&&(f?m||(s=!rootEl.contains(dragEl)):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,u,dragEl,t))&&c.checkPut(this,u,dragEl,t))){if(d=this._getDirection(t,r)==="vertical",a=getRect(dragEl),_("dragOverValid"),Sortable.eventCanceled)return v;if(s)return parentEl=rootEl,y(),this._hideClone(),_("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),q(!0);var x=lastChild(n,l.draggable);if(!x||_ghostIsLast(t,d,this)&&!x.animated){if(x===dragEl)return q(!1);if(x&&n===t.target&&(r=x),r&&(o=getRect(r)),_onMove(rootEl,n,dragEl,a,r,o,t,!!r)!==!1)return y(),n.appendChild(dragEl),parentEl=n,b(),q(!0)}else if(r.parentNode===n){o=getRect(r);var E=0,T,k=dragEl.parentNode!==n,A=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||a,r.animated&&r.toRect||o,d),M=d?"top":"left",S=isScrolledPast(r,"top","top")||isScrolledPast(dragEl,"top","top"),C=S?S.scrollTop:void 0;lastTarget!==r&&(T=o[M],pastFirstInvertThresh=!1,isCircumstantialInvert=!A&&l.invertSwap||k),E=_getSwapDirection(t,r,o,d,A?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,isCircumstantialInvert,lastTarget===r);var I;if(E!==0){var O=index(dragEl);do O-=E,I=parentEl.children[O];while(I&&(css(I,"display")==="none"||I===ghostEl))}if(E===0||I===r)return q(!1);lastTarget=r,lastDirection=E;var D=r.nextElementSibling,R=!1;R=E===1;var w=_onMove(rootEl,n,dragEl,a,r,o,t,R);if(w!==!1)return(w===1||w===-1)&&(R=w===1),_silent=!0,setTimeout(_unsilent,30),y(),R&&!D?n.appendChild(dragEl):r.parentNode.insertBefore(dragEl,R?D:r),S&&scrollBy(S,0,C-S.scrollTop),parentEl=dragEl.parentNode,T!==void 0&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(T-getRect(r)[M])),b(),q(!0)}if(n.contains(dragEl))return q(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var t=this.el.ownerDocument;off(t,"mouseup",this._onDrop),off(t,"touchend",this._onDrop),off(t,"pointerup",this._onDrop),off(t,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(newIndex=index(dragEl),newDraggableIndex=index(dragEl,r.draggable),pluginEvent("drop",this,{evt:t}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,r.draggable),Sortable.eventCanceled){this._nulling();return}awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),t&&(moved&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&putSortable.lastPutMode!=="clone")&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:t}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:t}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:t}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:t}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:t})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:t}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:t})),Sortable.active&&((newIndex==null||newIndex===-1)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(t){t.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(t),_globalDragOver(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,a=0,o=r.length,s=this.options;a<o;a++)n=r[a],closest(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||_generateId(n));return t},sort:function(t){var n={},r=this.el;this.toArray().forEach(function(a,o){var s=r.children[o];closest(s,this.options.draggable,r,!1)&&(n[a]=s)},this),t.forEach(function(a){n[a]&&(r.removeChild(n[a]),r.appendChild(n[a]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return closest(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var a=PluginManager.modifyOption(this,t,n);typeof a!="undefined"?r[t]=a:r[t]=n,t==="group"&&_prepareGroup(r)},destroy:function(){pluginEvent("destroy",this);var t=this.el;t[expando]=null,off(t,"mousedown",this._onTapStart),off(t,"touchstart",this._onTapStart),off(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(t,"dragover",this),off(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;rootEl.contains(dragEl)&&!this.options.group.revertClone?rootEl.insertBefore(cloneEl,dragEl):nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}};function _globalDragOver(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function _onMove(e,t,n,r,a,o,s,l){var c,u=e[expando],f=u.options.onMove,m;return window.CustomEvent&&!IE11OrLess&&!Edge?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=a||t,c.relatedRect=o||getRect(t),c.willInsertAfter=l,c.originalEvent=s,e.dispatchEvent(c),f&&(m=f.call(u,c,s)),m}function _disableDraggable(e){e.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsLast(e,t,n){var r=getRect(lastChild(n.el,n.options.draggable)),a=10;return t?e.clientX>r.right+a||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+a}function _getSwapDirection(e,t,n,r,a,o,s,l){var c=r?e.clientY:e.clientX,u=r?n.height:n.width,f=r?n.top:n.left,m=r?n.bottom:n.right,h=!1;if(!s){if(l&&targetMoveDistance<u*a){if(!pastFirstInvertThresh&&(lastDirection===1?c>f+u*o/2:c<m-u*o/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)h=!0;else if(lastDirection===1?c<f+targetMoveDistance:c>m-targetMoveDistance)return-lastDirection}else if(c>f+u*(1-a)/2&&c<m-u*(1-a)/2)return _getInsertDirection(t)}return h=h||s,h&&(c<f+u*o/2||c>m-u*o/2)?c>f+u/2?1:-1:0}function _getInsertDirection(e){return index(dragEl)<index(e)?1:-1}function _generateId(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function _saveInputCheckedState(e){savedInputChecked.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&savedInputChecked.push(r)}}function _nextTick(e){return setTimeout(e,0)}function _cancelNextTick(e){return clearTimeout(e)}documentExists&&on$1(document,"touchmove",function(e){(Sortable.active||awaitingDragStarted)&&e.cancelable&&e.preventDefault()});Sortable.utils={on:on$1,off,css,find,is:function(t,n){return!!closest(t,n,t,!1)},extend:extend$2,throttle:throttle$1,closest,toggleClass,clone:clone$1,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild};Sortable.get=function(e){return e[expando]};Sortable.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Sortable.utils=_objectSpread({},Sortable.utils,r.utils)),PluginManager.mount(r)})};Sortable.create=function(e,t){return new Sortable(e,t)};Sortable.version=version$1;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function e(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?on$1(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on$1(document,"pointermove",this._handleFallbackAutoScroll):r.touches?on$1(document,"touchmove",this._handleFallbackAutoScroll):on$1(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var a=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(o,s);if(touchEvt$1=n,r||Edge||IE11OrLess||Safari){autoScroll(n,this.options,l,r);var c=getParentAutoScrollElement(l,!0);scrolling&&(!pointerElemChangedInterval||o!==lastAutoScrollX||s!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var u=getParentAutoScrollElement(document.elementFromPoint(o,s),!0);u!==c&&(c=u,clearAutoScrolls()),autoScroll(n,a.options,u,r)},10),lastAutoScrollX=o,lastAutoScrollY=s)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(l,!0)===getWindowScrollingElement()){clearAutoScrolls();return}autoScroll(n,this.options,getParentAutoScrollElement(l,!1),!1)}}},_extends(e,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(e){clearInterval(e.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle$1(function(e,t,n,r){if(!!t.scroll){var a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=getWindowScrollingElement(),u=!1,f;scrollRootEl!==n&&(scrollRootEl=n,clearAutoScrolls(),scrollEl=t.scroll,f=t.scrollFn,scrollEl===!0&&(scrollEl=getParentAutoScrollElement(n,!0)));var m=0,h=scrollEl;do{var d=h,g=getRect(d),v=g.top,_=g.bottom,y=g.left,q=g.right,b=g.width,x=g.height,E=void 0,T=void 0,k=d.scrollWidth,A=d.scrollHeight,M=css(d),S=d.scrollLeft,C=d.scrollTop;d===c?(E=b<k&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),T=x<A&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(E=b<k&&(M.overflowX==="auto"||M.overflowX==="scroll"),T=x<A&&(M.overflowY==="auto"||M.overflowY==="scroll"));var I=E&&(Math.abs(q-a)<=s&&S+b<k)-(Math.abs(y-a)<=s&&!!S),O=T&&(Math.abs(_-o)<=s&&C+x<A)-(Math.abs(v-o)<=s&&!!C);if(!autoScrolls[m])for(var D=0;D<=m;D++)autoScrolls[D]||(autoScrolls[D]={});(autoScrolls[m].vx!=I||autoScrolls[m].vy!=O||autoScrolls[m].el!==d)&&(autoScrolls[m].el=d,autoScrolls[m].vx=I,autoScrolls[m].vy=O,clearInterval(autoScrolls[m].pid),(I!=0||O!=0)&&(u=!0,autoScrolls[m].pid=setInterval(function(){r&&this.layer===0&&Sortable.active._onTouchMove(touchEvt$1);var R=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*l:0,w=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*l:0;typeof f=="function"&&f.call(Sortable.dragged.parentNode[expando],w,R,e,touchEvt$1,autoScrolls[this.layer].el)!=="continue"||scrollBy(autoScrolls[this.layer].el,w,R)}.bind({layer:m}),24))),m++}while(t.bubbleScroll&&h!==c&&(h=getParentAutoScrollElement(h,!1)));scrolling=u}},30),drop=function(t){var n=t.originalEvent,r=t.putSortable,a=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(!!n){var u=r||o;l();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,m=document.elementFromPoint(f.clientX,f.clientY);c(),u&&!u.el.contains(m)&&(s("spill"),this.onSpill({dragEl:a,putSortable:r}))}};function Revert(){}Revert.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var a=getChild(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop};_extends(Revert,{pluginName:"revertOnSpill"});function Remove(){}Remove.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,a=r||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop};_extends(Remove,{pluginName:"removeOnSpill"});var lastSwapEl;function SwapPlugin(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;lastSwapEl=r},dragOverValid:function(n){var r=n.completed,a=n.target,o=n.onMove,s=n.activeSortable,l=n.changed,c=n.cancel;if(!!s.options.swap){var u=this.sortable.el,f=this.options;if(a&&a!==u){var m=lastSwapEl;o(a)!==!1?(toggleClass(a,f.swapClass,!0),lastSwapEl=a):lastSwapEl=null,m&&m!==lastSwapEl&&toggleClass(m,f.swapClass,!1)}l(),r(!0),c()}},drop:function(n){var r=n.activeSortable,a=n.putSortable,o=n.dragEl,s=a||this.sortable,l=this.options;lastSwapEl&&toggleClass(lastSwapEl,l.swapClass,!1),lastSwapEl&&(l.swap||a&&a.options.swap)&&o!==lastSwapEl&&(s.captureAnimationState(),s!==r&&r.captureAnimationState(),swapNodes(o,lastSwapEl),s.animateAll(),s!==r&&r.animateAll())},nulling:function(){lastSwapEl=null}},_extends(e,{pluginName:"swap",eventProperties:function(){return{swapItem:lastSwapEl}}})}function swapNodes(e,t){var n=e.parentNode,r=t.parentNode,a,o;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(a=index(e),o=index(t),n.isEqualNode(r)&&a<o&&o++,n.insertBefore(t,n.children[a]),r.insertBefore(e,r.children[o]))}var multiDragElements=[],multiDragClones=[],lastMultiDragSelect,multiDragSortable,initialFolding=!1,folding=!1,dragStarted=!1,dragEl$1,clonesFromRect,clonesHidden;function MultiDragPlugin(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?on$1(document,"pointerup",this._deselectMultiDrag):(on$1(document,"mouseup",this._deselectMultiDrag),on$1(document,"touchend",this._deselectMultiDrag)),on$1(document,"keydown",this._checkKeyDown),on$1(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,o){var s="";multiDragElements.length&&multiDragSortable===t?multiDragElements.forEach(function(l,c){s+=(c?", ":"")+l.textContent}):s=o.textContent,a.setData("Text",s)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;dragEl$1=r},delayEnded:function(){this.isMultiDrag=~multiDragElements.indexOf(dragEl$1)},setupClone:function(n){var r=n.sortable,a=n.cancel;if(!!this.isMultiDrag){for(var o=0;o<multiDragElements.length;o++)multiDragClones.push(clone$1(multiDragElements[o])),multiDragClones[o].sortableIndex=multiDragElements[o].sortableIndex,multiDragClones[o].draggable=!1,multiDragClones[o].style["will-change"]="",toggleClass(multiDragClones[o],this.options.selectedClass,!1),multiDragElements[o]===dragEl$1&&toggleClass(multiDragClones[o],this.options.chosenClass,!1);r._hideClone(),a()}},clone:function(n){var r=n.sortable,a=n.rootEl,o=n.dispatchSortableEvent,s=n.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||multiDragElements.length&&multiDragSortable===r&&(insertMultiDragClones(!0,a),o("clone"),s())},showClone:function(n){var r=n.cloneNowShown,a=n.rootEl,o=n.cancel;!this.isMultiDrag||(insertMultiDragClones(!1,a),multiDragClones.forEach(function(s){css(s,"display","")}),r(),clonesHidden=!1,o())},hideClone:function(n){var r=this;n.sortable;var a=n.cloneNowHidden,o=n.cancel;!this.isMultiDrag||(multiDragClones.forEach(function(s){css(s,"display","none"),r.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),a(),clonesHidden=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&multiDragSortable&&multiDragSortable.multiDrag._deselectMultiDrag(),multiDragElements.forEach(function(r){r.sortableIndex=index(r)}),multiDragElements=multiDragElements.sort(function(r,a){return r.sortableIndex-a.sortableIndex}),dragStarted=!0},dragStarted:function(n){var r=this,a=n.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){multiDragElements.forEach(function(s){s!==dragEl$1&&css(s,"position","absolute")});var o=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(s){s!==dragEl$1&&setRect(s,o)}),folding=!0,initialFolding=!0}a.animateAll(function(){folding=!1,initialFolding=!1,r.options.animation&&multiDragElements.forEach(function(s){unsetRect(s)}),r.options.sort&&removeMultiDragElements()})}},dragOver:function(n){var r=n.target,a=n.completed,o=n.cancel;folding&&~multiDragElements.indexOf(r)&&(a(!1),o())},revert:function(n){var r=n.fromSortable,a=n.rootEl,o=n.sortable,s=n.dragRect;multiDragElements.length>1&&(multiDragElements.forEach(function(l){o.addAnimationState({target:l,rect:folding?getRect(l):s}),unsetRect(l),l.fromRect=s,r.removeAnimationState(l)}),folding=!1,insertMultiDragElements(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(n){var r=n.sortable,a=n.isOwner,o=n.insertion,s=n.activeSortable,l=n.parentEl,c=n.putSortable,u=this.options;if(o){if(a&&s._hideClone(),initialFolding=!1,u.animation&&multiDragElements.length>1&&(folding||!a&&!s.options.sort&&!c)){var f=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(h){h!==dragEl$1&&(setRect(h,f),l.appendChild(h))}),folding=!0}if(!a)if(folding||removeMultiDragElements(),multiDragElements.length>1){var m=clonesHidden;s._showClone(r),s.options.animation&&!clonesHidden&&m&&multiDragClones.forEach(function(h){s.addAnimationState({target:h,rect:clonesFromRect}),h.fromRect=clonesFromRect,h.thisAnimationDuration=null})}else s._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,a=n.isOwner,o=n.activeSortable;if(multiDragElements.forEach(function(l){l.thisAnimationDuration=null}),o.options.animation&&!a&&o.multiDrag.isMultiDrag){clonesFromRect=_extends({},r);var s=matrix(dragEl$1,!0);clonesFromRect.top-=s.f,clonesFromRect.left-=s.e}},dragOverAnimationComplete:function(){folding&&(folding=!1,removeMultiDragElements())},drop:function(n){var r=n.originalEvent,a=n.rootEl,o=n.parentEl,s=n.sortable,l=n.dispatchSortableEvent,c=n.oldIndex,u=n.putSortable,f=u||this.sortable;if(!!r){var m=this.options,h=o.children;if(!dragStarted)if(m.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),toggleClass(dragEl$1,m.selectedClass,!~multiDragElements.indexOf(dragEl$1)),~multiDragElements.indexOf(dragEl$1))multiDragElements.splice(multiDragElements.indexOf(dragEl$1),1),lastMultiDragSelect=null,dispatchEvent({sortable:s,rootEl:a,name:"deselect",targetEl:dragEl$1,originalEvt:r});else{if(multiDragElements.push(dragEl$1),dispatchEvent({sortable:s,rootEl:a,name:"select",targetEl:dragEl$1,originalEvt:r}),r.shiftKey&&lastMultiDragSelect&&s.el.contains(lastMultiDragSelect)){var d=index(lastMultiDragSelect),g=index(dragEl$1);if(~d&&~g&&d!==g){var v,_;for(g>d?(_=d,v=g):(_=g,v=d+1);_<v;_++)~multiDragElements.indexOf(h[_])||(toggleClass(h[_],m.selectedClass,!0),multiDragElements.push(h[_]),dispatchEvent({sortable:s,rootEl:a,name:"select",targetEl:h[_],originalEvt:r}))}}else lastMultiDragSelect=dragEl$1;multiDragSortable=f}if(dragStarted&&this.isMultiDrag){if((o[expando].options.sort||o!==a)&&multiDragElements.length>1){var y=getRect(dragEl$1),q=index(dragEl$1,":not(."+this.options.selectedClass+")");if(!initialFolding&&m.animation&&(dragEl$1.thisAnimationDuration=null),f.captureAnimationState(),!initialFolding&&(m.animation&&(dragEl$1.fromRect=y,multiDragElements.forEach(function(x){if(x.thisAnimationDuration=null,x!==dragEl$1){var E=folding?getRect(x):y;x.fromRect=E,f.addAnimationState({target:x,rect:E})}})),removeMultiDragElements(),multiDragElements.forEach(function(x){h[q]?o.insertBefore(x,h[q]):o.appendChild(x),q++}),c===index(dragEl$1))){var b=!1;multiDragElements.forEach(function(x){if(x.sortableIndex!==index(x)){b=!0;return}}),b&&l("update")}multiDragElements.forEach(function(x){unsetRect(x)}),f.animateAll()}multiDragSortable=f}(a===o||u&&u.lastPutMode!=="clone")&&multiDragClones.forEach(function(x){x.parentNode&&x.parentNode.removeChild(x)})}},nullingGlobal:function(){this.isMultiDrag=dragStarted=!1,multiDragClones.length=0},destroyGlobal:function(){this._deselectMultiDrag(),off(document,"pointerup",this._deselectMultiDrag),off(document,"mouseup",this._deselectMultiDrag),off(document,"touchend",this._deselectMultiDrag),off(document,"keydown",this._checkKeyDown),off(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof dragStarted!="undefined"&&dragStarted)&&multiDragSortable===this.sortable&&!(n&&closest(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;multiDragElements.length;){var r=multiDragElements[0];toggleClass(r,this.options.selectedClass,!1),multiDragElements.shift(),dispatchEvent({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},_extends(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[expando];!r||!r.options.multiDrag||~multiDragElements.indexOf(n)||(multiDragSortable&&multiDragSortable!==r&&(multiDragSortable.multiDrag._deselectMultiDrag(),multiDragSortable=r),toggleClass(n,r.options.selectedClass,!0),multiDragElements.push(n))},deselect:function(n){var r=n.parentNode[expando],a=multiDragElements.indexOf(n);!r||!r.options.multiDrag||!~a||(toggleClass(n,r.options.selectedClass,!1),multiDragElements.splice(a,1))}},eventProperties:function(){var n=this,r=[],a=[];return multiDragElements.forEach(function(o){r.push({multiDragElement:o,index:o.sortableIndex});var s;folding&&o!==dragEl$1?s=-1:folding?s=index(o,":not(."+n.options.selectedClass+")"):s=index(o),a.push({multiDragElement:o,index:s})}),{items:_toConsumableArray(multiDragElements),clones:[].concat(multiDragClones),oldIndicies:r,newIndicies:a}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function insertMultiDragElements(e,t){multiDragElements.forEach(function(n,r){var a=t.children[n.sortableIndex+(e?Number(r):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function insertMultiDragClones(e,t){multiDragClones.forEach(function(n,r){var a=t.children[n.sortableIndex+(e?Number(r):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function removeMultiDragElements(){multiDragElements.forEach(function(e){e!==dragEl$1&&e.parentNode&&e.parentNode.removeChild(e)})}Sortable.mount(new AutoScrollPlugin);Sortable.mount(Remove,Revert);var sortable_esm=Object.freeze(Object.defineProperty({__proto__:null,default:Sortable,MultiDrag:MultiDragPlugin,Sortable,Swap:SwapPlugin},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(sortable_esm);(function(e,t){(function(r,a){e.exports=a(require$$0$1)})(typeof self!="undefined"?self:commonjsGlobal,function(n){return function(r){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return r[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=r,o.c=a,o.d=function(s,l,c){o.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:c})},o.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,l){if(l&1&&(s=o(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var u in s)o.d(c,u,function(f){return s[f]}.bind(null,u));return c},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s="fb15")}({"01f9":function(r,a,o){var s=o("2d00"),l=o("5ca1"),c=o("2aba"),u=o("32e9"),f=o("84f2"),m=o("41a0"),h=o("7f20"),d=o("38fd"),g=o("2b4c")("iterator"),v=!([].keys&&"next"in[].keys()),_="@@iterator",y="keys",q="values",b=function(){return this};r.exports=function(x,E,T,k,A,M,S){m(T,E,k);var C=function(N){if(!v&&N in R)return R[N];switch(N){case y:return function(){return new T(this,N)};case q:return function(){return new T(this,N)}}return function(){return new T(this,N)}},I=E+" Iterator",O=A==q,D=!1,R=x.prototype,w=R[g]||R[_]||A&&R[A],B=w||C(A),G=A?O?C("entries"):B:void 0,U=E=="Array"&&R.entries||w,$,P,F;if(U&&(F=d(U.call(new x)),F!==Object.prototype&&F.next&&(h(F,I,!0),!s&&typeof F[g]!="function"&&u(F,g,b))),O&&w&&w.name!==q&&(D=!0,B=function(){return w.call(this)}),(!s||S)&&(v||D||!R[g])&&u(R,g,B),f[E]=B,f[I]=b,A)if($={values:O?B:C(q),keys:M?B:C(y),entries:G},S)for(P in $)P in R||c(R,P,$[P]);else l(l.P+l.F*(v||D),E,$);return $}},"02f4":function(r,a,o){var s=o("4588"),l=o("be13");r.exports=function(c){return function(u,f){var m=String(l(u)),h=s(f),d=m.length,g,v;return h<0||h>=d?c?"":void 0:(g=m.charCodeAt(h),g<55296||g>56319||h+1===d||(v=m.charCodeAt(h+1))<56320||v>57343?c?m.charAt(h):g:c?m.slice(h,h+2):(g-55296<<10)+(v-56320)+65536)}}},"0390":function(r,a,o){var s=o("02f4")(!0);r.exports=function(l,c,u){return c+(u?s(l,c).length:1)}},"0bfb":function(r,a,o){var s=o("cb7c");r.exports=function(){var l=s(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},"0d58":function(r,a,o){var s=o("ce10"),l=o("e11e");r.exports=Object.keys||function(u){return s(u,l)}},1495:function(r,a,o){var s=o("86cc"),l=o("cb7c"),c=o("0d58");r.exports=o("9e1e")?Object.defineProperties:function(f,m){l(f);for(var h=c(m),d=h.length,g=0,v;d>g;)s.f(f,v=h[g++],m[v]);return f}},"214f":function(r,a,o){o("b0c5");var s=o("2aba"),l=o("32e9"),c=o("79e5"),u=o("be13"),f=o("2b4c"),m=o("520a"),h=f("species"),d=!c(function(){var v=/./;return v.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(v,"$<a>")!=="7"}),g=function(){var v=/(?:)/,_=v.exec;v.exec=function(){return _.apply(this,arguments)};var y="ab".split(v);return y.length===2&&y[0]==="a"&&y[1]==="b"}();r.exports=function(v,_,y){var q=f(v),b=!c(function(){var M={};return M[q]=function(){return 7},""[v](M)!=7}),x=b?!c(function(){var M=!1,S=/a/;return S.exec=function(){return M=!0,null},v==="split"&&(S.constructor={},S.constructor[h]=function(){return S}),S[q](""),!M}):void 0;if(!b||!x||v==="replace"&&!d||v==="split"&&!g){var E=/./[q],T=y(u,q,""[v],function(S,C,I,O,D){return C.exec===m?b&&!D?{done:!0,value:E.call(C,I,O)}:{done:!0,value:S.call(I,C,O)}:{done:!1}}),k=T[0],A=T[1];s(String.prototype,v,k),l(RegExp.prototype,q,_==2?function(M,S){return A.call(M,this,S)}:function(M){return A.call(M,this)})}}},"230e":function(r,a,o){var s=o("d3f4"),l=o("7726").document,c=s(l)&&s(l.createElement);r.exports=function(u){return c?l.createElement(u):{}}},"23c6":function(r,a,o){var s=o("2d95"),l=o("2b4c")("toStringTag"),c=s(function(){return arguments}())=="Arguments",u=function(f,m){try{return f[m]}catch{}};r.exports=function(f){var m,h,d;return f===void 0?"Undefined":f===null?"Null":typeof(h=u(m=Object(f),l))=="string"?h:c?s(m):(d=s(m))=="Object"&&typeof m.callee=="function"?"Arguments":d}},2621:function(r,a){a.f=Object.getOwnPropertySymbols},"2aba":function(r,a,o){var s=o("7726"),l=o("32e9"),c=o("69a8"),u=o("ca5a")("src"),f=o("fa5b"),m="toString",h=(""+f).split(m);o("8378").inspectSource=function(d){return f.call(d)},(r.exports=function(d,g,v,_){var y=typeof v=="function";y&&(c(v,"name")||l(v,"name",g)),d[g]!==v&&(y&&(c(v,u)||l(v,u,d[g]?""+d[g]:h.join(String(g)))),d===s?d[g]=v:_?d[g]?d[g]=v:l(d,g,v):(delete d[g],l(d,g,v)))})(Function.prototype,m,function(){return typeof this=="function"&&this[u]||f.call(this)})},"2aeb":function(r,a,o){var s=o("cb7c"),l=o("1495"),c=o("e11e"),u=o("613b")("IE_PROTO"),f=function(){},m="prototype",h=function(){var d=o("230e")("iframe"),g=c.length,v="<",_=">",y;for(d.style.display="none",o("fab2").appendChild(d),d.src="javascript:",y=d.contentWindow.document,y.open(),y.write(v+"script"+_+"document.F=Object"+v+"/script"+_),y.close(),h=y.F;g--;)delete h[m][c[g]];return h()};r.exports=Object.create||function(g,v){var _;return g!==null?(f[m]=s(g),_=new f,f[m]=null,_[u]=g):_=h(),v===void 0?_:l(_,v)}},"2b4c":function(r,a,o){var s=o("5537")("wks"),l=o("ca5a"),c=o("7726").Symbol,u=typeof c=="function",f=r.exports=function(m){return s[m]||(s[m]=u&&c[m]||(u?c:l)("Symbol."+m))};f.store=s},"2d00":function(r,a){r.exports=!1},"2d95":function(r,a){var o={}.toString;r.exports=function(s){return o.call(s).slice(8,-1)}},"2fdb":function(r,a,o){var s=o("5ca1"),l=o("d2c8"),c="includes";s(s.P+s.F*o("5147")(c),"String",{includes:function(f){return!!~l(this,f,c).indexOf(f,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(r,a,o){var s=o("86cc"),l=o("4630");r.exports=o("9e1e")?function(c,u,f){return s.f(c,u,l(1,f))}:function(c,u,f){return c[u]=f,c}},"38fd":function(r,a,o){var s=o("69a8"),l=o("4bf8"),c=o("613b")("IE_PROTO"),u=Object.prototype;r.exports=Object.getPrototypeOf||function(f){return f=l(f),s(f,c)?f[c]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?u:null}},"41a0":function(r,a,o){var s=o("2aeb"),l=o("4630"),c=o("7f20"),u={};o("32e9")(u,o("2b4c")("iterator"),function(){return this}),r.exports=function(f,m,h){f.prototype=s(u,{next:l(1,h)}),c(f,m+" Iterator")}},"456d":function(r,a,o){var s=o("4bf8"),l=o("0d58");o("5eda")("keys",function(){return function(u){return l(s(u))}})},4588:function(r,a){var o=Math.ceil,s=Math.floor;r.exports=function(l){return isNaN(l=+l)?0:(l>0?s:o)(l)}},4630:function(r,a){r.exports=function(o,s){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:s}}},"4bf8":function(r,a,o){var s=o("be13");r.exports=function(l){return Object(s(l))}},5147:function(r,a,o){var s=o("2b4c")("match");r.exports=function(l){var c=/./;try{"/./"[l](c)}catch{try{return c[s]=!1,!"/./"[l](c)}catch{}}return!0}},"520a":function(r,a,o){var s=o("0bfb"),l=RegExp.prototype.exec,c=String.prototype.replace,u=l,f="lastIndex",m=function(){var g=/a/,v=/b*/g;return l.call(g,"a"),l.call(v,"a"),g[f]!==0||v[f]!==0}(),h=/()??/.exec("")[1]!==void 0,d=m||h;d&&(u=function(v){var _=this,y,q,b,x;return h&&(q=new RegExp("^"+_.source+"$(?!\\s)",s.call(_))),m&&(y=_[f]),b=l.call(_,v),m&&b&&(_[f]=_.global?b.index+b[0].length:y),h&&b&&b.length>1&&c.call(b[0],q,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(b[x]=void 0)}),b}),r.exports=u},"52a7":function(r,a){a.f={}.propertyIsEnumerable},5537:function(r,a,o){var s=o("8378"),l=o("7726"),c="__core-js_shared__",u=l[c]||(l[c]={});(r.exports=function(f,m){return u[f]||(u[f]=m!==void 0?m:{})})("versions",[]).push({version:s.version,mode:o("2d00")?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(r,a,o){var s=o("7726"),l=o("8378"),c=o("32e9"),u=o("2aba"),f=o("9b43"),m="prototype",h=function(d,g,v){var _=d&h.F,y=d&h.G,q=d&h.S,b=d&h.P,x=d&h.B,E=y?s:q?s[g]||(s[g]={}):(s[g]||{})[m],T=y?l:l[g]||(l[g]={}),k=T[m]||(T[m]={}),A,M,S,C;y&&(v=g);for(A in v)M=!_&&E&&E[A]!==void 0,S=(M?E:v)[A],C=x&&M?f(S,s):b&&typeof S=="function"?f(Function.call,S):S,E&&u(E,A,S,d&h.U),T[A]!=S&&c(T,A,C),b&&k[A]!=S&&(k[A]=S)};s.core=l,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,r.exports=h},"5eda":function(r,a,o){var s=o("5ca1"),l=o("8378"),c=o("79e5");r.exports=function(u,f){var m=(l.Object||{})[u]||Object[u],h={};h[u]=f(m),s(s.S+s.F*c(function(){m(1)}),"Object",h)}},"5f1b":function(r,a,o){var s=o("23c6"),l=RegExp.prototype.exec;r.exports=function(c,u){var f=c.exec;if(typeof f=="function"){var m=f.call(c,u);if(typeof m!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return m}if(s(c)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"613b":function(r,a,o){var s=o("5537")("keys"),l=o("ca5a");r.exports=function(c){return s[c]||(s[c]=l(c))}},"626a":function(r,a,o){var s=o("2d95");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(l){return s(l)=="String"?l.split(""):Object(l)}},6762:function(r,a,o){var s=o("5ca1"),l=o("c366")(!0);s(s.P,"Array",{includes:function(u){return l(this,u,arguments.length>1?arguments[1]:void 0)}}),o("9c6c")("includes")},6821:function(r,a,o){var s=o("626a"),l=o("be13");r.exports=function(c){return s(l(c))}},"69a8":function(r,a){var o={}.hasOwnProperty;r.exports=function(s,l){return o.call(s,l)}},"6a99":function(r,a,o){var s=o("d3f4");r.exports=function(l,c){if(!s(l))return l;var u,f;if(c&&typeof(u=l.toString)=="function"&&!s(f=u.call(l))||typeof(u=l.valueOf)=="function"&&!s(f=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!s(f=u.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},7333:function(r,a,o){var s=o("0d58"),l=o("2621"),c=o("52a7"),u=o("4bf8"),f=o("626a"),m=Object.assign;r.exports=!m||o("79e5")(function(){var h={},d={},g=Symbol(),v="abcdefghijklmnopqrst";return h[g]=7,v.split("").forEach(function(_){d[_]=_}),m({},h)[g]!=7||Object.keys(m({},d)).join("")!=v})?function(d,g){for(var v=u(d),_=arguments.length,y=1,q=l.f,b=c.f;_>y;)for(var x=f(arguments[y++]),E=q?s(x).concat(q(x)):s(x),T=E.length,k=0,A;T>k;)b.call(x,A=E[k++])&&(v[A]=x[A]);return v}:m},7726:function(r,a){var o=r.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=o)},"77f1":function(r,a,o){var s=o("4588"),l=Math.max,c=Math.min;r.exports=function(u,f){return u=s(u),u<0?l(u+f,0):c(u,f)}},"79e5":function(r,a){r.exports=function(o){try{return!!o()}catch{return!0}}},"7f20":function(r,a,o){var s=o("86cc").f,l=o("69a8"),c=o("2b4c")("toStringTag");r.exports=function(u,f,m){u&&!l(u=m?u:u.prototype,c)&&s(u,c,{configurable:!0,value:f})}},8378:function(r,a){var o=r.exports={version:"2.6.5"};typeof __e=="number"&&(__e=o)},"84f2":function(r,a){r.exports={}},"86cc":function(r,a,o){var s=o("cb7c"),l=o("c69a"),c=o("6a99"),u=Object.defineProperty;a.f=o("9e1e")?Object.defineProperty:function(m,h,d){if(s(m),h=c(h,!0),s(d),l)try{return u(m,h,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(m[h]=d.value),m}},"9b43":function(r,a,o){var s=o("d8e8");r.exports=function(l,c,u){if(s(l),c===void 0)return l;switch(u){case 1:return function(f){return l.call(c,f)};case 2:return function(f,m){return l.call(c,f,m)};case 3:return function(f,m,h){return l.call(c,f,m,h)}}return function(){return l.apply(c,arguments)}}},"9c6c":function(r,a,o){var s=o("2b4c")("unscopables"),l=Array.prototype;l[s]==null&&o("32e9")(l,s,{}),r.exports=function(c){l[s][c]=!0}},"9def":function(r,a,o){var s=o("4588"),l=Math.min;r.exports=function(c){return c>0?l(s(c),9007199254740991):0}},"9e1e":function(r,a,o){r.exports=!o("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(r,a){r.exports=n},a481:function(r,a,o){var s=o("cb7c"),l=o("4bf8"),c=o("9def"),u=o("4588"),f=o("0390"),m=o("5f1b"),h=Math.max,d=Math.min,g=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,_=/\$([$&`']|\d\d?)/g,y=function(q){return q===void 0?q:String(q)};o("214f")("replace",2,function(q,b,x,E){return[function(A,M){var S=q(this),C=A==null?void 0:A[b];return C!==void 0?C.call(A,S,M):x.call(String(S),A,M)},function(k,A){var M=E(x,k,this,A);if(M.done)return M.value;var S=s(k),C=String(this),I=typeof A=="function";I||(A=String(A));var O=S.global;if(O){var D=S.unicode;S.lastIndex=0}for(var R=[];;){var w=m(S,C);if(w===null||(R.push(w),!O))break;var B=String(w[0]);B===""&&(S.lastIndex=f(C,c(S.lastIndex),D))}for(var G="",U=0,$=0;$<R.length;$++){w=R[$];for(var P=String(w[0]),F=h(d(u(w.index),C.length),0),N=[],z=1;z<w.length;z++)N.push(y(w[z]));var V=w.groups;if(I){var L=[P].concat(N,F,C);V!==void 0&&L.push(V);var j=String(A.apply(void 0,L))}else j=T(P,C,F,N,V,A);F>=U&&(G+=C.slice(U,F)+j,U=F+P.length)}return G+C.slice(U)}];function T(k,A,M,S,C,I){var O=M+k.length,D=S.length,R=_;return C!==void 0&&(C=l(C),R=v),x.call(I,R,function(w,B){var G;switch(B.charAt(0)){case"$":return"$";case"&":return k;case"`":return A.slice(0,M);case"'":return A.slice(O);case"<":G=C[B.slice(1,-1)];break;default:var U=+B;if(U===0)return w;if(U>D){var $=g(U/10);return $===0?w:$<=D?S[$-1]===void 0?B.charAt(1):S[$-1]+B.charAt(1):w}G=S[U-1]}return G===void 0?"":G})}})},aae3:function(r,a,o){var s=o("d3f4"),l=o("2d95"),c=o("2b4c")("match");r.exports=function(u){var f;return s(u)&&((f=u[c])!==void 0?!!f:l(u)=="RegExp")}},ac6a:function(r,a,o){for(var s=o("cadf"),l=o("0d58"),c=o("2aba"),u=o("7726"),f=o("32e9"),m=o("84f2"),h=o("2b4c"),d=h("iterator"),g=h("toStringTag"),v=m.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=l(_),q=0;q<y.length;q++){var b=y[q],x=_[b],E=u[b],T=E&&E.prototype,k;if(T&&(T[d]||f(T,d,v),T[g]||f(T,g,b),m[b]=v,x))for(k in s)T[k]||c(T,k,s[k],!0)}},b0c5:function(r,a,o){var s=o("520a");o("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},be13:function(r,a){r.exports=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o}},c366:function(r,a,o){var s=o("6821"),l=o("9def"),c=o("77f1");r.exports=function(u){return function(f,m,h){var d=s(f),g=l(d.length),v=c(h,g),_;if(u&&m!=m){for(;g>v;)if(_=d[v++],_!=_)return!0}else for(;g>v;v++)if((u||v in d)&&d[v]===m)return u||v||0;return!u&&-1}}},c649:function(r,a,o){(function(s){o.d(a,"c",function(){return d}),o.d(a,"a",function(){return m}),o.d(a,"b",function(){return c}),o.d(a,"d",function(){return h}),o("a481");function l(){return typeof window!="undefined"?window.console:s.console}var c=l();function u(g){var v=Object.create(null);return function(y){var q=v[y];return q||(v[y]=g(y))}}var f=/-(\w)/g,m=u(function(g){return g.replace(f,function(v,_){return _?_.toUpperCase():""})});function h(g){g.parentElement!==null&&g.parentElement.removeChild(g)}function d(g,v,_){var y=_===0?g.children[0]:g.children[_-1].nextSibling;g.insertBefore(v,y)}}).call(this,o("c8ba"))},c69a:function(r,a,o){r.exports=!o("9e1e")&&!o("79e5")(function(){return Object.defineProperty(o("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(r,a){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}r.exports=o},ca5a:function(r,a){var o=0,s=Math.random();r.exports=function(l){return"Symbol(".concat(l===void 0?"":l,")_",(++o+s).toString(36))}},cadf:function(r,a,o){var s=o("9c6c"),l=o("d53b"),c=o("84f2"),u=o("6821");r.exports=o("01f9")(Array,"Array",function(f,m){this._t=u(f),this._i=0,this._k=m},function(){var f=this._t,m=this._k,h=this._i++;return!f||h>=f.length?(this._t=void 0,l(1)):m=="keys"?l(0,h):m=="values"?l(0,f[h]):l(0,[h,f[h]])},"values"),c.Arguments=c.Array,s("keys"),s("values"),s("entries")},cb7c:function(r,a,o){var s=o("d3f4");r.exports=function(l){if(!s(l))throw TypeError(l+" is not an object!");return l}},ce10:function(r,a,o){var s=o("69a8"),l=o("6821"),c=o("c366")(!1),u=o("613b")("IE_PROTO");r.exports=function(f,m){var h=l(f),d=0,g=[],v;for(v in h)v!=u&&s(h,v)&&g.push(v);for(;m.length>d;)s(h,v=m[d++])&&(~c(g,v)||g.push(v));return g}},d2c8:function(r,a,o){var s=o("aae3"),l=o("be13");r.exports=function(c,u,f){if(s(u))throw TypeError("String#"+f+" doesn't accept regex!");return String(l(c))}},d3f4:function(r,a){r.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},d53b:function(r,a){r.exports=function(o,s){return{value:s,done:!!o}}},d8e8:function(r,a){r.exports=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o}},e11e:function(r,a){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(r,a,o){var s=o("5ca1"),l=o("9def"),c=o("d2c8"),u="startsWith",f=""[u];s(s.P+s.F*o("5147")(u),"String",{startsWith:function(h){var d=c(this,h,u),g=l(Math.min(arguments.length>1?arguments[1]:void 0,d.length)),v=String(h);return f?f.call(d,v,g):d.slice(g,g+v.length)===v}})},f6fd:function(r,a){(function(o){var s="currentScript",l=o.getElementsByTagName("script");s in o||Object.defineProperty(o,s,{get:function(){try{throw new Error}catch(f){var c,u=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(f.stack)||[!1])[1];for(c in l)if(l[c].src==u||l[c].readyState=="interactive")return l[c];return null}}})})(document)},f751:function(r,a,o){var s=o("5ca1");s(s.S+s.F,"Object",{assign:o("7333")})},fa5b:function(r,a,o){r.exports=o("5537")("native-function-to-string",Function.toString)},fab2:function(r,a,o){var s=o("7726").document;r.exports=s&&s.documentElement},fb15:function(r,a,o){if(o.r(a),typeof window!="undefined"){o("f6fd");var s;(s=window.document.currentScript)&&(s=s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(o.p=s[1])}o("f751"),o("f559"),o("ac6a"),o("cadf"),o("456d");function l(P){if(Array.isArray(P))return P}function c(P,F){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(P)))){var N=[],z=!0,V=!1,L=void 0;try{for(var j=P[Symbol.iterator](),J;!(z=(J=j.next()).done)&&(N.push(J.value),!(F&&N.length===F));z=!0);}catch(Q){V=!0,L=Q}finally{try{!z&&j.return!=null&&j.return()}finally{if(V)throw L}}return N}}function u(P,F){(F==null||F>P.length)&&(F=P.length);for(var N=0,z=new Array(F);N<F;N++)z[N]=P[N];return z}function f(P,F){if(!!P){if(typeof P=="string")return u(P,F);var N=Object.prototype.toString.call(P).slice(8,-1);if(N==="Object"&&P.constructor&&(N=P.constructor.name),N==="Map"||N==="Set")return Array.from(P);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return u(P,F)}}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(P,F){return l(P)||c(P,F)||f(P,F)||m()}o("6762"),o("2fdb");function d(P){if(Array.isArray(P))return u(P)}function g(P){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(P))return Array.from(P)}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(P){return d(P)||g(P)||f(P)||v()}var y=o("a352"),q=o.n(y),b=o("c649");function x(P,F,N){return N===void 0||(P=P||{},P[F]=N),P}function E(P,F){return P.map(function(N){return N.elm}).indexOf(F)}function T(P,F,N,z){if(!P)return[];var V=P.map(function(J){return J.elm}),L=F.length-z,j=_(F).map(function(J,Q){return Q>=L?V.length:V.indexOf(J)});return N?j.filter(function(J){return J!==-1}):j}function k(P,F){var N=this;this.$nextTick(function(){return N.$emit(P.toLowerCase(),F)})}function A(P){var F=this;return function(N){F.realList!==null&&F["onDrag"+P](N),k.call(F,P,N)}}function M(P){return["transition-group","TransitionGroup"].includes(P)}function S(P){if(!P||P.length!==1)return!1;var F=h(P,1),N=F[0].componentOptions;return N?M(N.tag):!1}function C(P,F,N){return P[N]||(F[N]?F[N]():void 0)}function I(P,F,N){var z=0,V=0,L=C(F,N,"header");L&&(z=L.length,P=P?[].concat(_(L),_(P)):_(L));var j=C(F,N,"footer");return j&&(V=j.length,P=P?[].concat(_(P),_(j)):_(j)),{children:P,headerOffset:z,footerOffset:V}}function O(P,F){var N=null,z=function(re,ce){N=x(N,re,ce)},V=Object.keys(P).filter(function(Q){return Q==="id"||Q.startsWith("data-")}).reduce(function(Q,re){return Q[re]=P[re],Q},{});if(z("attrs",V),!F)return N;var L=F.on,j=F.props,J=F.attrs;return z("on",L),z("props",j),Object.assign(N.attrs,J),N}var D=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],w=["Move"].concat(D,R).map(function(P){return"on"+P}),B=null,G={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(F){return F}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},U={name:"draggable",inheritAttrs:!1,props:G,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(F){var N=this.$slots.default;this.transitionMode=S(N);var z=I(N,this.$slots,this.$scopedSlots),V=z.children,L=z.headerOffset,j=z.footerOffset;this.headerOffset=L,this.footerOffset=j;var J=O(this.$attrs,this.componentData);return F(this.getTag(),J,V)},created:function(){this.list!==null&&this.value!==null&&b.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&b.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&b.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var F=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var N={};D.forEach(function(L){N["on"+L]=A.call(F,L)}),R.forEach(function(L){N["on"+L]=k.bind(F,L)});var z=Object.keys(this.$attrs).reduce(function(L,j){return L[Object(b.a)(j)]=F.$attrs[j],L},{}),V=Object.assign({},this.options,z,N,{onMove:function(j,J){return F.onDragMove(j,J)}});!("draggable"in V)&&(V.draggable=">*"),this._sortable=new q.a(this.rootContainer,V),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(F){this.updateOptions(F)},deep:!0},$attrs:{handler:function(F){this.updateOptions(F)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var F=this._vnode.fnOptions;return F&&F.functional},getTag:function(){return this.tag||this.element},updateOptions:function(F){for(var N in F){var z=Object(b.a)(N);w.indexOf(z)===-1&&this._sortable.option(z,F[N])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var F=this.$slots.default;return this.transitionMode?F[0].child.$slots.default:F},computeIndexes:function(){var F=this;this.$nextTick(function(){F.visibleIndexes=T(F.getChildrenNodes(),F.rootContainer.children,F.transitionMode,F.footerOffset)})},getUnderlyingVm:function(F){var N=E(this.getChildrenNodes()||[],F);if(N===-1)return null;var z=this.realList[N];return{index:N,element:z}},getUnderlyingPotencialDraggableComponent:function(F){var N=F.__vue__;return!N||!N.$options||!M(N.$options._componentTag)?!("realList"in N)&&N.$children.length===1&&"realList"in N.$children[0]?N.$children[0]:N:N.$parent},emitChanges:function(F){var N=this;this.$nextTick(function(){N.$emit("change",F)})},alterList:function(F){if(this.list){F(this.list);return}var N=_(this.value);F(N),this.$emit("input",N)},spliceList:function(){var F=arguments,N=function(V){return V.splice.apply(V,_(F))};this.alterList(N)},updatePosition:function(F,N){var z=function(L){return L.splice(N,0,L.splice(F,1)[0])};this.alterList(z)},getRelatedContextFromMoveEvent:function(F){var N=F.to,z=F.related,V=this.getUnderlyingPotencialDraggableComponent(N);if(!V)return{component:V};var L=V.realList,j={list:L,component:V};if(N!==z&&L&&V.getUnderlyingVm){var J=V.getUnderlyingVm(z);if(J)return Object.assign(J,j)}return j},getVmIndex:function(F){var N=this.visibleIndexes,z=N.length;return F>z-1?z:N[F]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(F){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var N=this.getChildrenNodes();N[F].data=null;var z=this.getComponent();z.children=[],z.kept=void 0}},onDragStart:function(F){this.context=this.getUnderlyingVm(F.item),F.item._underlying_vm_=this.clone(this.context.element),B=F.item},onDragAdd:function(F){var N=F.item._underlying_vm_;if(N!==void 0){Object(b.d)(F.item);var z=this.getVmIndex(F.newIndex);this.spliceList(z,0,N),this.computeIndexes();var V={element:N,newIndex:z};this.emitChanges({added:V})}},onDragRemove:function(F){if(Object(b.c)(this.rootContainer,F.item,F.oldIndex),F.pullMode==="clone"){Object(b.d)(F.clone);return}var N=this.context.index;this.spliceList(N,1);var z={element:this.context.element,oldIndex:N};this.resetTransitionData(N),this.emitChanges({removed:z})},onDragUpdate:function(F){Object(b.d)(F.item),Object(b.c)(F.from,F.item,F.oldIndex);var N=this.context.index,z=this.getVmIndex(F.newIndex);this.updatePosition(N,z);var V={element:this.context.element,oldIndex:N,newIndex:z};this.emitChanges({moved:V})},updateProperty:function(F,N){F.hasOwnProperty(N)&&(F[N]+=this.headerOffset)},computeFutureIndex:function(F,N){if(!F.element)return 0;var z=_(N.to.children).filter(function(J){return J.style.display!=="none"}),V=z.indexOf(N.related),L=F.component.getVmIndex(V),j=z.indexOf(B)!==-1;return j||!N.willInsertAfter?L:L+1},onDragMove:function(F,N){var z=this.move;if(!z||!this.realList)return!0;var V=this.getRelatedContextFromMoveEvent(F),L=this.context,j=this.computeFutureIndex(V,F);Object.assign(L,{futureIndex:j});var J=Object.assign({},F,{relatedContext:V,draggedContext:L});return z(J,N)},onDragEnd:function(){this.computeIndexes(),B=null}}};typeof window!="undefined"&&"Vue"in window&&window.Vue.component("draggable",U);var $=U;a.default=$}}).default})})(vuedraggable_umd);var draggable=getDefaultExportFromCjs(vuedraggable_umd.exports),render$g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slideshow"},[e.buttonOnTop&&e.remainingSlides>0?n("div",{staticClass:"slideshow__trigger"},[n("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(r){return e.openMediaLibrary(e.remainingSlides)}}},[e._v(e._s(e.addLabel))]),n("span",{staticClass:"slideshow__note f--small"},[e._t("default")],2)],1):e._e(),e.slides.length?n("draggable",{staticClass:"slideshow__content",attrs:{options:e.dragOptions},model:{value:e.slides,callback:function(r){e.slides=r},expression:"slides"}},[n("transition-group",{attrs:{name:"draggable_list",tag:"div"}},e._l(e.slides,function(r,a){return n("div",{key:r.id+"_"+a,staticClass:"slide"},[n("div",{staticClass:"slide__handle"},[n("div",{staticClass:"slide__handle--drag"})]),n("a17-mediafield",{staticClass:"slide__content",attrs:{name:e.name+"_"+r.id,index:a,mediaContext:e.name,cropContext:e.cropContext,hover:e.hoverable,isSlide:!0,withAddInfo:e.withAddInfo,withCaption:e.withCaption,withVideoUrl:e.withVideoUrl,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas}})],1)}),0)],1):e._e(),!e.buttonOnTop&&e.remainingSlides>0?n("div",{staticClass:"slideshow__trigger"},[n("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(r){return e.openMediaLibrary(e.remainingSlides)}}},[e._v(e._s(e.addLabel))]),n("span",{staticClass:"slideshow__note f--small"},[e._t("default")],2)],1):e._e()],1)},staticRenderFns$g=[],Slideshow_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-242d3719]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-242d3719]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-242d3719]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-242d3719]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-242d3719]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-242d3719]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-242d3719]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-242d3719]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-242d3719]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-242d3719]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-242d3719]{width:auto}}.slideshow[data-v-242d3719]{display:block;border-radius:2px;border:1px solid #e5e5e5;background:#fff}.slideshow__trigger[data-v-242d3719]{padding:10px;display:flex;align-items:center;gap:10px;border-top:1px solid #f2f2f2}.slideshow__trigger[data-v-242d3719]:first-child{border-top:0 none}.slideshow__note[data-v-242d3719]{color:#8c8c8c;padding:5px;flex:1;justify-content:flex-end;display:none}@media screen and (min-width: 600px){.slideshow__note[data-v-242d3719]{display:flex}}@media screen and (min-width: 850px) and (max-width: 1039px){.slideshow__note[data-v-242d3719]{display:none}}.slide[data-v-242d3719]{display:flex;flex-direction:row;border-bottom:1px solid #f2f2f2;background-color:#fff}.slide[data-v-242d3719]:last-child{border-bottom:0 none}.slide__handle[data-v-242d3719]{cursor:move;display:flex;justify-content:center;align-items:center;width:12px;min-width:12px;background-color:#fbfbfb;transition:background .25s ease}.slide__handle[data-v-242d3719]:hover{background-color:#f2f2f2}.slide__handle:hover .slide__handle--drag[data-v-242d3719]:before{background:repeating-linear-gradient(90deg,#f2f2f2 0,#f2f2f2 2px,transparent 2px,transparent 4px)}.slide__handle--drag[data-v-242d3719]{position:relative;width:10px;height:52px;transition:background .25s ease;cursor:move;background:repeating-linear-gradient(180deg,#bfbfbf 0,#bfbfbf 2px,transparent 2px,transparent 4px)}.slide__handle--drag[data-v-242d3719]:before{position:absolute;display:block;content:"";background:repeating-linear-gradient(90deg,#fbfbfb 0,#fbfbfb 2px,transparent 2px,transparent 4px);width:100%;height:100%}.slide__content[data-v-242d3719]{flex-grow:1;max-width:calc(100% - 12px)}
`)();const __vue2_script$g={name:"A17Slideshow",components:{draggable},mixins:[DraggableMixin,mediaLibraryMixin,mediaFieldMixin],props:{name:{type:String,required:!0},itemLabel:{type:String,default:"image"},max:{type:Number,default:10},buttonOnTop:{type:Boolean,default:!1}},data:function(){return{handle:".slide__handle",hoverable:!0}},computed:{remainingSlides:function(){return Math.max(0,this.max-this.slides.length)},addLabel:function(){const e=this.itemLabel+"s";return"Attach "+e},slides:{get(){return this.selectedMedias.hasOwnProperty(this.name)?this.selectedMedias[this.name]||[]:[]},set(e){this.$store.commit(MEDIA_LIBRARY.REORDER_MEDIAS,{name:this.name,medias:e})}},...mapState({selectedMedias:e=>e.mediaLibrary.selected})},methods:{deleteSlideshow:function(){this.$store.commit(MEDIA_LIBRARY.DESTROY_MEDIAS,this.name)}}},__cssModules$g={};var __component__$g=normalizeComponent(__vue2_script$g,render$g,staticRenderFns$g,!1,__vue2_injectStyles$g,"242d3719",null,null);function __vue2_injectStyles$g(e){for(let t in __cssModules$g)this[t]=__cssModules$g[t]}var a17Slideshow=function(){return __component__$g.exports}(),render$f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"browserItem"},[e.draggable&&e.max>1?n("td",{staticClass:"browserItem__cell browserItem__cell--drag"},[n("div",{class:e.dragClasses})]):e._e(),e.hasThumbnail?n("td",{class:e.thumbnailClasses},[e.isUser?[n("a17-avatar",{attrs:{name:e.currentItem.name,thumbnail:e.currentItem.thumbnail}})]:[n("a",{attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:e.currentItem.thumbnail}})])]],2):e._e(),n("td",{staticClass:"browserItem__cell browserItem__cell--name"},[n("a",{attrs:{href:e.currentItem.edit,target:"_blank"}},[e.currentItem.hasOwnProperty("renderHtml")?n("span",{staticClass:"f--link-underlined--o",domProps:{innerHTML:e._s(e.currentItem.name)}}):n("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.currentItem.name))])]),n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentItem.id}})]),e.currentItem.hasOwnProperty("endpointType")&&e.showType?n("td",{staticClass:"browserItem__cell browserItem__cell--type"},[n("span",[e._v(e._s(e.currentItem.endpointType))])]):e._e(),e.deletable?n("td",{staticClass:"browserItem__cell browserItem__cell--icon"},[e.disabled?e._e():n("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(r){return e.deleteItem()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1):e._e()])},staticRenderFns$f=[],BrowserItem_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-2e9f684f]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-2e9f684f]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-2e9f684f]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-2e9f684f]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-2e9f684f]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-2e9f684f]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-2e9f684f]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-2e9f684f]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-2e9f684f]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-2e9f684f]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-2e9f684f]{width:auto}}.browserItem[data-v-2e9f684f]{width:100%;border-bottom:1px solid #f2f2f2}.browserItem:hover .browserItem__cell[data-v-2e9f684f]{background-color:#fbfbfb}.browserItem[data-v-2e9f684f]:last-child{border-bottom:0 none}.browserItem__cell[data-v-2e9f684f]{padding:14px 15px 14px 0;vertical-align:middle}.browserItem__cell--name a[data-v-2e9f684f]{color:#3278b8;text-decoration:none}.browserItem__cell--thumb[data-v-2e9f684f]{padding-top:16px;padding-bottom:16px;padding-left:15px;width:50px}.browserItem__cell--thumb a[data-v-2e9f684f]{color:#3278b8;text-decoration:none;display:block}.browserItem__cell--thumb img[data-v-2e9f684f]{display:block;width:50px;min-height:50px;background:#f2f2f2;height:auto}.browserItem__cell--thumb-avatar[data-v-2e9f684f]{padding-top:12px;padding-bottom:12px;width:36px}.browserItem__cell--thumb-avatar img[data-v-2e9f684f]{width:36px;min-height:36px}.browserItem__cell--type[data-v-2e9f684f]{text-transform:capitalize;width:165px}.browserItem__cell--type span[data-v-2e9f684f]{display:inline-block;width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.browserItem__cell--name[data-v-2e9f684f]:first-child,.browserItem__cell--drag+.browserItem__cell--name[data-v-2e9f684f]{padding-left:15px}@media screen and (min-width: 600px){.browserItem__cell--name[data-v-2e9f684f]:first-child,.browserItem__cell--drag+.browserItem__cell--name[data-v-2e9f684f]{padding-left:29px}}.browserItem__cell--drag[data-v-2e9f684f]{padding:0;width:12px;min-width:12px;background-color:#fbfbfb;transition:background .25s ease;cursor:move}.browserItem__cell--drag[data-v-2e9f684f]:hover{background-color:#f2f2f2}.drag__handle:hover .drag__handle--drag[data-v-2e9f684f]:before{background:repeating-linear-gradient(90deg,#f2f2f2 0,#f2f2f2 2px,transparent 2px,transparent 4px)}.browserItem__cell--icon[data-v-2e9f684f]{width:1px}.browserItem__cell--icon button[data-v-2e9f684f]{display:block}.drag__handle--drag[data-v-2e9f684f]{position:relative;width:10px;height:42px;margin-left:auto;margin-right:auto;transition:background .25s ease;cursor:move;background:repeating-linear-gradient(180deg,#bfbfbf 0,#bfbfbf 2px,transparent 2px,transparent 4px)}.drag__handle--drag[data-v-2e9f684f]:before{position:absolute;display:block;content:"";background:repeating-linear-gradient(90deg,#fbfbfb 0,#fbfbfb 2px,transparent 2px,transparent 4px);width:100%;height:100%}.drag__handle--drag-small[data-v-2e9f684f]{height:22px}
`)();const __vue2_script$f={name:"A17BrowserItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},max:{type:Number,default:10},showType:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:{hasThumbnail:function(){return Boolean(this.currentItem.hasOwnProperty("thumbnail"))},hasLargeThumbnail:function(){return this.hasThumbnail&&!this.isUser},isUser:function(){return Boolean(this.currentItem.endpointType==="users")},dragClasses:function(){return["drag__handle--drag",this.hasLargeThumbnail?"":"drag__handle--drag-small"]},thumbnailClasses:function(){return["browserItem__cell","browserItem__cell--thumb",this.isUser?"browserItem__cell--thumb-avatar":""]},currentItem:function(){return this.item},deletable:function(){return!this.currentItem.hasOwnProperty("deletable")||this.currentItem.deletable===!0}},methods:{deleteItem:function(){this.$emit("delete")}}},__cssModules$f={};var __component__$f=normalizeComponent(__vue2_script$f,render$f,staticRenderFns$f,!1,__vue2_injectStyles$f,"2e9f684f",null,null);function __vue2_injectStyles$f(e){for(let t in __cssModules$f)this[t]=__cssModules$f[t]}var Browseritem=function(){return __component__$f.exports}(),render$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"browserField"},[e.buttonOnTop&&e.remainingItems?n("div",{staticClass:"browserField__trigger"},[n("a17-button",{attrs:{type:"button",disabled:e.disabled||e.connectedBrowserField&&e.connectedBrowserFieldItems.length===0,variant:"ghost"},on:{click:e.openBrowser}},[e._v(" "+e._s(e.addLabel)+" ")]),n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),n("span",{staticClass:"browserField__note f--small"},[e._t("default")],2)],1):e._e(),e.items.length?n("table",{staticClass:"browserField__table"},[n("draggable",{attrs:{tag:"tbody",disabled:e.disabled},model:{value:e.items,callback:function(r){e.items=r},expression:"items"}},e._l(e.items,function(r,a){return n("a17-browseritem",{key:r.endpointType+"_"+r.id,staticClass:"item__content",attrs:{name:e.name+"_"+r.id,draggable:!e.disabled&&e.draggable,item:r,disabled:e.disabled,max:e.max,showType:e.endpoints.length>0},on:{delete:function(o){return e.deleteItem(a)}}})}),1)],1):e._e(),!e.buttonOnTop&&e.remainingItems?n("div",{staticClass:"browserField__trigger"},[n("a17-button",{attrs:{type:"button",disabled:e.disabled||e.connectedBrowserField&&e.connectedBrowserFieldItems.length===0,variant:"ghost"},on:{click:e.openBrowser}},[e._v(" "+e._s(e.addLabel)+" ")]),n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),n("span",{staticClass:"browserField__note f--small"},[e._t("default")],2)],1):e._e()])},staticRenderFns$e=[],BrowserField_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-ef2cf5c0]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-ef2cf5c0]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-ef2cf5c0]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-ef2cf5c0]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-ef2cf5c0]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-ef2cf5c0]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-ef2cf5c0]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-ef2cf5c0]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-ef2cf5c0]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-ef2cf5c0]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-ef2cf5c0]{width:auto}}.browserField[data-v-ef2cf5c0]{display:block;border-radius:2px;border:1px solid #e5e5e5;overflow-x:hidden;background:#fff}.browserField__trigger[data-v-ef2cf5c0]{padding:10px;position:relative;border-top:1px solid #f2f2f2}.browserField__trigger[data-v-ef2cf5c0]:first-child{border-top:0 none}.browserField__note[data-v-ef2cf5c0]{color:#8c8c8c;float:right;position:absolute;bottom:18px;right:15px;display:none}@media screen and (min-width: 600px){.browserField__note[data-v-ef2cf5c0]{display:inline-block}}@media screen and (min-width: 850px) and (max-width: 1039px){.browserField__note[data-v-ef2cf5c0]{display:none}}.browserField__table[data-v-ef2cf5c0]{width:100%;border-collapse:collapse;border-spacing:0}
`)();const __vue2_script$e={name:"A17BrowserField",components:{"a17-browseritem":Browseritem,draggable},mixins:[DraggableMixin],props:{name:{type:String,required:!0},modalTitle:{type:String,default:""},browserNote:{type:String,default:""},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},endpoints:{type:Array,default:()=>[]},draggable:{type:Boolean,default:!0},max:{type:Number,default:10},wide:{type:Boolean,default:!1},buttonOnTop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},connectedBrowserField:{type:String,defautl:null}},data:function(){return{handle:".item__handle"}},computed:{remainingItems:function(){return this.max-this.items.length},addLabel:function(){return this.$trans("fields.browser.add-label","Add")+" "+this.itemLabel},browserTitle:function(){return this.modalTitle!==""?this.modalTitle:this.addLabel},items:{get(){return this.selectedBrowser.hasOwnProperty(this.name)?this.selectedBrowser[this.name]||[]:[]},set(e){this.$store.commit(BROWSER.REORDER_ITEMS,{name:this.name,items:e})}},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},connectedBrowserFieldItems:function(){return this.selectedBrowser[this.connectedBrowserField]||[]},...mapState({selectedBrowser:e=>e.browser.selected}),...mapGetters(["selectedItemsByIds"])},methods:{deleteAll:function(){this.$store.commit(BROWSER.DESTROY_ITEMS,{name:this.name})},deleteItem:function(e){this.$store.commit(BROWSER.DESTROY_ITEM,{name:this.name,index:e})},openBrowser:function(){if(this.$store.commit(BROWSER.UPDATE_BROWSER_CONNECTOR,this.name),this.endpoints.length>0)this.$store.commit(BROWSER.UPDATE_BROWSER_ENDPOINTS,this.endpoints);else{this.$store.commit(BROWSER.DESTROY_BROWSER_ENDPOINTS);let e=this.endpoint;if(this.connectedBrowserFieldItems.length){let t="?";e.indexOf("?")>-1&&(t="&"),e=e+t+"connectedBrowserIds= "+encodeURIComponent(JSON.stringify(this.connectedBrowserFieldItems.map(n=>n.id)))}this.$store.commit(BROWSER.UPDATE_BROWSER_ENDPOINT,{value:e,label:this.name})}this.$store.commit(BROWSER.UPDATE_BROWSER_MAX,this.max),this.$store.commit(BROWSER.UPDATE_BROWSER_TITLE,this.browserTitle),this.$store.commit(BROWSER.UPDATE_BROWSER_NOTE,this.browserNote),this.wide?this.$root.$refs.browserWide.open(this.endpoints.length<=0):this.$root.$refs.browser.open(this.endpoints.length<=0)}},watch:{connectedBrowserFieldItems(e){this.connectedBrowserField&&e.length===0&&this.deleteAll()}}},__cssModules$e={};var __component__$e=normalizeComponent(__vue2_script$e,render$e,staticRenderFns$e,!1,__vue2_injectStyles$e,"ef2cf5c0",null,null);function __vue2_injectStyles$e(e){for(let t in __cssModules$e)this[t]=__cssModules$e[t]}var a17BrowserField=function(){return __component__$e.exports}();const _EXTENSIONS={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}};var render$d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"fileItem"},[e.draggable?n("td",{staticClass:"fileItem__cell fileItem__cell--drag"},[n("div",{staticClass:"drag__handle--drag"})]):e._e(),e.currentItem.hasOwnProperty("extension")?n("td",{staticClass:"fileItem__cell fileItem__cell--extension"},[n("a",{attrs:{href:"#",target:"_blank"}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:e.getSvgIconName()}})])]):e._e(),n("td",{staticClass:"fileItem__cell fileItem__cell--name"},[e.currentItem.hasOwnProperty("thumbnail")?n("span",[n("img",{attrs:{src:e.currentItem.thumbnail}})]):e._e(),n("a",{attrs:{href:e.currentItem.hasOwnProperty("original")?e.currentItem.original:"#",download:""}},[n("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.currentItem.name))])]),n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentItem.id}})]),e.currentItem.hasOwnProperty("size")?n("td",{staticClass:" fileItem__cell fileItem__cell--size"},[e._v(e._s(e.currentItem.size))]):e._e(),n("td",{staticClass:"fileItem__cell"},[n("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(r){return e.deleteItem()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1)])},staticRenderFns$d=[],FileItem_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-53d326cd]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-53d326cd]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-53d326cd]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-53d326cd]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-53d326cd]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-53d326cd]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-53d326cd]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-53d326cd]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-53d326cd]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-53d326cd]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-53d326cd]{width:auto}}.fileItem[data-v-53d326cd]{position:relative;display:flex;width:100%;border-bottom:1px solid #f2f2f2}.fileItem:hover .fileItem__cell[data-v-53d326cd]{background-color:#fbfbfb}.fileItem[data-v-53d326cd]:last-child{border-bottom:0 none}.fileItem__cell[data-v-53d326cd]{display:flex;align-items:center;padding:26px 15px}.fileItem__cell--extension[data-v-53d326cd]{padding-right:5px}@media screen and (min-width: 600px){.fileItem__cell--extension[data-v-53d326cd]{padding-left:29px}}.fileItem__cell--extension a[data-v-53d326cd]{display:block;height:26px}.fileItem__cell--name[data-v-53d326cd]{flex-grow:1}.fileItem__cell--name a[data-v-53d326cd]{color:#3278b8;text-decoration:none;display:block;margin:-15px;padding:15px}@media screen and (min-width: 600px){.fileItem__cell--name[data-v-53d326cd]:first-child,.fileItem__cell--extension[data-v-53d326cd]:first-child,.fileItem__cell--drag+.fileItem__cell[data-v-53d326cd]{padding-left:29px}}.fileItem__cell--size[data-v-53d326cd]{color:#8c8c8c;text-transform:uppercase}.fileItem__cell--drag[data-v-53d326cd]{padding:0;display:flex;justify-content:center;align-items:center;width:12px;min-width:12px;background-color:#fbfbfb;transition:background .25s ease;cursor:move}.fileItem__cell--drag[data-v-53d326cd]:hover{background-color:#f2f2f2}.drag__handle:hover .drag__handle--drag[data-v-53d326cd]:before{background:repeating-linear-gradient(90deg,#f2f2f2 0,#f2f2f2 2px,transparent 2px,transparent 4px)}.drag__handle--drag[data-v-53d326cd]{position:relative;width:10px;height:42px;margin-left:auto;margin-right:auto;transition:background .25s ease;cursor:move;background:repeating-linear-gradient(180deg,#bfbfbf 0,#bfbfbf 2px,transparent 2px,transparent 4px)}.drag__handle--drag[data-v-53d326cd]:before{position:absolute;display:block;content:"";background:repeating-linear-gradient(90deg,#fbfbfb 0,#fbfbfb 2px,transparent 2px,transparent 4px);width:100%;height:100%}
`)();const __vue2_script$d={name:"a17FileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(_EXTENSIONS.hasOwnProperty(e))return _EXTENSIONS[e].icon;for(const t in _EXTENSIONS)if(_EXTENSIONS[t].extensions.findIndex(r=>r===e)>-1)return _EXTENSIONS[t].icon;return"gen"}}},__cssModules$d={};var __component__$d=normalizeComponent(__vue2_script$d,render$d,staticRenderFns$d,!1,__vue2_injectStyles$d,"53d326cd",null,null);function __vue2_injectStyles$d(e){for(let t in __cssModules$d)this[t]=__cssModules$d[t]}var fileItem=function(){return __component__$d.exports}(),render$c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,label:e.label,locale:e.locale,size:e.size,name:e.name,note:e.fieldNote},on:{localize:e.updateLocale}},[n("div",{staticClass:"fileField"},[e.buttonOnTop&&e.remainingItems?n("div",{staticClass:"fileField__trigger"},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),n("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(r){return e.openMediaLibrary(e.remainingItems)}}},[e._v(e._s(e.addLabel))]),n("span",{staticClass:"fileField__note f--small"},[e._v(e._s(e.note))])],1):e._e(),e.items.length?n("table",{staticClass:"fileField__list"},[n("draggable",{attrs:{tag:"tbody"},model:{value:e.items,callback:function(r){e.items=r},expression:"items"}},e._l(e.items,function(r,a){return n("a17-fileitem",{key:r.id,staticClass:"item__content",attrs:{name:e.name+"_"+r.id,draggable:e.isDraggable,item:r},on:{delete:function(o){return e.deleteItem(a)}}})}),1)],1):e._e(),!e.buttonOnTop&&e.remainingItems?n("div",{staticClass:"fileField__trigger"},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),n("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(r){return e.openMediaLibrary(e.remainingItems)}}},[e._v(e._s(e.addLabel))]),n("span",{staticClass:"fileField__note f--small"},[e._v(e._s(e.note))])],1):e._e()])])},staticRenderFns$c=[],FileField_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-449402ba]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-449402ba]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-449402ba]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-449402ba]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-449402ba]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-449402ba]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-449402ba]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-449402ba]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-449402ba]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-449402ba]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-449402ba]{width:auto}}.fileField[data-v-449402ba]{display:block;border-radius:2px;border:1px solid #e5e5e5;overflow-x:hidden}.fileField__trigger[data-v-449402ba]{padding:10px;position:relative;border-top:1px solid #f2f2f2}.fileField__trigger[data-v-449402ba]:first-child{border-top:0 none}.fileField__note[data-v-449402ba]{color:#8c8c8c;float:right;position:absolute;bottom:18px;right:15px;display:none}@media screen and (min-width: 600px){.fileField__note[data-v-449402ba]{display:inline-block}}@media screen and (min-width: 850px) and (max-width: 1039px){.fileField__note[data-v-449402ba]{display:none}}.fileField__list[data-v-449402ba]{overflow:hidden;width:100%;border-collapse:collapse;border-spacing:0}
`)();const __vue2_script$c={name:"A17FileField",components:{"a17-fileitem":fileItem,draggable},mixins:[DraggableMixin,mediaLibraryMixin,LocaleMixin,InputframeMixin],props:{type:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},draggable:{type:Boolean,default:!0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}},data:()=>({handle:".item__handle"}),computed:{remainingItems:function(){return this.max-this.items.length},items:{get(){return this.selectedFiles.hasOwnProperty(this.name)?this.selectedFiles[this.name]||[]:[]},set(e){this.$store.commit(MEDIA_LIBRARY.REORDER_MEDIAS,{name:this.name,medias:e})}},isDraggable:function(){return this.draggable&&this.items.length>1},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},addLabel:function(){return this.$trans("fields.files.add-label","Add")+" "+this.itemLabel},...mapState({selectedFiles:e=>e.mediaLibrary.selected}),...mapGetters(["selectedItemsByIds"])},methods:{deleteAll:function(e){this.$store.commit(MEDIA_LIBRARY.DESTROY_MEDIAS,{name:this.name})},deleteItem:function(e){this.$store.commit(MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA,{name:this.name,index:e})}}},__cssModules$c={};var __component__$c=normalizeComponent(__vue2_script$c,render$c,staticRenderFns$c,!1,__vue2_injectStyles$c,"449402ba",null,null);function __vue2_injectStyles$c(e){for(let t in __cssModules$c)this[t]=__cssModules$c[t]}var a17FileField=function(){return __component__$c.exports}(),flatpickr$1={exports:{}};/* flatpickr v4.3.2, @license MIT */(function(e,t){(function(n,r){r(t)})(commonjsGlobal,function(n){/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var r=Object.assign||function(R){for(var w,B=1,G=arguments.length;B<G;B++){w=arguments[B];for(var U in w)Object.prototype.hasOwnProperty.call(w,U)&&(R[U]=w[U])}return R},a=function(D){return("0"+D).slice(-2)},o=function(D){return D===!0?1:0};function s(D,R,w){w===void 0&&(w=!1);var B;return function(){var G=this,U=arguments;B!==null&&clearTimeout(B),B=window.setTimeout(function(){B=null,w||D.apply(G,U)},R),w&&!B&&D.apply(G,U)}}var l=function(D){return D instanceof Array?D:[D]},c=function(){},u={D:c,F:function(D,R,w){D.setMonth(w.months.longhand.indexOf(R))},G:function(D,R){D.setHours(parseFloat(R))},H:function(D,R){D.setHours(parseFloat(R))},J:function(D,R){D.setDate(parseFloat(R))},K:function(D,R,w){D.setHours(D.getHours()%12+12*o(new RegExp(w.amPM[1],"i").test(R)))},M:function(D,R,w){D.setMonth(w.months.shorthand.indexOf(R))},S:function(D,R){D.setSeconds(parseFloat(R))},U:function(D,R){return new Date(parseFloat(R)*1e3)},W:function(D,R){var w=parseInt(R);return new Date(D.getFullYear(),0,2+(w-1)*7,0,0,0,0)},Y:function(D,R){D.setFullYear(parseFloat(R))},Z:function(D,R){return new Date(R)},d:function(D,R){D.setDate(parseFloat(R))},h:function(D,R){D.setHours(parseFloat(R))},i:function(D,R){D.setMinutes(parseFloat(R))},j:function(D,R){D.setDate(parseFloat(R))},l:c,m:function(D,R){D.setMonth(parseFloat(R)-1)},n:function(D,R){D.setMonth(parseFloat(R)-1)},s:function(D,R){D.setSeconds(parseFloat(R))},w:c,y:function(D,R){D.setFullYear(2e3+parseFloat(R))}},f={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},m={Z:function(D){return D.toISOString()},D:function(D,R,w){return R.weekdays.shorthand[m.w(D,R,w)]},F:function(D,R,w){return _(m.n(D,R,w)-1,!1,R)},G:function(D,R,w){return a(m.h(D,R,w))},H:function(D){return a(D.getHours())},J:function(D,R){return R.ordinal!==void 0?D.getDate()+R.ordinal(D.getDate()):D.getDate()},K:function(D,R){return R.amPM[o(D.getHours()>11)]},M:function(D,R){return _(D.getMonth(),!0,R)},S:function(D){return a(D.getSeconds())},U:function(D){return D.getTime()/1e3},W:function(D,R,w){return w.getWeek(D)},Y:function(D){return D.getFullYear()},d:function(D){return a(D.getDate())},h:function(D){return D.getHours()%12?D.getHours()%12:12},i:function(D){return a(D.getMinutes())},j:function(D){return D.getDate()},l:function(D,R){return R.weekdays.longhand[D.getDay()]},m:function(D){return a(D.getMonth()+1)},n:function(D){return D.getMonth()+1},s:function(D){return D.getSeconds()},w:function(D){return D.getDay()},y:function(D){return String(D.getFullYear()).substring(2)}},h={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(D){var R=D%100;if(R>3&&R<21)return"th";switch(R%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"]},d=function(D){var R=D.config,w=R===void 0?b:R,B=D.l10n,G=B===void 0?h:B;return function(U,$,P){if(w.formatDate!==void 0)return w.formatDate(U,$);var F=P||G;return $.split("").map(function(N,z,V){return m[N]&&V[z-1]!=="\\"?m[N](U,F,w):N!=="\\"?N:""}).join("")}},g=function(D){var R=D.config,w=R===void 0?b:R,B=D.l10n,G=B===void 0?h:B;return function(U,$,P){if(!(U!==0&&!U)){var F,N=U;if(U instanceof Date)F=new Date(U.getTime());else if(typeof U!="string"&&U.toFixed!==void 0)F=new Date(U);else if(typeof U=="string"){var z=$||(w||b).dateFormat,V=String(U).trim();if(V==="today")F=new Date,P=!0;else if(/Z$/.test(V)||/GMT$/.test(V))F=new Date(U);else if(w&&w.parseDate)F=w.parseDate(U,z);else{F=!w||!w.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));for(var L=void 0,j=[],J=0,Q=0,re="";J<z.length;J++){var ce=z[J],ge=ce==="\\",H=z[J-1]==="\\"||ge;if(f[ce]&&!H){re+=f[ce];var Y=new RegExp(re).exec(U);Y&&(L=!0)&&j[ce!=="Y"?"push":"unshift"]({fn:u[ce],val:Y[++Q]})}else ge||(re+=".");j.forEach(function(W){var ae=W.fn,se=W.val;return F=ae(F,se,G)||F})}F=L?F:void 0}}if(!(F instanceof Date)){w.errorHandler(new Error("Invalid date provided: "+N));return}return P===!0&&F.setHours(0,0,0,0),F}}};function v(D,R,w){return w===void 0&&(w=!0),w!==!1?new Date(D.getTime()).setHours(0,0,0,0)-new Date(R.getTime()).setHours(0,0,0,0):D.getTime()-R.getTime()}var _=function(D,R,w){return w.months[R?"shorthand":"longhand"][D]},y=function(D){var R=new Date(D.getTime());R.setHours(0,0,0,0),R.setDate(R.getDate()+3-(R.getDay()+6)%7);var w=new Date(R.getFullYear(),0,4);return 1+Math.round(((R.getTime()-w.getTime())/864e5-3+(w.getDay()+6)%7)/7)},q={DAY:864e5},b={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:console.warn,getWeek:y,hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};function x(D,R,w){if(w===!0)return D.classList.add(R);D.classList.remove(R)}function E(D,R,w){var B=window.document.createElement(D);return R=R||"",w=w||"",B.className=R,w!==void 0&&(B.textContent=w),B}function T(D){for(;D.firstChild;)D.removeChild(D.firstChild)}function k(D,R){if(R(D))return D;if(D.parentNode)return k(D.parentNode,R)}function A(D,R){var w=E("div","numInputWrapper"),B=E("input","numInput "+D),G=E("span","arrowUp"),U=E("span","arrowDown");if(B.type="text",B.pattern="\\d*",R!==void 0)for(var $ in R)B.setAttribute($,R[$]);return w.appendChild(B),w.appendChild(G),w.appendChild(U),w}typeof Object.assign!="function"&&(Object.assign=function(D){for(var R=[],w=1;w<arguments.length;w++)R[w-1]=arguments[w];if(!D)throw TypeError("Cannot convert undefined or null to object");for(var B=function(P){P&&Object.keys(P).forEach(function(F){return D[F]=P[F]})},G=0,U=R;G<U.length;G++){var $=U[G];B($)}return D});var M=300;function S(D,R){var w={config:r({},I.defaultConfig),l10n:h};w.parseDate=g({config:w.config,l10n:w.l10n}),w._handlers=[],w._bind=j,w._setHoursFromDate=z,w.changeMonth=ne,w.changeYear=qe,w.clear=_e,w.close=he,w._createElement=E,w.destroy=ve,w.isEnabled=Me,w.jumpToDate=ce,w.open=Se,w.redraw=We,w.set=Ze,w.setDate=Qe,w.toggle=rt;function B(){w.utils={getDaysInMonth:function(K,Z){return K===void 0&&(K=w.currentMonth),Z===void 0&&(Z=w.currentYear),K===1&&(Z%4===0&&Z%100!==0||Z%400===0)?29:w.l10n.daysInMonth[K]}}}function G(){w.element=w.input=D,w.isOpen=!1,Ne(),Be(),tt(),et(),B(),w.isMobile||Y(),re(),(w.selectedDates.length||w.config.noCalendar)&&(w.config.enableTime&&z(w.config.noCalendar?w.latestSelectedDateObj||w.config.minDate:void 0),Re(!1)),w.showTimeInput=w.selectedDates.length>0||w.config.noCalendar,w.weekWrapper!==void 0&&w.daysContainer!==void 0&&(w.calendarContainer.style.visibility="hidden",w.calendarContainer.style.display="block",w.calendarContainer.style.width=w.daysContainer.offsetWidth+w.weekWrapper.offsetWidth+"px",w.calendarContainer.style.visibility="visible",w.calendarContainer.style.display=null);var K=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!w.isMobile&&K&&Ue(),Ie("onReady")}function U(K){return K.bind(w)}function $(K){w.config.noCalendar&&w.selectedDates.length===0&&(w.setDate(w.config.minDate!==void 0?new Date(w.config.minDate.getTime()):new Date().setHours(w.config.defaultHour,w.config.defaultMinute,w.config.defaultSeconds,0),!1),N(),Re()),ot(K),w.selectedDates.length!==0&&(K.type!=="input"?(N(),Re()):setTimeout(function(){N(),Re()},M))}function P(K,Z){return K%12+12*o(Z===w.l10n.amPM[1])}function F(K){switch(K%24){case 0:case 12:return 12;default:return K%12}}function N(){if(!(w.hourElement===void 0||w.minuteElement===void 0)){var K=(parseInt(w.hourElement.value.slice(-2),10)||0)%24,Z=(parseInt(w.minuteElement.value,10)||0)%60,te=w.secondElement!==void 0?(parseInt(w.secondElement.value,10)||0)%60:0;w.amPM!==void 0&&(K=P(K,w.amPM.textContent));var ue=w.config.minTime!==void 0||w.config.minDate&&w.minDateHasTime&&w.latestSelectedDateObj&&v(w.latestSelectedDateObj,w.config.minDate,!0)===0,be=w.config.maxTime!==void 0||w.config.maxDate&&w.maxDateHasTime&&w.latestSelectedDateObj&&v(w.latestSelectedDateObj,w.config.maxDate,!0)===0;if(be){var pe=w.config.maxTime!==void 0?w.config.maxTime:w.config.maxDate;K=Math.min(K,pe.getHours()),K===pe.getHours()&&(Z=Math.min(Z,pe.getMinutes()))}if(ue){var ye=w.config.minTime!==void 0?w.config.minTime:w.config.minDate;K=Math.max(K,ye.getHours()),K===ye.getHours()&&(Z=Math.max(Z,ye.getMinutes()))}V(K,Z,te)}}function z(K){var Z=K||w.latestSelectedDateObj;Z&&V(Z.getHours(),Z.getMinutes(),Z.getSeconds())}function V(K,Z,te){w.latestSelectedDateObj!==void 0&&w.latestSelectedDateObj.setHours(K%24,Z,te||0,0),!(!w.hourElement||!w.minuteElement||w.isMobile)&&(w.hourElement.value=a(w.config.time_24hr?K:(12+K)%12+12*o(K%12===0)),w.minuteElement.value=a(Z),w.amPM!==void 0&&(w.amPM.textContent=w.l10n.amPM[o(K>=12)]),w.secondElement!==void 0&&(w.secondElement.value=a(te)))}function L(K){var Z=parseInt(K.target.value)+(K.delta||0);(Z.toString().length===4||K.key==="Enter")&&(w.currentYearElement.blur(),/[^\d]/.test(Z.toString())||qe(Z))}function j(K,Z,te,ue){if(Z instanceof Array)return Z.forEach(function(be){return j(K,be,te,ue)});if(K instanceof Array)return K.forEach(function(be){return j(be,Z,te,ue)});K.addEventListener(Z,te,ue),w._handlers.push({element:K,event:Z,handler:te})}function J(K){return function(Z){Z.which===1&&K(Z)}}function Q(){Ie("onChange")}function re(){if(w.config.wrap&&["open","close","toggle","clear"].forEach(function(te){Array.prototype.forEach.call(w.element.querySelectorAll("[data-"+te+"]"),function(ue){return j(ue,"click",w[te])})}),w.isMobile){nt();return}var K=s(we,50);if(w._debouncedChange=s(Q,M),w.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&j(w.daysContainer,"mouseover",function(te){w.config.mode==="range"&&me(te.target)}),j(window.document.body,"keydown",fe),w.config.static||j(w._input,"keydown",fe),!w.config.inline&&!w.config.static&&j(window,"resize",K),window.ontouchstart!==void 0&&j(window.document,"touchstart",Ce),j(window.document,"mousedown",J(Ce)),j(window.document,"focus",Ce,{capture:!0}),w.config.clickOpens===!0&&(j(w._input,"focus",w.open),j(w._input,"mousedown",J(w.open))),w.daysContainer!==void 0&&(j(w.monthNav,"mousedown",J(at)),j(w.monthNav,["keyup","increment"],L),j(w.daysContainer,"mousedown",J(Ge))),w.timeContainer!==void 0&&w.minuteElement!==void 0&&w.hourElement!==void 0){var Z=function(te){return te.target.select()};j(w.timeContainer,["input","increment"],$),j(w.timeContainer,"mousedown",J(ge)),j(w.timeContainer,["input","increment"],w._debouncedChange,{passive:!0}),j([w.hourElement,w.minuteElement],["focus","click"],Z),w.secondElement!==void 0&&j(w.secondElement,"focus",function(){return w.secondElement&&w.secondElement.select()}),w.amPM!==void 0&&j(w.amPM,"mousedown",J(function(te){$(te),Q()}))}}function ce(K){var Z=K!==void 0?w.parseDate(K):w.latestSelectedDateObj||(w.config.minDate&&w.config.minDate>w.now?w.config.minDate:w.config.maxDate&&w.config.maxDate<w.now?w.config.maxDate:w.now);try{Z!==void 0&&(w.currentYear=Z.getFullYear(),w.currentMonth=Z.getMonth())}catch(te){te.message="Invalid date supplied: "+Z,w.config.errorHandler(te)}w.redraw()}function ge(K){~K.target.className.indexOf("arrow")&&H(K,K.target.classList.contains("arrowUp")?1:-1)}function H(K,Z,te){var ue=K&&K.target,be=te||ue&&ue.parentNode&&ue.parentNode.firstChild,pe=He("increment");pe.delta=Z,be&&be.dispatchEvent(pe)}function Y(){var K=window.document.createDocumentFragment();if(w.calendarContainer=E("div","flatpickr-calendar"),w.calendarContainer.tabIndex=-1,!w.config.noCalendar){if(K.appendChild(X()),w.innerContainer=E("div","flatpickr-innerContainer"),w.config.weekNumbers){var Z=le(),te=Z.weekWrapper,ue=Z.weekNumbers;w.innerContainer.appendChild(te),w.weekNumbers=ue,w.weekWrapper=te}w.rContainer=E("div","flatpickr-rContainer"),w.rContainer.appendChild(oe()),w.daysContainer||(w.daysContainer=E("div","flatpickr-days"),w.daysContainer.tabIndex=-1),se(),w.rContainer.appendChild(w.daysContainer),w.innerContainer.appendChild(w.rContainer),K.appendChild(w.innerContainer)}w.config.enableTime&&K.appendChild(ee()),x(w.calendarContainer,"rangeMode",w.config.mode==="range"),x(w.calendarContainer,"animate",w.config.animate),w.calendarContainer.appendChild(K);var be=w.config.appendTo!==void 0&&w.config.appendTo.nodeType;if((w.config.inline||w.config.static)&&(w.calendarContainer.classList.add(w.config.inline?"inline":"static"),w.config.inline&&(!be&&w.element.parentNode?w.element.parentNode.insertBefore(w.calendarContainer,w._input.nextSibling):w.config.appendTo!==void 0&&w.config.appendTo.appendChild(w.calendarContainer)),w.config.static)){var pe=E("div","flatpickr-wrapper");w.element.parentNode&&w.element.parentNode.insertBefore(pe,w.element),pe.appendChild(w.element),w.altInput&&pe.appendChild(w.altInput),pe.appendChild(w.calendarContainer)}!w.config.static&&!w.config.inline&&(w.config.appendTo!==void 0?w.config.appendTo:window.document.body).appendChild(w.calendarContainer)}function W(K,Z,te,ue){var be=Me(Z,!0),pe=E("span","flatpickr-day "+K,Z.getDate().toString());return pe.dateObj=Z,pe.$i=ue,pe.setAttribute("aria-label",w.formatDate(Z,w.config.ariaDateFormat)),v(Z,w.now)===0&&(w.todayDateElem=pe,pe.classList.add("today")),be?(pe.tabIndex=-1,je(Z)&&(pe.classList.add("selected"),w.selectedDateElem=pe,w.config.mode==="range"&&(x(pe,"startRange",w.selectedDates[0]&&v(Z,w.selectedDates[0])===0),x(pe,"endRange",w.selectedDates[1]&&v(Z,w.selectedDates[1])===0)))):(pe.classList.add("disabled"),w.selectedDates[0]&&w.minRangeDate&&Z>w.minRangeDate&&Z<w.selectedDates[0]?w.minRangeDate=Z:w.selectedDates[0]&&w.maxRangeDate&&Z<w.maxRangeDate&&Z>w.selectedDates[0]&&(w.maxRangeDate=Z)),w.config.mode==="range"&&(it(Z)&&!je(Z)&&pe.classList.add("inRange"),w.selectedDates.length===1&&w.minRangeDate!==void 0&&w.maxRangeDate!==void 0&&(Z<w.minRangeDate||Z>w.maxRangeDate)&&pe.classList.add("notAllowed")),w.weekNumbers&&K!=="prevMonthDay"&&te%7===1&&w.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+w.config.getWeek(Z)+"</span>"),Ie("onDayCreate",pe),pe}function ae(K,Z){var te=K+Z||0,ue=K!==void 0?w.days.childNodes[te]:w.selectedDateElem||w.todayDateElem||w.days.childNodes[0],be=function(){ue=ue||w.days.childNodes[te],ue.focus(),w.config.mode==="range"&&me(ue)};ue===void 0&&Z!==0&&(Z>0?(w.changeMonth(1,!0,!0),te=te%42):Z<0&&(w.changeMonth(-1,!0,!0),te+=42)),be()}function se(){if(w.daysContainer!==void 0){var K=(new Date(w.currentYear,w.currentMonth,1).getDay()-w.l10n.firstDayOfWeek+7)%7,Z=w.config.mode==="range",te=w.utils.getDaysInMonth((w.currentMonth-1+12)%12),ue=w.utils.getDaysInMonth(),be=window.document.createDocumentFragment(),pe=te+1-K,ye=0;for(w.weekNumbers&&w.weekNumbers.firstChild&&(w.weekNumbers.textContent=""),Z&&(w.minRangeDate=new Date(w.currentYear,w.currentMonth-1,pe),w.maxRangeDate=new Date(w.currentYear,w.currentMonth+1,(42-K)%ue));pe<=te;pe++,ye++)be.appendChild(W("prevMonthDay",new Date(w.currentYear,w.currentMonth-1,pe),pe,ye));for(pe=1;pe<=ue;pe++,ye++)be.appendChild(W("",new Date(w.currentYear,w.currentMonth,pe),pe,ye));for(var Ee=ue+1;Ee<=42-K;Ee++,ye++)be.appendChild(W("nextMonthDay",new Date(w.currentYear,w.currentMonth+1,Ee%ue),Ee,ye));Z&&w.selectedDates.length===1&&be.childNodes[0]?(w._hidePrevMonthArrow=w._hidePrevMonthArrow||!!w.minRangeDate&&w.minRangeDate>be.childNodes[0].dateObj,w._hideNextMonthArrow=w._hideNextMonthArrow||!!w.maxRangeDate&&w.maxRangeDate<new Date(w.currentYear,w.currentMonth+1,1)):Le();var xe=E("div","dayContainer");xe.appendChild(be),T(w.daysContainer),w.daysContainer.insertBefore(xe,w.daysContainer.firstChild),w.days=w.daysContainer.firstChild}}function X(){var K=window.document.createDocumentFragment();w.monthNav=E("div","flatpickr-month"),w.prevMonthNav=E("span","flatpickr-prev-month"),w.prevMonthNav.innerHTML=w.config.prevArrow,w.currentMonthElement=E("span","cur-month");var Z=A("cur-year",{tabindex:"-1"});return w.currentYearElement=Z.childNodes[0],w.config.minDate&&w.currentYearElement.setAttribute("data-min",w.config.minDate.getFullYear().toString()),w.config.maxDate&&(w.currentYearElement.setAttribute("data-max",w.config.maxDate.getFullYear().toString()),w.currentYearElement.disabled=!!w.config.minDate&&w.config.minDate.getFullYear()===w.config.maxDate.getFullYear()),w.nextMonthNav=E("span","flatpickr-next-month"),w.nextMonthNav.innerHTML=w.config.nextArrow,w.navigationCurrentMonth=E("div","flatpickr-current-month"),w.navigationCurrentMonth.appendChild(w.currentMonthElement),w.navigationCurrentMonth.appendChild(Z),K.appendChild(w.prevMonthNav),K.appendChild(w.navigationCurrentMonth),K.appendChild(w.nextMonthNav),w.monthNav.appendChild(K),Object.defineProperty(w,"_hidePrevMonthArrow",{get:function(){return w.__hidePrevMonthArrow},set:function(te){w.__hidePrevMonthArrow!==te&&(w.prevMonthNav.style.display=te?"none":"block"),w.__hidePrevMonthArrow=te}}),Object.defineProperty(w,"_hideNextMonthArrow",{get:function(){return w.__hideNextMonthArrow},set:function(te){w.__hideNextMonthArrow!==te&&(w.nextMonthNav.style.display=te?"none":"block"),w.__hideNextMonthArrow=te}}),Le(),w.monthNav}function ee(){w.calendarContainer.classList.add("hasTime"),w.config.noCalendar&&w.calendarContainer.classList.add("noCalendar"),w.timeContainer=E("div","flatpickr-time"),w.timeContainer.tabIndex=-1;var K=E("span","flatpickr-time-separator",":"),Z=A("flatpickr-hour");w.hourElement=Z.childNodes[0];var te=A("flatpickr-minute");if(w.minuteElement=te.childNodes[0],w.hourElement.tabIndex=w.minuteElement.tabIndex=-1,w.hourElement.value=a(w.latestSelectedDateObj?w.latestSelectedDateObj.getHours():w.config.time_24hr?w.config.defaultHour:F(w.config.defaultHour)),w.minuteElement.value=a(w.latestSelectedDateObj?w.latestSelectedDateObj.getMinutes():w.config.defaultMinute),w.hourElement.setAttribute("data-step",w.config.hourIncrement.toString()),w.minuteElement.setAttribute("data-step",w.config.minuteIncrement.toString()),w.hourElement.setAttribute("data-min",w.config.time_24hr?"0":"1"),w.hourElement.setAttribute("data-max",w.config.time_24hr?"23":"12"),w.minuteElement.setAttribute("data-min","0"),w.minuteElement.setAttribute("data-max","59"),w.timeContainer.appendChild(Z),w.timeContainer.appendChild(K),w.timeContainer.appendChild(te),w.config.time_24hr&&w.timeContainer.classList.add("time24hr"),w.config.enableSeconds){w.timeContainer.classList.add("hasSeconds");var ue=A("flatpickr-second");w.secondElement=ue.childNodes[0],w.secondElement.value=a(w.latestSelectedDateObj?w.latestSelectedDateObj.getSeconds():w.config.defaultSeconds),w.secondElement.setAttribute("data-step",w.minuteElement.getAttribute("data-step")),w.secondElement.setAttribute("data-min",w.minuteElement.getAttribute("data-min")),w.secondElement.setAttribute("data-max",w.minuteElement.getAttribute("data-max")),w.timeContainer.appendChild(E("span","flatpickr-time-separator",":")),w.timeContainer.appendChild(ue)}return w.config.time_24hr||(w.amPM=E("span","flatpickr-am-pm",w.l10n.amPM[o((w.latestSelectedDateObj?w.hourElement.value:w.config.defaultHour)>11)]),w.amPM.title=w.l10n.toggleTitle,w.amPM.tabIndex=-1,w.timeContainer.appendChild(w.amPM)),w.timeContainer}function oe(){w.weekdayContainer||(w.weekdayContainer=E("div","flatpickr-weekdays"));var K=w.l10n.firstDayOfWeek,Z=w.l10n.weekdays.shorthand.slice();return K>0&&K<Z.length&&(Z=Z.splice(K,Z.length).concat(Z.splice(0,K))),w.weekdayContainer.innerHTML=`
    <span class=flatpickr-weekday>
      `+Z.join("</span><span class=flatpickr-weekday>")+`
    </span>
    `,w.weekdayContainer}function le(){w.calendarContainer.classList.add("hasWeeks");var K=E("div","flatpickr-weekwrapper");K.appendChild(E("span","flatpickr-weekday",w.l10n.weekAbbreviation));var Z=E("div","flatpickr-weeks");return K.appendChild(Z),{weekWrapper:K,weekNumbers:Z}}function ne(K,Z,te){Z===void 0&&(Z=!0),te===void 0&&(te=!1);var ue=Z?K:K-w.currentMonth;if(!(ue<0&&w._hidePrevMonthArrow||ue>0&&w._hideNextMonthArrow)&&(w.currentMonth+=ue,(w.currentMonth<0||w.currentMonth>11)&&(w.currentYear+=w.currentMonth>11?1:-1,w.currentMonth=(w.currentMonth+12)%12,Ie("onYearChange")),se(),Ie("onMonthChange"),Le(),te&&document.activeElement&&document.activeElement.$i)){var be=document.activeElement.$i;ae(be,0)}}function _e(K){K===void 0&&(K=!0),w.input.value="",w.altInput&&(w.altInput.value=""),w.mobileInput&&(w.mobileInput.value=""),w.selectedDates=[],w.latestSelectedDateObj=void 0,w.showTimeInput=!1,w.config.enableTime&&(w.config.minDate!==void 0?z(w.config.minDate):V(w.config.defaultHour,w.config.defaultMinute,w.config.defaultSeconds)),w.redraw(),K&&Ie("onChange")}function he(){w.isOpen=!1,w.isMobile||(w.calendarContainer.classList.remove("open"),w._input.classList.remove("active")),Ie("onClose")}function ve(){w.config!==void 0&&Ie("onDestroy");for(var K=w._handlers.length;K--;){var Z=w._handlers[K];Z.element.removeEventListener(Z.event,Z.handler)}w._handlers=[],w.mobileInput?(w.mobileInput.parentNode&&w.mobileInput.parentNode.removeChild(w.mobileInput),w.mobileInput=void 0):w.calendarContainer&&w.calendarContainer.parentNode&&w.calendarContainer.parentNode.removeChild(w.calendarContainer),w.altInput&&(w.input.type="text",w.altInput.parentNode&&w.altInput.parentNode.removeChild(w.altInput),delete w.altInput),w.input&&(w.input.type=w.input._type,w.input.classList.remove("flatpickr-input"),w.input.removeAttribute("readonly"),w.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(te){try{delete w[te]}catch{}})}function ke(K){return w.config.appendTo&&w.config.appendTo.contains(K)?!0:w.calendarContainer.contains(K)}function Ce(K){if(w.isOpen&&!w.config.inline){var Z=ke(K.target),te=K.target===w.input||K.target===w.altInput||w.element.contains(K.target)||K.path&&K.path.indexOf&&(~K.path.indexOf(w.input)||~K.path.indexOf(w.altInput)),ue=K.type==="blur"?te&&K.relatedTarget&&!ke(K.relatedTarget):!te&&!Z,be=!w.config.ignoredFocusElements.some(function(pe){return pe.contains(K.target)});ue&&be&&(w.close(),w.config.mode==="range"&&w.selectedDates.length===1&&(w.clear(!1),w.redraw()))}}function qe(K){if(!(!K||w.currentYearElement.getAttribute("data-min")&&K<parseInt(w.currentYearElement.getAttribute("data-min"))||w.currentYearElement.getAttribute("data-max")&&K>parseInt(w.currentYearElement.getAttribute("data-max")))){var Z=K,te=w.currentYear!==Z;w.currentYear=Z||w.currentYear,w.config.maxDate&&w.currentYear===w.config.maxDate.getFullYear()?w.currentMonth=Math.min(w.config.maxDate.getMonth(),w.currentMonth):w.config.minDate&&w.currentYear===w.config.minDate.getFullYear()&&(w.currentMonth=Math.max(w.config.minDate.getMonth(),w.currentMonth)),te&&(w.redraw(),Ie("onYearChange"))}}function Me(K,Z){Z===void 0&&(Z=!0);var te=w.parseDate(K,void 0,Z);if(w.config.minDate&&te&&v(te,w.config.minDate,Z!==void 0?Z:!w.minDateHasTime)<0||w.config.maxDate&&te&&v(te,w.config.maxDate,Z!==void 0?Z:!w.maxDateHasTime)>0)return!1;if(!w.config.enable.length&&!w.config.disable.length)return!0;if(te===void 0)return!1;for(var ue=w.config.enable.length>0,be=ue?w.config.enable:w.config.disable,pe=0,ye=void 0;pe<be.length;pe++){if(ye=be[pe],typeof ye=="function"&&ye(te))return ue;if(ye instanceof Date&&te!==void 0&&ye.getTime()===te.getTime())return ue;if(typeof ye=="string"&&te!==void 0){var Ee=w.parseDate(ye,void 0,!0);return Ee&&Ee.getTime()===te.getTime()?ue:!ue}else if(typeof ye=="object"&&te!==void 0&&ye.from&&ye.to&&te.getTime()>=ye.from.getTime()&&te.getTime()<=ye.to.getTime())return ue}return!ue}function fe(K){var Z=K.target===w._input,te=ke(K.target),ue=w.config.allowInput,be=w.isOpen&&(!ue||!Z),pe=w.config.inline&&Z&&!ue;if(K.keyCode===13&&Z){if(ue)return w.setDate(w._input.value,!0,K.target===w.altInput?w.config.altFormat:w.config.dateFormat),K.target.blur();w.open()}else if(te||be||pe){var ye=!!w.timeContainer&&w.timeContainer.contains(K.target);switch(K.keyCode){case 13:ye?Re():Ge(K);break;case 27:K.preventDefault(),w.close();break;case 8:case 46:Z&&!w.config.allowInput&&w.clear();break;case 37:case 39:if(ye)w.hourElement&&w.hourElement.focus();else if(K.preventDefault(),w.daysContainer){var Ee=K.keyCode===39?1:-1;K.ctrlKey?ne(Ee,!0,!0):ae(K.target.$i,Ee)}break;case 38:case 40:K.preventDefault();var xe=K.keyCode===40?1:-1;w.daysContainer&&K.target.$i!==void 0?K.ctrlKey?(qe(w.currentYear-xe),ae(K.target.$i,0)):ye||ae(K.target.$i,xe*7):w.config.enableTime&&(!ye&&w.hourElement&&w.hourElement.focus(),$(K),w._debouncedChange());break;case 9:K.target===w.hourElement?(K.preventDefault(),w.minuteElement.select()):K.target===w.minuteElement&&(w.secondElement||w.amPM)?(K.preventDefault(),w.secondElement!==void 0?w.secondElement.focus():w.amPM!==void 0&&w.amPM.focus()):K.target===w.secondElement&&w.amPM&&(K.preventDefault(),w.amPM.focus());break}switch(K.key){case w.l10n.amPM[0].charAt(0):w.amPM!==void 0&&K.target===w.amPM&&(w.amPM.textContent=w.l10n.amPM[0],N(),Re());break;case w.l10n.amPM[1].charAt(0):w.amPM!==void 0&&K.target===w.amPM&&(w.amPM.textContent=w.l10n.amPM[1],N(),Re());break}Ie("onKeyDown",K)}}function me(K){if(!(w.selectedDates.length!==1||!K.classList.contains("flatpickr-day")||K.classList.contains("disabled")||w.minRangeDate===void 0||w.maxRangeDate===void 0)){for(var Z=K.dateObj,te=w.parseDate(w.selectedDates[0],void 0,!0),ue=Math.min(Z.getTime(),w.selectedDates[0].getTime()),be=Math.max(Z.getTime(),w.selectedDates[0].getTime()),pe=!1,ye=ue;ye<be;ye+=q.DAY)if(!Me(new Date(ye))){pe=!0;break}for(var Ee=function(De,Fe){var Pe=Fe.getTime(),ze=Pe<w.minRangeDate.getTime()||Pe>w.maxRangeDate.getTime(),$e=w.days.childNodes[De];if(ze)return $e.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ve){$e.classList.remove(Ve)}),"continue";if(pe&&!ze)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(Ve){$e.classList.remove(Ve)});var st=Math.max(w.minRangeDate.getTime(),ue),lt=Math.min(w.maxRangeDate.getTime(),be);K.classList.add(Z<w.selectedDates[0]?"startRange":"endRange"),te<Z&&Pe===te.getTime()?$e.classList.add("startRange"):te>Z&&Pe===te.getTime()&&$e.classList.add("endRange"),Pe>=st&&Pe<=lt&&$e.classList.add("inRange")},xe=0,Oe=w.days.childNodes[xe].dateObj;xe<42;xe++,Oe=w.days.childNodes[xe]&&w.days.childNodes[xe].dateObj)Ee(xe,Oe)}}function we(){w.isOpen&&!w.config.static&&!w.config.inline&&Ue()}function Se(K,Z){if(Z===void 0&&(Z=w._input),w.isMobile){K&&(K.preventDefault(),K.target&&K.target.blur()),setTimeout(function(){w.mobileInput!==void 0&&w.mobileInput.click()},0),Ie("onOpen");return}if(!(w._input.disabled||w.config.inline)){var te=w.isOpen;w.isOpen=!0,te||(w.calendarContainer.classList.add("open"),w._input.classList.add("active"),Ie("onOpen"),Ue(Z))}}function Ae(K){return function(Z){var te=w.config["_"+K+"Date"]=w.parseDate(Z,w.config.dateFormat),ue=w.config["_"+(K==="min"?"max":"min")+"Date"];te!==void 0&&(w[K==="min"?"minDateHasTime":"maxDateHasTime"]=te.getHours()>0||te.getMinutes()>0||te.getSeconds()>0),w.selectedDates&&(w.selectedDates=w.selectedDates.filter(function(be){return Me(be)}),!w.selectedDates.length&&K==="min"&&z(te),Re()),w.daysContainer&&(We(),te!==void 0?w.currentYearElement[K]=te.getFullYear().toString():w.currentYearElement.removeAttribute(K),w.currentYearElement.disabled=!!ue&&te!==void 0&&ue.getFullYear()===te.getFullYear())}}function Ne(){var K=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Z=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],te=r({},R,JSON.parse(JSON.stringify(D.dataset||{}))),ue={};w.config.parseDate=te.parseDate,w.config.formatDate=te.formatDate,Object.defineProperty(w.config,"enable",{get:function(){return w.config._enable||[]},set:function(xe){w.config._enable=Xe(xe)}}),Object.defineProperty(w.config,"disable",{get:function(){return w.config._disable||[]},set:function(xe){w.config._disable=Xe(xe)}}),!te.dateFormat&&te.enableTime&&(ue.dateFormat=te.noCalendar?"H:i"+(te.enableSeconds?":S":""):I.defaultConfig.dateFormat+" H:i"+(te.enableSeconds?":S":"")),te.altInput&&te.enableTime&&!te.altFormat&&(ue.altFormat=te.noCalendar?"h:i"+(te.enableSeconds?":S K":" K"):I.defaultConfig.altFormat+(" h:i"+(te.enableSeconds?":S":"")+" K")),Object.defineProperty(w.config,"minDate",{get:function(){return w.config._minDate},set:Ae("min")}),Object.defineProperty(w.config,"maxDate",{get:function(){return w.config._maxDate},set:Ae("max")});var be=function(xe){return function(Oe){w.config[xe==="min"?"_minTime":"_maxTime"]=w.parseDate(Oe,"H:i")}};Object.defineProperty(w.config,"minTime",{get:function(){return w.config._minTime},set:be("min")}),Object.defineProperty(w.config,"maxTime",{get:function(){return w.config._maxTime},set:be("max")}),Object.assign(w.config,ue,te);for(var pe=0;pe<K.length;pe++)w.config[K[pe]]=w.config[K[pe]]===!0||w.config[K[pe]]==="true";for(var pe=Z.length;pe--;)w.config[Z[pe]]!==void 0&&(w.config[Z[pe]]=l(w.config[Z[pe]]||[]).map(U));for(var pe=0;pe<w.config.plugins.length;pe++){var ye=w.config.plugins[pe](w)||{};for(var Ee in ye)~Z.indexOf(Ee)?w.config[Ee]=l(ye[Ee]).map(U).concat(w.config[Ee]):typeof te[Ee]=="undefined"&&(w.config[Ee]=ye[Ee])}w.isMobile=!w.config.disableMobile&&!w.config.inline&&w.config.mode==="single"&&!w.config.disable.length&&!w.config.enable.length&&!w.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ie("onParseConfig")}function Be(){typeof w.config.locale!="object"&&typeof I.l10ns[w.config.locale]=="undefined"&&w.config.errorHandler(new Error("flatpickr: invalid locale "+w.config.locale)),w.l10n=r({},I.l10ns.default,typeof w.config.locale=="object"?w.config.locale:w.config.locale!=="default"?I.l10ns[w.config.locale]:void 0),f.K="("+w.l10n.amPM[0]+"|"+w.l10n.amPM[1]+"|"+w.l10n.amPM[0].toLowerCase()+"|"+w.l10n.amPM[1].toLowerCase()+")",w.formatDate=d(w)}function Ue(K){if(w.calendarContainer!==void 0){Ie("onPreCalendarPosition");var Z=K||w._positionElement,te=Array.prototype.reduce.call(w.calendarContainer.children,function(Pe,ze){return Pe+ze.offsetHeight},0),ue=w.calendarContainer.offsetWidth,be=w.config.position,pe=Z.getBoundingClientRect(),ye=window.innerHeight-pe.bottom,Ee=be==="above"||be!=="below"&&ye<te&&pe.top>te,xe=window.pageYOffset+pe.top+(Ee?-te-2:Z.offsetHeight+2);if(x(w.calendarContainer,"arrowTop",!Ee),x(w.calendarContainer,"arrowBottom",Ee),!w.config.inline){var Oe=window.pageXOffset+pe.left,De=window.document.body.offsetWidth-pe.right,Fe=Oe+ue>window.document.body.offsetWidth;x(w.calendarContainer,"rightMost",Fe),!w.config.static&&(w.calendarContainer.style.top=xe+"px",Fe?(w.calendarContainer.style.left="auto",w.calendarContainer.style.right=De+"px"):(w.calendarContainer.style.left=Oe+"px",w.calendarContainer.style.right="auto"))}}}function We(){w.config.noCalendar||w.isMobile||(oe(),Le(),se())}function Je(){w._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(w.close,0):w.close()}function Ge(K){K.preventDefault(),K.stopPropagation();var Z=function(De){return De.classList&&De.classList.contains("flatpickr-day")&&!De.classList.contains("disabled")&&!De.classList.contains("notAllowed")},te=k(K.target,Z);if(te!==void 0){var ue=te,be=w.latestSelectedDateObj=new Date(ue.dateObj.getTime()),pe=be.getMonth()!==w.currentMonth&&w.config.mode!=="range";if(w.selectedDateElem=ue,w.config.mode==="single")w.selectedDates=[be];else if(w.config.mode==="multiple"){var ye=je(be);ye?w.selectedDates.splice(parseInt(ye),1):w.selectedDates.push(be)}else w.config.mode==="range"&&(w.selectedDates.length===2&&w.clear(),w.selectedDates.push(be),v(be,w.selectedDates[0],!0)!==0&&w.selectedDates.sort(function(De,Fe){return De.getTime()-Fe.getTime()}));if(N(),pe){var Ee=w.currentYear!==be.getFullYear();w.currentYear=be.getFullYear(),w.currentMonth=be.getMonth(),Ee&&Ie("onYearChange"),Ie("onMonthChange")}if(se(),w.config.minDate&&w.minDateHasTime&&w.config.enableTime&&v(be,w.config.minDate)===0&&z(w.config.minDate),Re(),w.config.enableTime&&setTimeout(function(){return w.showTimeInput=!0},50),w.config.mode==="range"&&(w.selectedDates.length===1?(me(ue),w._hidePrevMonthArrow=w._hidePrevMonthArrow||w.minRangeDate!==void 0&&w.minRangeDate>w.days.childNodes[0].dateObj,w._hideNextMonthArrow=w._hideNextMonthArrow||w.maxRangeDate!==void 0&&w.maxRangeDate<new Date(w.currentYear,w.currentMonth+1,1)):Le()),pe?w.selectedDateElem&&w.selectedDateElem.focus():ae(ue.$i,0),w.hourElement!==void 0&&setTimeout(function(){return w.hourElement!==void 0&&w.hourElement.select()},451),w.config.closeOnSelect){var xe=w.config.mode==="single"&&!w.config.enableTime,Oe=w.config.mode==="range"&&w.selectedDates.length===2&&!w.config.enableTime;(xe||Oe)&&Je()}Q()}}var Ke={locale:[Be]};function Ze(K,Z){K!==null&&typeof K=="object"?Object.assign(w.config,K):(w.config[K]=Z,Ke[K]!==void 0&&Ke[K].forEach(function(te){return te()})),w.redraw(),ce()}function Ye(K,Z){var te=[];if(K instanceof Array)te=K.map(function(ue){return w.parseDate(ue,Z)});else if(K instanceof Date||typeof K=="number")te=[w.parseDate(K,Z)];else if(typeof K=="string")switch(w.config.mode){case"single":te=[w.parseDate(K,Z)];break;case"multiple":te=K.split(w.config.conjunction).map(function(ue){return w.parseDate(ue,Z)});break;case"range":te=K.split(w.l10n.rangeSeparator).map(function(ue){return w.parseDate(ue,Z)});break}else w.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(K)));w.selectedDates=te.filter(function(ue){return ue instanceof Date&&Me(ue,!1)}),w.config.mode==="range"&&w.selectedDates.sort(function(ue,be){return ue.getTime()-be.getTime()})}function Qe(K,Z,te){if(Z===void 0&&(Z=!1),te===void 0&&(te=w.config.dateFormat),K!==0&&!K)return w.clear(Z);Ye(K,te),w.showTimeInput=w.selectedDates.length>0,w.latestSelectedDateObj=w.selectedDates[0],w.redraw(),ce(),z(),Re(Z),Z&&Ie("onChange")}function Xe(K){return K.map(function(Z){return typeof Z=="string"||typeof Z=="number"||Z instanceof Date?w.parseDate(Z,void 0,!0):Z&&typeof Z=="object"&&Z.from&&Z.to?{from:w.parseDate(Z.from,void 0),to:w.parseDate(Z.to,void 0)}:Z}).filter(function(Z){return Z})}function et(){w.selectedDates=[],w.now=new Date;var K=w.config.defaultDate||w.input.value;K&&Ye(K,w.config.dateFormat);var Z=w.selectedDates.length?w.selectedDates[0]:w.config.minDate&&w.config.minDate.getTime()>w.now.getTime()?w.config.minDate:w.config.maxDate&&w.config.maxDate.getTime()<w.now.getTime()?w.config.maxDate:w.now;w.currentYear=Z.getFullYear(),w.currentMonth=Z.getMonth(),w.selectedDates.length&&(w.latestSelectedDateObj=w.selectedDates[0]),w.config.minTime!==void 0&&(w.config.minTime=w.parseDate(w.config.minTime,"H:i")),w.config.maxTime!==void 0&&(w.config.maxTime=w.parseDate(w.config.maxTime,"H:i")),w.minDateHasTime=!!w.config.minDate&&(w.config.minDate.getHours()>0||w.config.minDate.getMinutes()>0||w.config.minDate.getSeconds()>0),w.maxDateHasTime=!!w.config.maxDate&&(w.config.maxDate.getHours()>0||w.config.maxDate.getMinutes()>0||w.config.maxDate.getSeconds()>0),Object.defineProperty(w,"showTimeInput",{get:function(){return w._showTimeInput},set:function(te){w._showTimeInput=te,w.calendarContainer&&x(w.calendarContainer,"showTimeInput",te),w.isOpen&&Ue()}})}function tt(){if(w.input=w.config.wrap?D.querySelector("[data-input]"):D,!w.input){w.config.errorHandler(new Error("Invalid input element specified"));return}w.input._type=w.input.type,w.input.type="text",w.input.classList.add("flatpickr-input"),w._input=w.input,w.config.altInput&&(w.altInput=E(w.input.nodeName,w.input.className+" "+w.config.altInputClass),w._input=w.altInput,w.altInput.placeholder=w.input.placeholder,w.altInput.disabled=w.input.disabled,w.altInput.required=w.input.required,w.altInput.tabIndex=w.input.tabIndex,w.altInput.type="text",w.input.type="hidden",!w.config.static&&w.input.parentNode&&w.input.parentNode.insertBefore(w.altInput,w.input.nextSibling)),w.config.allowInput||w._input.setAttribute("readonly","readonly"),w._positionElement=w.config.positionElement||w._input}function nt(){var K=w.config.enableTime?w.config.noCalendar?"time":"datetime-local":"date";w.mobileInput=E("input",w.input.className+" flatpickr-mobile"),w.mobileInput.step=w.input.getAttribute("step")||"any",w.mobileInput.tabIndex=1,w.mobileInput.type=K,w.mobileInput.disabled=w.input.disabled,w.mobileInput.required=w.input.required,w.mobileInput.placeholder=w.input.placeholder,w.mobileFormatStr=K==="datetime-local"?"Y-m-d\\TH:i:S":K==="date"?"Y-m-d":"H:i:S",w.selectedDates.length&&(w.mobileInput.defaultValue=w.mobileInput.value=w.formatDate(w.selectedDates[0],w.mobileFormatStr)),w.config.minDate&&(w.mobileInput.min=w.formatDate(w.config.minDate,"Y-m-d")),w.config.maxDate&&(w.mobileInput.max=w.formatDate(w.config.maxDate,"Y-m-d")),w.input.type="hidden",w.altInput!==void 0&&(w.altInput.type="hidden");try{w.input.parentNode&&w.input.parentNode.insertBefore(w.mobileInput,w.input.nextSibling)}catch{}j(w.mobileInput,"change",function(Z){w.setDate(Z.target.value,!1,w.mobileFormatStr),Ie("onChange"),Ie("onClose")})}function rt(){if(w.isOpen)return w.close();w.open()}function Ie(K,Z){var te=w.config[K];if(te!==void 0&&te.length>0)for(var ue=0;te[ue]&&ue<te.length;ue++)te[ue](w.selectedDates,w.input.value,w,Z);K==="onChange"&&(w.input.dispatchEvent(He("change")),w.input.dispatchEvent(He("input")))}function He(K){var Z=document.createEvent("Event");return Z.initEvent(K,!0,!0),Z}function je(K){for(var Z=0;Z<w.selectedDates.length;Z++)if(v(w.selectedDates[Z],K)===0)return""+Z;return!1}function it(K){return w.config.mode!=="range"||w.selectedDates.length<2?!1:v(K,w.selectedDates[0])>=0&&v(K,w.selectedDates[1])<=0}function Le(){w.config.noCalendar||w.isMobile||!w.monthNav||(w.currentMonthElement.textContent=_(w.currentMonth,w.config.shorthandCurrentMonth,w.l10n)+" ",w.currentYearElement.value=w.currentYear.toString(),w._hidePrevMonthArrow=w.config.minDate!==void 0&&(w.currentYear===w.config.minDate.getFullYear()?w.currentMonth<=w.config.minDate.getMonth():w.currentYear<w.config.minDate.getFullYear()),w._hideNextMonthArrow=w.config.maxDate!==void 0&&(w.currentYear===w.config.maxDate.getFullYear()?w.currentMonth+1>w.config.maxDate.getMonth():w.currentYear>w.config.maxDate.getFullYear()))}function Re(K){if(K===void 0&&(K=!0),!w.selectedDates.length)return w.clear(K);w.mobileInput!==void 0&&w.mobileFormatStr&&(w.mobileInput.value=w.latestSelectedDateObj!==void 0?w.formatDate(w.latestSelectedDateObj,w.mobileFormatStr):"");var Z=w.config.mode!=="range"?w.config.conjunction:w.l10n.rangeSeparator;w.input.value=w.selectedDates.map(function(te){return w.formatDate(te,w.config.dateFormat)}).join(Z),w.altInput!==void 0&&(w.altInput.value=w.selectedDates.map(function(te){return w.formatDate(te,w.config.altFormat)}).join(Z)),K!==!1&&Ie("onValueUpdate")}function at(K){K.preventDefault();var Z=w.prevMonthNav.contains(K.target),te=w.nextMonthNav.contains(K.target);Z||te?ne(Z?-1:1):K.target===w.currentYearElement?w.currentYearElement.select():K.target.className==="arrowUp"?w.changeYear(w.currentYear+1):K.target.className==="arrowDown"&&w.changeYear(w.currentYear-1)}function ot(K){K.preventDefault();var Z=K.type==="keydown",te=K.target;w.amPM!==void 0&&K.target===w.amPM&&(w.amPM.textContent=w.l10n.amPM[o(w.amPM.textContent===w.l10n.amPM[0])]);var ue=parseFloat(te.getAttribute("data-min")),be=parseFloat(te.getAttribute("data-max")),pe=parseFloat(te.getAttribute("data-step")),ye=parseInt(te.value,10),Ee=K.delta||(Z?K.which===38?1:-1:0),xe=ye+pe*Ee;if(typeof te.value!="undefined"&&te.value.length===2){var Oe=te===w.hourElement,De=te===w.minuteElement;xe<ue?(xe=be+xe+o(!Oe)+(o(Oe)&&o(!w.amPM)),De&&H(void 0,-1,w.hourElement)):xe>be&&(xe=te===w.hourElement?xe-be-o(!w.amPM):ue,De&&H(void 0,1,w.hourElement)),w.amPM&&Oe&&(pe===1?xe+ye===23:Math.abs(xe-ye)>pe)&&(w.amPM.textContent=w.l10n.amPM[o(w.amPM.textContent===w.l10n.amPM[0])]),te.value=a(xe)}}return G(),w}function C(D,R){for(var w=Array.prototype.slice.call(D),B=[],G=0;G<w.length;G++){var U=w[G];try{if(U.getAttribute("data-fp-omit")!==null)continue;U._flatpickr!==void 0&&(U._flatpickr.destroy(),U._flatpickr=void 0),U._flatpickr=S(U,R||{}),B.push(U._flatpickr)}catch($){console.error($)}}return B.length===1?B[0]:B}typeof HTMLElement!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(D){return C(this,D)},HTMLElement.prototype.flatpickr=function(D){return C([this],D)});var I;I=function(D,R){return D instanceof NodeList?C(D,R):C(typeof D=="string"?window.document.querySelectorAll(D):[D],R)},typeof window=="object"&&(window.flatpickr=I),I.defaultConfig=b,I.l10ns={en:r({},h),default:r({},h)},I.localize=function(D){I.l10ns.default=r({},I.l10ns.default,D)},I.setDefaults=function(D){I.defaultConfig=r({},I.defaultConfig,D)},I.parseDate=g({}),I.formatDate=d({}),I.compareDates=v,typeof jQuery!="undefined"&&(jQuery.fn.flatpickr=function(D){return C(this,D)}),Date.prototype.fp_incr=function(D){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof D=="string"?parseInt(D,10):D))};var O=I;n.default=O,Object.defineProperty(n,"__esModule",{value:!0})})})(flatpickr$1,flatpickr$1.exports);var FlatPickr=getDefaultExportFromCjs(flatpickr$1.exports),flatpickr=(()=>`.flatpickr-calendar{background:transparent;overflow:hidden;max-height:0;opacity:0;visibility:hidden;text-align:center;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;display:none;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,.08);box-shadow:1px 0 #e6e6e6,-1px 0 #e6e6e6,0 1px #e6e6e6,0 -1px #e6e6e6,0 3px 13px #00000014}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;visibility:visible;overflow:visible;max-height:640px}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown .2s cubic-bezier(.23,1,.32,1);animation:fpFadeInDown .2s cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.hasWeeks{width:auto}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:"";height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.rightMost:after{left:auto;right:22px}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-month{background:transparent;color:#000000e6;fill:#000000e6;height:28px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.flatpickr-prev-month,.flatpickr-next-month{text-decoration:none;cursor:pointer;position:absolute;top:0px;line-height:16px;height:28px;padding:10px calc(3.57% - 1.5px);z-index:3}.flatpickr-prev-month i,.flatpickr-next-month i{position:relative}.flatpickr-prev-month.flatpickr-prev-month,.flatpickr-next-month.flatpickr-prev-month{left:0}.flatpickr-prev-month.flatpickr-next-month,.flatpickr-next-month.flatpickr-next-month{right:0}.flatpickr-prev-month:hover,.flatpickr-next-month:hover{color:#959ea9}.flatpickr-prev-month:hover svg,.flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-prev-month svg,.flatpickr-next-month svg{width:14px;height:14px}.flatpickr-prev-month svg path,.flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,.1)}.numInputWrapper span:active{background:rgba(0,0,0,.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:#00000080}.numInputWrapper:hover{background:rgba(0,0,0,.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:6.16px 0 0;line-height:1;height:28px;display:inline-block;text-align:center;-webkit-transform:translate3d(0px,0px,0px);transform:translateZ(0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\fffd;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:#000000e6}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:#000000e6}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:#00000080;background:transparent;pointer-events:none}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:#0000008a;line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0px,0px,0px);transform:translateZ(0);opacity:1}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange+.endRange,.flatpickr-day.startRange.startRange+.endRange,.flatpickr-day.endRange.startRange+.endRange{-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 #e6e6e6,5px 0 #e6e6e6}.flatpickr-day.disabled,.flatpickr-day.disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:#3939394d;background:transparent;border-color:transparent;cursor:default}.flatpickr-day.disabled,.flatpickr-day.disabled:hover{cursor:not-allowed;color:#3939391a}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 #569ff7,5px 0 #569ff7}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{display:inline-block;float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:#3939394d;background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;cursor:pointer;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time input.flatpickr-hour{font-weight:700}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;display:inline-block;float:left;line-height:inherit;color:#393939;font-weight:700;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time .flatpickr-am-pm:focus{background:#f0f0f0}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes fpFadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`)(),render$b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{staticClass:"datePicker",class:{"datePicker--static":e.staticMode,"datePicker--mobile":e.isMobile},attrs:{name:e.name,error:e.error,note:e.note,label:e.label,"label-for":e.uniqId,required:e.required}},[n("div",{ref:e.refs.flatPicker,staticClass:"datePicker__group"},[n("div",{staticClass:"form__field datePicker__field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"text",name:e.name,id:e.uniqId,required:e.required,placeholder:e.placeHolder,"data-input":"",disabled:e.disabled},domProps:{value:e.date},on:{blur:e.onBlur,input:function(r){r.target.composing||(e.date=r.target.value)}}}),e.clear?n("a",{staticClass:"datePicker__reset",class:{"datePicker__reset--cleared":!e.date},attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.onClear(r)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})]):e._e()])])])},staticRenderFns$b=[],DatePicker_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-b77f06ea]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-b77f06ea]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-b77f06ea]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-b77f06ea]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-b77f06ea]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-b77f06ea]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-b77f06ea]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-b77f06ea]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-b77f06ea]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-b77f06ea]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-b77f06ea]{width:auto}}.datePicker__field[data-v-b77f06ea]{display:flex}.datePicker__reset[data-v-b77f06ea]{display:block;width:18px;flex:0 0 18px;height:18px;overflow:hidden;color:#fff;background:#a6a6a6;border-radius:9px;margin-top:13px;margin-right:13px;line-height:18px;text-align:center;transition:opacity .2s ease}.datePicker__reset .icon[data-v-b77f06ea]{overflow:hidden;vertical-align:top;position:relative;top:4px}.datePicker__reset[data-v-b77f06ea]:hover,.datePicker__reset[data-v-b77f06ea]:focus{background:#8c8c8c}.datePicker__reset.datePicker__reset--cleared[data-v-b77f06ea]{opacity:0;pointer-events:none}.datePicker--static:not(.datePicker--mobile) .form__field[data-v-b77f06ea]{height:0;position:static;overflow:visible;border:0 none}.datePicker--static:not(.datePicker--mobile) .datePicker__reset[data-v-b77f06ea]{position:absolute;right:0;top:0}.flatpickr-wrapper[data-v-b77f06ea]{display:block}
`)(),DatePicker_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.datePicker__group input.flatpickr-input.flatpickr-mobile{width:100%;font-family:inherit;font-size:inherit;background:transparent;border:0 none;padding:0 15px;-webkit-appearance:none}.datePicker__group input.flatpickr-input.flatpickr-mobile::-webkit-clear-button{display:none}.datePicker__group input.flatpickr-input.flatpickr-mobile::-webkit-inner-spin-button{display:none}.datePicker__group input.flatpickr-input.flatpickr-mobile::-webkit-calendar-picker-indicator{display:none}
`)();const __vue2_script$b={name:"A17DatePicker",mixins:[randKeyMixin,InputframeMixin,FormStoreMixin],props:{name:{type:String,default:"date"},required:{type:Boolean,default:!1},placeHolder:{type:String,default:""},allowInput:{type:Boolean,default:!1},enableTime:{type:Boolean,default:!1},noCalendar:{type:Boolean,default:!1},time_24hr:{type:Boolean,default:isCurrentLocale24HrFormatted()},altFormat:{type:String,default:null},inline:{type:Boolean,default:!1},initialValue:{type:String,default:null},hourIncrement:{type:Number,default:1},minuteIncrement:{type:Number,default:30},staticMode:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},disabled:{type:Boolean,default:!1},mode:{type:String,default:"single",validator:function(e){return e==="single"||e==="multiple"||e==="range"}},clear:{type:Boolean,default:!1}},data:function(){return{date:this.initialValue,isMobile:!1,flatPicker:null,refs:{flatPicker:"flatPicker"}}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},altFormatComputed:function(){return this.altFormat!==null?this.altFormat:"F j, Y"+(this.enableTime?this.time_24hr||isCurrentLocale24HrFormatted()?" H:i":" h:i K":"")}},methods:{config:function(){const e=this,t={wrap:!0,altInput:!0,altFormat:e.altFormatComputed,static:e.staticMode,appendTo:e.staticMode?e.$refs[e.refs.flatPicker]:void 0,enableTime:e.enableTime,noCalendar:e.noCalendar,time_24hr:e.time_24hr,inline:e.inline,allowInput:e.allowInput,mode:e.mode,minuteIncrement:e.minuteIncrement,hourIncrement:e.hourIncrement,minDate:e.minDate,maxDate:e.maxDate,onOpen:function(){setTimeout(function(){e.flatPicker.set("maxDate",e.maxDate),e.flatPicker.set("minDate",e.minDate)},10),e.$emit("open",e.date)},onClose:function(r,a,o){e.$nextTick(function(){e.$emit("input",e.date),e.$emit("close",e.date),e.saveIntoStore()})}},n=locales[getCurrentLocale()];return n!==void 0&&n.hasOwnProperty("flatpickr")&&(t.locale=n.flatpickr),t},updateFromStore:function(e){e!==this.date&&(this.date=e,this.flatPicker.setDate(e))},onInput:function(e){this.$emit("input",this.date)},onBlur:function(){this.$emit("blur",this.date)},onClear:function(){this.flatPicker.clear(),this.saveIntoStore(),this.$emit("input",this.date)}},mounted:function(){const e=this,t=e.$refs[e.refs.flatPicker],n=e.config();e.flatPicker=new FlatPickr(t,n),this.isMobile=e.flatPicker.isMobile},beforeDestroy:function(){this.flatPicker.destroy()}},__cssModules$b={};var __component__$b=normalizeComponent(__vue2_script$b,render$b,staticRenderFns$b,!1,__vue2_injectStyles$b,"b77f06ea",null,null);function __vue2_injectStyles$b(e){for(let t in __cssModules$b)this[t]=__cssModules$b[t]}var a17DatePicker=function(){return __component__$b.exports}(),render$a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.avatarClasses},[e.thumbnail?n("img",{attrs:{src:e.thumbnail,alt:e.name}}):e._e(),n("span",{staticClass:"avatar__letter"},[e._v(e._s(e.nameFirstLetter))])])},staticRenderFns$a=[],Avatar_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-630f5578]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-630f5578]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-630f5578]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-630f5578]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-630f5578]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-630f5578]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-630f5578]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-630f5578]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-630f5578]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-630f5578]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-630f5578]{width:auto}}.avatar[data-v-630f5578]{position:relative;width:36px;height:36px;border-radius:50%}.avatar img[data-v-630f5578]{position:absolute;top:0;left:0;width:100%;height:100%;min-height:0;object-fit:cover;border-radius:50%;z-index:2}.avatar__letter[data-v-630f5578]{position:absolute;top:1px;left:1px;display:flex;flex-flow:row wrap;align-items:center;justify-content:center;width:calc(100% - 2px);height:calc(100% - 2px);color:#fff;border-radius:50%;z-index:1}.avatar--background-orange .avatar__letter[data-v-630f5578]{background-color:#ff7a00}.avatar--background-blue .avatar__letter[data-v-630f5578]{background-color:#148ddb}.avatar--background-purple .avatar__letter[data-v-630f5578]{background-color:#793cb8}.avatar--background-red .avatar__letter[data-v-630f5578]{background-color:red}
`)();const __vue2_script$a={name:"A17Avatar",props:{name:{type:String,default:null},thumbnail:{type:String,default:null}},computed:{avatarClasses(){return["avatar",this.getBackgroundColor]},getBackgroundColor(){const e=["orange","blue","purple","red"],t=this.name.length%e.length;return`avatar--background-${e[t]}`},nameFirstLetter(){return this.name.charAt(0)}}},__cssModules$a={};var __component__$a=normalizeComponent(__vue2_script$a,render$a,staticRenderFns$a,!1,__vue2_injectStyles$a,"630f5578",null,null);function __vue2_injectStyles$a(e){for(let t in __cssModules$a)this[t]=__cssModules$a[t]}var A17Avatar=function(){return __component__$a.exports}(),axios$2={exports:{}},bind$3=function(t,n){return function(){for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];return t.apply(n,a)}},bind$2=bind$3,toString$3=Object.prototype.toString;function isArray$8(e){return toString$3.call(e)==="[object Array]"}function isUndefined(e){return typeof e=="undefined"}function isBuffer$2(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return toString$3.call(e)==="[object ArrayBuffer]"}function isFormData(e){return typeof FormData!="undefined"&&e instanceof FormData}function isArrayBufferView(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function isString$1(e){return typeof e=="string"}function isNumber(e){return typeof e=="number"}function isObject$5(e){return e!==null&&typeof e=="object"}function isPlainObject$2(e){if(toString$3.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function isDate(e){return toString$3.call(e)==="[object Date]"}function isFile(e){return toString$3.call(e)==="[object File]"}function isBlob(e){return toString$3.call(e)==="[object Blob]"}function isFunction$1(e){return toString$3.call(e)==="[object Function]"}function isStream(e){return isObject$5(e)&&isFunction$1(e.pipe)}function isURLSearchParams(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),isArray$8(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function merge$1(){var e={};function t(a,o){isPlainObject$2(e[o])&&isPlainObject$2(a)?e[o]=merge$1(e[o],a):isPlainObject$2(a)?e[o]=merge$1({},a):isArray$8(a)?e[o]=a.slice():e[o]=a}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],t);return e}function extend$1(e,t,n){return forEach(t,function(a,o){n&&typeof a=="function"?e[o]=bind$2(a,n):e[o]=a}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var utils$d={isArray:isArray$8,isArrayBuffer,isBuffer:isBuffer$2,isFormData,isArrayBufferView,isString:isString$1,isNumber,isObject:isObject$5,isPlainObject:isPlainObject$2,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$1,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge:merge$1,extend:extend$1,trim,stripBOM},utils$c=utils$d;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(t,n,r){if(!n)return t;var a;if(r)a=r(n);else if(utils$c.isURLSearchParams(n))a=n.toString();else{var o=[];utils$c.forEach(n,function(c,u){c===null||typeof c=="undefined"||(utils$c.isArray(c)?u=u+"[]":c=[c],utils$c.forEach(c,function(m){utils$c.isDate(m)?m=m.toISOString():utils$c.isObject(m)&&(m=JSON.stringify(m)),o.push(encode(u)+"="+encode(m))}))}),a=o.join("&")}if(a){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},utils$b=utils$d;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};InterceptorManager$1.prototype.forEach=function(t){utils$b.forEach(this.handlers,function(r){r!==null&&t(r)})};var InterceptorManager_1=InterceptorManager$1,utils$a=utils$d,normalizeHeaderName$1=function(t,n){utils$a.forEach(t,function(a,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=a,delete t[o])})},enhanceError$2=function(t,n,r,a,o){return t.config=n,r&&(t.code=r),t.request=a,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},enhanceError$1=enhanceError$2,createError$2=function(t,n,r,a,o){var s=new Error(t);return enhanceError$1(s,n,r,a,o)},createError$1=createError$2,settle$1=function(t,n,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):n(createError$1("Request failed with status code "+r.status,r.config,null,r.request,r))},utils$9=utils$d,cookies$1=utils$9.isStandardBrowserEnv()?function(){return{write:function(n,r,a,o,s,l){var c=[];c.push(n+"="+encodeURIComponent(r)),utils$9.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),utils$9.isString(o)&&c.push("path="+o),utils$9.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},combineURLs$1=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(t,n){return t&&!isAbsoluteURL(n)?combineURLs(t,n):n},utils$8=utils$d,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(t){var n={},r,a,o;return t&&utils$8.forEach(t.split(`
`),function(l){if(o=l.indexOf(":"),r=utils$8.trim(l.substr(0,o)).toLowerCase(),a=utils$8.trim(l.substr(o+1)),r){if(n[r]&&ignoreDuplicateOf.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([a]):n[r]=n[r]?n[r]+", "+a:a}}),n},utils$7=utils$d,isURLSameOrigin$1=utils$7.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function a(o){var s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(s){var l=utils$7.isString(s)?a(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),utils$6=utils$d,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,xhr=function(t){return new Promise(function(r,a){var o=t.data,s=t.headers,l=t.responseType;utils$6.isFormData(o)&&delete s["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(u+":"+f)}var m=buildFullPath(t.baseURL,t.url);c.open(t.method.toUpperCase(),buildURL$1(m,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!!c){var g="getAllResponseHeaders"in c?parseHeaders(c.getAllResponseHeaders()):null,v=!l||l==="text"||l==="json"?c.responseText:c.response,_={data:v,status:c.status,statusText:c.statusText,headers:g,config:t,request:c};settle(r,a,_),c=null}}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){!c||(a(createError("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){a(createError("Network Error",t,null,c)),c=null},c.ontimeout=function(){var v="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),a(createError(v,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},utils$6.isStandardBrowserEnv()){var d=(t.withCredentials||isURLSameOrigin(m))&&t.xsrfCookieName?cookies.read(t.xsrfCookieName):void 0;d&&(s[t.xsrfHeaderName]=d)}"setRequestHeader"in c&&utils$6.forEach(s,function(v,_){typeof o=="undefined"&&_.toLowerCase()==="content-type"?delete s[_]:c.setRequestHeader(_,v)}),utils$6.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),l&&l!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(v){!c||(c.abort(),a(v),c=null)}),o||(o=null),c.send(o)})},utils$5=utils$d,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$5.isUndefined(e)&&utils$5.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=xhr),e}var defaults$3={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(t,n){return normalizeHeaderName(n,"Accept"),normalizeHeaderName(n,"Content-Type"),utils$5.isFormData(t)||utils$5.isArrayBuffer(t)||utils$5.isBuffer(t)||utils$5.isStream(t)||utils$5.isFile(t)||utils$5.isBlob(t)?t:utils$5.isArrayBufferView(t)?t.buffer:utils$5.isURLSearchParams(t)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):utils$5.isObject(t)||n&&n["Content-Type"]==="application/json"?(setContentTypeIfUnset(n,"application/json"),JSON.stringify(t)):t}],transformResponse:[function(t){var n=this.transitional,r=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||a&&utils$5.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?enhanceError(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};defaults$3.headers={common:{Accept:"application/json, text/plain, */*"}};utils$5.forEach(["delete","get","head"],function(t){defaults$3.headers[t]={}});utils$5.forEach(["post","put","patch"],function(t){defaults$3.headers[t]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$4=utils$d,defaults$2=defaults_1,transformData$1=function(t,n,r){var a=this||defaults$2;return utils$4.forEach(r,function(s){t=s.call(a,t,n)}),t},isCancel$1=function(t){return!!(t&&t.__CANCEL__)},utils$3=utils$d,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1;function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest$1=function(t){throwIfCancellationRequested(t),t.headers=t.headers||{},t.data=transformData.call(t,t.data,t.headers,t.transformRequest),t.headers=utils$3.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var n=t.adapter||defaults$1.adapter;return n(t).then(function(a){return throwIfCancellationRequested(t),a.data=transformData.call(t,a.data,a.headers,t.transformResponse),a},function(a){return isCancel(a)||(throwIfCancellationRequested(t),a&&a.response&&(a.response.data=transformData.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},utils$2=utils$d,mergeConfig$2=function(t,n){n=n||{};var r={},a=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function c(h,d){return utils$2.isPlainObject(h)&&utils$2.isPlainObject(d)?utils$2.merge(h,d):utils$2.isPlainObject(d)?utils$2.merge({},d):utils$2.isArray(d)?d.slice():d}function u(h){utils$2.isUndefined(n[h])?utils$2.isUndefined(t[h])||(r[h]=c(void 0,t[h])):r[h]=c(t[h],n[h])}utils$2.forEach(a,function(d){utils$2.isUndefined(n[d])||(r[d]=c(void 0,n[d]))}),utils$2.forEach(o,u),utils$2.forEach(s,function(d){utils$2.isUndefined(n[d])?utils$2.isUndefined(t[d])||(r[d]=c(void 0,t[d])):r[d]=c(void 0,n[d])}),utils$2.forEach(l,function(d){d in n?r[d]=c(t[d],n[d]):d in t&&(r[d]=c(void 0,t[d]))});var f=a.concat(o).concat(s).concat(l),m=Object.keys(t).concat(Object.keys(n)).filter(function(d){return f.indexOf(d)===-1});return utils$2.forEach(m,u),r};const name$1="axios",version="0.21.2",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}];var require$$0={name:name$1,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize},pkg=require$$0,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){validators$1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var deprecatedWarnings={},currentVerArr=pkg.version.split(".");function isOlderVersion(e,t){for(var n=t?t.split("."):currentVerArr,r=e.split("."),a=0;a<3;a++){if(n[a]>r[a])return!0;if(n[a]<r[a])return!1}return!1}validators$1.transitional=function(t,n,r){var a=n&&isOlderVersion(n);function o(s,l){return"[Axios v"+pkg.version+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return function(s,l,c){if(t===!1)throw new Error(o(l," has been removed in "+n));return a&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,l,c):!0}};function assertOptions(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var l=e[o],c=l===void 0||s(l,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+o)}}var validator$1={isOlderVersion,assertOptions,validators:validators$1},utils$1=utils$d,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=mergeConfig$1(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var r=[],a=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(a=a&&h.synchronous,r.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var s;if(!a){var l=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(l,r),l.concat(o),s=Promise.resolve(t);l.length;)s=s.then(l.shift(),l.shift());return s}for(var c=t;r.length;){var u=r.shift(),f=r.shift();try{c=u(c)}catch(m){f(m);break}}try{s=dispatchRequest(c)}catch(m){return Promise.reject(m)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};Axios$1.prototype.getUri=function(t){return t=mergeConfig$1(this.defaults,t),buildURL(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};utils$1.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(n,r){return this.request(mergeConfig$1(r||{},{method:t,url:n,data:(r||{}).data}))}});utils$1.forEach(["post","put","patch"],function(t){Axios$1.prototype[t]=function(n,r,a){return this.request(mergeConfig$1(a||{},{method:t,url:n,data:r}))}});var Axios_1=Axios$1;function Cancel$1(e){this.message=e}Cancel$1.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$1.prototype.__CANCEL__=!0;var Cancel_1=Cancel$1,Cancel=Cancel_1;function CancelToken$1(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(a){t=a});var n=this;e(function(a){n.reason||(n.reason=new Cancel(a),t(n.reason))})}CancelToken$1.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken$1.source=function(){var t,n=new CancelToken$1(function(a){t=a});return{token:n,cancel:t}};var CancelToken_1=CancelToken$1,spread=function(t){return function(r){return t.apply(null,r)}},isAxiosError=function(t){return typeof t=="object"&&t.isAxiosError===!0},utils=utils$d,bind$1=bind$3,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var t=new Axios(e),n=bind$1(Axios.prototype.request,t);return utils.extend(n,Axios.prototype,t),utils.extend(n,t),n}var axios$1=createInstance(defaults);axios$1.Axios=Axios;axios$1.create=function(t){return createInstance(mergeConfig(axios$1.defaults,t))};axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.all=function(t){return Promise.all(t)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;function globalError(e=null,t={message:"",value:null}){var o,s,l,c,u,f,m;let n="";e&&typeof e=="string"&&(n=`${{}.VUE_APP_NAME} - [${e}]: `);const r=n+t.message,a=(u=(c=(s=(o=t==null?void 0:t.value)==null?void 0:o.response)==null?void 0:s.status)!=null?c:(l=t==null?void 0:t.response)==null?void 0:l.status)!=null?u:null;console.error(r),(t==null?void 0:t.value)&&((f=t.value)==null?void 0:f.response)&&console.error((m=t.value.response)==null?void 0:m.data),a===401||a===419?window[{}.VUE_APP_NAME].vm.notif({message:'Your session has expired, please <a href="'+document.location+'" target="_blank">login in another tab</a>. You can then continue working here.',variant:"warning"}):a===403&&window[{}.VUE_APP_NAME].vm.notif({message:"You don't have permission to perform this action.",variant:"warning"})}const component$1="MEDIA-LIBRARY";var api$1={get(e,t,n,r){axios.get(e,{params:t}).then(function(a){n&&typeof n=="function"&&n(a)},function(a){globalError(component$1,{message:"Media library get error.",value:a}),r&&typeof r=="function"&&r(a)})},update(e,t,n,r){axios.put(e,t).then(function(a){n&&typeof n=="function"&&n(a)},function(a){globalError(component$1,{message:"Media library update error.",value:a}),r&&typeof r=="function"&&r(a)})},delete(e,t,n){axios.delete(e).then(function(r){t&&typeof t=="function"&&t(r)},function(r){globalError(component$1,{message:"Media library delete error.",value:r}),n&&typeof n=="function"&&n(r)})},bulkDelete(e,t,n,r){axios.put(e,t).then(function(a){n&&typeof n=="function"&&n(a)},function(a){globalError(component$1,{message:"Media library bulk delete error.",value:a}),r&&typeof r=="function"&&r(a)})}},render$9=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mediasidebar__inner mediasidebar__inner--single"},[n("p",{staticClass:"f--note"},[e._v("Uploading "+e._s(e.mediasLoading.length)+" file"+e._s(e.mediasLoading.length>1?"s":""))]),n("div",{staticClass:"mediasidebar__progress"},[n("span",{staticClass:"mediasidebar__progressBar",style:e.loadingProgress})]),n("div",{staticClass:"mediasidebar__loading"},e._l(e.mediasLoading,function(r){return n("p",{key:r.id,staticClass:"f--small",class:{"s--error":r.error}},[r.error?n("span",{staticClass:"mediasidebar__errorMessage"},[e._v(e._s(r.errorMessage))]):e._e(),n("span",[e._v(e._s(r.name))]),e._v(" "),r.error?n("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.cancelUpload(r)}}},[e._v("Cancel")]):e._e()])}),0)])},staticRenderFns$9=[],MediaSidebarUpload_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-5318c122]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-5318c122]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-5318c122]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-5318c122]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-5318c122]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-5318c122]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-5318c122]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-5318c122]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-5318c122]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-5318c122]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-5318c122]{width:auto}}.mediasidebar__progress[data-v-5318c122]{height:6px;background:#ccc;border-radius:3px;position:relative;margin-top:20px;overflow:hidden}.mediasidebar__progressBar[data-v-5318c122]{position:absolute;display:block;top:0;left:0;width:100%;border-radius:3px;height:6px;background:#3278B8;transform:translate(-100%);transition:transform .25s}.mediasidebar__loading[data-v-5318c122]{margin-top:25px}.mediasidebar__loading p[data-v-5318c122]{margin-top:5px;display:flex;flex-flow:row wrap}.mediasidebar__loading p span[data-v-5318c122]{flex-grow:1}.mediasidebar__loading a[data-v-5318c122]{color:#3278b8;text-decoration:none}.mediasidebar__loading a[data-v-5318c122]:hover{text-decoration:underline}.mediasidebar__errorMessage[data-v-5318c122]{display:block;width:100%;color:#000;margin-top:5px;margin-bottom:5px}.s--error[data-v-5318c122]{color:#e61414}
`)();const __vue2_script$9={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){const e=-100+this.uploadProgress;return{transform:"translateX("+e+"%)"}},...mapState({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)}}},__cssModules$9={};var __component__$9=normalizeComponent(__vue2_script$9,render$9,staticRenderFns$9,!1,__vue2_injectStyles$9,"5318c122",null,null);function __vue2_injectStyles$9(e){for(let t in __cssModules$9)this[t]=__cssModules$9[t]}var a17MediaSidebarUpload=function(){return __component__$9.exports}(),render$8=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.languages.length>1?n("div",{staticClass:"language",class:e.languageClass},[e.inModal?e._e():n("span",{staticClass:"language__label f--small"},[e._v(e._s(e.$trans("lang-switcher.edit-in")))]),n("span",{staticClass:"language__toolbar"},e._l(e.languages,function(r){return n("button",{key:r.value,staticClass:"language__button",class:{selected:r.value===e.localeValue.value,published:r.published,"no-state":e.allPublished},attrs:{type:"button"},on:{click:function(a){return e.onClick(r.value)}}},[e._v(e._s(r.shortlabel))])}),0)]):e._e()},staticRenderFns$8=[],LangSwitcher_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-60730930]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-60730930]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-60730930]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-60730930]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-60730930]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-60730930]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-60730930]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-60730930]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-60730930]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-60730930]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-60730930]{width:auto}}.language[data-v-60730930]{display:flex;align-items:center;justify-content:space-between;color:#8c8c8c}.language__label[data-v-60730930]{line-height:35px;height:35px;margin-right:10px;display:none;overflow:hidden;white-space:nowrap}@media screen and (min-width: 850px){.language__label[data-v-60730930]{display:inline-block}}.language__toolbar[data-v-60730930]{display:inline-block;height:37px;max-width:480px;white-space:nowrap;overflow:hidden;border:1px solid #d9d9d9;border-radius:2px}.language__toolbar[data-v-60730930]:hover{overflow-x:auto;-webkit-overflow-scrolling:touch}.language__toolbar[data-v-60730930]::-webkit-scrollbar{width:1px;height:2px}.language__toolbar[data-v-60730930]::-webkit-scrollbar-button{width:0px;height:0px}.language__toolbar[data-v-60730930]::-webkit-scrollbar-thumb{width:2px;background:rgba(115,115,115,.4);border:0px none transparent;border-radius:4px}.language__toolbar[data-v-60730930]::-webkit-scrollbar-thumb:hover{background:rgba(115,115,115,.6)}.language__toolbar[data-v-60730930]::-webkit-scrollbar-thumb:active{background:rgba(0,0,0,.2)}.language__toolbar[data-v-60730930]::-webkit-scrollbar-track{background:transparent;border:0px none transparent;border-radius:4px}.language__toolbar[data-v-60730930]::-webkit-scrollbar-track:hover{background:rgba(115,115,115,.2)}.language__toolbar[data-v-60730930]::-webkit-scrollbar-track:active{background:rgba(51,51,51,0)}.language__toolbar[data-v-60730930]::-webkit-scrollbar-corner{background:transparent}.language--in-modal .language__toolbar[data-v-60730930]{height:35px;max-width:100%}@media screen and (min-width: 850px) and (max-width: 1039px){.language__toolbar[data-v-60730930]{max-width:320px}}@media screen and (max-width: 849px){.language__toolbar[data-v-60730930]{max-width:100%}}.language__button[data-v-60730930]{text-transform:uppercase;display:inline-block;height:35px;line-height:35px;border:0 none;border-radius:0;border-left:1px solid #f2f2f2;outline:0;-webkit-appearance:none;cursor:pointer;font-size:11.5px;letter-spacing:0;padding:0 18px 0 30px;position:relative;color:#8c8c8c;background:#fff;white-space:nowrap;transition:background-color .25s linear,border-color .25s linear;margin-left:0;margin-right:0}.language--in-modal .language__button[data-v-60730930]{height:33px;line-height:33px}.language__button[data-v-60730930]:hover,.language__button[data-v-60730930]:focus{color:#262626}.language__button[data-v-60730930]:after{content:"";position:absolute;border-radius:50%;height:7px;width:7px;background-color:#a6a6a6;left:15px;top:50%;margin-top:-4px}.language__button[data-v-60730930]:first-child{border-left:0 none}.language__item.selected[data-v-60730930]:last-child,.language__button.selected[data-v-60730930]{background:#e5e5e5;color:#262626;border-color:#e5e5e5}.language__item.selected:last-child+.language__button[data-v-60730930],.language__button.selected+.language__button[data-v-60730930]{border-left-color:#e5e5e5}.language__button.published[data-v-60730930]:after{background-color:#1d9f3c}.language__button.no-state[data-v-60730930]{padding:0 18px}.language__button.no-state[data-v-60730930]:after{content:none}
`)();const __vue2_script$8={name:"A17Langswitcher",mixins:[LocaleMixin],props:{inModal:{type:Boolean,default:!1},toggleOnClick:{type:Boolean,default:!1},allPublished:{type:Boolean,default:!1}},computed:{languageClass(){return{"language--in-modal":this.inModal}},localeValue(){return this.$store.state.language.active},...mapGetters(["publishedLanguages"])},methods:{onClick:function(e){this.$store.commit(LANGUAGE.UPDATE_LANG,e)}}},__cssModules$8={};var __component__$8=normalizeComponent(__vue2_script$8,render$8,staticRenderFns$8,!1,__vue2_injectStyles$8,"60730930",null,null);function __vue2_injectStyles$8(e){for(let t in __cssModules$8)this[t]=__cssModules$8[t]}var a17Langswitcher=function(){return __component__$8.exports}(),render$7=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mediasidebar"},[e.mediasLoading.length?n("a17-mediasidebar-upload"):[n("div",{staticClass:"mediasidebar__inner",class:e.containerClasses},[e.hasMedia?e._e():n("p",{staticClass:"f--note"},[e._v(e._s(e.$trans("media-library.sidebar.empty-text","No file selected")))]),e.hasMultipleMedias?n("p",{staticClass:"mediasidebar__info"},[e._v(" "+e._s(e.medias.length)+" "+e._s(e.$trans("media-library.sidebar.files-selected","files selected"))+" "),n("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.clear(r)}}},[e._v(e._s(e.$trans("media-library.sidebar.clear","Clear")))])]):e._e(),e.hasSingleMedia?[e.isImage?n("img",{staticClass:"mediasidebar__img",attrs:{src:e.firstMedia.thumbnail,alt:e.firstMedia.original}}):e._e(),n("p",{staticClass:"mediasidebar__name"},[e._v(e._s(e.firstMedia.name))]),n("ul",{staticClass:"mediasidebar__metadatas"},[e.firstMedia.size?n("li",{staticClass:"f--small"},[e._v("File size: "+e._s(e._f("uppercase")(e.firstMedia.size)))]):e._e(),e.isImage&&e.firstMedia.width+e.firstMedia.height?n("li",{staticClass:"f--small"},[e._v(" "+e._s(e.$trans("media-library.sidebar.dimensions","Dimensions"))+": "+e._s(e.firstMedia.width)+" \xD7 "+e._s(e.firstMedia.height)+" ")]):e._e()])]:e._e(),e.hasMedia?n("a17-buttonbar",{staticClass:"mediasidebar__buttonbar"},[e.hasSingleMedia?n("a",{attrs:{href:e.firstMedia.original,download:""}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]):e._e(),e.allowDelete&&e.authorized?n("button",{attrs:{type:"button"},on:{click:e.deleteSelectedMediasValidation}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]):n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button--disabled",attrs:{type:"button","data-tooltip-title":e.warningDeleteMessage}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]),e.hasSingleMedia?n("button",{attrs:{type:"button"},on:{click:e.replaceMedia}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"replace"}})]):e._e()]):e._e()],2),e.hasMedia?n("form",{ref:"form",staticClass:"mediasidebar__inner mediasidebar__form",on:{submit:e.submit}},[e.loading?n("span",{staticClass:"mediasidebar__loader"},[n("span",{staticClass:"loader loader--small"},[n("span")])]):e._e(),e.fieldsRemovedFromBulkEditing.includes("tags")?e._e():n("a17-vselect",{key:e.firstMedia.id+"-"+e.medias.length,attrs:{label:e.$trans("media-library.sidebar.tags"),name:"tags",multiple:!0,selected:e.hasMultipleMedias?e.sharedTags:e.firstMedia.tags,searchable:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:e.type.tagsEndpoint,maxHeight:"175px"},on:{change:e.save}}),e.extraMetadatas.length&&e.isImage&&e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(r){return e.removeFieldFromBulkEditing("tags")}}},[e._v("Remove from bulk edit")]):e._e(),e.hasMultipleMedias?[n("input",{attrs:{type:"hidden",name:"ids"},domProps:{value:e.mediasIds}})]:[n("input",{attrs:{type:"hidden",name:"id"},domProps:{value:e.firstMedia.id}}),e.translatableMetadatas.length>0?n("div",{staticClass:"mediasidebar__langswitcher"},[n("a17-langswitcher",{attrs:{"in-modal":!0,"all-published":!0}})],1):e._e(),e.isImage&&e.translatableMetadatas.includes("alt_text")?n("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:e.$trans("media-library.sidebar.alt-text","Alt text"),name:"alt_text",type:"text",size:"small"},initialValues:e.altValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?n("a17-textfield",{attrs:{label:e.$trans("media-library.sidebar.alt-text","Alt text"),name:"alt_text",initialValue:e.firstMedia.metadatas.default.altText,size:"small"},on:{focus:e.focus,blur:e.blur}}):e._e(),e.useWysiwyg?[e.isImage&&e.translatableMetadatas.includes("caption")?n("a17-locale",{attrs:{type:"a17-wysiwyg",attributes:{options:e.wysiwygOptions,label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",size:"small"},initialValues:e.captionValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?n("a17-wysiwyg",{attrs:{type:"textarea",rows:1,size:"small",label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",options:e.wysiwygOptions,initialValue:e.firstMedia.metadatas.default.caption},on:{focus:e.focus,blur:e.blur}}):e._e()]:[e.isImage&&e.translatableMetadatas.includes("caption")?n("a17-locale",{attrs:{type:"a17-textfield",attributes:{type:"textarea",rows:1,label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",size:"small"},initialValues:e.captionValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?n("a17-textfield",{attrs:{type:"textarea",rows:1,size:"small",label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",initialValue:e.firstMedia.metadatas.default.caption},on:{focus:e.focus,blur:e.blur}}):e._e()],e._l(e.singleOnlyMetadatas,function(r){return[e.isImage&&(r.type==="text"||!r.type)&&e.translatableMetadatas.includes(r.name)?n("a17-locale",{key:r.name,attrs:{type:"a17-textfield",attributes:{label:r.label,name:r.name,type:"textarea",rows:1,size:"small"},initialValues:e.firstMedia.metadatas.default[r.name]},on:{focus:e.focus,blur:e.blur}}):e.isImage&&(r.type==="text"||!r.type)?n("a17-textfield",{key:r.name,attrs:{label:r.label,name:r.name,size:"small",initialValue:e.firstMedia.metadatas.default[r.name],type:"textarea",rows:1},on:{focus:e.focus,blur:e.blur}}):e._e(),e.isImage&&r.type==="checkbox"?n("div",{key:r.name,staticClass:"mediasidebar__checkbox"},[n("a17-checkbox",{attrs:{label:r.label,name:r.name,initialValue:e.firstMedia.metadatas.default[r.name],value:1},on:{change:e.blur}})],1):e._e()]})],e._l(e.singleAndMultipleMetadatas,function(r){return[e.isImage&&(r.type==="text"||!r.type)&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(r.name)||e.hasSingleMedia)&&e.translatableMetadatas.includes(r.name)?n("a17-locale",{key:r.name,attrs:{type:"a17-textfield",attributes:{label:r.label,name:r.name,type:"textarea",rows:1,size:"small"},initialValues:e.sharedMetadata(r.name,"object")},on:{focus:e.focus,blur:e.blur}}):e.isImage&&(r.type==="text"||!r.type)&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(r.name)||e.hasSingleMedia)?n("a17-textfield",{key:r.name,attrs:{label:r.label,name:r.name,size:"small",initialValue:e.sharedMetadata(r.name),type:"textarea",rows:1},on:{focus:e.focus,blur:e.blur}}):e._e(),e.isImage&&r.type==="checkbox"&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(r.name)||e.hasSingleMedia)?n("div",{key:r.name,staticClass:"mediasidebar__checkbox"},[n("a17-checkbox",{key:r.name,attrs:{label:r.label,name:r.name,initialValue:e.sharedMetadata(r.name,"boolean"),value:1},on:{change:e.blur}})],1):e._e(),e.isImage&&e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(r.name)?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r.name,staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(a){return e.removeFieldFromBulkEditing(r.name)}}},[e._v("Remove from bulk edit")]):e._e()]})],2):e._e()],n("a17-modal",{ref:"warningDelete",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:"Warning Delete"}},[n("p",{staticClass:"modal--tiny-title"},[n("strong",[e._v(e._s(e.$trans("media-library.dialogs.delete.title","Are you sure ?")))])]),n("p",[e._v(e._s(e.warningDeleteMessage))]),n("a17-inputframe",[n("a17-button",{attrs:{variant:"validate"},on:{click:e.deleteSelectedMedias}},[e._v("Delete ("+e._s(e.mediasIdsToDelete.length)+") ")]),n("a17-button",{attrs:{variant:"aslink"},on:{click:function(r){return e.$refs.warningDelete.close()}}},[n("span",[e._v("Cancel")])])],1)],1)],2)},staticRenderFns$7=[],MediaSidebar_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-16bb106e]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-16bb106e]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-16bb106e]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-16bb106e]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-16bb106e]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-16bb106e]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-16bb106e]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-16bb106e]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-16bb106e]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-16bb106e]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-16bb106e]{width:auto}}.mediasidebar a[data-v-16bb106e]{color:#3278b8;text-decoration:none}.mediasidebar a[data-v-16bb106e]:focus,.mediasidebar a[data-v-16bb106e]:hover{text-decoration:underline}.mediasidebar__info[data-v-16bb106e]{margin-bottom:30px}.mediasidebar__info a[data-v-16bb106e]{margin-left:15px}.mediasidebar__inner[data-v-16bb106e]{padding:20px}.mediasidebar__img[data-v-16bb106e]{max-width:135px;max-height:135px;height:auto;display:block;margin-bottom:17px}.mediasidebar__name[data-v-16bb106e]{margin-bottom:6px;overflow:hidden;text-overflow:ellipsis}.mediasidebar__metadatas[data-v-16bb106e]{color:#8c8c8c;margin-bottom:16px}.mediasidebar .mediasidebar__buttonbar[data-v-16bb106e]{display:inline-block}.mediasidebar__form[data-v-16bb106e]{border-top:1px solid #e5e5e5;position:relative}.mediasidebar__form button[data-v-16bb106e]{margin-top:16px}.mediasidebar__form.mediasidebar__form--loading[data-v-16bb106e]{opacity:.5}.mediasidebar__loader[data-v-16bb106e]{position:absolute;top:20px;right:36px}.mediasidebar__checkbox[data-v-16bb106e]{margin-top:16px}.mediasidebar__langswitcher[data-v-16bb106e]{margin-top:32px;margin-bottom:32px}
`)();const __vue2_script$7={name:"A17MediaSidebar",components:{"a17-mediasidebar-upload":a17MediaSidebarUpload,"a17-langswitcher":a17Langswitcher},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[]}},filters,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,t)=>e.filter(n=>t.includes(n)))},sharedMetadata(){return(e,t)=>this.hasMultipleMedias?this.medias.map(n=>n.metadatas.default[e]).every((n,r,a)=>Array.isArray(n)?n[0]==a[0]:n==a[0])?this.firstMedia.metadatas.default[e]:t==="object"?{}:t==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||t==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...mapState({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$root.$refs.deleteWarningMediaLibrary?this.$root.$refs.deleteWarningMediaLibrary.open(()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?api$1.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close()},e=>{this.$store.commit(NOTIFICATION.SET_NOTIF,{message:e.data.message,variant:"error"})}):api$1.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close()},e=>{this.$store.commit(NOTIFICATION.SET_NOTIF,{message:e.data.message,variant:"error"})})},clear:function(){this.$emit("clear")},getFormData:function(e){return FormDataAsObj(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,t=this.getFormData(e);this.hasSingleMedia?(t.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=t.alt_text:this.firstMedia.metadatas.default.altText="",t.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=t.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(n=>{t.hasOwnProperty(n.name)?this.firstMedia.metadatas.default[n.name]=t[n.name]:this.firstMedia.metadatas.default[n.name]=""})):this.singleAndMultipleMetadatas.forEach(n=>{t.hasOwnProperty(n.name)&&this.medias.forEach(r=>{r.metadatas.default[n.name]=t[n.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const t=this.getFormData(e);!isEqual_1(t,this.previousSavedData)&&!this.loading&&(this.previousSavedData=t,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const t=this.getFormData(e);t.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const n=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;api$1.update(n,t,r=>{this.loading=!1,r.data.tags&&this.$emit("tagUpdated",r.data.tags),this.hasMultipleMedias&&r.data.items&&this.medias.forEach(function(a){r.data.items.some(function(o){return o.id===a.id&&(a.tags=o.tags),o.id===a.id})})},r=>{this.loading=!1,r.data.message&&this.$store.commit(NOTIFICATION.SET_NOTIF,{message:r.data.message,variant:"error"})})}}},__cssModules$7={};var __component__$7=normalizeComponent(__vue2_script$7,render$7,staticRenderFns$7,!1,__vue2_injectStyles$7,"16bb106e",null,null);function __vue2_injectStyles$7(e){for(let t in __cssModules$7)this[t]=__cssModules$7[t]}var a17MediaSidebar=function(){return __component__$7.exports}(),dnd$1={exports:{}};(function(module){(function(global){var qq=function(e){return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return t?e===t?!0:e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&8):!1},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(e.style==null)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return t.opacity!=null&&typeof e.style.opacity!="string"&&typeof e.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!!(n&&r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,a=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,function(o,s){qq(s).hasClass(t)&&a.push(s)}),n?a[0]:a)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)n.nodeType===1&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?e.hasAttribute(t)?/^false$/i.exec(e.getAttribute(t))==null:!1:(n=e[t],n===void 0?!1:/^false$/i.exec(n)==null)}}};(function(){qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r=function(s,l){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,u=c&&new c;return u?(u.append(s),u.getBlob(l)):new Blob([s],{type:l})},a,o;return e.split(",")[0].indexOf("base64")>=0?n=atob(e.split(",")[1]):n=decodeURI(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),a=new Uint8Array(t),qq.each(n,function(s,l){a[s]=l.charCodeAt(0)}),r(t,o)},qq.log=function(e,t){window.console&&(!t||t==="info"?window.console.log(e):window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e))},qq.isObject=function(e){return e&&!e.nodeType&&Object.prototype.toString.call(e)==="[object Object]"},qq.isFunction=function(e){return typeof e=="function"},qq.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return Object.prototype.toString.call(e)==="[object DataTransferItemList]"},qq.isNodeList=function(e){return Object.prototype.toString.call(e)==="[object NodeList]"||e.item&&e.namedItem},qq.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,function(a,o){var s=n.substring(0,r),l=n.substring(r+2);if(n=s+o+l,r=n.indexOf("{}",r+o.length),r<0)return!1}),n},qq.isFile=function(e){return window.File&&Object.prototype.toString.call(e)==="[object File]"},qq.isFileList=function(e){return window.FileList&&Object.prototype.toString.call(e)==="[object FileList]"},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(r){var a=r.toLowerCase();return t?a!=="file":a==="file"};return!!(window.HTMLInputElement&&Object.prototype.toString.call(e)==="[object HTMLInputElement]"&&e.type&&n(e.type)||e.tagName&&e.tagName.toLowerCase()==="input"&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&Object.prototype.toString.call(e)==="[object Blob]")return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",e.multiple!==void 0&&typeof File!="undefined"&&typeof FormData!="undefined"&&typeof qq.createXhrInstance().upload!="undefined"},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch{return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(File.prototype.slice!==void 0||File.prototype.webkitSlice!==void 0||File.prototype.mozSlice!==void 0)},qq.sliceBlob=function(e,t,n){var r=e.slice||e.mozSlice||e.webkitSlice;return r.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(r,a){var o=a.toString(16);o.length<2&&(o="0"+o),t+=o}),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),a=new FileReader,o=new qq.Promise;return a.onload=function(){o.success(qq.arrayBufferToHex(a.result))},a.onerror=o.failure,a.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,function(r,a){n&&qq.isObject(a)?(e[r]===void 0&&(e[r]={}),qq.extend(e[r],a,!0)):e[r]=a}),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,function(a,o){e[a]!==void 0&&(n[a]=e[a]),e[a]=o}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},qq.ie=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1},qq.ie7=function(){return navigator.userAgent.indexOf("MSIE 7")!==-1},qq.ie8=function(){return navigator.userAgent.indexOf("MSIE 8")!==-1},qq.ie10=function(){return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.ie11=function(){return qq.ie()&&navigator.userAgent.indexOf("rv:11")!==-1},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Google")!==-1},qq.opera=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Opera")!==-1},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&navigator.userAgent.indexOf("Mozilla")!==-1&&navigator.vendor!==void 0&&navigator.vendor===""},qq.windows=function(){return navigator.platform==="Win32"},qq.android=function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 6_")!==-1},qq.ios7=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 7_")!==-1},qq.ios8=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_")!==-1},qq.ios800=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_0 ")!==-1},qq.ios=function(){return navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPod")!==-1||navigator.userAgent.indexOf("iPhone")!==-1},qq.iosChrome=function(){return qq.ios()&&navigator.userAgent.indexOf("CriOS")!==-1},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&navigator.userAgent.indexOf("Safari")!==-1},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,r;if(e){if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(r=t(e.key(n),e.getItem(e.key(n))),r!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(r=t(n,e[n]),r!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(r=t(n,e.charAt(n)),r!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(r=t(n,e[n]),r===!1))break}},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],a="&",o=function(s,l){var c=t?/\[\]$/.test(t)?t:t+"["+l+"]":l;c!=="undefined"&&l!=="undefined"&&r.push(typeof s=="object"?qq.obj2url(s,c,!0):Object.prototype.toString.call(s)==="[object Function]"?encodeURIComponent(c)+"="+encodeURIComponent(s()):encodeURIComponent(c)+"="+encodeURIComponent(s))};return!n&&t?(a=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined"?qq.each(e,function(s,l){o(l,s)}):typeof e!="undefined"&&e!==null&&typeof e=="object"?qq.each(e,function(s,l){o(l,s)}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(a):r.join(a).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(r,a){r=n?n+"["+r+"]":r,qq.isObject(a)?qq.obj2FormData(a,t,r):qq.isFunction(a)?t.append(r,a()):t.append(r,a)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(r,a){n=document.createElement("input"),n.setAttribute("name",r),n.setAttribute("value",a),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&e.fileName!==null&&e.fileName!==void 0?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var t=arguments;this.addDisposer(qq(t[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}})(),function(){module.exports?module.exports=qq:global.qq=qq}(),qq.version="5.16.2",qq.supportedFeatures=function(){var e,t,n,r,a,o,s,l,c,u,f,m,h,d,g;function v(){var k=!0,A;try{A=document.createElement("input"),A.type="file",qq(A).hide(),A.disabled&&(k=!1)}catch{k=!1}return k}function _(){return(qq.chrome()||qq.opera())&&navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)!==void 0}function y(){if(window.XMLHttpRequest){var k=qq.createXhrInstance();return k.withCredentials!==void 0}return!1}function q(){return window.XDomainRequest!==void 0}function b(){return y()?!0:q()}function x(){return document.createElement("input").webkitdirectory!==void 0}function E(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch{return!1}}function T(){var k=document.createElement("span");return("draggable"in k||"ondragstart"in k&&"ondrop"in k)&&!qq.android()&&!qq.ios()}return e=v(),r=e&&qq.isXhrUploadSupported(),t=r&&!qq.androidStock(),n=r&&T(),a=n&&function(){var k=document.createElement("input");return k.type="file","webkitdirectory"in(k||document.querySelectorAll("input[type=file]")[0])}(),o=r&&qq.isFileChunkingSupported(),s=r&&o&&E(),l=r&&_(),c=e&&(window.postMessage!==void 0||r),f=y(),u=q(),m=b(),h=x(),d=r&&window.FileReader!==void 0,g=function(){return r?!qq.androidStock()&&!qq.iosChrome():!1}(),{ajaxUploading:r,blobUploading:t,canDetermineSize:r,chunking:o,deleteFileCors:m,deleteFileCorsXdr:u,deleteFileCorsXhr:f,dialogElement:!!window.HTMLDialogElement,fileDrop:n,folderDrop:a,folderSelection:h,imagePreviews:d,imageValidation:d,itemSizeValidation:r,pause:o,progressBar:g,resume:s,scaling:d&&t,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:e,uploadCors:c,uploadCustomHeaders:r,uploadNonMultipart:r,uploadViaPaste:l}}(),qq.isGenericPromise=function(e){return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){var e,t,n=[],r=[],a=[],o=0;qq.extend(this,{then:function(s,l){return o===0?(s&&n.push(s),l&&r.push(l)):o===-1?l&&l.apply(null,t):s&&s.apply(null,e),this},done:function(s){return o===0?a.push(s):s.apply(null,t===void 0?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(s,l){l.apply(null,e)}),a.length&&qq.each(a,function(s,l){l.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,function(s,l){l.apply(null,t)}),a.length&&qq.each(a,function(s,l){l.apply(null,t)}),this}})},qq.DragAndDrop=function(e){var t,n="qq-hidezones",r="qq-hide-dropzone",a=[],o=[],s=new qq.DisposeSupport;t={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(t,e,!0);function l(_,y){var q=Array.prototype.slice.call(_);t.callbacks.dropLog("Grabbed "+_.length+" dropped files."),y.dropDisabled(!1),t.callbacks.processingDroppedFilesComplete(q,y.getElement())}function c(_){var y=new qq.Promise;return _.isFile?_.file(function(q){q.qqPath=u(_),o.push(q),y.success()},function(q){t.callbacks.dropLog("Problem parsing '"+_.fullPath+"'.  FileError code "+q.code+".","error"),y.failure()}):_.isDirectory&&f(_).then(function(b){var x=b.length;qq.each(b,function(E,T){c(T).done(function(){x-=1,x===0&&y.success()})}),b.length||y.success()},function(b){t.callbacks.dropLog("Problem parsing '"+_.fullPath+"'.  FileError code "+b.code+".","error"),y.failure()}),y}function u(_){var y=_.name,q=_.fullPath,b=q.lastIndexOf(y);return q=q.substr(0,b),q.charAt(0)==="/"&&(q=q.substr(1)),q}function f(_,y,q,b){var x=b||new qq.Promise,E=y||_.createReader();return E.readEntries(function(k){var A=q?q.concat(k):k;k.length?setTimeout(function(){f(_,E,A,x)},0):x.success(A)},x.failure),x}function m(_,y){var q=[],b=new qq.Promise;return t.callbacks.processingDroppedFiles(),y.dropDisabled(!0),_.files.length>1&&!t.allowMultipleItems?(t.callbacks.processingDroppedFilesComplete([]),t.callbacks.dropError("tooManyFilesError",""),y.dropDisabled(!1),b.failure()):(o=[],qq.isFolderDropSupported(_)?qq.each(_.items,function(x,E){var T=E.webkitGetAsEntry();T&&(T.isFile?o.push(E.getAsFile()):q.push(c(T).done(function(){q.pop(),q.length===0&&b.success()})))}):o=_.files,q.length===0&&b.success()),b}function h(_){var y=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:n,element:_,onEnter:function(q){qq(_).addClass(t.classes.dropActive),q.stopPropagation()},onLeaveNotDescendants:function(q){qq(_).removeClass(t.classes.dropActive)},onDrop:function(q){m(q.dataTransfer,y).then(function(){l(o,y)},function(){t.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return s.addDisposer(function(){y.dispose()}),qq(_).hasAttribute(r)&&qq(_).hide(),a.push(y),y}function d(_){var y;return qq.each(_.dataTransfer.types,function(q,b){if(b==="Files")return y=!0,!1}),y}function g(_){return qq.safari()?_.x<0||_.y<0:_.x===0&&_.y===0}function v(){var _=t.dropZoneElements,y=function(){setTimeout(function(){qq.each(_,function(q,b){qq(b).hasAttribute(r)&&qq(b).hide(),qq(b).removeClass(t.classes.dropActive)})},10)};qq.each(_,function(q,b){var x=h(b);_.length&&qq.supportedFeatures.fileDrop&&s.attach(document,"dragenter",function(E){!x.dropDisabled()&&d(E)&&qq.each(_,function(T,k){k instanceof HTMLElement&&qq(k).hasAttribute(r)&&qq(k).css({display:"block"})})})}),s.attach(document,"dragleave",function(q){g(q)&&y()}),s.attach(qq(document).children()[0],"mouseenter",function(q){y()}),s.attach(document,"drop",function(q){d(q)&&(q.preventDefault(),y())}),s.attach(document,n,y)}v(),qq.extend(this,{setupExtraDropzone:function(_){t.dropZoneElements.push(_),h(_)},removeDropzone:function(_){var y,q=t.dropZoneElements;for(y in q)if(q[y]===_)return q.splice(y,1)},dispose:function(){s.dispose(),qq.each(a,function(_,y){y.dispose()})}}),this._testing={},this._testing.extractDirectoryPath=u},qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){var t=new qq.DisposeSupport,n,r,a,o;n={element:null,onEnter:function(h){},onLeave:function(h){},onLeaveNotDescendants:function(h){},onDrop:function(h){}},qq.extend(n,e),r=n.element;function s(){return qq.safari()||qq.firefox()&&qq.windows()}function l(h){o||(s?t.attach(document,"dragover",function(d){d.preventDefault()}):t.attach(document,"dragover",function(d){d.dataTransfer&&(d.dataTransfer.dropEffect="none",d.preventDefault())}),o=!0)}function c(h){if(!qq.supportedFeatures.fileDrop)return!1;var d,g=h.dataTransfer,v=qq.safari();return d=qq.ie()&&qq.supportedFeatures.fileDrop?!0:g.effectAllowed!=="none",g&&d&&(g.files&&g.files.length||!v&&g.types.contains&&g.types.contains("Files")||g.types.includes&&g.types.includes("Files"))}function u(h){return h!==void 0&&(a=h),a}function f(){var h;function d(){h=document.createEvent("Event"),h.initEvent(n.HIDE_ZONES_EVENT_NAME,!0,!0)}if(window.CustomEvent)try{h=new CustomEvent(n.HIDE_ZONES_EVENT_NAME)}catch{d()}else d();document.dispatchEvent(h)}function m(){t.attach(r,"dragover",function(h){if(!!c(h)){var d=qq.ie()&&qq.supportedFeatures.fileDrop?null:h.dataTransfer.effectAllowed;d==="move"||d==="linkMove"?h.dataTransfer.dropEffect="move":h.dataTransfer.dropEffect="copy",h.stopPropagation(),h.preventDefault()}}),t.attach(r,"dragenter",function(h){if(!u()){if(!c(h))return;n.onEnter(h)}}),t.attach(r,"dragleave",function(h){if(!!c(h)){n.onLeave(h);var d=document.elementFromPoint(h.clientX,h.clientY);qq(this).contains(d)||n.onLeaveNotDescendants(h)}}),t.attach(r,"drop",function(h){if(!u()){if(!c(h))return;h.preventDefault(),h.stopPropagation(),n.onDrop(h),f()}})}l(),m(),qq.extend(this,{dropDisabled:function(h){return u(h)},dispose:function(){t.dispose()},getElement:function(){return r}}),this._testing={},this._testing.isValidFileDrag=c}})(window)})(dnd$1);var dnd=dnd$1.exports,s3$1={},baseWrapper={},hasOwnProperty$3=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var n,r=toObject(e),a,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)hasOwnProperty$3.call(n,s)&&(r[s]=n[s]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var l=0;l<a.length;l++)propIsEnumerable.call(n,a[l])&&(r[a[l]]=n[a[l]])}}return r},callbackProxy={},callbackNames={};Object.defineProperty(callbackNames,"__esModule",{value:!0});callbackNames.s3=callbackNames.traditional=callbackNames.thenable=void 0;var _objectAssign$2=objectAssign,_objectAssign2$2=_interopRequireDefault$5(_objectAssign$2);function _interopRequireDefault$5(e){return e&&e.__esModule?e:{default:e}}callbackNames.thenable=["onCancel","onPasteReceived","onSubmit","onSubmitDelete","onUpload","onUploadChunk","onValidate","onValidateBatch"];var traditional$1=callbackNames.traditional=["onAutoRetry","onCancel","onComplete","onAllComplete","onDelete","onDeleteComplete","onError","onManualRetry","onPasteReceived","onProgress","onResume","onSessionRequestComplete","onStatusChange","onSubmit","onSubmitDelete","onSubmitted","onTotalProgress","onUpload","onUploadChunk","onUploadChunkSuccess","onValidate","onValidateBatch"];callbackNames.s3=(0,_objectAssign2$2.default)([],traditional$1,["onCredentialsExpired"]);Object.defineProperty(callbackProxy,"__esModule",{value:!0});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass$1=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_objectAssign$1=objectAssign,_objectAssign2$1=_interopRequireDefault$4(_objectAssign$1),_callbackNames$3=callbackNames;function _interopRequireDefault$4(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var privateData=new WeakMap,callbacks=new WeakMap,CallbackProxy=function(){function e(t){_classCallCheck$4(this,e),callbacks.set(this,[]),privateData.set(this,{name:t,proxyFunction:getProxyFunction.call(this,{name:t})})}return _createClass$1(e,[{key:"add",value:function(n){callbacks.get(this).push(n)}},{key:"remove",value:function(n){var r=callbacks.get(this).indexOf(n);r>=0&&callbacks.get(this).splice(r,1)}},{key:"name",get:function(){return privateData.get(this).name}},{key:"proxyFunction",get:function(){return privateData.get(this).proxyFunction}}]),e}();callbackProxy.default=CallbackProxy;var getProxyFunction=function e(t){var n=t.name,r=this;return function(){for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=_callbackNames$3.thenable.indexOf(n)>=0,c=callbacks.get(r),u=void 0;return l?u=executeThenableCallbacks({registeredCallbacks:c,originalCallbackArguments:o}):(0,_objectAssign2$1.default)([],c).every(function(f){var m=f.apply(null,o);return u=m,m!==!1}),u}},executeThenableCallbacks=function e(t){var n=t.registeredCallbacks,r=t.originalCallbackArguments;return n.length?executeThenableCallback({registeredCallbacks:(0,_objectAssign2$1.default)([],n).reverse(),originalCallbackArguments:r}):Promise.resolve()},getResultToPass=function e(t){var n=t.newResult,r=t.previousResult;return n!==null&&(typeof n=="undefined"?"undefined":_typeof(n))==="object"?(0,_objectAssign2$1.default)({},r||{},n):n||r},executeThenableCallback=function e(t){var n=t.registeredCallbacks,r=t.originalCallbackArguments,a=t.previousResult;return new Promise(function(o,s){var l=n.pop(),c=l.apply(null,r);if(c&&c.then)c.then(function(f){var m=getResultToPass({newResult:f,previousResult:a});n.length?e({registeredCallbacks:n,originalCallbackArguments:r,previousResult:m}).then(o,s):o(m)}).catch(function(f){return s(f)});else if(c===!1)s();else{var u=getResultToPass({newResult:c,previousResult:a});n.length?e({registeredCallbacks:n,originalCallbackArguments:r,previousResult:u}).then(o,s):o(u)}})};Object.defineProperty(baseWrapper,"__esModule",{value:!0});var _createClass=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_objectAssign=objectAssign,_objectAssign2=_interopRequireDefault$3(_objectAssign),_callbackProxy=callbackProxy,_callbackProxy2=_interopRequireDefault$3(_callbackProxy);function _interopRequireDefault$3(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var callbackProxies=new WeakMap,BaseWrapper=function(){function e(t){var n=t.callbackNames,r=t.options,a=t.qq,o=t.type;_classCallCheck$3(this,e);var s=r.callbacks||{},l=(0,_objectAssign2.default)({},r);delete l.callbacks,this.options=l,callbackProxies.set(this,createCallbackProxies(n)),registerOptionsCallbacks({callbacks:s,callbackProxies:callbackProxies.get(this)}),this.methods=createFineUploader({callbackProxies:callbackProxies.get(this),options:l,qq:a,type:o}),this.qq=a}return _createClass(e,[{key:"off",value:function(n,r){var a=normalizeCallbackName(n),o=callbackProxies.get(this)[a];o.remove(r)}},{key:"on",value:function(n,r){var a=normalizeCallbackName(n),o=callbackProxies.get(this)[a];o.add(r)}}]),e}();baseWrapper.default=BaseWrapper;var createCallbackProxies=function e(t){var n={};return t.forEach(function(r){n[r]=new _callbackProxy2.default(r)}),n},createFineUploader=function e(t){var n=t.callbackProxies,r=t.options,a=t.qq,o=t.type,s=(0,_objectAssign2.default)({callbacks:{}},r);return Object.keys(n).forEach(function(l){var c=n[l];s.callbacks[l]=c.proxyFunction}),o==="traditional"?new a.FineUploaderBasic(s):new a[o].FineUploaderBasic(s)},normalizeCallbackName=function e(t){return t.match(/^on[A-Z]/)?t:"on"+t[0].toUpperCase()+t.slice(1)},registerOptionsCallbacks=function e(t){var n=t.callbacks,r=t.callbackProxies;Object.keys(n).forEach(function(a){var o=r[a];o.add(n[a])})},s3_fineUploader_core={exports:{}};(function(module){(function(global){var qq=function(e){return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return t?e===t?!0:e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&8):!1},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(e.style==null)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return t.opacity!=null&&typeof e.style.opacity!="string"&&typeof e.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!!(n&&r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,a=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,function(o,s){qq(s).hasClass(t)&&a.push(s)}),n?a[0]:a)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)n.nodeType===1&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?e.hasAttribute(t)?/^false$/i.exec(e.getAttribute(t))==null:!1:(n=e[t],n===void 0?!1:/^false$/i.exec(n)==null)}}};(function(){qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r=function(s,l){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,u=c&&new c;return u?(u.append(s),u.getBlob(l)):new Blob([s],{type:l})},a,o;return e.split(",")[0].indexOf("base64")>=0?n=atob(e.split(",")[1]):n=decodeURI(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),a=new Uint8Array(t),qq.each(n,function(s,l){a[s]=l.charCodeAt(0)}),r(t,o)},qq.log=function(e,t){window.console&&(!t||t==="info"?window.console.log(e):window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e))},qq.isObject=function(e){return e&&!e.nodeType&&Object.prototype.toString.call(e)==="[object Object]"},qq.isFunction=function(e){return typeof e=="function"},qq.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return Object.prototype.toString.call(e)==="[object DataTransferItemList]"},qq.isNodeList=function(e){return Object.prototype.toString.call(e)==="[object NodeList]"||e.item&&e.namedItem},qq.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,function(a,o){var s=n.substring(0,r),l=n.substring(r+2);if(n=s+o+l,r=n.indexOf("{}",r+o.length),r<0)return!1}),n},qq.isFile=function(e){return window.File&&Object.prototype.toString.call(e)==="[object File]"},qq.isFileList=function(e){return window.FileList&&Object.prototype.toString.call(e)==="[object FileList]"},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(r){var a=r.toLowerCase();return t?a!=="file":a==="file"};return!!(window.HTMLInputElement&&Object.prototype.toString.call(e)==="[object HTMLInputElement]"&&e.type&&n(e.type)||e.tagName&&e.tagName.toLowerCase()==="input"&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&Object.prototype.toString.call(e)==="[object Blob]")return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",e.multiple!==void 0&&typeof File!="undefined"&&typeof FormData!="undefined"&&typeof qq.createXhrInstance().upload!="undefined"},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch{return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(File.prototype.slice!==void 0||File.prototype.webkitSlice!==void 0||File.prototype.mozSlice!==void 0)},qq.sliceBlob=function(e,t,n){var r=e.slice||e.mozSlice||e.webkitSlice;return r.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(r,a){var o=a.toString(16);o.length<2&&(o="0"+o),t+=o}),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),a=new FileReader,o=new qq.Promise;return a.onload=function(){o.success(qq.arrayBufferToHex(a.result))},a.onerror=o.failure,a.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,function(r,a){n&&qq.isObject(a)?(e[r]===void 0&&(e[r]={}),qq.extend(e[r],a,!0)):e[r]=a}),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,function(a,o){e[a]!==void 0&&(n[a]=e[a]),e[a]=o}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},qq.ie=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1},qq.ie7=function(){return navigator.userAgent.indexOf("MSIE 7")!==-1},qq.ie8=function(){return navigator.userAgent.indexOf("MSIE 8")!==-1},qq.ie10=function(){return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.ie11=function(){return qq.ie()&&navigator.userAgent.indexOf("rv:11")!==-1},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Google")!==-1},qq.opera=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Opera")!==-1},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&navigator.userAgent.indexOf("Mozilla")!==-1&&navigator.vendor!==void 0&&navigator.vendor===""},qq.windows=function(){return navigator.platform==="Win32"},qq.android=function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 6_")!==-1},qq.ios7=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 7_")!==-1},qq.ios8=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_")!==-1},qq.ios800=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_0 ")!==-1},qq.ios=function(){return navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPod")!==-1||navigator.userAgent.indexOf("iPhone")!==-1},qq.iosChrome=function(){return qq.ios()&&navigator.userAgent.indexOf("CriOS")!==-1},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&navigator.userAgent.indexOf("Safari")!==-1},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,r;if(e){if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(r=t(e.key(n),e.getItem(e.key(n))),r!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(r=t(n,e[n]),r!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(r=t(n,e.charAt(n)),r!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(r=t(n,e[n]),r===!1))break}},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],a="&",o=function(s,l){var c=t?/\[\]$/.test(t)?t:t+"["+l+"]":l;c!=="undefined"&&l!=="undefined"&&r.push(typeof s=="object"?qq.obj2url(s,c,!0):Object.prototype.toString.call(s)==="[object Function]"?encodeURIComponent(c)+"="+encodeURIComponent(s()):encodeURIComponent(c)+"="+encodeURIComponent(s))};return!n&&t?(a=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined"?qq.each(e,function(s,l){o(l,s)}):typeof e!="undefined"&&e!==null&&typeof e=="object"?qq.each(e,function(s,l){o(l,s)}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(a):r.join(a).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(r,a){r=n?n+"["+r+"]":r,qq.isObject(a)?qq.obj2FormData(a,t,r):qq.isFunction(a)?t.append(r,a()):t.append(r,a)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(r,a){n=document.createElement("input"),n.setAttribute("name",r),n.setAttribute("value",a),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&e.fileName!==null&&e.fileName!==void 0?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var t=arguments;this.addDisposer(qq(t[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}})(),function(){module.exports?module.exports=qq:global.qq=qq}(),function(){qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){var e,t,n,r,a,o,s,l,c,u,f,m,h,d,g;function v(){var k=!0,A;try{A=document.createElement("input"),A.type="file",qq(A).hide(),A.disabled&&(k=!1)}catch{k=!1}return k}function _(){return(qq.chrome()||qq.opera())&&navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)!==void 0}function y(){if(window.XMLHttpRequest){var k=qq.createXhrInstance();return k.withCredentials!==void 0}return!1}function q(){return window.XDomainRequest!==void 0}function b(){return y()?!0:q()}function x(){return document.createElement("input").webkitdirectory!==void 0}function E(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch{return!1}}function T(){var k=document.createElement("span");return("draggable"in k||"ondragstart"in k&&"ondrop"in k)&&!qq.android()&&!qq.ios()}return e=v(),r=e&&qq.isXhrUploadSupported(),t=r&&!qq.androidStock(),n=r&&T(),a=n&&function(){var k=document.createElement("input");return k.type="file","webkitdirectory"in(k||document.querySelectorAll("input[type=file]")[0])}(),o=r&&qq.isFileChunkingSupported(),s=r&&o&&E(),l=r&&_(),c=e&&(window.postMessage!==void 0||r),f=y(),u=q(),m=b(),h=x(),d=r&&window.FileReader!==void 0,g=function(){return r?!qq.androidStock()&&!qq.iosChrome():!1}(),{ajaxUploading:r,blobUploading:t,canDetermineSize:r,chunking:o,deleteFileCors:m,deleteFileCorsXdr:u,deleteFileCorsXhr:f,dialogElement:!!window.HTMLDialogElement,fileDrop:n,folderDrop:a,folderSelection:h,imagePreviews:d,imageValidation:d,itemSizeValidation:r,pause:o,progressBar:g,resume:s,scaling:d&&t,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:e,uploadCors:c,uploadCustomHeaders:r,uploadNonMultipart:r,uploadViaPaste:l}}(),qq.isGenericPromise=function(e){return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){var e,t,n=[],r=[],a=[],o=0;qq.extend(this,{then:function(s,l){return o===0?(s&&n.push(s),l&&r.push(l)):o===-1?l&&l.apply(null,t):s&&s.apply(null,e),this},done:function(s){return o===0?a.push(s):s.apply(null,t===void 0?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(s,l){l.apply(null,e)}),a.length&&qq.each(a,function(s,l){l.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,function(s,l){l.apply(null,t)}),a.length&&qq.each(a,function(s,l){l.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){var t=this,n=new qq.DisposeSupport,r={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(l){},title:null},a,o;qq.extend(r,e),o=qq.getUniqueId();function s(){var l=document.createElement("input");return l.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,o),l.setAttribute("title",r.title),t.setMultiple(r.multiple,l),r.folders&&qq.supportedFeatures.folderSelection&&l.setAttribute("webkitdirectory",""),r.acceptFiles&&l.setAttribute("accept",r.acceptFiles),l.setAttribute("type","file"),l.setAttribute("name",r.name),qq(l).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(l).css({height:"100%"}),r.element.appendChild(l),n.attach(l,"change",function(){r.onChange(l)}),n.attach(l,"mouseover",function(){qq(r.element).addClass(r.hoverClass)}),n.attach(l,"mouseout",function(){qq(r.element).removeClass(r.hoverClass)}),n.attach(l,"focus",function(){qq(r.element).addClass(r.focusClass)}),n.attach(l,"blur",function(){qq(r.element).removeClass(r.focusClass)}),l}qq(r.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return a},getButtonId:function(){return o},setMultiple:function(l,c){var u=c||this.getInput();r.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())||l?u.setAttribute("multiple",""):u.removeAttribute("multiple")},setAcceptFiles:function(l){l!==r.acceptFiles&&a.setAttribute("accept",l)},reset:function(){a.parentNode&&qq(a).remove(),qq(r.element).removeClass(r.focusClass),a=null,a=s()}}),a=s()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){var t=[],n={},r={},a={},o={};function s(u){if(qq.isArray(u)){var f=[];return qq.each(u,function(m,h){f.push(t[h])}),f}return t[u]}function l(u){if(qq.isArray(u)){var f=[];return qq.each(u,function(m,h){f.push(t[n[h]])}),f}return t[n[u]]}function c(u){var f=[],m=[].concat(u);return qq.each(m,function(h,d){var g=r[d];g!==void 0&&qq.each(g,function(v,_){f.push(t[_])})}),f}qq.extend(this,{addFile:function(u){var f=u.status||qq.status.SUBMITTING,m=t.push({name:u.name,originalName:u.name,uuid:u.uuid,size:u.size==null?-1:u.size,status:f,file:u.file})-1;return u.batchId&&(t[m].batchId=u.batchId,o[u.batchId]===void 0&&(o[u.batchId]=[]),o[u.batchId].push(m)),u.proxyGroupId&&(t[m].proxyGroupId=u.proxyGroupId,a[u.proxyGroupId]===void 0&&(a[u.proxyGroupId]=[]),a[u.proxyGroupId].push(m)),t[m].id=m,n[u.uuid]=m,r[f]===void 0&&(r[f]=[]),r[f].push(m),u.onBeforeStatusChange&&u.onBeforeStatusChange(m),e.onStatusChange(m,null,f),m},retrieve:function(u){if(qq.isObject(u)&&t.length){if(u.id!==void 0)return s(u.id);if(u.uuid!==void 0)return l(u.uuid);if(u.status)return c(u.status)}else return qq.extend([],t,!0)},removeFileRef:function(u){var f=s(u);f&&delete f.file},reset:function(){t=[],n={},r={},o={}},setStatus:function(u,f){var m=t[u].status,h=qq.indexOf(r[m],u);r[m].splice(h,1),t[u].status=f,r[f]===void 0&&(r[f]=[]),r[f].push(u),e.onStatusChange(u,m,f)},uuidChanged:function(u,f){var m=t[u].uuid;t[u].uuid=f,n[f]=u,delete n[m]},updateName:function(u,f){t[u].name=f},updateSize:function(u,f){t[u].size=f},setParentId:function(u,f){t[u].parentId=f},getIdsInProxyGroup:function(u){var f=t[u].proxyGroupId;return f?a[f]:[]},getIdsInBatch:function(u){var f=t[u].batchId;return o[f]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(n,r){t._addCannedFile(r)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var r=this._storedIds.length===0?qq.getUniqueId():this._currentBatchId,a=qq.bind(function(h){this._handleNewFile({blob:h,name:this._options.blobs.defaultName},r,m)},this),o=qq.bind(function(h){this._handleNewFile(h,r,m)},this),s=qq.bind(function(h){var d=qq.canvasToBlob(h);this._handleNewFile({blob:d,name:this._options.blobs.defaultName+".png"},r,m)},this),l=qq.bind(function(h){var d=h.quality&&h.quality/100,g=qq.canvasToBlob(h.canvas,h.type,d);this._handleNewFile({blob:g,name:h.name},r,m)},this),c=qq.bind(function(h){if(qq.isInput(h)&&qq.supportedFeatures.ajaxUploading){var d=Array.prototype.slice.call(h.files),g=this;qq.each(d,function(v,_){g._handleNewFile(_,r,m)})}else this._handleNewFile(h,r,m)},this),u=function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)},f=this,m=[];this._currentBatchId=r,e&&(u(),qq.each(e,function(h,d){qq.isFileOrInput(d)?c(d):qq.isBlob(d)?a(d):qq.isObject(d)?d.blob&&d.name?o(d):d.canvas&&d.name&&l(d):d.tagName&&d.tagName.toLowerCase()==="canvas"?s(d):f.log(d+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+m.length+" files."),this._prepareItemsForUpload(m,t,n))},cancel:function(e){var t=this._uploadData.retrieve({id:e});t&&t.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",e,this.getName(e)),"error"):this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(n,r){t.cancel(r)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!qq.supportedFeatures.pause||!this._options.chunking.enabled?!1:t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1)},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,r,a){var o=new qq.Promise,s,l;return this._imageGenerator?(s=this._thumbnailUrls[e],l={customResizeFunction:a,maxSize:n>0?n:null,scale:n>0},!r&&qq.supportedFeatures.imagePreviews&&(s=this.getFile(e)),s==null?o.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(s,t,l).then(function(u){o.success(u)},function(u,f){o.failure({container:u,error:f||"Problem generating thumbnail"})})):o.failure({container:t,error:"Missing image generator module"}),o},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){var t=this._handler.getFile(e),n;return t||(n=this._uploadData.retrieve({id:e}),n&&(t=n.file)),t||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&t.parentId!==void 0&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},isResumable:function(e){return this._handler.hasResumeRecord(e)},log:function(e,t){this._options.debug&&(!t||t==="info")?qq.log("[Fine Uploader "+qq.version+"] "+e):t&&t!=="info"&&qq.log("[Fine Uploader "+qq.version+"] "+e,t)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e),this._uploadData.removeFileRef(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setCustomResumeData:function(e,t){this._customResumeDataStore.set(t,e)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){var n=this.getUploads({id:e});if(!n)throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var r="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(r),new qq.Error(r)}},uploadStoredFiles:function(){this._storedIds.length===0?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,r){e._onDeleteComplete(t,n,r),e._options.callbacks.onDeleteComplete(t,n,r)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},r=e,a={},o=t,s=function(u){return qq.isObject(u)?qq.extend({},u):u},l=function(){return qq.isFunction(o)?o():o},c=function(u,f){o&&qq.isObject(f)&&qq.extend(f,l()),a[u]&&qq.extend(f,a[u])};return{set:function(u,f){f==null?(n={},r=s(u)):n[f]=s(u)},get:function(u){var f;return u!=null&&n[u]?f=n[u]:f=s(r),c(u,f),s(f)},addReadOnly:function(u,f){qq.isObject(n)&&(u===null?qq.isFunction(f)?o=f:(o=o||{},qq.extend(o,f)):(a[u]=a[u]||{},qq.extend(a[u],f)))},remove:function(u){return delete n[u]},reset:function(){n={},a={},r=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,r){e._onUploadStatusChange(t,n,r),e._options.callbacks.onStatusChange(t,n,r),e._maybeAllComplete(t,r),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,r)},0)}})},_createUploadButton:function(e){var t=this,n=e.accept||this._options.validation.acceptFiles,r=e.allowedExtensions||this._options.validation.allowedExtensions,a;function o(){return qq.supportedFeatures.ajaxUploading?t._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&t._isAllowedExtension(r,".mov")?!1:e.multiple===void 0?t._options.multiple:e.multiple:!1}return a=new qq.UploadButton({acceptFiles:n,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:o(),name:this._options.request.inputName,onChange:function(s){t._onInputChange(s)},title:e.title==null?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){a.dispose()}),t._buttons.push(a),a},_createUploadHandler:function(e,t){var n=this,r={},a={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(o,s,l,c){l<0||c<0||(r[o]?(r[o].loaded!==l||r[o].total!==c)&&(n._onProgress(o,s,l,c),n._options.callbacks.onProgress(o,s,l,c)):(n._onProgress(o,s,l,c),n._options.callbacks.onProgress(o,s,l,c)),r[o]={loaded:l,total:c})},onComplete:function(o,s,l,c){delete r[o];var u=n.getUploads({id:o}).status,f;u===qq.status.UPLOAD_SUCCESSFUL||u===qq.status.UPLOAD_FAILED||(f=n._onComplete(o,s,l,c),f instanceof qq.Promise?f.done(function(){n._options.callbacks.onComplete(o,s,l,c)}):n._options.callbacks.onComplete(o,s,l,c))},onCancel:function(o,s,l){var c=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,o,s),onFailure:c.failure,onSuccess:function(){l.then(function(){n._onCancel(o,s)}),c.success()},identifier:o}),c},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(o,s){n._onUpload(o,s);var l=n._options.callbacks.onUpload(o,s);return qq.isGenericPromise(l)?(n.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",o)),l):new qq.Promise().success()},onUploadChunk:function(o,s,l){n._onUploadChunk(o,l);var c=n._options.callbacks.onUploadChunk(o,s,l);return qq.isGenericPromise(c)?(n.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",o,l.partIndex)),c):new qq.Promise().success()},onUploadChunkSuccess:function(o,s,l,c){n._onUploadChunkSuccess(o,s),n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(o,s,l,c){return n._options.callbacks.onResume(o,s,l,c)},onAutoRetry:function(o,s,l,c){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(o,s){n.log("Server requested UUID change from '"+n.getUuid(o)+"' to '"+s+"'"),n.setUuid(o,s)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(o){return n.getUploads({uuid:o})},isQueued:function(o){var s=n.getUploads({id:o}).status;return s===qq.status.QUEUED||s===qq.status.SUBMITTED||s===qq.status.UPLOAD_RETRYING||s===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch,isInProgress:function(o){return n.getUploads({id:o}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(n._getCustomResumeData,n),setStatus:function(o,s){n._uploadData.setStatus(o,s)}};return qq.each(this._options.request,function(o,s){a[o]=s}),a.customHeaders=this._customHeadersStore,e&&qq.each(e,function(o,s){a[o]=s}),new qq.UploadHandlerController(a,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(e===0)return e+this._options.text.sizeSymbols[0];var t=-1;do e=e/1e3,t++;while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var r=n.multiple,a=qq.extend({},e._options.validation,!0),o=qq.extend({},n);r===void 0&&(r=e._options.multiple),o.validation&&qq.extend(a,n.validation,!0),qq.extend(o,{multiple:r,validation:a},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];if(t)return t.element;if(e===this._defaultButtonId)return this._options.button},_getButtonId:function(e){var t,n,r=e;if(r instanceof qq.BlobProxy&&(r=r.referenceBlob),r&&!qq.isBlob(r)){if(qq.isFile(r))return r.qqButtonId;if(r.tagName.toLowerCase()==="input"&&r.type.toLowerCase()==="file")return r.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=r.getElementsByTagName("input"),qq.each(t,function(a,o){if(o.getAttribute("type")==="file")return n=o,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getCustomResumeData:function(e){return this._customResumeDataStore.get(e)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(r,a){n.push(t._getValidationDescriptor(a))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,r=this._options;n&&n!==this._defaultButtonId&&(r=this._extraButtonSpecs[n]),r.multiple=!1,r.validation.acceptFiles===null?r.validation.acceptFiles=e:r.validation.acceptFiles+=","+e,qq.each(this._buttons,function(a,o){if(o.getButtonId()===n)return o.setMultiple(r.multiple),o.setAcceptFiles(r.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(r){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(r)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(n!==!1?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var r=this,a=qq.getUniqueId(),o=-1,s=qq.getFilename(e),l=e.blob||e,c=this._customNewFileHandler?this._customNewFileHandler:qq.bind(r._handleNewFileGeneric,r);!qq.isInput(l)&&l.size>=0&&(o=l.size),c(l,s,a,o,n,t,this._options.request.uuidName,{uploadData:r._uploadData,paramsStore:r._paramsStore,addFileToHandler:function(u,f){r._handler.add(u,f),r._netUploadedOrQueued++,r._trackButton(u)}})},_handleNewFileGeneric:function(e,t,n,r,a,o){var s=this._uploadData.addFile({uuid:n,name:t,size:r,batchId:o,file:e});this._handler.add(s,e),this._trackButton(s),this._netUploadedOrQueued++,a.push({id:s,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],r=t;r==null&&(r=this._options.paste.defaultName),r+="."+n,this.addFiles({name:r,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),!t||t.withCredentials===void 0?this._options.callbacks.onError(e,n,"Delete request failed",t):this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled?!1:this._options.cors.expected?!!(qq.supportedFeatures.deleteFileCorsXhr||qq.supportedFeatures.deleteFileCorsXdr&&this._options.cors.allowXdr):!0},_isAllowedExtension:function(e,t){var n=!1;return e.length?(qq.each(e,function(r,a){if(qq.isString(a)){var o=new RegExp("\\."+a+"$","i");if(t.match(o)!=null)return n=!0,!1}}),n):!0},_itemError:function(e,t,n){var r=this._options.messages[e],a=[],o=[].concat(t),s=o[0],l=this._getButtonId(n),c=this._getValidationBase(l),u,f;function m(h,d){r=r.replace(h,d)}return qq.each(c.allowedExtensions,function(h,d){qq.isString(d)&&a.push(d)}),u=a.join(", ").toLowerCase(),m("{file}",this._options.formatFileName(s)),m("{extensions}",u),m("{sizeLimit}",this._formatSize(c.sizeLimit)),m("{minSizeLimit}",this._formatSize(c.minSizeLimit)),f=r.match(/(\{\w+\})/g),f!==null&&qq.each(f,function(h,d){m(d,o[h])}),this._options.callbacks.onError(null,s,r,void 0),r},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,r=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),r===0&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,r){if(!n.success)if(r&&r.status!==200&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+r.status,r);else{var a=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,a,r)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,r,a){var o=this;if(t.length>n){if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var s=o._getValidationDescriptor(t[n]),l=o._getButtonId(t[n].file),c=o._getButton(l);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,s,c),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,r,a),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,r,a),identifier:"Item '"+s.name+"', size: "+s.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)}},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,r,a){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e)){var s=o._options.retry.autoAttemptDelay*1e3;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),a?a(e):o._handler.retry(e)},s),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t=this._currentItemLimit,n;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(n=this.getName(e),this._options.callbacks.onManualRetry(e,n)===!1?!1:t>0&&this._netUploadedOrQueued+1>t?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+n+"' (id: "+e+")..."),!0)):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,r){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),n[this._options.retry.preventRetryResponseProperty]===!0&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,r),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e),n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(n,r){r.reset()})},_onProgress:function(e,t,n,r){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,r)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var r=this.getUuid(e),a;return t&&(a=qq.bind(t,this,e,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:a||qq.bind(this._deleteHandler.sendDelete,this,e,r,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadChunkSuccess:function(e,t){!this._preventRetries[e]&&this._options.retry.enableAuto&&(this._autoRetries[e]=0)},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(n,r){t._fileOrBlobRejected(r.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,r,a){var o,s=this._currentItemLimit,l=this._netUploadedOrQueued;s===0||l<=s?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],a),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,r),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,r),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,l).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,r){var a=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,a,n,r)},_onValidateCallbackSuccess:function(e,t,n,r){var a=this,o=t+1,s=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],s).then(function(){a._upload(e[t].id,n,r),a._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,r)},function(){a._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,r)})},_prepareItemsForUpload:function(e,t,n){if(e.length===0){this._itemError("noFilesError");return}var r=this._getValidationDescriptors(e),a=this._getButtonId(e[0].file),o=this._getButton(a);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,r,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,r,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&this._options.session.endpoint!=null&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(n,r){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(n,!0,r)},function(n,r){e._options.callbacks.onSessionRequestComplete(n,!1,r)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(this._autoRetries[e]===void 0&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)?(this._autoRetries[e]+=1,!0):!1},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;qq.supportedFeatures.ajaxUploading?t=this._handler.getFile(e).qqButtonId:t=this._getButtonId(this._handler.getInput(e)),t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var r=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,r),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,r),onFailure:qq.bind(this._fileOrBlobRejected,this,e,r),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);t=this.getUploads({status:qq.status.SUBMITTING}).length,t&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,r=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),a=t.name,o=t.size,s=this._getButtonId(e.file),l=this._getValidationBase(s),c=new qq.Promise;return c.then(function(){},function(){n._fileOrBlobRejected(e.id,a)}),qq.isFileOrInput(r)&&!this._isAllowedExtension(l.allowedExtensions,a)?(this._itemError("typeError",a,r),c.failure()):!this._options.validation.allowEmpty&&o===0?(this._itemError("emptyError",a,r),c.failure()):o>0&&l.sizeLimit&&o>l.sizeLimit?(this._itemError("sizeError",a,r),c.failure()):o>0&&o<l.minSizeLimit?(this._itemError("minSizeError",a,r),c.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(r)?new qq.ImageValidation(r,qq.bind(n.log,n)).validate(l.image).then(c.success,function(u){n._itemError(u+"ImageError",a,r),c.failure()}):c.success(),c)},_wrapCallbacks:function(){var e,t,n;e=this,t=function(r,a,o){var s;try{return a.apply(e,o)}catch(l){s=l.message||l.toString(),e.log("Caught exception in '"+r+"' callback - "+s,"error")}};for(n in this._options.callbacks)(function(){var r,a;r=n,a=e._options.callbacks[r],e._options.callbacks[r]=function(){return t(r,a,arguments)}})()}}}(),function(){qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(n,r){},onSubmitted:function(n,r){},onComplete:function(n,r,a,o){},onAllComplete:function(n,r){},onCancel:function(n,r){},onUpload:function(n,r){},onUploadChunk:function(n,r,a){},onUploadChunkSuccess:function(n,r,a,o){},onResume:function(n,r,a,o){},onProgress:function(n,r,a,o){},onTotalProgress:function(n,r){},onError:function(n,r,a,o){},onAutoRetry:function(n,r,a){},onManualRetry:function(n,r){},onValidateBatch:function(n){},onValidate:function(n){},onSubmitDelete:function(n){},onDelete:function(n){},onDeleteComplete:function(n,r,a){},onPasteReceived:function(n){},onStatusChange:function(n,r,a){},onSessionRequestComplete:function(n,r,a){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(n){return 2e6},success:{endpoint:null,headers:function(n){return null},jsonPayload:!1,method:"POST",params:function(n){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(n){return[]}},formatFileName:function(n){return n},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(n){var r=t._uploadData.retrieve({id:n});return r&&r.size||0})),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){var t,n,r=[],a={},o={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(k,A){},onSend:function(k){},onComplete:function(k,A,M){},onProgress:null};if(qq.extend(o,e),t=o.log,qq.indexOf(o.validMethods,o.method)<0)throw new Error("'"+o.method+"' is not a supported method for this type of request!");function s(){return qq.indexOf(["GET","POST","HEAD"],o.method)>=0}function l(k){var A=!1;return qq.each(A,function(M,S){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],S)<0)return A=!0,!1}),A}function c(k){return o.cors.expected&&k.withCredentials===void 0}function u(){var k;return(window.XMLHttpRequest||window.ActiveXObject)&&(k=qq.createXhrInstance(),k.withCredentials===void 0&&(k=new XDomainRequest,k.onload=function(){},k.onerror=function(){},k.ontimeout=function(){},k.onprogress=function(){})),k}function f(k,A){var M=a[k]&&a[k].xhr;return M||(A?M=A:o.cors.expected?M=u():M=qq.createXhrInstance(),a[k].xhr=M),M}function m(k){var A=qq.indexOf(r,k),M=o.maxConnections,S;delete a[k],r.splice(A,1),r.length>=M&&A<M&&(S=r[M-1],g(S))}function h(k,A){var M=f(k),S=o.method,C=A===!0;m(k),C?t(S+" request for "+k+" has failed","error"):!c(M)&&!E(M.status)&&(C=!0,t(S+" request for "+k+" has failed - response code "+M.status,"error")),o.onComplete(k,M,C)}function d(k){var A=a[k].additionalParams,M=o.mandatedParams,S;return o.paramsStore.get&&(S=o.paramsStore.get(k)),A&&qq.each(A,function(C,I){S=S||{},S[C]=I}),M&&qq.each(M,function(C,I){S=S||{},S[C]=I}),S}function g(k,A){var M=f(k,A),S=o.method,C=d(k),I=a[k].payload,O;return o.onSend(k),O=v(k,C,a[k].additionalQueryParams),c(M)?(M.onload=q(k),M.onerror=b(k)):M.onreadystatechange=_(k),y(k),M.open(S,O,!0),o.cors.expected&&o.cors.sendCredentials&&!c(M)&&(M.withCredentials=!0),x(k),t("Sending "+S+" request for "+k),I?M.send(I):n||!C?M.send():C&&o.contentType&&o.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?M.send(qq.obj2url(C,"")):C&&o.contentType&&o.contentType.toLowerCase().indexOf("application/json")>=0?M.send(JSON.stringify(C)):M.send(C),M}function v(k,A,M){var S=o.endpointStore.get(k),C=a[k].addToPath;return C!=null&&(S+="/"+C),n&&A&&(S=qq.obj2url(A,S)),M&&(S=qq.obj2url(M,S)),S}function _(k){return function(){f(k).readyState===4&&h(k)}}function y(k){var A=o.onProgress;A&&(f(k).upload.onprogress=function(M){M.lengthComputable&&A(k,M.loaded,M.total)})}function q(k){return function(){h(k)}}function b(k){return function(){h(k,!0)}}function x(k){var A=f(k),M=o.customHeaders,S=a[k].additionalHeaders||{},C=o.method,I={};c(A)||(o.acceptHeader&&A.setRequestHeader("Accept",o.acceptHeader),o.allowXRequestedWithAndCacheControl&&(!o.cors.expected||!s()||l())&&(A.setRequestHeader("X-Requested-With","XMLHttpRequest"),A.setRequestHeader("Cache-Control","no-cache")),o.contentType&&(C==="POST"||C==="PUT")&&A.setRequestHeader("Content-Type",o.contentType),qq.extend(I,qq.isFunction(M)?M(k):M),qq.extend(I,S),qq.each(I,function(O,D){A.setRequestHeader(O,D)}))}function E(k){return qq.indexOf(o.successfulResponseCodes[o.method],k)>=0}function T(k,A,M,S,C,I,O){a[k]={addToPath:M,additionalParams:S,additionalQueryParams:C,additionalHeaders:I,payload:O};var D=r.push(k);if(D<=o.maxConnections)return g(k,A)}n=o.method==="GET"||o.method==="DELETE",qq.extend(this,{initTransport:function(k){var A,M,S,C,I,O;return{withPath:function(D){return A=D,this},withParams:function(D){return M=D,this},withQueryParams:function(D){return O=D,this},withHeaders:function(D){return S=D,this},withPayload:function(D){return C=D,this},withCacheBuster:function(){return I=!0,this},send:function(D){return I&&qq.indexOf(["GET","DELETE"],o.method)>=0&&(M.qqtimestamp=new Date().getTime()),T(k,D,A,M,O,S,C)}}},canceled:function(k){m(k)}})},qq.UploadHandler=function(e){var t=e.proxy,n={},r=t.onCancel,a=t.getName;qq.extend(this,{add:function(o,s){n[o]=s,n[o].temp={}},cancel:function(o){var s=this,l=new qq.Promise,c=r(o,a(o),l);c.then(function(){s.isValid(o)&&(n[o].canceled=!0,s.expunge(o)),l.success()})},expunge:function(o){delete n[o]},getThirdPartyFileId:function(o){return n[o].key},isValid:function(o){return n[o]!==void 0},reset:function(){n={}},_getFileState:function(o){return n[o]},_setThirdPartyFileId:function(o,s){n[o].key=s},_wasCanceled:function(o){return!!n[o].canceled}})},qq.UploadHandlerController=function(e,t){var n=this,r=!1,a=!1,o,s,l,c={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(d,g){},onProgress:function(d,g,v,_){},onComplete:function(d,g,v,_){},onCancel:function(d,g){},onUploadPrep:function(d){},onUpload:function(d,g){},onUploadChunk:function(d,g,v){},onUploadChunkSuccess:function(d,g,v,_){},onAutoRetry:function(d,g,v,_){},onResume:function(d,g,v,_){},onUuidChanged:function(d,g){},getName:function(d){},setSize:function(d,g){},isQueued:function(d){},getIdsInProxyGroup:function(d){},getIdsInBatch:function(d){},isInProgress:function(d){}},u={done:function(d,g,v,_){var y=l._getChunkData(d,g);l._getFileState(d).attemptingResume=!1,delete l._getFileState(d).temp.chunkProgress[g],l._getFileState(d).loaded+=y.size,c.onUploadChunkSuccess(d,l._getChunkDataForCallback(y),v,_)},finalize:function(d){var g=c.getSize(d),v=c.getName(d);s("All chunks have been uploaded for "+d+" - finalizing...."),l.finalizeChunks(d).then(function(_,y){s("Finalize successful for "+d);var q=h.normalizeResponse(_,!0);c.onProgress(d,v,g,g),l._maybeDeletePersistedChunkData(d),h.cleanup(d,q,y)},function(_,y){var q=h.normalizeResponse(_,!1);s("Problem finalizing chunks for file ID "+d+" - "+q.error,"error"),(q.reset||y&&c.chunking.success.resetOnStatus.indexOf(y.status)>=0)&&u.reset(d),c.onAutoRetry(d,v,q,y)||h.cleanup(d,q,y)})},handleFailure:function(d,g,v,_){var y=c.getName(g);s("Chunked upload request failed for "+g+", chunk "+d),l.clearCachedChunk(g,d);var q=h.normalizeResponse(v,!1),b;if(q.reset)u.reset(g);else{var x=l._getFileState(g).chunking.inProgress;b=x?qq.indexOf(x,d):-1,b>=0&&(l._getFileState(g).chunking.inProgress.splice(b,1),l._getFileState(g).chunking.remaining.unshift(d))}l._getFileState(g).temp.ignoreFailure||(a&&(l._getFileState(g).temp.ignoreFailure=!0,s(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(l._getXhrs(g))),JSON.stringify(l._getFileState(g).chunking.inProgress))),qq.each(l._getXhrs(g),function(E,T){s(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",g,E,T.readyState)),T.abort(),T._cancelled=!0}),l.moveInProgressToRemaining(g),f.free(g,!0)),c.onAutoRetry(g,y,q,_)||h.cleanup(g,q,_))},hasMoreParts:function(d){return!!l._getFileState(d).chunking.remaining.length},nextPart:function(d){var g=l._getFileState(d).chunking.remaining.shift();return g>=l._getTotalChunks(d)&&(g=null),g},reset:function(d){s("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+d,"error"),l._maybeDeletePersistedChunkData(d),l.reevaluateChunking(d),l._getFileState(d).loaded=0,l._getFileState(d).attemptingResume=!1},sendNext:function(d){var g=c.getSize(d),v=c.getName(d),_=u.nextPart(d),y=l._getChunkData(d,_),q=l._getFileState(d),b=q.attemptingResume,x=q.chunking.inProgress||[];if(q.loaded==null&&(q.loaded=0),b&&c.onResume(d,v,y,q.customResumeData)===!1&&(u.reset(d),_=u.nextPart(d),y=l._getChunkData(d,_),b=!1),_==null&&x.length===0)u.finalize(d);else{x.push(_),l._getFileState(d).chunking.inProgress=x,a&&f.open(d,_),a&&f.available()&&l._getFileState(d).chunking.remaining.length&&u.sendNext(d),y.blob.size===0&&(s(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",_,d),"error"),u.handleFailure(_,d,"File is no longer available",null));var E=c.onUploadChunk(d,v,l._getChunkDataForCallback(y));E.then(function(T){if(!c.isInProgress(d))s(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",d,_));else{s(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",d,_,y.start+1,y.end,g));var k={chunkIdx:_,id:d,overrides:T,resuming:b};l.uploadChunk(k).then(function(M,S){s("Chunked upload request succeeded for "+d+", chunk "+_),l.clearCachedChunk(d,_);var C=l._getFileState(d).chunking.inProgress||[],I=h.normalizeResponse(M,!0),O=qq.indexOf(C,_);s(qq.format("Chunk {} for file {} uploaded successfully.",_,d)),u.done(d,_,I,S),O>=0&&C.splice(O,1),l._maybePersistChunkedState(d),!u.hasMoreParts(d)&&C.length===0?u.finalize(d):u.hasMoreParts(d)?u.sendNext(d):s(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",d,JSON.stringify(C)))},function(M,S){u.handleFailure(_,d,M,S)}).done(function(){l.clearXhr(d,_)})}},function(T){u.handleFailure(_,d,T,null)})}}},f={_open:[],_openChunks:{},_waiting:[],available:function(){var d=c.maxConnections,g=0,v=0;return qq.each(f._openChunks,function(_,y){g++,v+=y.length}),d-(f._open.length-g+v)},free:function(d,g){var v=!g,_=qq.indexOf(f._waiting,d),y=qq.indexOf(f._open,d),q;delete f._openChunks[d],h.getProxyOrBlob(d)instanceof qq.BlobProxy&&(s("Generated blob upload has ended for "+d+", disposing generated blob."),delete l._getFileState(d).file),_>=0?f._waiting.splice(_,1):v&&y>=0&&(f._open.splice(y,1),q=f._waiting.shift(),q>=0&&(f._open.push(q),h.start(q)))},getWaitingOrConnected:function(){var d=[];return qq.each(f._openChunks,function(g,v){v&&v.length&&d.push(parseInt(g))}),qq.each(f._open,function(g,v){f._openChunks[v]||d.push(parseInt(v))}),d=d.concat(f._waiting),d},isUsingConnection:function(d){return qq.indexOf(f._open,d)>=0},open:function(d,g){return g==null&&f._waiting.push(d),f.available()?(g==null?(f._waiting.pop(),f._open.push(d)):function(){var v=f._openChunks[d]||[];v.push(g),f._openChunks[d]=v}(),!0):!1},reset:function(){f._waiting=[],f._open=[]}},m={send:function(d,g){var v=l._getFileState(d);if(!v){s("Ignoring send request as this upload may have been cancelled, File ID "+d,"warn");return}v.loaded=0,s("Sending simple upload request for "+d),l.uploadFile(d).then(function(_,y){s("Simple upload request succeeded for "+d);var q=h.normalizeResponse(_,!0),b=c.getSize(d);c.onProgress(d,g,b,b),h.maybeNewUuid(d,q),h.cleanup(d,q,y)},function(_,y){s("Simple upload request failed for "+d);var q=h.normalizeResponse(_,!1);c.onAutoRetry(d,g,q,y)||h.cleanup(d,q,y)})}},h={cancel:function(d){s("Cancelling "+d),c.paramsStore.remove(d),f.free(d)},cleanup:function(d,g,v){var _=c.getName(d);c.onComplete(d,_,g,v),l._getFileState(d)&&l._clearXhrs&&l._clearXhrs(d),f.free(d)},getProxyOrBlob:function(d){return l.getProxy&&l.getProxy(d)||l.getFile&&l.getFile(d)},initHandler:function(){var d=t?qq[t]:qq.traditional,g=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";l=new d[g+"UploadHandler"](c,{getCustomResumeData:c.getCustomResumeData,getDataByUuid:c.getDataByUuid,getName:c.getName,getSize:c.getSize,getUuid:c.getUuid,log:s,onCancel:c.onCancel,onProgress:c.onProgress,onUuidChanged:c.onUuidChanged,onFinalizing:function(v){c.setStatus(v,qq.status.UPLOAD_FINALIZING)}}),l._removeExpiredChunkingRecords&&l._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(d){return c.isQueued(d)},maybeDefer:function(d,g){if(g&&!l.getFile(d)&&g instanceof qq.BlobProxy)c.onUploadPrep(d),s("Attempting to generate a blob on-demand for "+d),g.create().then(function(v){s("Generated an on-demand blob for "+d),l.updateBlob(d,v),c.setSize(d,v.size),l.reevaluateChunking(d),h.maybeSendDeferredFiles(d)},function(v){var _={};v&&(_.error=v),s(qq.format("Failed to generate blob for ID {}.  Error message: {}.",d,v),"error"),c.onComplete(d,c.getName(d),qq.extend(_,o),null),h.maybeSendDeferredFiles(d),f.free(d)});else return h.maybeSendDeferredFiles(d);return!1},maybeSendDeferredFiles:function(d){var g=c.getIdsInProxyGroup(d),v=!1;return g&&g.length?(s("Maybe ready to upload proxy group file "+d),qq.each(g,function(_,y){if(h.isDeferredEligibleForUpload(y)&&!!l.getFile(y))v=y===d,h.now(y);else if(h.isDeferredEligibleForUpload(y))return!1})):(v=!0,h.now(d)),v},maybeNewUuid:function(d,g){g.newUuid!==void 0&&c.onUuidChanged(d,g.newUuid)},normalizeResponse:function(d,g){var v=d;return qq.isObject(d)||(v={},qq.isString(d)&&!g&&(v.error=d)),v.success=g,v},now:function(d){var g=c.getName(d);if(!n.isValid(d))throw new qq.Error(d+" is not a valid file ID to upload!");c.onUpload(d,g).then(function(v){v&&v.pause?(c.setStatus(d,qq.status.PAUSED),l.pause(d),f.free(d)):r&&l._shouldChunkThisFile(d)?u.sendNext(d):m.send(d,g)},function(v){if(v=v||{},s(d+" upload start aborted due to rejected onUpload Promise - details: "+v,"error"),!c.onAutoRetry(d,g,v.responseJSON||{})){var _=h.normalizeResponse(v.responseJSON,!1);h.cleanup(d,_)}})},start:function(d){var g=h.getProxyOrBlob(d);return g?h.maybeDefer(d,g):(h.now(d),!0)}};qq.extend(this,{add:function(d,g){l.add.apply(this,arguments)},upload:function(d){return f.open(d)?h.start(d):!1},retry:function(d){return a&&(l._getFileState(d).temp.ignoreFailure=!1),f.isUsingConnection(d)?h.start(d):n.upload(d)},cancel:function(d){var g=l.cancel(d);qq.isGenericPromise(g)?g.then(function(){h.cancel(d)}):g!==!1&&h.cancel(d)},cancelAll:function(){var d=f.getWaitingOrConnected(),g;if(d.length)for(g=d.length-1;g>=0;g--)n.cancel(d[g]);f.reset()},getFile:function(d){return l.getProxy&&l.getProxy(d)?l.getProxy(d).referenceBlob:l.getFile&&l.getFile(d)},isProxied:function(d){return!!(l.getProxy&&l.getProxy(d))},getInput:function(d){if(l.getInput)return l.getInput(d)},reset:function(){s("Resetting upload handler"),n.cancelAll(),f.reset(),l.reset()},expunge:function(d){if(n.isValid(d))return l.expunge(d)},isValid:function(d){return l.isValid(d)},hasResumeRecord:function(d){var g=l.isValid(d)&&l._getLocalStorageId&&l._getLocalStorageId(d);return g?!!localStorage.getItem(g):!1},getResumableFilesData:function(){return l.getResumableFilesData?l.getResumableFilesData():[]},getThirdPartyFileId:function(d){if(n.isValid(d))return l.getThirdPartyFileId(d)},pause:function(d){return n.isResumable(d)&&l.pause&&n.isValid(d)&&l.pause(d)?(f.free(d),l.moveInProgressToRemaining(d),!0):!1},isAttemptingResume:function(d){return!!l.isAttemptingResume&&l.isAttemptingResume(d)},isResumable:function(d){return!!l.isResumable&&l.isResumable(d)}}),qq.extend(c,e),s=c.log,r=c.chunking.enabled&&qq.supportedFeatures.chunking,a=r&&c.chunking.concurrent.enabled,o=function(){var d={};return d[c.preventRetryParam]=!0,d}(),h.initHandler()},qq.WindowReceiveMessage=function(e){var t={log:function(r,a){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(r,a){var o=function(s){a(s.data)};window.postMessage?n[r]=qq(window).attach("message",o):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(r){if(window.postMessage){var a=n[r];a&&a()}}})},qq.FormUploadHandler=function(e){var t=e.options,n=this,r=e.proxy,a=qq.getUniqueId(),o={},s={},l={},c=t.isCors,u=t.inputName,f=r.getUuid,m=r.log,h=new qq.WindowReceiveMessage({log:m});function d(y){delete s[y],c&&(clearTimeout(l[y]),delete l[y],h.stopReceivingMessages(y));var q=document.getElementById(n._getIframeName(y));q&&(q.setAttribute("src","javascript:false;"),qq(q).remove())}function g(y){return y.split("_")[0]}function v(y){var q=qq.toElement("<iframe src='javascript:false;' name='"+y+"' />");return q.setAttribute("id",y),q.style.display="none",document.body.appendChild(q),q}function _(y,q){var b=y.id,x=g(b),E=f(x);o[E]=q,s[x]=qq(y).attach("load",function(){n.getInput(x)&&(m("Received iframe load event for CORS upload request (iframe name "+b+")"),l[b]=setTimeout(function(){var T="No valid message received from loaded iframe for iframe name "+b;m(T,"error"),q({error:T})},1e3))}),h.receiveMessage(b,function(T){m("Received the following window message: '"+T+"'"),g(b);var k=n._parseJsonResponse(T),A=k.uuid,M;A&&o[A]?(m("Handling response for iframe name "+b),clearTimeout(l[b]),delete l[b],n._detachLoadEvent(b),M=o[A],delete o[A],h.stopReceivingMessages(b),M(k)):A||m("'"+T+"' does not contain a UUID - ignoring.")})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(y){return{add:function(q,b){y.add(q,{input:b}),b.setAttribute("name",u),b.parentNode&&qq(b).remove()},expunge:function(q){d(q),y.expunge(q)},isValid:function(q){return y.isValid(q)&&n._getFileState(q).input!==void 0}}}),qq.extend(this,{getInput:function(y){return n._getFileState(y).input},_attachLoadEvent:function(y,q){var b;c?_(y,q):s[y.id]=qq(y).attach("load",function(){if(m("Received response for "+y.id),!!y.parentNode){try{if(y.contentDocument&&y.contentDocument.body&&y.contentDocument.body.innerHTML=="false")return}catch(x){m("Error when attempting to access iframe during handling of upload response ("+x.message+")","error"),b={success:!1}}q(b)}})},_createIframe:function(y){var q=n._getIframeName(y);return v(q)},_detachLoadEvent:function(y){s[y]!==void 0&&(s[y](),delete s[y])},_getIframeName:function(y){return y+"_"+a},_initFormForUpload:function(y){var q=y.method,b=y.endpoint,x=y.params,E=y.paramsInBody,T=y.targetName,k=qq.toElement("<form method='"+q+"' enctype='multipart/form-data'></form>"),A=b;return E?qq.obj2Inputs(x,k):A=qq.obj2url(x,b),k.setAttribute("action",A),k.setAttribute("target",T),k.style.display="none",document.body.appendChild(k),k},_parseJsonResponse:function(y){var q={};try{q=qq.parseJson(y)}catch(b){m("Error when attempting to parse iframe upload response ("+b.message+")","error")}return q}})},qq.XhrUploadHandler=function(e){var t=this,n=e.options.namespace,r=e.proxy,a=e.options.chunking,o=function(b){var x=t._getFileState(b);if(x.chunkSize)return x.chunkSize;var E=a.partSize;return qq.isFunction(E)&&(E=E(b,f(b))),x.chunkSize=E,E},s=e.options.resume,l=a&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,c=s&&e.options.resume.enabled&&l&&qq.supportedFeatures.resume,u=r.getName,f=r.getSize,m=r.getUuid,h=r.getEndpoint,d=r.getDataByUuid,g=r.onUuidChanged,v=r.onProgress,_=r.log,y=r.getCustomResumeData;function q(b){qq.each(t._getXhrs(b),function(x,E){var T=t._getAjaxRequester(b,x);E.onreadystatechange=null,E.upload.onprogress=null,E.abort(),T&&T.canceled&&T.canceled(b)})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(b){return{add:function(x,E){if(qq.isFile(E)||qq.isBlob(E))b.add(x,{file:E});else if(E instanceof qq.BlobProxy)b.add(x,{proxy:E});else throw new Error("Passed obj is not a File, Blob, or proxy");t._initTempState(x),c&&t._maybePrepareForResume(x)},expunge:function(x){q(x),t._maybeDeletePersistedChunkData(x),t._clearXhrs(x),b.expunge(x)}}}),qq.extend(this,{clearCachedChunk:function(b,x){var E=t._getFileState(b);E&&delete E.temp.cachedChunks[x]},clearXhr:function(b,x){var E=t._getFileState(b).temp;E.xhrs&&delete E.xhrs[x],E.ajaxRequesters&&delete E.ajaxRequesters[x]},finalizeChunks:function(b,x){var E=t._getTotalChunks(b)-1,T=t._getXhr(b,E);return x?new qq.Promise().success(x(T),T):new qq.Promise().success({},T)},getFile:function(b){return t.isValid(b)&&t._getFileState(b).file},getProxy:function(b){return t.isValid(b)&&t._getFileState(b).proxy},getResumableFilesData:function(){var b=[];return t._iterateResumeRecords(function(x,E){t.moveInProgressToRemaining(null,E.chunking.inProgress,E.chunking.remaining);var T={name:E.name,remaining:E.chunking.remaining,size:E.size,uuid:E.uuid};E.key&&(T.key=E.key),E.customResumeData&&(T.customResumeData=E.customResumeData),b.push(T)}),b},isAttemptingResume:function(b){return t._getFileState(b).attemptingResume},isResumable:function(b){return!!a&&t.isValid(b)&&!t._getFileState(b).notResumable},moveInProgressToRemaining:function(b,x,E){var T=t._getFileState(b)||{},k=T.chunking||{},A=x||k.inProgress,M=E||k.remaining;A&&(_(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(A))),A.reverse(),qq.each(A,function(S,C){M.unshift(C)}),A.length=0)},pause:function(b){if(t.isValid(b))return _(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",b,u(b))),t._getFileState(b).paused=!0,q(b),!0},reevaluateChunking:function(b){if(a&&t.isValid(b)){var x=t._getFileState(b),E,T;if(delete x.chunking,x.chunking={},E=t._getTotalChunks(b),E>1||a.mandatory){for(x.chunking.enabled=!0,x.chunking.parts=E,x.chunking.remaining=[],T=0;T<E;T++)x.chunking.remaining.push(T);t._initTempState(b)}else x.chunking.enabled=!1}},updateBlob:function(b,x){t.isValid(b)&&(t._getFileState(b).file=x)},_clearXhrs:function(b){var x=t._getFileState(b).temp;qq.each(x.ajaxRequesters,function(E){delete x.ajaxRequesters[E]}),qq.each(x.xhrs,function(E){delete x.xhrs[E]})},_createXhr:function(b,x){return t._registerXhr(b,x,qq.createXhrInstance())},_getAjaxRequester:function(b,x){var E=x==null?-1:x;return t._getFileState(b).temp.ajaxRequesters[E]},_getChunkData:function(b,x){var E=o(b),T=f(b),k=t.getFile(b),A=E*x,M=A+E>=T?T:A+E,S=t._getTotalChunks(b),C=this._getFileState(b).temp.cachedChunks,I=C[x]||qq.sliceBlob(k,A,M);return C[x]=I,{part:x,start:A,end:M,count:S,blob:I,size:M-A}},_getChunkDataForCallback:function(b){return{partIndex:b.part,startByte:b.start+1,endByte:b.end,totalParts:b.count}},_getLocalStorageId:function(b){var x="5.0",E=u(b),T=f(b),k=o(b),A=h(b),M=s.customKeys(b),S=qq.format("qq{}resume{}-{}-{}-{}-{}",n,x,E,T,k,A);return M.forEach(function(C){S+="-"+C}),S},_getMimeType:function(b){return t.getFile(b).type},_getPersistableData:function(b){return t._getFileState(b).chunking},_getTotalChunks:function(b){if(a){var x=f(b),E=o(b);return Math.ceil(x/E)}},_getXhr:function(b,x){var E=x==null?-1:x;return t._getFileState(b).temp.xhrs[E]},_getXhrs:function(b){return t._getFileState(b).temp.xhrs},_iterateResumeRecords:function(b){c&&qq.each(localStorage,function(x,E){if(x.indexOf(qq.format("qq{}resume",n))===0){var T=JSON.parse(E);b(x,T)}})},_initTempState:function(b){t._getFileState(b).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(b){t._getFileState(b).notResumable=!0},_maybeDeletePersistedChunkData:function(b){var x;return c&&t.isResumable(b)&&(x=t._getLocalStorageId(b),x&&localStorage.getItem(x))?(localStorage.removeItem(x),!0):!1},_maybePrepareForResume:function(b){var x=t._getFileState(b),E,T;c&&x.key===void 0&&(E=t._getLocalStorageId(b),T=localStorage.getItem(E),T&&(T=JSON.parse(T),d(T.uuid)?t._markNotResumable(b):(_(qq.format("Identified file with ID {} and name of {} as resumable.",b,u(b))),g(b,T.uuid),x.key=T.key,x.chunking=T.chunking,x.loaded=T.loaded,x.customResumeData=T.customResumeData,x.attemptingResume=!0,t.moveInProgressToRemaining(b))))},_maybePersistChunkedState:function(b){var x=t._getFileState(b),E,T;if(c&&t.isResumable(b)){var k=y(b);E=t._getLocalStorageId(b),T={name:u(b),size:f(b),uuid:m(b),key:x.key,chunking:x.chunking,loaded:x.loaded,lastUpdated:Date.now()},k&&(T.customResumeData=k);try{localStorage.setItem(E,JSON.stringify(T))}catch(A){_(qq.format("Unable to save resume data for '{}' due to error: '{}'.",b,A.toString()),"warn")}}},_registerProgressHandler:function(b,x,E){var T=t._getXhr(b,x),k=u(b),A={simple:function(M,S){var C=f(b);M===S?v(b,k,C,C):v(b,k,M>=C?C-1:M,C)},chunked:function(M,S){var C=t._getFileState(b).temp.chunkProgress,I=t._getFileState(b).loaded,O=M,D=S,R=f(b),w=O-(D-E),B=I;C[x]=w,qq.each(C,function(G,U){B+=U}),v(b,k,B,R)}};T.upload.onprogress=function(M){if(M.lengthComputable){var S=E==null?"simple":"chunked";A[S](M.loaded,M.total)}}},_registerXhr:function(b,x,E,T){var k=x==null?-1:x,A=t._getFileState(b).temp;return A.xhrs=A.xhrs||{},A.ajaxRequesters=A.ajaxRequesters||{},A.xhrs[k]=E,T&&(A.ajaxRequesters[k]=T),E},_removeExpiredChunkingRecords:function(){var b=s.recordsExpireIn;t._iterateResumeRecords(function(x,E){var T=new Date(E.lastUpdated);T.setDate(T.getDate()+b),T.getTime()<=Date.now()&&(_("Removing expired resume record with key "+x),localStorage.removeItem(x))})},_shouldChunkThisFile:function(b){var x=t._getFileState(b);if(x)return x.chunking||t.reevaluateChunking(b),x.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(a){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(a,o){},onDelete:function(a){},onDeleteComplete:function(a,o,s){}};qq.extend(n,e);function r(){return n.method.toUpperCase()==="POST"?{_method:"DELETE"}:{}}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:r(),maxConnections:n.maxConnections,customHeaders:function(a){return n.customHeaders.get(a)},log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors})),qq.extend(this,{sendDelete:function(a,o,s){var l=s||{};n.log("Submitting delete file request for "+a),n.method==="DELETE"?t.initTransport(a).withPath(o).withParams(l).send():(l[n.uuidParamName]=o,t.initTransport(a).withParams(l).send())}})},function(){function e(c){var u=c.naturalWidth,f=c.naturalHeight,m=document.createElement("canvas"),h;return u*f>1024*1024?(m.width=m.height=1,h=m.getContext("2d"),h.drawImage(c,-u+1,0),h.getImageData(0,0,1,1).data[3]===0):!1}function t(c,u,f){var m=document.createElement("canvas"),h=0,d=f,g=f,v,_,y,q;for(m.width=1,m.height=f,v=m.getContext("2d"),v.drawImage(c,0,0),_=v.getImageData(0,0,1,f).data;g>h;)y=_[(g-1)*4+3],y===0?d=g:h=g,g=d+h>>1;return q=g/f,q===0?1:q}function n(c,u,f,m){var h=document.createElement("canvas"),d=f.mime||"image/jpeg",g=new qq.Promise;return a(c,u,h,f,m).then(function(){g.success(h.toDataURL(d,f.quality||.8))}),g}function r(c){var u=5241e3;if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(c.origHeight*c.origWidth>u)return{newHeight:Math.round(Math.sqrt(u*(c.origHeight/c.origWidth))),newWidth:Math.round(Math.sqrt(u*(c.origWidth/c.origHeight)))}}function a(c,u,f,m,h){var d=c.naturalWidth,g=c.naturalHeight,v=m.width,_=m.height,y=f.getContext("2d"),q=new qq.Promise,b;return y.save(),m.resize?o({blob:u,canvas:f,image:c,imageHeight:g,imageWidth:d,orientation:m.orientation,resize:m.resize,targetHeight:_,targetWidth:v}):(qq.supportedFeatures.unlimitedScaledImageSize||(b=r({origWidth:v,origHeight:_}),b&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",v,_,b.newWidth,b.newHeight),"warn"),v=b.newWidth,_=b.newHeight)),s(f,v,_,m.orientation),qq.ios()?function(){e(c)&&(d/=2,g/=2);var x=1024,E=document.createElement("canvas"),T=h?t(c,d,g):1,k=Math.ceil(x*v/d),A=Math.ceil(x*_/g/T),M=0,S=0,C,I,O;for(E.width=E.height=x,C=E.getContext("2d");M<g;){for(I=0,O=0;I<d;)C.clearRect(0,0,x,x),C.drawImage(c,-I,-M),y.drawImage(E,0,0,x,x,O,S,k,A),I+=x,O+=k;M+=x,S+=A}y.restore(),E=C=null}():y.drawImage(c,0,0,v,_),f.qqImageRendered&&f.qqImageRendered(),q.success(),q)}function o(c){var u=c.blob,f=c.image,m=c.imageHeight,h=c.imageWidth,d=c.orientation,g=new qq.Promise,v=c.resize,_=document.createElement("canvas"),y=_.getContext("2d"),q=c.canvas,b=c.targetHeight,x=c.targetWidth;return s(_,h,m,d),q.height=b,q.width=x,y.drawImage(f,0,0),v({blob:u,height:b,image:f,sourceCanvas:_,targetCanvas:q,width:x}).then(function(){q.qqImageRendered&&q.qqImageRendered(),g.success()},g.failure),g}function s(c,u,f,m){switch(m){case 5:case 6:case 7:case 8:c.width=f,c.height=u;break;default:c.width=u,c.height=f}var h=c.getContext("2d");switch(m){case 2:h.translate(u,0),h.scale(-1,1);break;case 3:h.translate(u,f),h.rotate(Math.PI);break;case 4:h.translate(0,f),h.scale(1,-1);break;case 5:h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI),h.translate(0,-f);break;case 7:h.rotate(.5*Math.PI),h.translate(u,-f),h.scale(-1,1);break;case 8:h.rotate(-.5*Math.PI),h.translate(-u,0);break}}function l(c,u){var f=this;window.Blob&&c instanceof Blob&&function(){var m=new Image,h=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!h)throw Error("No createObjectURL function found to create blob url");m.src=h.createObjectURL(c),f.blob=c,c=m}(),!c.naturalWidth&&!c.naturalHeight&&(c.onload=function(){var m=f.imageLoadListeners;m&&(f.imageLoadListeners=null,setTimeout(function(){for(var h=0,d=m.length;h<d;h++)m[h]()},0))},c.onerror=u,this.imageLoadListeners=[]),this.srcImage=c}l.prototype.render=function(c,u){u=u||{};var f=this,m=this.srcImage.naturalWidth,h=this.srcImage.naturalHeight,d=u.width,g=u.height,v=u.maxWidth,_=u.maxHeight,y=!this.blob||this.blob.type==="image/jpeg",q=c.tagName.toLowerCase(),b;if(this.imageLoadListeners){this.imageLoadListeners.push(function(){f.render(c,u)});return}d&&!g?g=h*d/m<<0:g&&!d?d=m*g/h<<0:(d=m,g=h),v&&d>v&&(d=v,g=h*d/m<<0),_&&g>_&&(g=_,d=m*g/h<<0),b={width:d,height:g},qq.each(u,function(x,E){b[x]=E}),q==="img"?function(){var x=c.src;n(f.srcImage,f.blob,b,y).then(function(E){c.src=E,x===c.src&&c.onload()})}():q==="canvas"&&a(this.srcImage,this.blob,c,b,y),typeof this.onrender=="function"&&this.onrender(c)},qq.MegaPixImage=l}(),qq.ImageGenerator=function(e){function t(g){return g.tagName.toLowerCase()==="img"}function n(g){return g.tagName.toLowerCase()==="canvas"}function r(){return new Image().crossOrigin!==void 0}function a(){var g=document.createElement("canvas");return g.getContext&&g.getContext("2d")}function o(g){var v=g.split("/"),_=v[v.length-1].split("?")[0],y=qq.getExtension(_);switch(y=y&&y.toLowerCase(),y){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function s(g){var v=document.createElement("a"),_,y,q;return v.href=g,_=v.protocol,q=v.port,y=v.hostname,_.toLowerCase()!==window.location.protocol.toLowerCase()||y.toLowerCase()!==window.location.hostname.toLowerCase()||q!==window.location.port&&!qq.ie()}function l(g,v){g.onload=function(){g.onload=null,g.onerror=null,v.success(g)},g.onerror=function(){g.onload=null,g.onerror=null,e("Problem drawing thumbnail!","error"),v.failure(g,"Problem drawing thumbnail!")}}function c(g,v){g.qqImageRendered=function(){v.success(g)}}function u(g,v){var _=t(g)||n(g);return t(g)?l(g,v):n(g)?c(g,v):(v.failure(g),e(qq.format("Element container of type {} is not supported!",g.tagName),"error")),_}function f(g,v,_){var y=new qq.Promise,q=new qq.Identify(g,e),b=_.maxSize,x=_.orient==null?!0:_.orient,E=function(){v.onerror=null,v.onload=null,e("Could not render preview, file may be too large!","error"),y.failure(v,"Browser cannot render image!")};return q.isPreviewable().then(function(T){var k={parse:function(){return new qq.Promise().success()}},A=x?new qq.Exif(g,e):k,M=new qq.MegaPixImage(g,E);u(v,y)&&A.parse().then(function(S){var C=S&&S.Orientation;M.render(v,{maxWidth:b,maxHeight:b,orientation:C,mime:T,resize:_.customResizeFunction})},function(S){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",S)),M.render(v,{maxWidth:b,maxHeight:b,mime:T,resize:_.customResizeFunction})})},function(){e("Not previewable"),y.failure(v,"Not previewable")}),y}function m(g,v,_,y,q){var b=new Image,x=new qq.Promise;u(b,x),s(g)&&(b.crossOrigin="anonymous"),b.src=g,x.then(function(){u(v,_);var T=new qq.MegaPixImage(b);T.render(v,{maxWidth:y,maxHeight:y,mime:o(g),resize:q})},_.failure)}function h(g,v,_,y){u(v,_),qq(v).css({maxWidth:y+"px",maxHeight:y+"px"}),v.src=g}function d(g,v,_){var y=new qq.Promise,q=_.scale,b=q?_.maxSize:null;return q&&t(v)?a()?s(g)&&!r()?h(g,v,y,b):m(g,v,y,b):h(g,v,y,b):n(v)?m(g,v,y,b):u(v,y)&&(v.src=g),y}qq.extend(this,{generate:function(g,v,_){return qq.isString(g)?(e("Attempting to update thumbnail based on server response."),d(g,v,_||{})):(e("Attempting to draw client-side image preview."),f(g,v,_||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=s,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){var n=[274],r={274:{name:"Orientation",bytes:2}};function a(h){for(var d=0,g=0;h.length>0;)d+=parseInt(h.substring(0,2),16)*Math.pow(2,g),h=h.substring(2,h.length),g+=8;return d}function o(h,d){var g=h,v=d;return g===void 0&&(g=2,v=new qq.Promise),qq.readBlobToHex(e,g,4).then(function(_){var y=/^ffe([0-9])/.exec(_),q;y?y[1]!=="1"?(q=parseInt(_.slice(4,8),16),o(g+q+2,v)):v.success(g):v.failure("No EXIF header to be found!")}),v}function s(){var h=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(d){d.indexOf("ffd8")!==0?h.failure("Not a valid JPEG!"):o().then(function(g){h.success(g)},function(g){h.failure(g)})}),h}function l(h){var d=new qq.Promise;return qq.readBlobToHex(e,h+10,2).then(function(g){d.success(g==="4949")}),d}function c(h,d){var g=new qq.Promise;return qq.readBlobToHex(e,h+18,2).then(function(v){if(d)return g.success(a(v));g.success(parseInt(v,16))}),g}function u(h,d){var g=h+20,v=d*12;return qq.readBlobToHex(e,g,v)}function f(h){for(var d=[],g=0;g+24<=h.length;)d.push(h.slice(g,g+24)),g+=24;return d}function m(h,d){var g=16,v=qq.extend([],n),_={};return qq.each(d,function(y,q){var b=q.slice(0,4),x=h?a(b):parseInt(b,16),E=v.indexOf(x),T,k,A;if(E>=0&&(k=r[x].name,A=r[x].bytes,T=q.slice(g,g+A*2),_[k]=h?a(T):parseInt(T,16),v.splice(E,1)),v.length===0)return!1}),_}qq.extend(this,{parse:function(){var h=new qq.Promise,d=function(g){t(qq.format("EXIF header parse failed: '{}' ",g)),h.failure(g)};return s().then(function(g){t(qq.format("Moving forward with EXIF header parsing for '{}'",e.name===void 0?"blob":e.name)),l(g).then(function(v){t(qq.format("EXIF Byte order is {} endian",v?"little":"big")),c(g,v).then(function(_){t(qq.format("Found {} APP1 directory entries",_)),u(g,_).then(function(y){var q=f(y),b=m(v,q);t("Successfully parsed some EXIF tags"),h.success(b)},d)},d)},d)},d),h}}),this._testing={},this._testing.parseLittleEndian=a},qq.Identify=function(e,t){function n(r,a){var o=!1,s=[].concat(r);return qq.each(s,function(l,c){if(a.indexOf(c)===0)return o=!0,!1}),o}qq.extend(this,{isPreviewable:function(){var r=this,a=new qq.Promise,o=!1,s=e.name===void 0?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",s)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(l){qq.each(r.PREVIEWABLE_MIME_TYPES,function(c,u){if(n(u,l))return(c!=="image/tiff"||qq.supportedFeatures.tiffPreviews)&&(o=!0,a.success(c)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",s,o?"":"NOT")),o||a.failure()},function(){t("Error reading file w/ name '"+s+"'.  Not able to be rendered in this browser."),a.failure()})):a.failure(),a},isPreviewableSync:function(){var r=e.type,a=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),r)>=0,o=!1,s=e.name===void 0?"blob":e.name;return a&&(r==="image/tiff"?o=qq.supportedFeatures.tiffPreviews:o=!0),!o&&t(s+" is not previewable in this browser per the blob's type attr"),o}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){function n(o){var s=!1;return qq.each(o,function(l,c){if(c>0)return s=!0,!1}),s}function r(){var o=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var s=new Image,l=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;l?(s.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),o.failure()},s.onload=function(){o.success({width:this.width,height:this.height})},s.src=l.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),o.failure())},o.failure),o}function a(o,s){var l;return qq.each(o,function(c,u){if(u>0){var f=/(max|min)(Width|Height)/.exec(c),m=f[2].charAt(0).toLowerCase()+f[2].slice(1),h=s[m];switch(f[1]){case"min":if(h<u)return l=c,!1;break;case"max":if(h>u)return l=c,!1;break}}}),l}this.validate=function(o){var s=new qq.Promise;return t("Attempting to validate image."),n(o)?r().then(function(l){var c=a(o,l);c?s.failure(c):s.success()},s.success):s.success(),s}},qq.Session=function(e){var t={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(a){},log:function(a,o){}};qq.extend(t,e,!0);function n(a){if(qq.isArray(a))return!0;t.log("Session response is not an array.","error")}function r(a,o,s,l){var c=!1;o=o&&n(a),o&&qq.each(a,function(u,f){if(f.uuid==null)c=!0,t.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",u),"error");else if(f.name==null)c=!0,t.log(qq.format("Session response item {} did not include a valid name - ignoring.",u),"error");else try{return t.addFileRecord(f),!0}catch(m){c=!0,t.log(m.message,"error")}return!1}),l[o&&!c?"success":"failure"](a,s)}this.refresh=function(){var a=new qq.Promise,o=function(c,u,f){r(c,u,f,a)},s=qq.extend({},t),l=new qq.SessionAjaxRequester(qq.extend(s,{onComplete:o}));return l.queryServer(),a}},qq.SessionAjaxRequester=function(e){var t,n={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(a,o,s){},log:function(a,o){}};qq.extend(n,e);function r(a,o,s){var l=null;if(o.responseText!=null)try{l=qq.parseJson(o.responseText)}catch(c){n.log("Problem parsing session response: "+c.message,"error"),s=!0}n.onComplete(l,!s,o)}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return n.endpoint}},customHeaders:n.customHeaders,log:n.log,onComplete:r,cors:n.cors})),qq.extend(this,{queryServer:function(){var a=qq.extend({},n.params);n.log("Session query request."),t.initTransport("sessionRefresh").withParams(a).withCacheBuster().send()}})},qq.Scaler=function(e,t){var n=e.customResizer,r=e.sendOriginal,a=e.orient,o=e.defaultType,s=e.defaultQuality/100,l=e.failureText,c=e.includeExif,u=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&u.length>0,getFileRecords:function(f,m,h){var d=this,g=[],v=h.blob?h.blob:h,_=new qq.Identify(v,t);return _.isPreviewableSync()?(qq.each(u,function(y,q){var b=d._determineOutputType({defaultType:o,requestedType:q.type,refType:v.type});g.push({uuid:qq.getUniqueId(),name:d._getName(m,{name:q.name,type:b,refType:v.type}),blob:new qq.BlobProxy(v,qq.bind(d._generateScaledImage,d,{customResizeFunction:n,maxSize:q.maxSize,orient:a,type:b,quality:s,failedText:l,includeExif:c,log:t}))})}),g.push({uuid:f,name:m,size:v.size,blob:r?v:null})):g.push({uuid:f,name:m,size:v.size,blob:v}),g},handleNewFile:function(f,m,h,d,g,v,_,y){var q=this;f.qqButtonId||f.blob&&f.blob.qqButtonId;var b=[],x=null,E=y.addFileToHandler,T=y.uploadData,k=y.paramsStore,A=qq.getUniqueId();qq.each(q.getFileRecords(h,m,f),function(M,S){var C=S.size,I;S.blob instanceof qq.BlobProxy&&(C=-1),I=T.addFile({uuid:S.uuid,name:S.name,size:C,batchId:v,proxyGroupId:A}),S.blob instanceof qq.BlobProxy?b.push(I):x=I,S.blob?(E(I,S.blob),g.push({id:I,file:S.blob})):T.setStatus(I,qq.status.REJECTED)}),x!==null&&(qq.each(b,function(M,S){var C={qqparentuuid:T.retrieve({id:x}).uuid,qqparentsize:T.retrieve({id:x}).size};C[_]=T.retrieve({id:S}).uuid,T.setParentId(S,x),k.addReadOnly(S,C)}),b.length&&function(){var M={};M[_]=T.retrieve({id:x}).uuid,k.addReadOnly(x,M)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var r=new qq.Promise,a=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),l=s&&s.name,c=s&&s.uuid,u={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},f=new qq.Scaler(u,a);return!qq.Scaler||!qq.supportedFeatures.imagePreviews||!o?(r.failure(),a("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")):qq.bind(function(){var m=f.getFileRecords(c,l,o)[0];m&&m.blob instanceof qq.BlobProxy?m.blob.create().then(r.success,r.failure):(a(e+" is not a scalable image!","error"),r.failure())},this)(),r},_determineOutputType:function(e){var t=e.requestedType,n=e.defaultType,r=e.refType;return!n&&!t?r!=="image/jpeg"?"image/png":r:t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?t==="image/tiff"?qq.supportedFeatures.tiffPreviews?t:n:t:n},_getName:function(e,t){var n=e.lastIndexOf("."),r=t.type||"image/png",a=t.refType,o="",s=qq.getExtension(e),l="";return t.name&&t.name.trim().length&&(l=" ("+t.name+")"),n>=0?(o=e.substr(0,n),a!==r&&(s=r.split("/")[1]),o+=l+"."+s):o=e+l,o},_getSortedSizes:function(e){return e=qq.extend([],e),e.sort(function(t,n){return t.maxSize>n.maxSize?1:t.maxSize<n.maxSize?-1:0})},_generateScaledImage:function(e,t){var n=this,r=e.customResizeFunction,a=e.log,o=e.maxSize,s=e.orient,l=e.type,c=e.quality,u=e.failedText,f=e.includeExif&&t.type==="image/jpeg"&&l==="image/jpeg",m=new qq.Promise,h=new qq.ImageGenerator(a),d=document.createElement("canvas");return a("Attempting to generate scaled version for "+t.name),h.generate(t,d,{maxSize:o,orient:s,customResizeFunction:r}).then(function(){var g=d.toDataURL(l,c),v=function(){a("Success generating scaled version for "+t.name);var _=qq.dataUriToBlob(g);m.success(_)};f?n._insertExifHeader(t,g,a).then(function(_){g=_,v()},function(){a("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),v()}):v()},function(){a("Failed attempt to generate scaled version for "+t.name,"error"),m.failure(u)}),m},_insertExifHeader:function(e,t,n){var r=new FileReader,a=new qq.Promise,o="";return r.onload=function(){o=r.result,a.success(qq.ExifRestorer.restore(o,t))},r.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),a.failure()},r.readAsDataURL(e),a},_dataUriToBlob:function(e){var t,n,r,a;return e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r),qq.each(t,function(o,s){a[o]=s.charCodeAt(0)}),this._createBlob(r,n)},_createBlob:function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(t){var n="",r,a,o="",s,l,c,u="",f=0;do r=t[f++],a=t[f++],o=t[f++],s=r>>2,l=(r&3)<<4|a>>4,c=(a&15)<<2|o>>6,u=o&63,isNaN(a)?c=u=64:isNaN(o)&&(u=64),n=n+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(u),r=a=o="",s=l=c=u="";while(f<t.length);return n},e.restore=function(t,n){var r="data:image/jpeg;base64,";if(!t.match(r))return n;var a=this.decode64(t.replace(r,"")),o=this.slice2Segments(a),s=this.exifManipulation(n,o);return r+this.encode64(s)},e.exifManipulation=function(t,n){var r=this.getExifArray(n),a=this.insertExif(t,r),o=new Uint8Array(a);return o},e.getExifArray=function(t){for(var n,r=0;r<t.length;r++)if(n=t[r],n[0]==255&n[1]==225)return n;return[]},e.insertExif=function(t,n){var r=t.replace("data:image/jpeg;base64,",""),a=this.decode64(r),o=a.indexOf(255,3),s=a.slice(0,o),l=a.slice(o),c=s;return c=c.concat(n),c=c.concat(l),c},e.slice2Segments=function(t){for(var n=0,r=[];!(t[n]==255&t[n+1]==218);){if(t[n]==255&t[n+1]==216)n+=2;else{var a=t[n+2]*256+t[n+3],o=n+a+2,s=t.slice(n,o);r.push(s),n=o}if(n>t.length)break}return r},e.decode64=function(t){var n,r,a="",o,s,l,c="",u=0,f=[],m=/[^A-Za-z0-9\+\/\=]/g;if(m.exec(t))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=this.KEY_STR.indexOf(t.charAt(u++)),s=this.KEY_STR.indexOf(t.charAt(u++)),l=this.KEY_STR.indexOf(t.charAt(u++)),c=this.KEY_STR.indexOf(t.charAt(u++)),n=o<<2|s>>4,r=(s&15)<<4|l>>2,a=(l&3)<<6|c,f.push(n),l!=64&&f.push(r),c!=64&&f.push(a),n=r=a="",o=s=l=c="";while(u<t.length);return f},e}(),qq.TotalProgress=function(e,t){var n={},r=0,a=0,o=-1,s=-1,l=function(d,g){(d!==o||g!==s)&&e(d,g),o=d,s=g},c=function(d,g){var v=!0;return qq.each(d,function(_,y){if(qq.indexOf(g,y)>=0)return v=!1,!1}),v},u=function(d){h(d,-1,-1),delete n[d]},f=function(d,g,v){(g.length===0||c(g,v))&&(l(a,a),this.reset())},m=function(d){var g=t(d);g>0&&(h(d,0,g),n[d]={loaded:0,total:g})},h=function(d,g,v){var _=n[d]?n[d].loaded:0,y=n[d]?n[d].total:0;g===-1&&v===-1?(r-=_,a-=y):(g&&(r+=g-_),v&&(a+=v-y)),l(r,a)};qq.extend(this,{onAllComplete:f,onStatusChange:function(d,g,v){v===qq.status.CANCELED||v===qq.status.REJECTED?u(d):v===qq.status.SUBMITTING&&m(d)},onIndividualProgress:function(d,g,v){h(d,g,v),n[d]={loaded:g,total:v}},onNewSize:function(d){m(d)},reset:function(){n={},r=0,a=0}})},qq.PasteSupport=function(e){var t,n;t={targetElement:null,callbacks:{log:function(s,l){},pasteReceived:function(s){}}};function r(s){return s.type&&s.type.indexOf("image/")===0}function a(){n=qq(t.targetElement).attach("paste",function(s){var l=s.clipboardData;l&&qq.each(l.items,function(c,u){if(r(u)){var f=u.getAsFile();t.callbacks.pasteReceived(f)}})})}function o(){n&&n()}qq.extend(t,e),a(),qq.extend(this,{reset:function(){o()}})},qq.FormSupport=function(e,t,n){var r=this,a=e.interceptSubmit,o=e.element,s=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:s,attachedToForm:!1,getFormInputsAsObject:function(){return o==null?null:r._form2Obj(o)}});function l(m){m.getAttribute("action")&&(r.newEndpoint=m.getAttribute("action"))}function c(m,h){if(m.checkValidity&&!m.checkValidity())n("Form did not pass validation checks - will not upload.","error"),h();else return!0}function u(m){var h=m.submit;qq(m).attach("submit",function(d){d=d||window.event,d.preventDefault?d.preventDefault():d.returnValue=!1,c(m,h)&&t()}),m.submit=function(){c(m,h)&&t()}}function f(m){return m&&(qq.isString(m)&&(m=document.getElementById(m)),m&&(n("Attaching to form element."),l(m),a&&u(m))),m}o=f(o),this.attachedToForm=!!o},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){var t={},n=function(s){var l=["button","image","reset","submit"];return qq.indexOf(l,s.toLowerCase())<0},r=function(s){return qq.indexOf(["checkbox","radio"],s.toLowerCase())>=0},a=function(s){return r(s.type)&&!s.checked?!0:s.disabled&&s.type.toLowerCase()!=="hidden"},o=function(s){var l=null;return qq.each(qq(s).children(),function(c,u){if(u.tagName.toLowerCase()==="option"&&u.selected)return l=u.value,!1}),l};return qq.each(e.elements,function(s,l){if((qq.isInput(l,!0)||l.tagName.toLowerCase()==="textarea")&&n(l.type)&&!a(l))t[l.name]=l.value;else if(l.tagName.toLowerCase()==="select"&&!a(l)){var c=o(l);c!==null&&(t[l.name]=c)}}),t}}),qq.CryptoJS=function(e,t){var n={},r=n.lib={},a=r.Base=function(){function h(){}return{extend:function(d){h.prototype=this;var g=new h;return d&&g.mixIn(d),g.hasOwnProperty("init")||(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var g in d)d.hasOwnProperty(g)&&(this[g]=d[g]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=a.extend({init:function(h,d){h=this.words=h||[],d!=t?this.sigBytes=d:this.sigBytes=h.length*4},toString:function(h){return(h||l).stringify(this)},concat:function(h){var d=this.words,g=h.words,v=this.sigBytes,_=h.sigBytes;if(this.clamp(),v%4)for(var y=0;y<_;y++){var q=g[y>>>2]>>>24-y%4*8&255;d[v+y>>>2]|=q<<24-(v+y)%4*8}else if(g.length>65535)for(var y=0;y<_;y+=4)d[v+y>>>2]=g[y>>>2];else d.push.apply(d,g);return this.sigBytes+=_,this},clamp:function(){var h=this.words,d=this.sigBytes;h[d>>>2]&=4294967295<<32-d%4*8,h.length=e.ceil(d/4)},clone:function(){var h=a.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var d=[],g=0;g<h;g+=4)d.push(e.random()*4294967296|0);return new o.init(d,h)}}),s=n.enc={},l=s.Hex={stringify:function(h){for(var d=h.words,g=h.sigBytes,v=[],_=0;_<g;_++){var y=d[_>>>2]>>>24-_%4*8&255;v.push((y>>>4).toString(16)),v.push((y&15).toString(16))}return v.join("")},parse:function(h){for(var d=h.length,g=[],v=0;v<d;v+=2)g[v>>>3]|=parseInt(h.substr(v,2),16)<<24-v%8*4;return new o.init(g,d/2)}},c=s.Latin1={stringify:function(h){for(var d=h.words,g=h.sigBytes,v=[],_=0;_<g;_++){var y=d[_>>>2]>>>24-_%4*8&255;v.push(String.fromCharCode(y))}return v.join("")},parse:function(h){for(var d=h.length,g=[],v=0;v<d;v++)g[v>>>2]|=(h.charCodeAt(v)&255)<<24-v%4*8;return new o.init(g,d)}},u=s.Utf8={stringify:function(h){try{return decodeURIComponent(escape(c.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return c.parse(unescape(encodeURIComponent(h)))}},f=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=u.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var d=this._data,g=d.words,v=d.sigBytes,_=this.blockSize,y=_*4,q=v/y;h?q=e.ceil(q):q=e.max((q|0)-this._minBufferSize,0);var b=q*_,x=e.min(b*4,v);if(b){for(var E=0;E<b;E+=_)this._doProcessBlock(g,E);var T=g.splice(0,b);d.sigBytes-=x}return new o.init(T,x)},clone:function(){var h=a.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});r.Hasher=f.extend({cfg:a.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var d=this._doFinalize();return d},blockSize:512/32,_createHelper:function(h){return function(d,g){return new h.init(g).finalize(d)}},_createHmacHelper:function(h){return function(d,g){return new m.HMAC.init(h,g).finalize(d)}}});var m=n.algo={};return n}(Math),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,r=e.enc;r.Base64={stringify:function(a){var o=a.words,s=a.sigBytes,l=this._map;a.clamp();for(var c=[],u=0;u<s;u+=3)for(var f=o[u>>>2]>>>24-u%4*8&255,m=o[u+1>>>2]>>>24-(u+1)%4*8&255,h=o[u+2>>>2]>>>24-(u+2)%4*8&255,d=f<<16|m<<8|h,g=0;g<4&&u+g*.75<s;g++)c.push(l.charAt(d>>>6*(3-g)&63));var v=l.charAt(64);if(v)for(;c.length%4;)c.push(v);return c.join("")},parse:function(a){var o=a.length,s=this._map,l=s.charAt(64);if(l){var c=a.indexOf(l);c!=-1&&(o=c)}for(var u=[],f=0,m=0;m<o;m++)if(m%4){var h=s.indexOf(a.charAt(m-1))<<m%4*2,d=s.indexOf(a.charAt(m))>>>6-m%4*2;u[f>>>2]|=(h|d)<<24-f%4*8,f++}return n.create(u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.Base,r=e.enc,a=r.Utf8,o=e.algo;o.HMAC=n.extend({init:function(s,l){s=this._hasher=new s.init,typeof l=="string"&&(l=a.parse(l));var c=s.blockSize,u=c*4;l.sigBytes>u&&(l=s.finalize(l)),l.clamp();for(var f=this._oKey=l.clone(),m=this._iKey=l.clone(),h=f.words,d=m.words,g=0;g<c;g++)h[g]^=1549556828,d[g]^=909522486;f.sigBytes=m.sigBytes=u,this.reset()},reset:function(){var s=this._hasher;s.reset(),s.update(this._iKey)},update:function(s){return this._hasher.update(s),this},finalize:function(s){var l=this._hasher,c=l.finalize(s);l.reset();var u=l.finalize(this._oKey.clone().concat(c));return u}})}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,r=t.Hasher,a=e.algo,o=[],s=a.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,c){for(var u=this._hash.words,f=u[0],m=u[1],h=u[2],d=u[3],g=u[4],v=0;v<80;v++){if(v<16)o[v]=l[c+v]|0;else{var _=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=_<<1|_>>>31}var y=(f<<5|f>>>27)+g+o[v];v<20?y+=(m&h|~m&d)+1518500249:v<40?y+=(m^h^d)+1859775393:v<60?y+=(m&h|m&d|h&d)-1894007588:y+=(m^h^d)-899497514,g=d,d=h,h=m<<30|m>>>2,m=f,f=y}u[0]=u[0]+f|0,u[1]=u[1]+m|0,u[2]=u[2]+h|0,u[3]=u[3]+d|0,u[4]=u[4]+g|0},_doFinalize:function(){var l=this._data,c=l.words,u=this._nDataBytes*8,f=l.sigBytes*8;return c[f>>>5]|=128<<24-f%32,c[(f+64>>>9<<4)+14]=Math.floor(u/4294967296),c[(f+64>>>9<<4)+15]=u,l.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var l=r.clone.call(this);return l._hash=this._hash.clone(),l}});e.SHA1=r._createHelper(s),e.HmacSHA1=r._createHmacHelper(s)}(),function(e){var t=qq.CryptoJS,n=t.lib,r=n.WordArray,a=n.Hasher,o=t.algo,s=[],l=[];(function(){function f(g){for(var v=e.sqrt(g),_=2;_<=v;_++)if(!(g%_))return!1;return!0}function m(g){return(g-(g|0))*4294967296|0}for(var h=2,d=0;d<64;)f(h)&&(d<8&&(s[d]=m(e.pow(h,1/2))),l[d]=m(e.pow(h,1/3)),d++),h++})();var c=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(f,m){for(var h=this._hash.words,d=h[0],g=h[1],v=h[2],_=h[3],y=h[4],q=h[5],b=h[6],x=h[7],E=0;E<64;E++){if(E<16)c[E]=f[m+E]|0;else{var T=c[E-15],k=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,A=c[E-2],M=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;c[E]=k+c[E-7]+M+c[E-16]}var S=y&q^~y&b,C=d&g^d&v^g&v,I=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),O=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),D=x+O+S+l[E]+c[E],R=I+C;x=b,b=q,q=y,y=_+D|0,_=v,v=g,g=d,d=D+R|0}h[0]=h[0]+d|0,h[1]=h[1]+g|0,h[2]=h[2]+v|0,h[3]=h[3]+_|0,h[4]=h[4]+y|0,h[5]=h[5]+q|0,h[6]=h[6]+b|0,h[7]=h[7]+x|0},_doFinalize:function(){var f=this._data,m=f.words,h=this._nDataBytes*8,d=f.sigBytes*8;return m[d>>>5]|=128<<24-d%32,m[(d+64>>>9<<4)+14]=e.floor(h/4294967296),m[(d+64>>>9<<4)+15]=h,f.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});t.SHA256=a._createHelper(u),t.HmacSHA256=a._createHmacHelper(u)}(Math),function(){if(typeof ArrayBuffer=="function"){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,r=n.init,a=n.init=function(o){if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),(o instanceof Int8Array||o instanceof Uint8ClampedArray||o instanceof Int16Array||o instanceof Uint16Array||o instanceof Int32Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array)&&(o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength)),o instanceof Uint8Array){for(var s=o.byteLength,l=[],c=0;c<s;c++)l[c>>>2]|=o[c]<<24-c%4*8;r.call(this,l,s)}else r.apply(this,arguments)};a.prototype=n}}(),qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){return{ALGORITHM_PARAM_NAME:"x-amz-algorithm",AWS_PARAM_PREFIX:"x-amz-meta-",CREDENTIAL_PARAM_NAME:"x-amz-credential",DATE_PARAM_NAME:"x-amz-date",REDUCED_REDUNDANCY_PARAM_NAME:"x-amz-storage-class",REDUCED_REDUNDANCY_PARAM_VALUE:"REDUCED_REDUNDANCY",SERVER_SIDE_ENCRYPTION_PARAM_NAME:"x-amz-server-side-encryption",SERVER_SIDE_ENCRYPTION_PARAM_VALUE:"AES256",SESSION_TOKEN_PARAM_NAME:"x-amz-security-token",V4_ALGORITHM_PARAM_VALUE:"AWS4-HMAC-SHA256",V4_SIGNATURE_PARAM_NAME:"x-amz-signature",CASE_SENSITIVE_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNSIGNABLE_REST_HEADER_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNPREFIXED_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5","x-amz-server-side-encryption","x-amz-server-side-encryption-aws-kms-key-id","x-amz-server-side-encryption-customer-algorithm","x-amz-server-side-encryption-customer-key","x-amz-server-side-encryption-customer-key-MD5"],getBucket:function(e){var t=[/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-_]+)/i],n;return qq.each(t,function(r,a){var o=a.exec(e);if(o)return n=o[1],!1}),n},_getPrefixedParamName:function(e){return qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?e:qq.s3.util.AWS_PARAM_PREFIX+e},getPolicy:function(e){var t={},n=[],r=e.bucket,a=e.date,o=e.clockDrift,s=e.key,l=e.accessKey,c=e.acl,u=e.type,f=e.expectedStatus,m=e.sessionToken,h=e.params,d=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),g=e.minFileSize,v=e.maxFileSize,_=e.reducedRedundancy,y=e.region,q=e.serverSideEncryption,b=e.signatureVersion;return t.expiration=qq.s3.util.getPolicyExpirationDate(a,o),n.push({acl:c}),n.push({bucket:r}),u&&n.push({"Content-Type":u}),f&&n.push({success_action_status:f.toString()}),d&&n.push({success_action_redirect:d}),_&&(n.push({}),n[n.length-1][qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),m&&(n.push({}),n[n.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=m),q&&(n.push({}),n[n.length-1][qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),b===2?n.push({key:s}):b===4&&(n.push({}),n[n.length-1][qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,n.push({}),n[n.length-1].key=s,n.push({}),n[n.length-1][qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:a,key:l,region:y}),n.push({}),n[n.length-1][qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(a,o)),qq.each(h,function(x,E){var T=qq.s3.util._getPrefixedParamName(x),k={};qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,T)>=0?k[T]=E:k[T]=encodeURIComponent(E),n.push(k)}),t.conditions=n,qq.s3.util.enforceSizeLimits(t,g,v),t},refreshPolicyCredentials:function(e,t){var n=!1;qq.each(e.conditions,function(r,a){qq.each(a,function(o,s){o===qq.s3.util.SESSION_TOKEN_PARAM_NAME&&(a[o]=t,n=!0)})}),n||(e.conditions.push({}),e.conditions[e.conditions.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=t)},generateAwsParams:function(e,t){var n={},r=e.params,a=new qq.Promise,o=e.sessionToken,s=e.clockDrift,l=e.type,c=e.key,u=e.accessKey,f=e.acl,m=e.expectedStatus,h=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),d=e.reducedRedundancy,g=e.region,v=e.serverSideEncryption,_=e.signatureVersion,y=new Date,q=e.log,b;return e.date=y,b=qq.s3.util.getPolicy(e),n.key=c,l&&(n["Content-Type"]=l),m&&(n.success_action_status=m),h&&(n.success_action_redirect=h),d&&(n[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),v&&(n[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),o&&(n[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=o),n.acl=f,qq.each(r,function(x,E){var T=qq.s3.util._getPrefixedParamName(x);qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,T)>=0?n[T]=E:n[T]=encodeURIComponent(E)}),_===2?n.AWSAccessKeyId=u:_===4&&(n[qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,n[qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:y,key:u,region:g}),n[qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(y,s)),t(b).then(function(x,E,T){n.policy=x.policy,e.signatureVersion===2?(n.signature=x.signature,E&&(n.AWSAccessKeyId=E)):e.signatureVersion===4&&(n[qq.s3.util.V4_SIGNATURE_PARAM_NAME]=x.signature),T&&(n[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=T),a.success(n)},function(x){x=x||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.",q("Policy signing failed.  "+x,"error"),a.failure(x)}),a},enforceSizeLimits:function(e,t,n){var r=t<0?0:t,a=n<=0?9007199254740992:n;(t>0||n>0)&&e.conditions.push(["content-length-range",r.toString(),a.toString()])},getPolicyExpirationDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getPolicyDate(n,5)},getCredentialsDate:function(e){return e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2)},getPolicyDate:function(e,t){var n=t||0,r,a;return e.setMinutes(e.getMinutes()+(n||0)),Date.prototype.toISOString?e.toISOString():(r=function(o){return a=String(o),a.length===1&&(a="0"+a),a},e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z")},parseIframeResponse:function(e){var t=e.contentDocument||e.contentWindow.document,n=t.location.search,r=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(n);if(r)return{bucket:r[1],key:r[2],etag:r[3].replace(/%22/g,"")}},getSuccessRedirectAbsoluteUrl:function(e){if(e){var t=document.createElement("div"),n;return qq.ie7()?(t.innerHTML="<a href='"+e+"'></a>",n=t.firstChild,n.href):(n=document.createElement("a"),n.href=e,n.href=n.href,n.href)}},getV4CredentialsString:function(e){return e.key+"/"+qq.s3.util.getCredentialsDate(e.date)+"/"+e.region+"/s3/aws4_request"},getV4PolicyDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getCredentialsDate(n)+"T"+("0"+n.getUTCHours()).slice(-2)+("0"+n.getUTCMinutes()).slice(-2)+("0"+n.getUTCSeconds()).slice(-2)+"Z"},encodeQueryStringParam:function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()]/g,escape),t=t.replace(/\*/g,"%2A"),t.replace(/%20/g,"+")},uriEscape:function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/[*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}),t},uriEscapePath:function(e){var t=[];return qq.each(e.split("/"),function(n,r){t.push(qq.s3.util.uriEscape(r))}),t.join("/")}}}(),function(){qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(e,t,n,r){var a=!!n.success,o=this,s=arguments,l=this._uploadSuccessEndpointStore.get(e),c=this._options.uploadSuccess.customHeaders,u=this._options.uploadSuccess.method,f=this._options.cors,m=new qq.Promise,h=this._uploadSuccessParamsStore.get(e),d=this._paramsStore.get(e),g=function(q){delete o._failedSuccessRequestCallbacks[e],qq.extend(n,q),qq.FineUploaderBasic.prototype._onComplete.apply(o,s),m.success(q)},v=function(q){var b=_;qq.extend(n,q),n&&n.reset&&(b=null),b?o._failedSuccessRequestCallbacks[e]=b:delete o._failedSuccessRequestCallbacks[e],o._onAutoRetry(e,t,n,r,b)||(qq.FineUploaderBasic.prototype._onComplete.apply(o,s),m.failure(q))},_,y;return a&&l?(y=new qq.UploadSuccessAjaxRequester({endpoint:l,method:u,customHeaders:c,cors:f,log:qq.bind(this.log,this)}),qq.extend(h,o._getEndpointSpecificParams(e,n,r),!0),d&&qq.extend(h,d,!0),_=qq.bind(function(){y.sendSuccessRequest(e,h).then(g,v)},o),_(),m):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){qq.s3.FineUploaderBasic=function(e){var t={request:{accessKey:null,clockDrift:0},objectProperties:{acl:"private",bucket:qq.bind(function(n){return qq.s3.util.getBucket(this.getEndpoint(n))},this),host:qq.bind(function(n){return/(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(n))[1]},this),key:"uuid",reducedRedundancy:!1,region:"us-east-1",serverSideEncryption:!1},credentials:{accessKey:null,secretKey:null,expiration:null,sessionToken:null},signature:{customHeaders:{},endpoint:null,version:2},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},cors:{allowXdr:!0},callbacks:{onCredentialsExpired:function(){}}};qq.extend(t,e,!0),this.setCredentials(t.credentials,!0)||(this._currentCredentials.accessKey=t.request.accessKey),this._aclStore=this._createStore(t.objectProperties.acl),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedKeys={},this._cannedBuckets={},this._buckets={},this._hosts={}},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getBucket:function(e){return this._cannedBuckets[e]==null?this._buckets[e]:this._cannedBuckets[e]},getKey:function(e){return this._cannedKeys[e]==null?this._handler.getThirdPartyFileId(e):this._cannedKeys[e]},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[],this._buckets={},this._hosts={}},setCredentials:function(e,t){if(e&&e.secretKey){if(e.accessKey)if(e.expiration)this._currentCredentials=qq.extend({},e),qq.isString(e.expiration)&&(this._currentCredentials.expiration=new Date(e.expiration));else throw new qq.Error("Invalid credentials: no expiration");else throw new qq.Error("Invalid credentials: no accessKey");return!0}else if(t)this._currentCredentials={};else throw new qq.Error("Invalid credentials parameter!")},setAcl:function(e,t){this._aclStore.set(e,t)},_createUploadHandler:function(){var e=this,t={aclStore:this._aclStore,getBucket:qq.bind(this._determineBucket,this),getHost:qq.bind(this._determineHost,this),getKeyName:qq.bind(this._determineKeyName,this),iframeSupport:this._options.iframeSupport,objectProperties:this._options.objectProperties,signature:this._options.signature,clockDrift:this._options.request.clockDrift,validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(n){return{get:function(r){var a=n.get(r);return a.indexOf("http")<0?"http://"+a:a}}}),qq.override(this._paramsStore,function(n){return{get:function(r){var a=n.get(r),o={};return qq.each(a,function(s,l){var c=s;qq.indexOf(qq.s3.util.CASE_SENSITIVE_PARAM_NAMES,c)<0&&(c=c.toLowerCase()),o[c]=qq.isFunction(l)?l():l}),o}}}),t.signature.credentialsProvider={get:function(){return e._currentCredentials},onExpired:function(){var n=new qq.Promise,r=e._options.callbacks.onCredentialsExpired();return qq.isGenericPromise(r)?r.then(function(a){try{e.setCredentials(a),n.success()}catch(o){e.log("Invalid credentials returned from onCredentialsExpired callback! ("+o.message+")","error"),n.failure("onCredentialsExpired did not return valid credentials.")}},function(a){e.log("onCredentialsExpired callback indicated failure! ("+a+")","error"),n.failure("onCredentialsExpired callback failed.")}):(e.log("onCredentialsExpired callback did not return a promise!","error"),n.failure("Unexpected return value for onCredentialsExpired.")),n}},qq.FineUploaderBasic.prototype._createUploadHandler.call(this,t,"s3")},_determineObjectPropertyValue:function(e,t){var n=this._options.objectProperties[t],r=new qq.Promise,a=this;return qq.isFunction(n)?(n=n(e),qq.isGenericPromise(n)?r=n:r.success(n)):qq.isString(n)&&r.success(n),r.then(function(s){a["_"+t+"s"][e]=s},function(s){qq.log("Problem determining "+t+" for ID "+e+" ("+s+")","error")}),r},_determineBucket:function(e){return this._determineObjectPropertyValue(e,"bucket")},_determineHost:function(e){return this._determineObjectPropertyValue(e,"host")},_determineKeyName:function(e,t){var n=new qq.Promise,r=this._options.objectProperties.key,a=qq.getExtension(t),o=n.failure,s=function(l,c){var u=l;c!==void 0&&(u+="."+c),n.success(u)};switch(r){case"uuid":s(this.getUuid(e),a);break;case"filename":s(t);break;default:qq.isFunction(r)?this._handleKeynameFunction(r,e,s,o):(this.log(r+" is not a valid value for the s3.keyname option!","error"),o())}return n},_handleKeynameFunction:function(e,t,n,r){var a=this,o=function(c){n(c)},s=function(c){a.log(qq.format("Failed to retrieve key name for {}.  Reason: {}",t,c||"null"),"error"),r(c)},l=e.call(this,t);qq.isGenericPromise(l)?l.then(o,s):l==null?s():o(l)},_getEndpointSpecificParams:function(e,t,n){var r={key:this.getKey(e),uuid:this.getUuid(e),name:this.getName(e),bucket:this.getBucket(e)};return n&&n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):t.etag&&(r.etag=t.etag),r},_onSubmitDelete:function(e,t){var n={key:this.getKey(e),bucket:this.getBucket(e)};return qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,e,t,n)},_addCannedFile:function(e){var t;if(e.s3Key==null)throw new qq.Error("Did not find s3Key property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedKeys[t]=e.s3Key,this._cannedBuckets[t]=e.s3Bucket,t}})}(),window.Uint8ClampedArray||(window.Uint8ClampedArray=function(){}),qq.s3.RequestSigner=function(e){var t,n=this,r={},a={expectingPolicy:!1,method:"POST",signatureSpec:{drift:0,credentialsProvider:{},endpoint:null,customHeaders:{},version:2},maxConnections:3,endpointStore:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(g,v){}},o,s=function(g,v,_){var y=g.getHeaders();a.signatureSpec.version===4?y.Authorization=qq.s3.util.V4_ALGORITHM_PARAM_VALUE+" Credential="+a.signatureSpec.credentialsProvider.get().accessKey+"/"+qq.s3.util.getCredentialsDate(g.getRequestDate())+"/"+a.signatureSpec.region+"/s3/aws4_request,SignedHeaders="+g.getSignedHeaders()+",Signature="+v:y.Authorization="AWS "+a.signatureSpec.credentialsProvider.get().accessKey+":"+v,_.success(y,g.getEndOfUrl())},l={getStringToSign:function(g){return qq.format(`{}
{}
{}

{}/{}/{}`,g.method,g.contentMd5||"",g.contentType||"",g.headersStr||`
`,g.bucket,g.endOfUrl)},signApiRequest:function(g,v,_){var y=qq.CryptoJS.enc.Utf8.parse(v),q=qq.CryptoJS.HmacSHA1(y,o.get().secretKey),b=qq.CryptoJS.enc.Base64.stringify(q);s(g,b,_)},signPolicy:function(g,v,_,y){var q=JSON.stringify(g),b=qq.CryptoJS.enc.Utf8.parse(q),x=qq.CryptoJS.enc.Base64.stringify(b),E=qq.CryptoJS.HmacSHA1(x,o.get().secretKey),T=qq.CryptoJS.enc.Base64.stringify(E);v.success({policy:x,signature:T},_,y)}},c={getCanonicalQueryString:function(g){var v=g.indexOf("?"),_="",y,q,b;return v>=0&&(y={},b=g.substr(v+1).split("&"),qq.each(b,function(x,E){var T=E.split("="),k=T[1];k==null&&(k=""),y[encodeURIComponent(T[0])]=encodeURIComponent(k)}),q=Object.keys(y).sort(),q.forEach(function(x,E){_+=x+"="+y[x],E<q.length-1&&(_+="&")})),_},getCanonicalRequest:function(g){return qq.format(`{}
{}
{}
{}
{}
{}`,g.method,c.getCanonicalUri(g.endOfUrl),c.getCanonicalQueryString(g.endOfUrl),g.headersStr||`
`,c.getSignedHeaders(g.headerNames),g.hashedContent)},getCanonicalUri:function(g){var v=g,_=g.indexOf("?");return _>0&&(v=g.substr(0,_)),"/"+v},getEncodedHashedPayload:function(g){var v=new qq.Promise,_;return qq.isBlob(g)?(_=new FileReader,_.onloadend=function(y){if(y.target.readyState===FileReader.DONE)if(y.target.error)v.failure(y.target.error);else{var q=qq.CryptoJS.lib.WordArray.create(y.target.result);v.success(qq.CryptoJS.SHA256(q).toString())}},_.readAsArrayBuffer(g)):(g=g||"",v.success(qq.CryptoJS.SHA256(g).toString())),v},getScope:function(g,v){return qq.s3.util.getCredentialsDate(g)+"/"+v+"/s3/aws4_request"},getStringToSign:function(g){var v=c.getCanonicalRequest(g),_=qq.s3.util.getV4PolicyDate(g.date,g.drift),y=qq.CryptoJS.SHA256(v).toString(),q=c.getScope(g.date,a.signatureSpec.region),b=`AWS4-HMAC-SHA256
{}
{}
{}`;return{hashed:qq.format(b,_,q,y),raw:qq.format(b,_,q,v)}},getSignedHeaders:function(g){var v="";return g.forEach(function(_,y){v+=_.toLowerCase(),y<g.length-1&&(v+=";")}),v},signApiRequest:function(g,v,_){var y=o.get().secretKey,q=/.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/,b=q.exec(v),x,E,T,k;x=qq.CryptoJS.HmacSHA256(b[1],"AWS4"+y),E=qq.CryptoJS.HmacSHA256(b[2],x),T=qq.CryptoJS.HmacSHA256("s3",E),k=qq.CryptoJS.HmacSHA256("aws4_request",T),s(g,qq.CryptoJS.HmacSHA256(v,k),_)},signPolicy:function(g,v,_,y){var q=JSON.stringify(g),b=qq.CryptoJS.enc.Utf8.parse(q),x=qq.CryptoJS.enc.Base64.stringify(b),E=o.get().secretKey,T=/.+\/(.+)\/(.+)\/s3\/aws4_request/,k=function(){var O=null;return qq.each(g.conditions,function(D,R){var w=R["x-amz-credential"];if(w)return O=w,!1}),O}(),A,M,S,C,I;A=T.exec(k),M=qq.CryptoJS.HmacSHA256(A[1],"AWS4"+E),S=qq.CryptoJS.HmacSHA256(A[2],M),C=qq.CryptoJS.HmacSHA256("s3",S),I=qq.CryptoJS.HmacSHA256("aws4_request",C),v.success({policy:x,signature:qq.CryptoJS.HmacSHA256(x,I).toString()},_,y)}};qq.extend(a,e,!0),o=a.signatureSpec.credentialsProvider;function u(g,v,_){var y=v.responseText,q=r[g],b=q.promise,x=q.signatureConstructor,E,T;if(delete r[g],y)try{T=qq.parseJson(y)}catch(k){a.log("Error attempting to parse signature response: "+k,"error")}T&&T.error?(_=!0,E=T.error):T&&T.invalid?(_=!0,E="Invalid policy document or request headers!"):T?a.expectingPolicy&&!T.policy?(_=!0,E="Response does not include the base64 encoded policy!"):T.signature||(_=!0,E="Response does not include the signature!"):(_=!0,E="Received an empty or invalid response from the server!"),_?(E&&a.log(E,"error"),b.failure(E)):x?s(x,T.signature,b):b.success(T)}function f(g,v,_){var y=new qq.Promise,q="POST",b=[],x="",E=new Date,T,k,A,M=function(S){var C,I=[];return qq.each(S.headers,function(O){b.push(O)}),b.sort(),qq.each(b,function(O,D){qq.indexOf(qq.s3.util.UNSIGNABLE_REST_HEADER_NAMES,D)<0?x+=D.toLowerCase()+":"+S.headers[D].trim()+`
`:D==="Content-MD5"?C=S.headers[D]:I.unshift(O)}),qq.each(I,function(O,D){b.splice(D,1)}),k={bucket:S.bucket,contentMd5:C,contentType:S.contentType,date:E,drift:a.signatureSpec.drift,endOfUrl:T,hashedContent:S.hashedContent,headerNames:b,headersStr:x,method:q},A=v===2?l.getStringToSign(k):c.getStringToSign(k),{date:E,endOfUrl:T,signedHeaders:v===4?c.getSignedHeaders(k.headerNames):null,toSign:v===4?A.hashed:A,toSignRaw:v===4?A.raw:A}};switch(_.type){case n.REQUEST_TYPE.MULTIPART_ABORT:q="DELETE",T=qq.format("uploadId={}",_.uploadId);break;case n.REQUEST_TYPE.MULTIPART_INITIATE:T="uploads";break;case n.REQUEST_TYPE.MULTIPART_COMPLETE:T=qq.format("uploadId={}",_.uploadId);break;case n.REQUEST_TYPE.MULTIPART_UPLOAD:q="PUT",T=qq.format("partNumber={}&uploadId={}",_.partNum,_.uploadId);break}return T=_.key+"?"+T,v===4?c.getEncodedHashedPayload(_.content).then(function(S){_.headers["x-amz-content-sha256"]=S,_.headers.Host=_.host,_.headers["x-amz-date"]=qq.s3.util.getV4PolicyDate(E,a.signatureSpec.drift),_.hashedContent=S,y.success(M(_))},function(S){y.failure(S)}):y.success(M(_)),y}function m(g,v,_,y,q){var b;v.signatureConstructor?(q&&(b=v.signatureConstructor.getHeaders(),b[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=q,v.signatureConstructor.withHeaders(b)),v.signatureConstructor.getToSign(g).then(function(x){d(v.signatureConstructor,x.stringToSign,_)},function(x){_.failure(x)})):(q&&qq.s3.util.refreshPolicyCredentials(v,q),h(v,_,y,q))}function h(g,v,_,y){a.signatureSpec.version===4?c.signPolicy(g,v,_,y):l.signPolicy(g,v,_,y)}function d(g,v,_){a.signatureSpec.version===4?c.signApiRequest(g,v,_):l.signApiRequest(g,v,_)}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:a.method,contentType:"application/json; charset=utf-8",endpointStore:{get:function(){return a.signatureSpec.endpoint}},paramsStore:a.paramsStore,maxConnections:a.maxConnections,customHeaders:a.signatureSpec.customHeaders,log:a.log,onComplete:u,cors:a.cors})),qq.extend(this,{getSignature:function(g,v){var _=v,y=v.signatureConstructor,q=new qq.Promise,b;return a.signatureSpec.version===4&&(b={v4:!0}),o.get().secretKey&&qq.CryptoJS?o.get().expiration.getTime()>Date.now()?m(g,v,q):o.onExpired().then(function(){m(g,v,q,o.get().accessKey,o.get().sessionToken)},function(x){a.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ","error"),q.failure("Unable to sign request - expired credentials.")}):(a.log("Submitting S3 signature request for "+g),y?y.getToSign(g).then(function(x){_={headers:x.stringToSignRaw},t.initTransport(g).withParams(_).withQueryParams(b).send()},function(x){a.log("Failed to construct signature. ","error"),q.failure("Failed to construct signature.")}):t.initTransport(g).withParams(_).withQueryParams(b).send(),r[g]={promise:q,signatureConstructor:y}),q},constructStringToSign:function(g,v,_,y){var q={},b,x,E,T,k;return{withHeaders:function(A){return q=A,this},withUploadId:function(A){return b=A,this},withContent:function(A){return x=A,this},withContentType:function(A){return E=A,this},withPartNum:function(A){return T=A,this},getToSign:function(A){var M=o.get().sessionToken,S=new qq.Promise,C=new Date(Date.now()+a.signatureSpec.drift);return q["x-amz-date"]=C.toUTCString(),M&&(q[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=M),f(A,a.signatureSpec.version,{bucket:v,content:x,contentType:E,headers:q,host:_,key:y,partNum:T,type:g,uploadId:b}).then(function(I){k=I,S.success({headers:function(){return E&&(q["Content-Type"]=E),delete q.Host,q}(),date:k.date,endOfUrl:k.endOfUrl,signedHeaders:k.signedHeaders,stringToSign:k.toSign,stringToSignRaw:k.toSignRaw})},function(I){S.failure(I)}),S},getHeaders:function(){return qq.extend({},q)},getEndOfUrl:function(){return k&&k.endOfUrl},getRequestDate:function(){return k&&k.date},getSignedHeaders:function(){return k&&k.signedHeaders}}}})},qq.s3.RequestSigner.prototype.REQUEST_TYPE={MULTIPART_INITIATE:"multipart_initiate",MULTIPART_COMPLETE:"multipart_complete",MULTIPART_ABORT:"multipart_abort",MULTIPART_UPLOAD:"multipart_upload"},qq.UploadSuccessAjaxRequester=function(e){var t,n=[],r={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(o,s){}};qq.extend(r,e);function a(o,s,l){var c=n[o],u=s.responseText,f={success:!0},m={success:!1},h;delete n[o],r.log(qq.format("Received the following response body to an upload success request for id {}: {}",o,u));try{h=qq.parseJson(u),l||h&&(h.error||h.success===!1)?(r.log("Upload success request was rejected by the server.","error"),c.failure(qq.extend(h,m))):(r.log("Upload success was acknowledged by the server."),c.success(qq.extend(h,f)))}catch{l?(r.log(qq.format("Your server indicated failure in its upload success request response for id {}!",o),"error"),c.failure(m)):(r.log("Upload success was acknowledged by the server."),c.success(f))}}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:r.method,endpointStore:{get:function(){return r.endpoint}},paramsStore:r.paramsStore,maxConnections:r.maxConnections,customHeaders:r.customHeaders,log:r.log,onComplete:a,cors:r.cors})),qq.extend(this,{sendSuccessRequest:function(o,s){var l=new qq.Promise;return r.log("Submitting upload success request/notification for "+o),t.initTransport(o).withParams(s).send(),n[o]=l,l}})},qq.s3.InitiateMultipartAjaxRequester=function(e){var t,n={},r={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,aclStore:null,reducedRedundancy:!1,serverSideEncryption:!1,maxConnections:3,getContentType:function(l){},getBucket:function(l){},getHost:function(l){},getKey:function(l){},getName:function(l){},log:function(l,c){}},a;qq.extend(r,e),a=new qq.s3.RequestSigner({endpointStore:r.endpointStore,signatureSpec:r.signatureSpec,cors:r.cors,log:r.log});function o(l){var c=r.getBucket(l),u=r.getHost(l),f={},m=new qq.Promise,h=r.getKey(l),d;return f["x-amz-acl"]=r.aclStore.get(l),r.reducedRedundancy&&(f[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),r.serverSideEncryption&&(f[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),f[qq.s3.util.AWS_PARAM_PREFIX+r.filenameParam]=encodeURIComponent(r.getName(l)),qq.each(r.paramsStore.get(l),function(g,v){qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,g)>=0?f[g]=v:f[qq.s3.util.AWS_PARAM_PREFIX+g]=encodeURIComponent(v)}),d=a.constructStringToSign(a.REQUEST_TYPE.MULTIPART_INITIATE,c,u,h).withContentType(r.getContentType(l)).withHeaders(f),a.getSignature(l,{signatureConstructor:d}).then(m.success,m.failure),m}function s(l,c,u){var f=n[l],m=new DOMParser,h=m.parseFromString(c.responseText,"application/xml"),d,g,v,_,y;delete n[l],u?(y=c.status,g=h.getElementsByTagName("Message"),g.length>0&&(_=g[0].textContent)):(d=h.getElementsByTagName("UploadId"),d.length>0?v=d[0].textContent:_="Upload ID missing from request"),v===void 0?(_?r.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",l,_),"error"):r.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",l,y),"error"),f.failure("Problem initiating upload request.",c)):(r.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",l,v)),f.success(v,c))}t=qq.extend(this,new qq.AjaxRequester({method:r.method,contentType:null,endpointStore:r.endpointStore,maxConnections:r.maxConnections,allowXRequestedWithAndCacheControl:!1,log:r.log,onComplete:s,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(l){var c=new qq.Promise;return o(l).then(function(u,f){r.log("Submitting S3 initiate multipart upload request for "+l),n[l]=c,t.initTransport(l).withPath(f).withHeaders(u).send()},c.failure),c}})},qq.s3.CompleteMultipartAjaxRequester=function(e){var t,n={},r={method:"POST",contentType:"text/xml",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(c){},getHost:function(c){},getKey:function(c){},log:function(c,u){}},a;qq.extend(r,e),a=new qq.s3.RequestSigner({endpointStore:r.endpointStore,signatureSpec:r.signatureSpec,cors:r.cors,log:r.log});function o(c,u,f){var m=new qq.Promise,h=r.getBucket(c),d=r.getHost(c),g=a.constructStringToSign(a.REQUEST_TYPE.MULTIPART_COMPLETE,h,d,r.getKey(c)).withUploadId(u).withContent(f).withContentType("application/xml; charset=UTF-8");return a.getSignature(c,{signatureConstructor:g}).then(m.success,m.failure),m}function s(c,u,f){var m=n[c],h=new DOMParser,d=r.getBucket(c);r.getKey(c);var g=h.parseFromString(u.responseText,"application/xml"),v=g.getElementsByTagName("Bucket"),_=g.getElementsByTagName("Key");delete n[c],r.log(qq.format("Complete response status {}, body = {}",u.status,u.responseText)),f?r.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",c,u.status),"error"):v.length&&_.length?v[0].textContent!==d&&(f=!0,r.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",c),"error")):(f=!0,r.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",c),"error")),f?m.failure("Problem combining the file parts!",u):m.success({},u)}function l(c){var u=document.implementation.createDocument(null,"CompleteMultipartUpload",null);return c.sort(function(f,m){return f.part-m.part}),qq.each(c,function(f,m){var h=m.part,d=m.etag,g=u.createElement("Part"),v=u.createElement("PartNumber"),_=u.createTextNode(h),y=u.createTextNode(d),q=u.createElement("ETag");q.appendChild(y),v.appendChild(_),g.appendChild(v),g.appendChild(q),qq(u).children()[0].appendChild(g)}),new XMLSerializer().serializeToString(u)}t=qq.extend(this,new qq.AjaxRequester({method:r.method,contentType:"application/xml; charset=UTF-8",endpointStore:r.endpointStore,maxConnections:r.maxConnections,allowXRequestedWithAndCacheControl:!1,log:r.log,onComplete:s,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(c,u,f){var m=new qq.Promise,h=l(f);return o(c,u,h).then(function(d,g){r.log("Submitting S3 complete multipart upload request for "+c),n[c]=m,delete d["Content-Type"],t.initTransport(c).withPath(g).withHeaders(d).withPayload(h).send()},m.failure),m}})},qq.s3.AbortMultipartAjaxRequester=function(e){var t,n={method:"DELETE",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(s){},getHost:function(s){},getKey:function(s){},log:function(s,l){}},r;qq.extend(n,e),r=new qq.s3.RequestSigner({endpointStore:n.endpointStore,signatureSpec:n.signatureSpec,cors:n.cors,log:n.log});function a(s,l){var c=new qq.Promise,u=n.getBucket(s),f=n.getHost(s),m=r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_ABORT,u,f,n.getKey(s)).withUploadId(l);return r.getSignature(s,{signatureConstructor:m}).then(c.success,c.failure),c}function o(s,l,c){var u=new DOMParser,f=u.parseFromString(l.responseText,"application/xml"),m=f.getElementsByTagName("Error"),h;n.log(qq.format("Abort response status {}, body = {}",l.status,l.responseText)),c?n.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",s,l.status),"error"):m.length?(c=!0,h=f.getElementsByTagName("Message")[0].textContent,n.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",s,h),"error")):n.log(qq.format("Abort MPU request succeeded for file ID {}.",s))}t=qq.extend(this,new qq.AjaxRequester({validMethods:["DELETE"],method:n.method,contentType:null,endpointStore:n.endpointStore,maxConnections:n.maxConnections,allowXRequestedWithAndCacheControl:!1,log:n.log,onComplete:o,successfulResponseCodes:{DELETE:[204]}})),qq.extend(this,{send:function(s,l){a(s,l).then(function(c,u){n.log("Submitting S3 Abort multipart upload request for "+s),t.initTransport(s).withPath(u).withHeaders(c).send()})}})},qq.s3.XhrUploadHandler=function(e,t){var n=t.getName,r=t.log,a=e.clockDrift,o=200,s=e.getBucket,l=e.getHost,c=e.getKeyName,u=e.filenameParam,f=e.paramsStore,m=e.endpointStore,h=e.aclStore,d=e.objectProperties.reducedRedundancy,g=e.objectProperties.region,v=e.objectProperties.serverSideEncryption,_=e.validation,y=qq.extend({region:g,drift:a},e.signature),q=this,b=e.signature.credentialsProvider,x={combine:function(A){var M=q._getPersistableData(A).uploadId,S=q._getPersistableData(A).etags,C=new qq.Promise;return E.completeMultipart.send(A,M,S).then(C.success,function(O,D){C.failure(k.done(A,D).response,D)}),C},done:function(A,M,S){var C=k.response.parse(A,M),I;C.success&&(I=M.getResponseHeader("ETag"),q._getPersistableData(A).etags||(q._getPersistableData(A).etags=[]),q._getPersistableData(A).etags.push({part:S+1,etag:I}))},initHeaders:function(A,M,S){var C=k.bucket.getName(A),I=k.host.getName(A),O=k.key.urlSafe(A),D=new qq.Promise,R=E.restSignature.constructStringToSign(E.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD,C,I,O).withPartNum(M+1).withContent(S).withUploadId(q._getPersistableData(A).uploadId);return E.restSignature.getSignature(A+"."+M,{signatureConstructor:R}).then(D.success,D.failure),D},put:function(A,M){var S=q._createXhr(A,M),C=q._getChunkData(A,M),I=e.endpointStore.get(A),O=new qq.Promise;return x.initHeaders(A,M,C.blob).then(function(D,R){if(S._cancelled)r(qq.format("Upload of item {}.{} cancelled. Upload will not start after successful signature request.",A,M)),O.failure({error:"Chunk upload cancelled"});else{var w=I+"/"+R;q._registerProgressHandler(A,M,C.size),k.track(A,S,M).then(O.success,O.failure),S.open("PUT",w,!0);var B=!1;qq.each(D,function(G,U){G==="Content-Type"&&(B=!0),S.setRequestHeader(G,U)}),B||S.setRequestHeader("Content-Type",""),S.send(C.blob)}},function(){O.failure({error:"Problem signing the chunk!"},S)}),O},send:function(A,M){var S=new qq.Promise;return x.setup(A).then(function(){x.put(A,M).then(S.success,S.failure)},function(C,I){S.failure({error:C},I)}),S},setup:function(A){var M=new qq.Promise,S=q._getPersistableData(A).uploadId,C=new qq.Promise;return S?S instanceof qq.Promise?S.then(function(I){M.success(I)}):M.success(S):(q._getPersistableData(A).uploadId=C,E.initiateMultipart.send(A).then(function(I){q._getPersistableData(A).uploadId=I,C.success(I),M.success(I)},function(I,O){q._getPersistableData(A).uploadId=null,M.failure(I,O),C.failure(I,O)})),M}},E={abortMultipart:new qq.s3.AbortMultipartAjaxRequester({endpointStore:m,signatureSpec:y,cors:e.cors,log:r,getBucket:function(A){return k.bucket.getName(A)},getHost:function(A){return k.host.getName(A)},getKey:function(A){return k.key.urlSafe(A)}}),completeMultipart:new qq.s3.CompleteMultipartAjaxRequester({endpointStore:m,signatureSpec:y,cors:e.cors,log:r,getBucket:function(A){return k.bucket.getName(A)},getHost:function(A){return k.host.getName(A)},getKey:function(A){return k.key.urlSafe(A)}}),initiateMultipart:new qq.s3.InitiateMultipartAjaxRequester({filenameParam:u,endpointStore:m,paramsStore:f,signatureSpec:y,aclStore:h,reducedRedundancy:d,serverSideEncryption:v,cors:e.cors,log:r,getContentType:function(A){return q._getMimeType(A)},getBucket:function(A){return k.bucket.getName(A)},getHost:function(A){return k.host.getName(A)},getKey:function(A){return k.key.urlSafe(A)},getName:function(A){return n(A)}}),policySignature:new qq.s3.RequestSigner({expectingPolicy:!0,signatureSpec:y,cors:e.cors,log:r}),restSignature:new qq.s3.RequestSigner({endpointStore:m,signatureSpec:y,cors:e.cors,log:r})},T={initParams:function(A){var M=f.get(A);return M[u]=n(A),qq.s3.util.generateAwsParams({endpoint:m.get(A),clockDrift:a,params:M,type:q._getMimeType(A),bucket:k.bucket.getName(A),key:q.getThirdPartyFileId(A),accessKey:b.get().accessKey,sessionToken:b.get().sessionToken,acl:h.get(A),expectedStatus:o,minFileSize:_.minSizeLimit,maxFileSize:_.maxSizeLimit,reducedRedundancy:d,region:g,serverSideEncryption:v,signatureVersion:y.version,log:r},qq.bind(E.policySignature.getSignature,this,A))},send:function(A){var M=new qq.Promise,S=q._createXhr(A),C=q.getFile(A);return q._registerProgressHandler(A),k.track(A,S).then(M.success,M.failure),T.setup(A,S,C).then(function(I){r("Sending upload request for "+A),S.send(I)},M.failure),M},setup:function(A,M,S){var C=new FormData,I=m.get(A),O=I,D=new qq.Promise;return T.initParams(A).then(function(R){M.open("POST",O,!0),qq.obj2FormData(R,C),C.append("file",S),D.success(C)},function(R){D.failure({error:R})}),D}},k={bucket:{promise:function(A){var M=new qq.Promise,S=q._getFileState(A).bucket;return S?M.success(S):s(A).then(function(C){q._getFileState(A).bucket=C,M.success(C)},M.failure),M},getName:function(A){return q._getFileState(A).bucket}},host:{promise:function(A){var M=new qq.Promise,S=q._getFileState(A).host;return S?M.success(S):l(A).then(function(C){q._getFileState(A).host=C,M.success(C)},M.failure),M},getName:function(A){return q._getFileState(A).host}},done:function(A,M){var S=k.response.parse(A,M),C=S.success!==!0;return C&&k.response.shouldReset(S.code)&&(r("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),S.reset=!0),{success:!C,response:S}},key:{promise:function(A){var M=new qq.Promise,S=q.getThirdPartyFileId(A);return S==null?(q._setThirdPartyFileId(A,M),c(A,n(A)).then(function(C){q._setThirdPartyFileId(A,C),M.success(C)},function(C){q._setThirdPartyFileId(A,null),M.failure(C)})):qq.isGenericPromise(S)?S.then(M.success,M.failure):M.success(S),M},urlSafe:function(A){var M=q.getThirdPartyFileId(A);return qq.s3.util.uriEscapePath(M)}},response:{parse:function(A,M){var S={},C;try{r(qq.format("Received response status {} with body: {}",M.status,M.responseText)),M.status===o?S.success=!0:(C=k.response.parseError(M.responseText),C&&(S.error=C.message,S.code=C.code))}catch(I){r("Error when attempting to parse xhr response text ("+I.message+")","error")}return S},parseError:function(A){var M=new DOMParser,S=M.parseFromString(A,"application/xml"),C=S.getElementsByTagName("Error"),I={},O,D;if(C.length)return O=S.getElementsByTagName("Code"),D=S.getElementsByTagName("Message"),D.length&&(I.message=D[0].textContent),O.length&&(I.code=O[0].textContent),I},shouldReset:function(A){return A==="EntityTooSmall"||A==="InvalidPart"||A==="InvalidPartOrder"||A==="NoSuchUpload"}},start:function(A){var M=A.id,S=A.chunkIdx,C=new qq.Promise;return k.key.promise(M).then(function(){k.bucket.promise(M).then(function(){k.host.promise(M).then(function(){S==null?T.send(M).then(C.success,C.failure):x.send(M,S).then(C.success,C.failure)})})},function(I){C.failure({error:I})}),C},track:function(A,M,S){var C=new qq.Promise;return M.onreadystatechange=function(){if(M.readyState===4){var I;S==null?(I=k.done(A,M),C[I.success?"success":"failure"](I.response,M)):(x.done(A,M,S),I=k.done(A,M),C[I.success?"success":"failure"](I.response,M))}},C}};qq.extend(this,{uploadChunk:k.start,uploadFile:function(A){return k.start({id:A})}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"s3"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(A){return{expunge:function(M){var S=q._getPersistableData(M)&&q._getPersistableData(M).uploadId,C=q._maybeDeletePersistedChunkData(M);S!==void 0&&C&&E.abortMultipart.send(M,S),A.expunge(M)},finalizeChunks:function(M){return x.combine(M)},_getLocalStorageId:function(M){var S=A._getLocalStorageId(M),C=k.bucket.getName(M);return S+"-"+C}}})},qq.s3.FormUploadHandler=function(e,t){var n=this,r=e.clockDrift,a=t.onUuidChanged,o=t.getName,s=t.getUuid,l=t.log,c=e.getBucket,u=e.getKeyName,f=e.filenameParam,m=e.paramsStore,h=e.endpointStore,d=e.aclStore,g=e.objectProperties.reducedRedundancy,v=e.objectProperties.region,_=e.objectProperties.serverSideEncryption,y=e.validation,q=e.signature,b=e.iframeSupport.localBlankPagePath,x=e.signature.credentialsProvider,E=new qq.s3.RequestSigner({signatureSpec:q,cors:e.cors,log:l});if(b===void 0)throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");function T(C,I){e.endpointStore.get(C);var O=n._getFileState(C).bucket,D,R,w;try{if(D=I.contentDocument||I.contentWindow.document,R=D.body.innerHTML,w=qq.s3.util.parseIframeResponse(I),w.bucket===O&&w.key===qq.s3.util.encodeQueryStringParam(n.getThirdPartyFileId(C)))return!0;l("Response from AWS included an unexpected bucket or key name.","error")}catch(B){l("Error when attempting to parse form upload response ("+B.message+")","error")}return!1}function k(C){var I=m.get(C);return I[f]=o(C),qq.s3.util.generateAwsParams({endpoint:h.get(C),clockDrift:r,params:I,bucket:n._getFileState(C).bucket,key:n.getThirdPartyFileId(C),accessKey:x.get().accessKey,sessionToken:x.get().sessionToken,acl:d.get(C),minFileSize:y.minSizeLimit,maxFileSize:y.maxSizeLimit,successRedirectUrl:b,reducedRedundancy:g,region:v,serverSideEncryption:_,signatureVersion:q.version,log:l},qq.bind(E.getSignature,this,C))}function A(C,I){var O=new qq.Promise,D="POST",R=e.endpointStore.get(C);return o(C),k(C).then(function(w){var B=n._initFormForUpload({method:D,endpoint:R,params:w,paramsInBody:!0,targetName:I.name});O.success(B)},function(w){O.failure(w),S(C,I)}),O}function M(C){var I=n._createIframe(C),O=n.getInput(C),D=new qq.Promise;return A(C,I).then(function(R){R.appendChild(O),n._attachLoadEvent(I,function(w){l("iframe loaded"),w?w.success===!1&&(l("Amazon likely rejected the upload request","error"),D.failure(w)):(w={},w.success=T(C,I),w.success===!1?(l("A success response was received by Amazon, but it was invalid in some way.","error"),D.failure(w)):(qq.extend(w,qq.s3.util.parseIframeResponse(I)),D.success(w))),S(C,I)}),l("Sending upload request for "+C),R.submit(),qq(R).remove()},D.failure),D}function S(C,I){n._detachLoadEvent(C),I&&qq(I).remove()}qq.extend(this,new qq.FormUploadHandler({options:{isCors:!1,inputName:"file"},proxy:{onCancel:e.onCancel,onUuidChanged:a,getName:o,getUuid:s,log:l}})),qq.extend(this,{uploadFile:function(C){var I=o(C),O=new qq.Promise;return n.getThirdPartyFileId(C)?n._getFileState(C).bucket?M(C).then(O.success,O.failure):c(C).then(function(D){n._getFileState(C).bucket=D,M(C).then(O.success,O.failure)}):u(C,I).then(function(D){c(C).then(function(R){n._getFileState(C).bucket=R,n._setThirdPartyFileId(C,D),M(C).then(O.success,O.failure)},function(R){O.failure({error:R})})},function(D){O.failure({error:D})}),O}})}})(window)})(s3_fineUploader_core);var s3=s3_fineUploader_core.exports;Object.defineProperty(s3$1,"__esModule",{value:!0});s3$1.qq=void 0;var _baseWrapper$2=baseWrapper,_baseWrapper2$2=_interopRequireDefault$2(_baseWrapper$2),_s=s3,_s2=_interopRequireDefault$2(_s),_callbackNames$2=callbackNames;function _interopRequireDefault$2(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits$2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FineUploaderS3=function(e){_inherits$2(t,e);function t(n){var r=n.options;return _classCallCheck$2(this,t),_possibleConstructorReturn$2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{callbackNames:_callbackNames$2.s3,options:r,qq:_s2.default,type:"s3"}))}return t}(_baseWrapper2$2.default),_default$2=s3$1.default=FineUploaderS3;s3$1.qq=_s2.default;var azure$1={},azure_fineUploader_core={exports:{}};(function(module){(function(global){var qq=function(e){return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return t?e===t?!0:e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&8):!1},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(e.style==null)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return t.opacity!=null&&typeof e.style.opacity!="string"&&typeof e.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!!(n&&r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,a=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,function(o,s){qq(s).hasClass(t)&&a.push(s)}),n?a[0]:a)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)n.nodeType===1&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?e.hasAttribute(t)?/^false$/i.exec(e.getAttribute(t))==null:!1:(n=e[t],n===void 0?!1:/^false$/i.exec(n)==null)}}};(function(){qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r=function(s,l){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,u=c&&new c;return u?(u.append(s),u.getBlob(l)):new Blob([s],{type:l})},a,o;return e.split(",")[0].indexOf("base64")>=0?n=atob(e.split(",")[1]):n=decodeURI(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),a=new Uint8Array(t),qq.each(n,function(s,l){a[s]=l.charCodeAt(0)}),r(t,o)},qq.log=function(e,t){window.console&&(!t||t==="info"?window.console.log(e):window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e))},qq.isObject=function(e){return e&&!e.nodeType&&Object.prototype.toString.call(e)==="[object Object]"},qq.isFunction=function(e){return typeof e=="function"},qq.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return Object.prototype.toString.call(e)==="[object DataTransferItemList]"},qq.isNodeList=function(e){return Object.prototype.toString.call(e)==="[object NodeList]"||e.item&&e.namedItem},qq.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,function(a,o){var s=n.substring(0,r),l=n.substring(r+2);if(n=s+o+l,r=n.indexOf("{}",r+o.length),r<0)return!1}),n},qq.isFile=function(e){return window.File&&Object.prototype.toString.call(e)==="[object File]"},qq.isFileList=function(e){return window.FileList&&Object.prototype.toString.call(e)==="[object FileList]"},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(r){var a=r.toLowerCase();return t?a!=="file":a==="file"};return!!(window.HTMLInputElement&&Object.prototype.toString.call(e)==="[object HTMLInputElement]"&&e.type&&n(e.type)||e.tagName&&e.tagName.toLowerCase()==="input"&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&Object.prototype.toString.call(e)==="[object Blob]")return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",e.multiple!==void 0&&typeof File!="undefined"&&typeof FormData!="undefined"&&typeof qq.createXhrInstance().upload!="undefined"},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch{return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(File.prototype.slice!==void 0||File.prototype.webkitSlice!==void 0||File.prototype.mozSlice!==void 0)},qq.sliceBlob=function(e,t,n){var r=e.slice||e.mozSlice||e.webkitSlice;return r.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(r,a){var o=a.toString(16);o.length<2&&(o="0"+o),t+=o}),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),a=new FileReader,o=new qq.Promise;return a.onload=function(){o.success(qq.arrayBufferToHex(a.result))},a.onerror=o.failure,a.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,function(r,a){n&&qq.isObject(a)?(e[r]===void 0&&(e[r]={}),qq.extend(e[r],a,!0)):e[r]=a}),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,function(a,o){e[a]!==void 0&&(n[a]=e[a]),e[a]=o}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},qq.ie=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1},qq.ie7=function(){return navigator.userAgent.indexOf("MSIE 7")!==-1},qq.ie8=function(){return navigator.userAgent.indexOf("MSIE 8")!==-1},qq.ie10=function(){return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.ie11=function(){return qq.ie()&&navigator.userAgent.indexOf("rv:11")!==-1},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Google")!==-1},qq.opera=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Opera")!==-1},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&navigator.userAgent.indexOf("Mozilla")!==-1&&navigator.vendor!==void 0&&navigator.vendor===""},qq.windows=function(){return navigator.platform==="Win32"},qq.android=function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 6_")!==-1},qq.ios7=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 7_")!==-1},qq.ios8=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_")!==-1},qq.ios800=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_0 ")!==-1},qq.ios=function(){return navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPod")!==-1||navigator.userAgent.indexOf("iPhone")!==-1},qq.iosChrome=function(){return qq.ios()&&navigator.userAgent.indexOf("CriOS")!==-1},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&navigator.userAgent.indexOf("Safari")!==-1},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,r;if(e){if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(r=t(e.key(n),e.getItem(e.key(n))),r!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(r=t(n,e[n]),r!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(r=t(n,e.charAt(n)),r!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(r=t(n,e[n]),r===!1))break}},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],a="&",o=function(s,l){var c=t?/\[\]$/.test(t)?t:t+"["+l+"]":l;c!=="undefined"&&l!=="undefined"&&r.push(typeof s=="object"?qq.obj2url(s,c,!0):Object.prototype.toString.call(s)==="[object Function]"?encodeURIComponent(c)+"="+encodeURIComponent(s()):encodeURIComponent(c)+"="+encodeURIComponent(s))};return!n&&t?(a=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined"?qq.each(e,function(s,l){o(l,s)}):typeof e!="undefined"&&e!==null&&typeof e=="object"?qq.each(e,function(s,l){o(l,s)}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(a):r.join(a).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(r,a){r=n?n+"["+r+"]":r,qq.isObject(a)?qq.obj2FormData(a,t,r):qq.isFunction(a)?t.append(r,a()):t.append(r,a)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(r,a){n=document.createElement("input"),n.setAttribute("name",r),n.setAttribute("value",a),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&e.fileName!==null&&e.fileName!==void 0?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var t=arguments;this.addDisposer(qq(t[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}})(),function(){module.exports?module.exports=qq:global.qq=qq}(),function(){qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){var e,t,n,r,a,o,s,l,c,u,f,m,h,d,g;function v(){var k=!0,A;try{A=document.createElement("input"),A.type="file",qq(A).hide(),A.disabled&&(k=!1)}catch{k=!1}return k}function _(){return(qq.chrome()||qq.opera())&&navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)!==void 0}function y(){if(window.XMLHttpRequest){var k=qq.createXhrInstance();return k.withCredentials!==void 0}return!1}function q(){return window.XDomainRequest!==void 0}function b(){return y()?!0:q()}function x(){return document.createElement("input").webkitdirectory!==void 0}function E(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch{return!1}}function T(){var k=document.createElement("span");return("draggable"in k||"ondragstart"in k&&"ondrop"in k)&&!qq.android()&&!qq.ios()}return e=v(),r=e&&qq.isXhrUploadSupported(),t=r&&!qq.androidStock(),n=r&&T(),a=n&&function(){var k=document.createElement("input");return k.type="file","webkitdirectory"in(k||document.querySelectorAll("input[type=file]")[0])}(),o=r&&qq.isFileChunkingSupported(),s=r&&o&&E(),l=r&&_(),c=e&&(window.postMessage!==void 0||r),f=y(),u=q(),m=b(),h=x(),d=r&&window.FileReader!==void 0,g=function(){return r?!qq.androidStock()&&!qq.iosChrome():!1}(),{ajaxUploading:r,blobUploading:t,canDetermineSize:r,chunking:o,deleteFileCors:m,deleteFileCorsXdr:u,deleteFileCorsXhr:f,dialogElement:!!window.HTMLDialogElement,fileDrop:n,folderDrop:a,folderSelection:h,imagePreviews:d,imageValidation:d,itemSizeValidation:r,pause:o,progressBar:g,resume:s,scaling:d&&t,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:e,uploadCors:c,uploadCustomHeaders:r,uploadNonMultipart:r,uploadViaPaste:l}}(),qq.isGenericPromise=function(e){return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){var e,t,n=[],r=[],a=[],o=0;qq.extend(this,{then:function(s,l){return o===0?(s&&n.push(s),l&&r.push(l)):o===-1?l&&l.apply(null,t):s&&s.apply(null,e),this},done:function(s){return o===0?a.push(s):s.apply(null,t===void 0?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(s,l){l.apply(null,e)}),a.length&&qq.each(a,function(s,l){l.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,function(s,l){l.apply(null,t)}),a.length&&qq.each(a,function(s,l){l.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){var t=this,n=new qq.DisposeSupport,r={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(l){},title:null},a,o;qq.extend(r,e),o=qq.getUniqueId();function s(){var l=document.createElement("input");return l.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,o),l.setAttribute("title",r.title),t.setMultiple(r.multiple,l),r.folders&&qq.supportedFeatures.folderSelection&&l.setAttribute("webkitdirectory",""),r.acceptFiles&&l.setAttribute("accept",r.acceptFiles),l.setAttribute("type","file"),l.setAttribute("name",r.name),qq(l).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(l).css({height:"100%"}),r.element.appendChild(l),n.attach(l,"change",function(){r.onChange(l)}),n.attach(l,"mouseover",function(){qq(r.element).addClass(r.hoverClass)}),n.attach(l,"mouseout",function(){qq(r.element).removeClass(r.hoverClass)}),n.attach(l,"focus",function(){qq(r.element).addClass(r.focusClass)}),n.attach(l,"blur",function(){qq(r.element).removeClass(r.focusClass)}),l}qq(r.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return a},getButtonId:function(){return o},setMultiple:function(l,c){var u=c||this.getInput();r.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())||l?u.setAttribute("multiple",""):u.removeAttribute("multiple")},setAcceptFiles:function(l){l!==r.acceptFiles&&a.setAttribute("accept",l)},reset:function(){a.parentNode&&qq(a).remove(),qq(r.element).removeClass(r.focusClass),a=null,a=s()}}),a=s()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){var t=[],n={},r={},a={},o={};function s(u){if(qq.isArray(u)){var f=[];return qq.each(u,function(m,h){f.push(t[h])}),f}return t[u]}function l(u){if(qq.isArray(u)){var f=[];return qq.each(u,function(m,h){f.push(t[n[h]])}),f}return t[n[u]]}function c(u){var f=[],m=[].concat(u);return qq.each(m,function(h,d){var g=r[d];g!==void 0&&qq.each(g,function(v,_){f.push(t[_])})}),f}qq.extend(this,{addFile:function(u){var f=u.status||qq.status.SUBMITTING,m=t.push({name:u.name,originalName:u.name,uuid:u.uuid,size:u.size==null?-1:u.size,status:f,file:u.file})-1;return u.batchId&&(t[m].batchId=u.batchId,o[u.batchId]===void 0&&(o[u.batchId]=[]),o[u.batchId].push(m)),u.proxyGroupId&&(t[m].proxyGroupId=u.proxyGroupId,a[u.proxyGroupId]===void 0&&(a[u.proxyGroupId]=[]),a[u.proxyGroupId].push(m)),t[m].id=m,n[u.uuid]=m,r[f]===void 0&&(r[f]=[]),r[f].push(m),u.onBeforeStatusChange&&u.onBeforeStatusChange(m),e.onStatusChange(m,null,f),m},retrieve:function(u){if(qq.isObject(u)&&t.length){if(u.id!==void 0)return s(u.id);if(u.uuid!==void 0)return l(u.uuid);if(u.status)return c(u.status)}else return qq.extend([],t,!0)},removeFileRef:function(u){var f=s(u);f&&delete f.file},reset:function(){t=[],n={},r={},o={}},setStatus:function(u,f){var m=t[u].status,h=qq.indexOf(r[m],u);r[m].splice(h,1),t[u].status=f,r[f]===void 0&&(r[f]=[]),r[f].push(u),e.onStatusChange(u,m,f)},uuidChanged:function(u,f){var m=t[u].uuid;t[u].uuid=f,n[f]=u,delete n[m]},updateName:function(u,f){t[u].name=f},updateSize:function(u,f){t[u].size=f},setParentId:function(u,f){t[u].parentId=f},getIdsInProxyGroup:function(u){var f=t[u].proxyGroupId;return f?a[f]:[]},getIdsInBatch:function(u){var f=t[u].batchId;return o[f]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(n,r){t._addCannedFile(r)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var r=this._storedIds.length===0?qq.getUniqueId():this._currentBatchId,a=qq.bind(function(h){this._handleNewFile({blob:h,name:this._options.blobs.defaultName},r,m)},this),o=qq.bind(function(h){this._handleNewFile(h,r,m)},this),s=qq.bind(function(h){var d=qq.canvasToBlob(h);this._handleNewFile({blob:d,name:this._options.blobs.defaultName+".png"},r,m)},this),l=qq.bind(function(h){var d=h.quality&&h.quality/100,g=qq.canvasToBlob(h.canvas,h.type,d);this._handleNewFile({blob:g,name:h.name},r,m)},this),c=qq.bind(function(h){if(qq.isInput(h)&&qq.supportedFeatures.ajaxUploading){var d=Array.prototype.slice.call(h.files),g=this;qq.each(d,function(v,_){g._handleNewFile(_,r,m)})}else this._handleNewFile(h,r,m)},this),u=function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)},f=this,m=[];this._currentBatchId=r,e&&(u(),qq.each(e,function(h,d){qq.isFileOrInput(d)?c(d):qq.isBlob(d)?a(d):qq.isObject(d)?d.blob&&d.name?o(d):d.canvas&&d.name&&l(d):d.tagName&&d.tagName.toLowerCase()==="canvas"?s(d):f.log(d+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+m.length+" files."),this._prepareItemsForUpload(m,t,n))},cancel:function(e){var t=this._uploadData.retrieve({id:e});t&&t.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",e,this.getName(e)),"error"):this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(n,r){t.cancel(r)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!qq.supportedFeatures.pause||!this._options.chunking.enabled?!1:t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1)},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,r,a){var o=new qq.Promise,s,l;return this._imageGenerator?(s=this._thumbnailUrls[e],l={customResizeFunction:a,maxSize:n>0?n:null,scale:n>0},!r&&qq.supportedFeatures.imagePreviews&&(s=this.getFile(e)),s==null?o.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(s,t,l).then(function(u){o.success(u)},function(u,f){o.failure({container:u,error:f||"Problem generating thumbnail"})})):o.failure({container:t,error:"Missing image generator module"}),o},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){var t=this._handler.getFile(e),n;return t||(n=this._uploadData.retrieve({id:e}),n&&(t=n.file)),t||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&t.parentId!==void 0&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},isResumable:function(e){return this._handler.hasResumeRecord(e)},log:function(e,t){this._options.debug&&(!t||t==="info")?qq.log("[Fine Uploader "+qq.version+"] "+e):t&&t!=="info"&&qq.log("[Fine Uploader "+qq.version+"] "+e,t)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e),this._uploadData.removeFileRef(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setCustomResumeData:function(e,t){this._customResumeDataStore.set(t,e)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){var n=this.getUploads({id:e});if(!n)throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var r="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(r),new qq.Error(r)}},uploadStoredFiles:function(){this._storedIds.length===0?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,r){e._onDeleteComplete(t,n,r),e._options.callbacks.onDeleteComplete(t,n,r)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},r=e,a={},o=t,s=function(u){return qq.isObject(u)?qq.extend({},u):u},l=function(){return qq.isFunction(o)?o():o},c=function(u,f){o&&qq.isObject(f)&&qq.extend(f,l()),a[u]&&qq.extend(f,a[u])};return{set:function(u,f){f==null?(n={},r=s(u)):n[f]=s(u)},get:function(u){var f;return u!=null&&n[u]?f=n[u]:f=s(r),c(u,f),s(f)},addReadOnly:function(u,f){qq.isObject(n)&&(u===null?qq.isFunction(f)?o=f:(o=o||{},qq.extend(o,f)):(a[u]=a[u]||{},qq.extend(a[u],f)))},remove:function(u){return delete n[u]},reset:function(){n={},a={},r=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,r){e._onUploadStatusChange(t,n,r),e._options.callbacks.onStatusChange(t,n,r),e._maybeAllComplete(t,r),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,r)},0)}})},_createUploadButton:function(e){var t=this,n=e.accept||this._options.validation.acceptFiles,r=e.allowedExtensions||this._options.validation.allowedExtensions,a;function o(){return qq.supportedFeatures.ajaxUploading?t._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&t._isAllowedExtension(r,".mov")?!1:e.multiple===void 0?t._options.multiple:e.multiple:!1}return a=new qq.UploadButton({acceptFiles:n,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:o(),name:this._options.request.inputName,onChange:function(s){t._onInputChange(s)},title:e.title==null?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){a.dispose()}),t._buttons.push(a),a},_createUploadHandler:function(e,t){var n=this,r={},a={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(o,s,l,c){l<0||c<0||(r[o]?(r[o].loaded!==l||r[o].total!==c)&&(n._onProgress(o,s,l,c),n._options.callbacks.onProgress(o,s,l,c)):(n._onProgress(o,s,l,c),n._options.callbacks.onProgress(o,s,l,c)),r[o]={loaded:l,total:c})},onComplete:function(o,s,l,c){delete r[o];var u=n.getUploads({id:o}).status,f;u===qq.status.UPLOAD_SUCCESSFUL||u===qq.status.UPLOAD_FAILED||(f=n._onComplete(o,s,l,c),f instanceof qq.Promise?f.done(function(){n._options.callbacks.onComplete(o,s,l,c)}):n._options.callbacks.onComplete(o,s,l,c))},onCancel:function(o,s,l){var c=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,o,s),onFailure:c.failure,onSuccess:function(){l.then(function(){n._onCancel(o,s)}),c.success()},identifier:o}),c},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(o,s){n._onUpload(o,s);var l=n._options.callbacks.onUpload(o,s);return qq.isGenericPromise(l)?(n.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",o)),l):new qq.Promise().success()},onUploadChunk:function(o,s,l){n._onUploadChunk(o,l);var c=n._options.callbacks.onUploadChunk(o,s,l);return qq.isGenericPromise(c)?(n.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",o,l.partIndex)),c):new qq.Promise().success()},onUploadChunkSuccess:function(o,s,l,c){n._onUploadChunkSuccess(o,s),n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(o,s,l,c){return n._options.callbacks.onResume(o,s,l,c)},onAutoRetry:function(o,s,l,c){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(o,s){n.log("Server requested UUID change from '"+n.getUuid(o)+"' to '"+s+"'"),n.setUuid(o,s)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(o){return n.getUploads({uuid:o})},isQueued:function(o){var s=n.getUploads({id:o}).status;return s===qq.status.QUEUED||s===qq.status.SUBMITTED||s===qq.status.UPLOAD_RETRYING||s===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch,isInProgress:function(o){return n.getUploads({id:o}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(n._getCustomResumeData,n),setStatus:function(o,s){n._uploadData.setStatus(o,s)}};return qq.each(this._options.request,function(o,s){a[o]=s}),a.customHeaders=this._customHeadersStore,e&&qq.each(e,function(o,s){a[o]=s}),new qq.UploadHandlerController(a,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(e===0)return e+this._options.text.sizeSymbols[0];var t=-1;do e=e/1e3,t++;while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var r=n.multiple,a=qq.extend({},e._options.validation,!0),o=qq.extend({},n);r===void 0&&(r=e._options.multiple),o.validation&&qq.extend(a,n.validation,!0),qq.extend(o,{multiple:r,validation:a},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];if(t)return t.element;if(e===this._defaultButtonId)return this._options.button},_getButtonId:function(e){var t,n,r=e;if(r instanceof qq.BlobProxy&&(r=r.referenceBlob),r&&!qq.isBlob(r)){if(qq.isFile(r))return r.qqButtonId;if(r.tagName.toLowerCase()==="input"&&r.type.toLowerCase()==="file")return r.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=r.getElementsByTagName("input"),qq.each(t,function(a,o){if(o.getAttribute("type")==="file")return n=o,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getCustomResumeData:function(e){return this._customResumeDataStore.get(e)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(r,a){n.push(t._getValidationDescriptor(a))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,r=this._options;n&&n!==this._defaultButtonId&&(r=this._extraButtonSpecs[n]),r.multiple=!1,r.validation.acceptFiles===null?r.validation.acceptFiles=e:r.validation.acceptFiles+=","+e,qq.each(this._buttons,function(a,o){if(o.getButtonId()===n)return o.setMultiple(r.multiple),o.setAcceptFiles(r.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(r){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(r)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(n!==!1?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var r=this,a=qq.getUniqueId(),o=-1,s=qq.getFilename(e),l=e.blob||e,c=this._customNewFileHandler?this._customNewFileHandler:qq.bind(r._handleNewFileGeneric,r);!qq.isInput(l)&&l.size>=0&&(o=l.size),c(l,s,a,o,n,t,this._options.request.uuidName,{uploadData:r._uploadData,paramsStore:r._paramsStore,addFileToHandler:function(u,f){r._handler.add(u,f),r._netUploadedOrQueued++,r._trackButton(u)}})},_handleNewFileGeneric:function(e,t,n,r,a,o){var s=this._uploadData.addFile({uuid:n,name:t,size:r,batchId:o,file:e});this._handler.add(s,e),this._trackButton(s),this._netUploadedOrQueued++,a.push({id:s,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],r=t;r==null&&(r=this._options.paste.defaultName),r+="."+n,this.addFiles({name:r,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),!t||t.withCredentials===void 0?this._options.callbacks.onError(e,n,"Delete request failed",t):this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled?!1:this._options.cors.expected?!!(qq.supportedFeatures.deleteFileCorsXhr||qq.supportedFeatures.deleteFileCorsXdr&&this._options.cors.allowXdr):!0},_isAllowedExtension:function(e,t){var n=!1;return e.length?(qq.each(e,function(r,a){if(qq.isString(a)){var o=new RegExp("\\."+a+"$","i");if(t.match(o)!=null)return n=!0,!1}}),n):!0},_itemError:function(e,t,n){var r=this._options.messages[e],a=[],o=[].concat(t),s=o[0],l=this._getButtonId(n),c=this._getValidationBase(l),u,f;function m(h,d){r=r.replace(h,d)}return qq.each(c.allowedExtensions,function(h,d){qq.isString(d)&&a.push(d)}),u=a.join(", ").toLowerCase(),m("{file}",this._options.formatFileName(s)),m("{extensions}",u),m("{sizeLimit}",this._formatSize(c.sizeLimit)),m("{minSizeLimit}",this._formatSize(c.minSizeLimit)),f=r.match(/(\{\w+\})/g),f!==null&&qq.each(f,function(h,d){m(d,o[h])}),this._options.callbacks.onError(null,s,r,void 0),r},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,r=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),r===0&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,r){if(!n.success)if(r&&r.status!==200&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+r.status,r);else{var a=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,a,r)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,r,a){var o=this;if(t.length>n){if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var s=o._getValidationDescriptor(t[n]),l=o._getButtonId(t[n].file),c=o._getButton(l);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,s,c),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,r,a),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,r,a),identifier:"Item '"+s.name+"', size: "+s.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)}},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,r,a){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e)){var s=o._options.retry.autoAttemptDelay*1e3;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),a?a(e):o._handler.retry(e)},s),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t=this._currentItemLimit,n;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(n=this.getName(e),this._options.callbacks.onManualRetry(e,n)===!1?!1:t>0&&this._netUploadedOrQueued+1>t?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+n+"' (id: "+e+")..."),!0)):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,r){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),n[this._options.retry.preventRetryResponseProperty]===!0&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,r),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e),n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(n,r){r.reset()})},_onProgress:function(e,t,n,r){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,r)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var r=this.getUuid(e),a;return t&&(a=qq.bind(t,this,e,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:a||qq.bind(this._deleteHandler.sendDelete,this,e,r,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadChunkSuccess:function(e,t){!this._preventRetries[e]&&this._options.retry.enableAuto&&(this._autoRetries[e]=0)},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(n,r){t._fileOrBlobRejected(r.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,r,a){var o,s=this._currentItemLimit,l=this._netUploadedOrQueued;s===0||l<=s?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],a),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,r),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,r),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,l).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,r){var a=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,a,n,r)},_onValidateCallbackSuccess:function(e,t,n,r){var a=this,o=t+1,s=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],s).then(function(){a._upload(e[t].id,n,r),a._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,r)},function(){a._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,r)})},_prepareItemsForUpload:function(e,t,n){if(e.length===0){this._itemError("noFilesError");return}var r=this._getValidationDescriptors(e),a=this._getButtonId(e[0].file),o=this._getButton(a);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,r,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,r,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&this._options.session.endpoint!=null&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(n,r){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(n,!0,r)},function(n,r){e._options.callbacks.onSessionRequestComplete(n,!1,r)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(this._autoRetries[e]===void 0&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)?(this._autoRetries[e]+=1,!0):!1},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;qq.supportedFeatures.ajaxUploading?t=this._handler.getFile(e).qqButtonId:t=this._getButtonId(this._handler.getInput(e)),t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var r=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,r),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,r),onFailure:qq.bind(this._fileOrBlobRejected,this,e,r),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);t=this.getUploads({status:qq.status.SUBMITTING}).length,t&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,r=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),a=t.name,o=t.size,s=this._getButtonId(e.file),l=this._getValidationBase(s),c=new qq.Promise;return c.then(function(){},function(){n._fileOrBlobRejected(e.id,a)}),qq.isFileOrInput(r)&&!this._isAllowedExtension(l.allowedExtensions,a)?(this._itemError("typeError",a,r),c.failure()):!this._options.validation.allowEmpty&&o===0?(this._itemError("emptyError",a,r),c.failure()):o>0&&l.sizeLimit&&o>l.sizeLimit?(this._itemError("sizeError",a,r),c.failure()):o>0&&o<l.minSizeLimit?(this._itemError("minSizeError",a,r),c.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(r)?new qq.ImageValidation(r,qq.bind(n.log,n)).validate(l.image).then(c.success,function(u){n._itemError(u+"ImageError",a,r),c.failure()}):c.success(),c)},_wrapCallbacks:function(){var e,t,n;e=this,t=function(r,a,o){var s;try{return a.apply(e,o)}catch(l){s=l.message||l.toString(),e.log("Caught exception in '"+r+"' callback - "+s,"error")}};for(n in this._options.callbacks)(function(){var r,a;r=n,a=e._options.callbacks[r],e._options.callbacks[r]=function(){return t(r,a,arguments)}})()}}}(),function(){qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(n,r){},onSubmitted:function(n,r){},onComplete:function(n,r,a,o){},onAllComplete:function(n,r){},onCancel:function(n,r){},onUpload:function(n,r){},onUploadChunk:function(n,r,a){},onUploadChunkSuccess:function(n,r,a,o){},onResume:function(n,r,a,o){},onProgress:function(n,r,a,o){},onTotalProgress:function(n,r){},onError:function(n,r,a,o){},onAutoRetry:function(n,r,a){},onManualRetry:function(n,r){},onValidateBatch:function(n){},onValidate:function(n){},onSubmitDelete:function(n){},onDelete:function(n){},onDeleteComplete:function(n,r,a){},onPasteReceived:function(n){},onStatusChange:function(n,r,a){},onSessionRequestComplete:function(n,r,a){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(n){return 2e6},success:{endpoint:null,headers:function(n){return null},jsonPayload:!1,method:"POST",params:function(n){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(n){return[]}},formatFileName:function(n){return n},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(n){var r=t._uploadData.retrieve({id:n});return r&&r.size||0})),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){var t,n,r=[],a={},o={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(k,A){},onSend:function(k){},onComplete:function(k,A,M){},onProgress:null};if(qq.extend(o,e),t=o.log,qq.indexOf(o.validMethods,o.method)<0)throw new Error("'"+o.method+"' is not a supported method for this type of request!");function s(){return qq.indexOf(["GET","POST","HEAD"],o.method)>=0}function l(k){var A=!1;return qq.each(A,function(M,S){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],S)<0)return A=!0,!1}),A}function c(k){return o.cors.expected&&k.withCredentials===void 0}function u(){var k;return(window.XMLHttpRequest||window.ActiveXObject)&&(k=qq.createXhrInstance(),k.withCredentials===void 0&&(k=new XDomainRequest,k.onload=function(){},k.onerror=function(){},k.ontimeout=function(){},k.onprogress=function(){})),k}function f(k,A){var M=a[k]&&a[k].xhr;return M||(A?M=A:o.cors.expected?M=u():M=qq.createXhrInstance(),a[k].xhr=M),M}function m(k){var A=qq.indexOf(r,k),M=o.maxConnections,S;delete a[k],r.splice(A,1),r.length>=M&&A<M&&(S=r[M-1],g(S))}function h(k,A){var M=f(k),S=o.method,C=A===!0;m(k),C?t(S+" request for "+k+" has failed","error"):!c(M)&&!E(M.status)&&(C=!0,t(S+" request for "+k+" has failed - response code "+M.status,"error")),o.onComplete(k,M,C)}function d(k){var A=a[k].additionalParams,M=o.mandatedParams,S;return o.paramsStore.get&&(S=o.paramsStore.get(k)),A&&qq.each(A,function(C,I){S=S||{},S[C]=I}),M&&qq.each(M,function(C,I){S=S||{},S[C]=I}),S}function g(k,A){var M=f(k,A),S=o.method,C=d(k),I=a[k].payload,O;return o.onSend(k),O=v(k,C,a[k].additionalQueryParams),c(M)?(M.onload=q(k),M.onerror=b(k)):M.onreadystatechange=_(k),y(k),M.open(S,O,!0),o.cors.expected&&o.cors.sendCredentials&&!c(M)&&(M.withCredentials=!0),x(k),t("Sending "+S+" request for "+k),I?M.send(I):n||!C?M.send():C&&o.contentType&&o.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?M.send(qq.obj2url(C,"")):C&&o.contentType&&o.contentType.toLowerCase().indexOf("application/json")>=0?M.send(JSON.stringify(C)):M.send(C),M}function v(k,A,M){var S=o.endpointStore.get(k),C=a[k].addToPath;return C!=null&&(S+="/"+C),n&&A&&(S=qq.obj2url(A,S)),M&&(S=qq.obj2url(M,S)),S}function _(k){return function(){f(k).readyState===4&&h(k)}}function y(k){var A=o.onProgress;A&&(f(k).upload.onprogress=function(M){M.lengthComputable&&A(k,M.loaded,M.total)})}function q(k){return function(){h(k)}}function b(k){return function(){h(k,!0)}}function x(k){var A=f(k),M=o.customHeaders,S=a[k].additionalHeaders||{},C=o.method,I={};c(A)||(o.acceptHeader&&A.setRequestHeader("Accept",o.acceptHeader),o.allowXRequestedWithAndCacheControl&&(!o.cors.expected||!s()||l())&&(A.setRequestHeader("X-Requested-With","XMLHttpRequest"),A.setRequestHeader("Cache-Control","no-cache")),o.contentType&&(C==="POST"||C==="PUT")&&A.setRequestHeader("Content-Type",o.contentType),qq.extend(I,qq.isFunction(M)?M(k):M),qq.extend(I,S),qq.each(I,function(O,D){A.setRequestHeader(O,D)}))}function E(k){return qq.indexOf(o.successfulResponseCodes[o.method],k)>=0}function T(k,A,M,S,C,I,O){a[k]={addToPath:M,additionalParams:S,additionalQueryParams:C,additionalHeaders:I,payload:O};var D=r.push(k);if(D<=o.maxConnections)return g(k,A)}n=o.method==="GET"||o.method==="DELETE",qq.extend(this,{initTransport:function(k){var A,M,S,C,I,O;return{withPath:function(D){return A=D,this},withParams:function(D){return M=D,this},withQueryParams:function(D){return O=D,this},withHeaders:function(D){return S=D,this},withPayload:function(D){return C=D,this},withCacheBuster:function(){return I=!0,this},send:function(D){return I&&qq.indexOf(["GET","DELETE"],o.method)>=0&&(M.qqtimestamp=new Date().getTime()),T(k,D,A,M,O,S,C)}}},canceled:function(k){m(k)}})},qq.UploadHandler=function(e){var t=e.proxy,n={},r=t.onCancel,a=t.getName;qq.extend(this,{add:function(o,s){n[o]=s,n[o].temp={}},cancel:function(o){var s=this,l=new qq.Promise,c=r(o,a(o),l);c.then(function(){s.isValid(o)&&(n[o].canceled=!0,s.expunge(o)),l.success()})},expunge:function(o){delete n[o]},getThirdPartyFileId:function(o){return n[o].key},isValid:function(o){return n[o]!==void 0},reset:function(){n={}},_getFileState:function(o){return n[o]},_setThirdPartyFileId:function(o,s){n[o].key=s},_wasCanceled:function(o){return!!n[o].canceled}})},qq.UploadHandlerController=function(e,t){var n=this,r=!1,a=!1,o,s,l,c={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(d,g){},onProgress:function(d,g,v,_){},onComplete:function(d,g,v,_){},onCancel:function(d,g){},onUploadPrep:function(d){},onUpload:function(d,g){},onUploadChunk:function(d,g,v){},onUploadChunkSuccess:function(d,g,v,_){},onAutoRetry:function(d,g,v,_){},onResume:function(d,g,v,_){},onUuidChanged:function(d,g){},getName:function(d){},setSize:function(d,g){},isQueued:function(d){},getIdsInProxyGroup:function(d){},getIdsInBatch:function(d){},isInProgress:function(d){}},u={done:function(d,g,v,_){var y=l._getChunkData(d,g);l._getFileState(d).attemptingResume=!1,delete l._getFileState(d).temp.chunkProgress[g],l._getFileState(d).loaded+=y.size,c.onUploadChunkSuccess(d,l._getChunkDataForCallback(y),v,_)},finalize:function(d){var g=c.getSize(d),v=c.getName(d);s("All chunks have been uploaded for "+d+" - finalizing...."),l.finalizeChunks(d).then(function(_,y){s("Finalize successful for "+d);var q=h.normalizeResponse(_,!0);c.onProgress(d,v,g,g),l._maybeDeletePersistedChunkData(d),h.cleanup(d,q,y)},function(_,y){var q=h.normalizeResponse(_,!1);s("Problem finalizing chunks for file ID "+d+" - "+q.error,"error"),(q.reset||y&&c.chunking.success.resetOnStatus.indexOf(y.status)>=0)&&u.reset(d),c.onAutoRetry(d,v,q,y)||h.cleanup(d,q,y)})},handleFailure:function(d,g,v,_){var y=c.getName(g);s("Chunked upload request failed for "+g+", chunk "+d),l.clearCachedChunk(g,d);var q=h.normalizeResponse(v,!1),b;if(q.reset)u.reset(g);else{var x=l._getFileState(g).chunking.inProgress;b=x?qq.indexOf(x,d):-1,b>=0&&(l._getFileState(g).chunking.inProgress.splice(b,1),l._getFileState(g).chunking.remaining.unshift(d))}l._getFileState(g).temp.ignoreFailure||(a&&(l._getFileState(g).temp.ignoreFailure=!0,s(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(l._getXhrs(g))),JSON.stringify(l._getFileState(g).chunking.inProgress))),qq.each(l._getXhrs(g),function(E,T){s(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",g,E,T.readyState)),T.abort(),T._cancelled=!0}),l.moveInProgressToRemaining(g),f.free(g,!0)),c.onAutoRetry(g,y,q,_)||h.cleanup(g,q,_))},hasMoreParts:function(d){return!!l._getFileState(d).chunking.remaining.length},nextPart:function(d){var g=l._getFileState(d).chunking.remaining.shift();return g>=l._getTotalChunks(d)&&(g=null),g},reset:function(d){s("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+d,"error"),l._maybeDeletePersistedChunkData(d),l.reevaluateChunking(d),l._getFileState(d).loaded=0,l._getFileState(d).attemptingResume=!1},sendNext:function(d){var g=c.getSize(d),v=c.getName(d),_=u.nextPart(d),y=l._getChunkData(d,_),q=l._getFileState(d),b=q.attemptingResume,x=q.chunking.inProgress||[];if(q.loaded==null&&(q.loaded=0),b&&c.onResume(d,v,y,q.customResumeData)===!1&&(u.reset(d),_=u.nextPart(d),y=l._getChunkData(d,_),b=!1),_==null&&x.length===0)u.finalize(d);else{x.push(_),l._getFileState(d).chunking.inProgress=x,a&&f.open(d,_),a&&f.available()&&l._getFileState(d).chunking.remaining.length&&u.sendNext(d),y.blob.size===0&&(s(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",_,d),"error"),u.handleFailure(_,d,"File is no longer available",null));var E=c.onUploadChunk(d,v,l._getChunkDataForCallback(y));E.then(function(T){if(!c.isInProgress(d))s(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",d,_));else{s(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",d,_,y.start+1,y.end,g));var k={chunkIdx:_,id:d,overrides:T,resuming:b};l.uploadChunk(k).then(function(M,S){s("Chunked upload request succeeded for "+d+", chunk "+_),l.clearCachedChunk(d,_);var C=l._getFileState(d).chunking.inProgress||[],I=h.normalizeResponse(M,!0),O=qq.indexOf(C,_);s(qq.format("Chunk {} for file {} uploaded successfully.",_,d)),u.done(d,_,I,S),O>=0&&C.splice(O,1),l._maybePersistChunkedState(d),!u.hasMoreParts(d)&&C.length===0?u.finalize(d):u.hasMoreParts(d)?u.sendNext(d):s(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",d,JSON.stringify(C)))},function(M,S){u.handleFailure(_,d,M,S)}).done(function(){l.clearXhr(d,_)})}},function(T){u.handleFailure(_,d,T,null)})}}},f={_open:[],_openChunks:{},_waiting:[],available:function(){var d=c.maxConnections,g=0,v=0;return qq.each(f._openChunks,function(_,y){g++,v+=y.length}),d-(f._open.length-g+v)},free:function(d,g){var v=!g,_=qq.indexOf(f._waiting,d),y=qq.indexOf(f._open,d),q;delete f._openChunks[d],h.getProxyOrBlob(d)instanceof qq.BlobProxy&&(s("Generated blob upload has ended for "+d+", disposing generated blob."),delete l._getFileState(d).file),_>=0?f._waiting.splice(_,1):v&&y>=0&&(f._open.splice(y,1),q=f._waiting.shift(),q>=0&&(f._open.push(q),h.start(q)))},getWaitingOrConnected:function(){var d=[];return qq.each(f._openChunks,function(g,v){v&&v.length&&d.push(parseInt(g))}),qq.each(f._open,function(g,v){f._openChunks[v]||d.push(parseInt(v))}),d=d.concat(f._waiting),d},isUsingConnection:function(d){return qq.indexOf(f._open,d)>=0},open:function(d,g){return g==null&&f._waiting.push(d),f.available()?(g==null?(f._waiting.pop(),f._open.push(d)):function(){var v=f._openChunks[d]||[];v.push(g),f._openChunks[d]=v}(),!0):!1},reset:function(){f._waiting=[],f._open=[]}},m={send:function(d,g){var v=l._getFileState(d);if(!v){s("Ignoring send request as this upload may have been cancelled, File ID "+d,"warn");return}v.loaded=0,s("Sending simple upload request for "+d),l.uploadFile(d).then(function(_,y){s("Simple upload request succeeded for "+d);var q=h.normalizeResponse(_,!0),b=c.getSize(d);c.onProgress(d,g,b,b),h.maybeNewUuid(d,q),h.cleanup(d,q,y)},function(_,y){s("Simple upload request failed for "+d);var q=h.normalizeResponse(_,!1);c.onAutoRetry(d,g,q,y)||h.cleanup(d,q,y)})}},h={cancel:function(d){s("Cancelling "+d),c.paramsStore.remove(d),f.free(d)},cleanup:function(d,g,v){var _=c.getName(d);c.onComplete(d,_,g,v),l._getFileState(d)&&l._clearXhrs&&l._clearXhrs(d),f.free(d)},getProxyOrBlob:function(d){return l.getProxy&&l.getProxy(d)||l.getFile&&l.getFile(d)},initHandler:function(){var d=t?qq[t]:qq.traditional,g=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";l=new d[g+"UploadHandler"](c,{getCustomResumeData:c.getCustomResumeData,getDataByUuid:c.getDataByUuid,getName:c.getName,getSize:c.getSize,getUuid:c.getUuid,log:s,onCancel:c.onCancel,onProgress:c.onProgress,onUuidChanged:c.onUuidChanged,onFinalizing:function(v){c.setStatus(v,qq.status.UPLOAD_FINALIZING)}}),l._removeExpiredChunkingRecords&&l._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(d){return c.isQueued(d)},maybeDefer:function(d,g){if(g&&!l.getFile(d)&&g instanceof qq.BlobProxy)c.onUploadPrep(d),s("Attempting to generate a blob on-demand for "+d),g.create().then(function(v){s("Generated an on-demand blob for "+d),l.updateBlob(d,v),c.setSize(d,v.size),l.reevaluateChunking(d),h.maybeSendDeferredFiles(d)},function(v){var _={};v&&(_.error=v),s(qq.format("Failed to generate blob for ID {}.  Error message: {}.",d,v),"error"),c.onComplete(d,c.getName(d),qq.extend(_,o),null),h.maybeSendDeferredFiles(d),f.free(d)});else return h.maybeSendDeferredFiles(d);return!1},maybeSendDeferredFiles:function(d){var g=c.getIdsInProxyGroup(d),v=!1;return g&&g.length?(s("Maybe ready to upload proxy group file "+d),qq.each(g,function(_,y){if(h.isDeferredEligibleForUpload(y)&&!!l.getFile(y))v=y===d,h.now(y);else if(h.isDeferredEligibleForUpload(y))return!1})):(v=!0,h.now(d)),v},maybeNewUuid:function(d,g){g.newUuid!==void 0&&c.onUuidChanged(d,g.newUuid)},normalizeResponse:function(d,g){var v=d;return qq.isObject(d)||(v={},qq.isString(d)&&!g&&(v.error=d)),v.success=g,v},now:function(d){var g=c.getName(d);if(!n.isValid(d))throw new qq.Error(d+" is not a valid file ID to upload!");c.onUpload(d,g).then(function(v){v&&v.pause?(c.setStatus(d,qq.status.PAUSED),l.pause(d),f.free(d)):r&&l._shouldChunkThisFile(d)?u.sendNext(d):m.send(d,g)},function(v){if(v=v||{},s(d+" upload start aborted due to rejected onUpload Promise - details: "+v,"error"),!c.onAutoRetry(d,g,v.responseJSON||{})){var _=h.normalizeResponse(v.responseJSON,!1);h.cleanup(d,_)}})},start:function(d){var g=h.getProxyOrBlob(d);return g?h.maybeDefer(d,g):(h.now(d),!0)}};qq.extend(this,{add:function(d,g){l.add.apply(this,arguments)},upload:function(d){return f.open(d)?h.start(d):!1},retry:function(d){return a&&(l._getFileState(d).temp.ignoreFailure=!1),f.isUsingConnection(d)?h.start(d):n.upload(d)},cancel:function(d){var g=l.cancel(d);qq.isGenericPromise(g)?g.then(function(){h.cancel(d)}):g!==!1&&h.cancel(d)},cancelAll:function(){var d=f.getWaitingOrConnected(),g;if(d.length)for(g=d.length-1;g>=0;g--)n.cancel(d[g]);f.reset()},getFile:function(d){return l.getProxy&&l.getProxy(d)?l.getProxy(d).referenceBlob:l.getFile&&l.getFile(d)},isProxied:function(d){return!!(l.getProxy&&l.getProxy(d))},getInput:function(d){if(l.getInput)return l.getInput(d)},reset:function(){s("Resetting upload handler"),n.cancelAll(),f.reset(),l.reset()},expunge:function(d){if(n.isValid(d))return l.expunge(d)},isValid:function(d){return l.isValid(d)},hasResumeRecord:function(d){var g=l.isValid(d)&&l._getLocalStorageId&&l._getLocalStorageId(d);return g?!!localStorage.getItem(g):!1},getResumableFilesData:function(){return l.getResumableFilesData?l.getResumableFilesData():[]},getThirdPartyFileId:function(d){if(n.isValid(d))return l.getThirdPartyFileId(d)},pause:function(d){return n.isResumable(d)&&l.pause&&n.isValid(d)&&l.pause(d)?(f.free(d),l.moveInProgressToRemaining(d),!0):!1},isAttemptingResume:function(d){return!!l.isAttemptingResume&&l.isAttemptingResume(d)},isResumable:function(d){return!!l.isResumable&&l.isResumable(d)}}),qq.extend(c,e),s=c.log,r=c.chunking.enabled&&qq.supportedFeatures.chunking,a=r&&c.chunking.concurrent.enabled,o=function(){var d={};return d[c.preventRetryParam]=!0,d}(),h.initHandler()},qq.WindowReceiveMessage=function(e){var t={log:function(r,a){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(r,a){var o=function(s){a(s.data)};window.postMessage?n[r]=qq(window).attach("message",o):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(r){if(window.postMessage){var a=n[r];a&&a()}}})},qq.FormUploadHandler=function(e){var t=e.options,n=this,r=e.proxy,a=qq.getUniqueId(),o={},s={},l={},c=t.isCors,u=t.inputName,f=r.getUuid,m=r.log,h=new qq.WindowReceiveMessage({log:m});function d(y){delete s[y],c&&(clearTimeout(l[y]),delete l[y],h.stopReceivingMessages(y));var q=document.getElementById(n._getIframeName(y));q&&(q.setAttribute("src","javascript:false;"),qq(q).remove())}function g(y){return y.split("_")[0]}function v(y){var q=qq.toElement("<iframe src='javascript:false;' name='"+y+"' />");return q.setAttribute("id",y),q.style.display="none",document.body.appendChild(q),q}function _(y,q){var b=y.id,x=g(b),E=f(x);o[E]=q,s[x]=qq(y).attach("load",function(){n.getInput(x)&&(m("Received iframe load event for CORS upload request (iframe name "+b+")"),l[b]=setTimeout(function(){var T="No valid message received from loaded iframe for iframe name "+b;m(T,"error"),q({error:T})},1e3))}),h.receiveMessage(b,function(T){m("Received the following window message: '"+T+"'"),g(b);var k=n._parseJsonResponse(T),A=k.uuid,M;A&&o[A]?(m("Handling response for iframe name "+b),clearTimeout(l[b]),delete l[b],n._detachLoadEvent(b),M=o[A],delete o[A],h.stopReceivingMessages(b),M(k)):A||m("'"+T+"' does not contain a UUID - ignoring.")})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(y){return{add:function(q,b){y.add(q,{input:b}),b.setAttribute("name",u),b.parentNode&&qq(b).remove()},expunge:function(q){d(q),y.expunge(q)},isValid:function(q){return y.isValid(q)&&n._getFileState(q).input!==void 0}}}),qq.extend(this,{getInput:function(y){return n._getFileState(y).input},_attachLoadEvent:function(y,q){var b;c?_(y,q):s[y.id]=qq(y).attach("load",function(){if(m("Received response for "+y.id),!!y.parentNode){try{if(y.contentDocument&&y.contentDocument.body&&y.contentDocument.body.innerHTML=="false")return}catch(x){m("Error when attempting to access iframe during handling of upload response ("+x.message+")","error"),b={success:!1}}q(b)}})},_createIframe:function(y){var q=n._getIframeName(y);return v(q)},_detachLoadEvent:function(y){s[y]!==void 0&&(s[y](),delete s[y])},_getIframeName:function(y){return y+"_"+a},_initFormForUpload:function(y){var q=y.method,b=y.endpoint,x=y.params,E=y.paramsInBody,T=y.targetName,k=qq.toElement("<form method='"+q+"' enctype='multipart/form-data'></form>"),A=b;return E?qq.obj2Inputs(x,k):A=qq.obj2url(x,b),k.setAttribute("action",A),k.setAttribute("target",T),k.style.display="none",document.body.appendChild(k),k},_parseJsonResponse:function(y){var q={};try{q=qq.parseJson(y)}catch(b){m("Error when attempting to parse iframe upload response ("+b.message+")","error")}return q}})},qq.XhrUploadHandler=function(e){var t=this,n=e.options.namespace,r=e.proxy,a=e.options.chunking,o=function(b){var x=t._getFileState(b);if(x.chunkSize)return x.chunkSize;var E=a.partSize;return qq.isFunction(E)&&(E=E(b,f(b))),x.chunkSize=E,E},s=e.options.resume,l=a&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,c=s&&e.options.resume.enabled&&l&&qq.supportedFeatures.resume,u=r.getName,f=r.getSize,m=r.getUuid,h=r.getEndpoint,d=r.getDataByUuid,g=r.onUuidChanged,v=r.onProgress,_=r.log,y=r.getCustomResumeData;function q(b){qq.each(t._getXhrs(b),function(x,E){var T=t._getAjaxRequester(b,x);E.onreadystatechange=null,E.upload.onprogress=null,E.abort(),T&&T.canceled&&T.canceled(b)})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(b){return{add:function(x,E){if(qq.isFile(E)||qq.isBlob(E))b.add(x,{file:E});else if(E instanceof qq.BlobProxy)b.add(x,{proxy:E});else throw new Error("Passed obj is not a File, Blob, or proxy");t._initTempState(x),c&&t._maybePrepareForResume(x)},expunge:function(x){q(x),t._maybeDeletePersistedChunkData(x),t._clearXhrs(x),b.expunge(x)}}}),qq.extend(this,{clearCachedChunk:function(b,x){var E=t._getFileState(b);E&&delete E.temp.cachedChunks[x]},clearXhr:function(b,x){var E=t._getFileState(b).temp;E.xhrs&&delete E.xhrs[x],E.ajaxRequesters&&delete E.ajaxRequesters[x]},finalizeChunks:function(b,x){var E=t._getTotalChunks(b)-1,T=t._getXhr(b,E);return x?new qq.Promise().success(x(T),T):new qq.Promise().success({},T)},getFile:function(b){return t.isValid(b)&&t._getFileState(b).file},getProxy:function(b){return t.isValid(b)&&t._getFileState(b).proxy},getResumableFilesData:function(){var b=[];return t._iterateResumeRecords(function(x,E){t.moveInProgressToRemaining(null,E.chunking.inProgress,E.chunking.remaining);var T={name:E.name,remaining:E.chunking.remaining,size:E.size,uuid:E.uuid};E.key&&(T.key=E.key),E.customResumeData&&(T.customResumeData=E.customResumeData),b.push(T)}),b},isAttemptingResume:function(b){return t._getFileState(b).attemptingResume},isResumable:function(b){return!!a&&t.isValid(b)&&!t._getFileState(b).notResumable},moveInProgressToRemaining:function(b,x,E){var T=t._getFileState(b)||{},k=T.chunking||{},A=x||k.inProgress,M=E||k.remaining;A&&(_(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(A))),A.reverse(),qq.each(A,function(S,C){M.unshift(C)}),A.length=0)},pause:function(b){if(t.isValid(b))return _(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",b,u(b))),t._getFileState(b).paused=!0,q(b),!0},reevaluateChunking:function(b){if(a&&t.isValid(b)){var x=t._getFileState(b),E,T;if(delete x.chunking,x.chunking={},E=t._getTotalChunks(b),E>1||a.mandatory){for(x.chunking.enabled=!0,x.chunking.parts=E,x.chunking.remaining=[],T=0;T<E;T++)x.chunking.remaining.push(T);t._initTempState(b)}else x.chunking.enabled=!1}},updateBlob:function(b,x){t.isValid(b)&&(t._getFileState(b).file=x)},_clearXhrs:function(b){var x=t._getFileState(b).temp;qq.each(x.ajaxRequesters,function(E){delete x.ajaxRequesters[E]}),qq.each(x.xhrs,function(E){delete x.xhrs[E]})},_createXhr:function(b,x){return t._registerXhr(b,x,qq.createXhrInstance())},_getAjaxRequester:function(b,x){var E=x==null?-1:x;return t._getFileState(b).temp.ajaxRequesters[E]},_getChunkData:function(b,x){var E=o(b),T=f(b),k=t.getFile(b),A=E*x,M=A+E>=T?T:A+E,S=t._getTotalChunks(b),C=this._getFileState(b).temp.cachedChunks,I=C[x]||qq.sliceBlob(k,A,M);return C[x]=I,{part:x,start:A,end:M,count:S,blob:I,size:M-A}},_getChunkDataForCallback:function(b){return{partIndex:b.part,startByte:b.start+1,endByte:b.end,totalParts:b.count}},_getLocalStorageId:function(b){var x="5.0",E=u(b),T=f(b),k=o(b),A=h(b),M=s.customKeys(b),S=qq.format("qq{}resume{}-{}-{}-{}-{}",n,x,E,T,k,A);return M.forEach(function(C){S+="-"+C}),S},_getMimeType:function(b){return t.getFile(b).type},_getPersistableData:function(b){return t._getFileState(b).chunking},_getTotalChunks:function(b){if(a){var x=f(b),E=o(b);return Math.ceil(x/E)}},_getXhr:function(b,x){var E=x==null?-1:x;return t._getFileState(b).temp.xhrs[E]},_getXhrs:function(b){return t._getFileState(b).temp.xhrs},_iterateResumeRecords:function(b){c&&qq.each(localStorage,function(x,E){if(x.indexOf(qq.format("qq{}resume",n))===0){var T=JSON.parse(E);b(x,T)}})},_initTempState:function(b){t._getFileState(b).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(b){t._getFileState(b).notResumable=!0},_maybeDeletePersistedChunkData:function(b){var x;return c&&t.isResumable(b)&&(x=t._getLocalStorageId(b),x&&localStorage.getItem(x))?(localStorage.removeItem(x),!0):!1},_maybePrepareForResume:function(b){var x=t._getFileState(b),E,T;c&&x.key===void 0&&(E=t._getLocalStorageId(b),T=localStorage.getItem(E),T&&(T=JSON.parse(T),d(T.uuid)?t._markNotResumable(b):(_(qq.format("Identified file with ID {} and name of {} as resumable.",b,u(b))),g(b,T.uuid),x.key=T.key,x.chunking=T.chunking,x.loaded=T.loaded,x.customResumeData=T.customResumeData,x.attemptingResume=!0,t.moveInProgressToRemaining(b))))},_maybePersistChunkedState:function(b){var x=t._getFileState(b),E,T;if(c&&t.isResumable(b)){var k=y(b);E=t._getLocalStorageId(b),T={name:u(b),size:f(b),uuid:m(b),key:x.key,chunking:x.chunking,loaded:x.loaded,lastUpdated:Date.now()},k&&(T.customResumeData=k);try{localStorage.setItem(E,JSON.stringify(T))}catch(A){_(qq.format("Unable to save resume data for '{}' due to error: '{}'.",b,A.toString()),"warn")}}},_registerProgressHandler:function(b,x,E){var T=t._getXhr(b,x),k=u(b),A={simple:function(M,S){var C=f(b);M===S?v(b,k,C,C):v(b,k,M>=C?C-1:M,C)},chunked:function(M,S){var C=t._getFileState(b).temp.chunkProgress,I=t._getFileState(b).loaded,O=M,D=S,R=f(b),w=O-(D-E),B=I;C[x]=w,qq.each(C,function(G,U){B+=U}),v(b,k,B,R)}};T.upload.onprogress=function(M){if(M.lengthComputable){var S=E==null?"simple":"chunked";A[S](M.loaded,M.total)}}},_registerXhr:function(b,x,E,T){var k=x==null?-1:x,A=t._getFileState(b).temp;return A.xhrs=A.xhrs||{},A.ajaxRequesters=A.ajaxRequesters||{},A.xhrs[k]=E,T&&(A.ajaxRequesters[k]=T),E},_removeExpiredChunkingRecords:function(){var b=s.recordsExpireIn;t._iterateResumeRecords(function(x,E){var T=new Date(E.lastUpdated);T.setDate(T.getDate()+b),T.getTime()<=Date.now()&&(_("Removing expired resume record with key "+x),localStorage.removeItem(x))})},_shouldChunkThisFile:function(b){var x=t._getFileState(b);if(x)return x.chunking||t.reevaluateChunking(b),x.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(a){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(a,o){},onDelete:function(a){},onDeleteComplete:function(a,o,s){}};qq.extend(n,e);function r(){return n.method.toUpperCase()==="POST"?{_method:"DELETE"}:{}}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:r(),maxConnections:n.maxConnections,customHeaders:function(a){return n.customHeaders.get(a)},log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors})),qq.extend(this,{sendDelete:function(a,o,s){var l=s||{};n.log("Submitting delete file request for "+a),n.method==="DELETE"?t.initTransport(a).withPath(o).withParams(l).send():(l[n.uuidParamName]=o,t.initTransport(a).withParams(l).send())}})},function(){function e(c){var u=c.naturalWidth,f=c.naturalHeight,m=document.createElement("canvas"),h;return u*f>1024*1024?(m.width=m.height=1,h=m.getContext("2d"),h.drawImage(c,-u+1,0),h.getImageData(0,0,1,1).data[3]===0):!1}function t(c,u,f){var m=document.createElement("canvas"),h=0,d=f,g=f,v,_,y,q;for(m.width=1,m.height=f,v=m.getContext("2d"),v.drawImage(c,0,0),_=v.getImageData(0,0,1,f).data;g>h;)y=_[(g-1)*4+3],y===0?d=g:h=g,g=d+h>>1;return q=g/f,q===0?1:q}function n(c,u,f,m){var h=document.createElement("canvas"),d=f.mime||"image/jpeg",g=new qq.Promise;return a(c,u,h,f,m).then(function(){g.success(h.toDataURL(d,f.quality||.8))}),g}function r(c){var u=5241e3;if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(c.origHeight*c.origWidth>u)return{newHeight:Math.round(Math.sqrt(u*(c.origHeight/c.origWidth))),newWidth:Math.round(Math.sqrt(u*(c.origWidth/c.origHeight)))}}function a(c,u,f,m,h){var d=c.naturalWidth,g=c.naturalHeight,v=m.width,_=m.height,y=f.getContext("2d"),q=new qq.Promise,b;return y.save(),m.resize?o({blob:u,canvas:f,image:c,imageHeight:g,imageWidth:d,orientation:m.orientation,resize:m.resize,targetHeight:_,targetWidth:v}):(qq.supportedFeatures.unlimitedScaledImageSize||(b=r({origWidth:v,origHeight:_}),b&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",v,_,b.newWidth,b.newHeight),"warn"),v=b.newWidth,_=b.newHeight)),s(f,v,_,m.orientation),qq.ios()?function(){e(c)&&(d/=2,g/=2);var x=1024,E=document.createElement("canvas"),T=h?t(c,d,g):1,k=Math.ceil(x*v/d),A=Math.ceil(x*_/g/T),M=0,S=0,C,I,O;for(E.width=E.height=x,C=E.getContext("2d");M<g;){for(I=0,O=0;I<d;)C.clearRect(0,0,x,x),C.drawImage(c,-I,-M),y.drawImage(E,0,0,x,x,O,S,k,A),I+=x,O+=k;M+=x,S+=A}y.restore(),E=C=null}():y.drawImage(c,0,0,v,_),f.qqImageRendered&&f.qqImageRendered(),q.success(),q)}function o(c){var u=c.blob,f=c.image,m=c.imageHeight,h=c.imageWidth,d=c.orientation,g=new qq.Promise,v=c.resize,_=document.createElement("canvas"),y=_.getContext("2d"),q=c.canvas,b=c.targetHeight,x=c.targetWidth;return s(_,h,m,d),q.height=b,q.width=x,y.drawImage(f,0,0),v({blob:u,height:b,image:f,sourceCanvas:_,targetCanvas:q,width:x}).then(function(){q.qqImageRendered&&q.qqImageRendered(),g.success()},g.failure),g}function s(c,u,f,m){switch(m){case 5:case 6:case 7:case 8:c.width=f,c.height=u;break;default:c.width=u,c.height=f}var h=c.getContext("2d");switch(m){case 2:h.translate(u,0),h.scale(-1,1);break;case 3:h.translate(u,f),h.rotate(Math.PI);break;case 4:h.translate(0,f),h.scale(1,-1);break;case 5:h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI),h.translate(0,-f);break;case 7:h.rotate(.5*Math.PI),h.translate(u,-f),h.scale(-1,1);break;case 8:h.rotate(-.5*Math.PI),h.translate(-u,0);break}}function l(c,u){var f=this;window.Blob&&c instanceof Blob&&function(){var m=new Image,h=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!h)throw Error("No createObjectURL function found to create blob url");m.src=h.createObjectURL(c),f.blob=c,c=m}(),!c.naturalWidth&&!c.naturalHeight&&(c.onload=function(){var m=f.imageLoadListeners;m&&(f.imageLoadListeners=null,setTimeout(function(){for(var h=0,d=m.length;h<d;h++)m[h]()},0))},c.onerror=u,this.imageLoadListeners=[]),this.srcImage=c}l.prototype.render=function(c,u){u=u||{};var f=this,m=this.srcImage.naturalWidth,h=this.srcImage.naturalHeight,d=u.width,g=u.height,v=u.maxWidth,_=u.maxHeight,y=!this.blob||this.blob.type==="image/jpeg",q=c.tagName.toLowerCase(),b;if(this.imageLoadListeners){this.imageLoadListeners.push(function(){f.render(c,u)});return}d&&!g?g=h*d/m<<0:g&&!d?d=m*g/h<<0:(d=m,g=h),v&&d>v&&(d=v,g=h*d/m<<0),_&&g>_&&(g=_,d=m*g/h<<0),b={width:d,height:g},qq.each(u,function(x,E){b[x]=E}),q==="img"?function(){var x=c.src;n(f.srcImage,f.blob,b,y).then(function(E){c.src=E,x===c.src&&c.onload()})}():q==="canvas"&&a(this.srcImage,this.blob,c,b,y),typeof this.onrender=="function"&&this.onrender(c)},qq.MegaPixImage=l}(),qq.ImageGenerator=function(e){function t(g){return g.tagName.toLowerCase()==="img"}function n(g){return g.tagName.toLowerCase()==="canvas"}function r(){return new Image().crossOrigin!==void 0}function a(){var g=document.createElement("canvas");return g.getContext&&g.getContext("2d")}function o(g){var v=g.split("/"),_=v[v.length-1].split("?")[0],y=qq.getExtension(_);switch(y=y&&y.toLowerCase(),y){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function s(g){var v=document.createElement("a"),_,y,q;return v.href=g,_=v.protocol,q=v.port,y=v.hostname,_.toLowerCase()!==window.location.protocol.toLowerCase()||y.toLowerCase()!==window.location.hostname.toLowerCase()||q!==window.location.port&&!qq.ie()}function l(g,v){g.onload=function(){g.onload=null,g.onerror=null,v.success(g)},g.onerror=function(){g.onload=null,g.onerror=null,e("Problem drawing thumbnail!","error"),v.failure(g,"Problem drawing thumbnail!")}}function c(g,v){g.qqImageRendered=function(){v.success(g)}}function u(g,v){var _=t(g)||n(g);return t(g)?l(g,v):n(g)?c(g,v):(v.failure(g),e(qq.format("Element container of type {} is not supported!",g.tagName),"error")),_}function f(g,v,_){var y=new qq.Promise,q=new qq.Identify(g,e),b=_.maxSize,x=_.orient==null?!0:_.orient,E=function(){v.onerror=null,v.onload=null,e("Could not render preview, file may be too large!","error"),y.failure(v,"Browser cannot render image!")};return q.isPreviewable().then(function(T){var k={parse:function(){return new qq.Promise().success()}},A=x?new qq.Exif(g,e):k,M=new qq.MegaPixImage(g,E);u(v,y)&&A.parse().then(function(S){var C=S&&S.Orientation;M.render(v,{maxWidth:b,maxHeight:b,orientation:C,mime:T,resize:_.customResizeFunction})},function(S){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",S)),M.render(v,{maxWidth:b,maxHeight:b,mime:T,resize:_.customResizeFunction})})},function(){e("Not previewable"),y.failure(v,"Not previewable")}),y}function m(g,v,_,y,q){var b=new Image,x=new qq.Promise;u(b,x),s(g)&&(b.crossOrigin="anonymous"),b.src=g,x.then(function(){u(v,_);var T=new qq.MegaPixImage(b);T.render(v,{maxWidth:y,maxHeight:y,mime:o(g),resize:q})},_.failure)}function h(g,v,_,y){u(v,_),qq(v).css({maxWidth:y+"px",maxHeight:y+"px"}),v.src=g}function d(g,v,_){var y=new qq.Promise,q=_.scale,b=q?_.maxSize:null;return q&&t(v)?a()?s(g)&&!r()?h(g,v,y,b):m(g,v,y,b):h(g,v,y,b):n(v)?m(g,v,y,b):u(v,y)&&(v.src=g),y}qq.extend(this,{generate:function(g,v,_){return qq.isString(g)?(e("Attempting to update thumbnail based on server response."),d(g,v,_||{})):(e("Attempting to draw client-side image preview."),f(g,v,_||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=s,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){var n=[274],r={274:{name:"Orientation",bytes:2}};function a(h){for(var d=0,g=0;h.length>0;)d+=parseInt(h.substring(0,2),16)*Math.pow(2,g),h=h.substring(2,h.length),g+=8;return d}function o(h,d){var g=h,v=d;return g===void 0&&(g=2,v=new qq.Promise),qq.readBlobToHex(e,g,4).then(function(_){var y=/^ffe([0-9])/.exec(_),q;y?y[1]!=="1"?(q=parseInt(_.slice(4,8),16),o(g+q+2,v)):v.success(g):v.failure("No EXIF header to be found!")}),v}function s(){var h=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(d){d.indexOf("ffd8")!==0?h.failure("Not a valid JPEG!"):o().then(function(g){h.success(g)},function(g){h.failure(g)})}),h}function l(h){var d=new qq.Promise;return qq.readBlobToHex(e,h+10,2).then(function(g){d.success(g==="4949")}),d}function c(h,d){var g=new qq.Promise;return qq.readBlobToHex(e,h+18,2).then(function(v){if(d)return g.success(a(v));g.success(parseInt(v,16))}),g}function u(h,d){var g=h+20,v=d*12;return qq.readBlobToHex(e,g,v)}function f(h){for(var d=[],g=0;g+24<=h.length;)d.push(h.slice(g,g+24)),g+=24;return d}function m(h,d){var g=16,v=qq.extend([],n),_={};return qq.each(d,function(y,q){var b=q.slice(0,4),x=h?a(b):parseInt(b,16),E=v.indexOf(x),T,k,A;if(E>=0&&(k=r[x].name,A=r[x].bytes,T=q.slice(g,g+A*2),_[k]=h?a(T):parseInt(T,16),v.splice(E,1)),v.length===0)return!1}),_}qq.extend(this,{parse:function(){var h=new qq.Promise,d=function(g){t(qq.format("EXIF header parse failed: '{}' ",g)),h.failure(g)};return s().then(function(g){t(qq.format("Moving forward with EXIF header parsing for '{}'",e.name===void 0?"blob":e.name)),l(g).then(function(v){t(qq.format("EXIF Byte order is {} endian",v?"little":"big")),c(g,v).then(function(_){t(qq.format("Found {} APP1 directory entries",_)),u(g,_).then(function(y){var q=f(y),b=m(v,q);t("Successfully parsed some EXIF tags"),h.success(b)},d)},d)},d)},d),h}}),this._testing={},this._testing.parseLittleEndian=a},qq.Identify=function(e,t){function n(r,a){var o=!1,s=[].concat(r);return qq.each(s,function(l,c){if(a.indexOf(c)===0)return o=!0,!1}),o}qq.extend(this,{isPreviewable:function(){var r=this,a=new qq.Promise,o=!1,s=e.name===void 0?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",s)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(l){qq.each(r.PREVIEWABLE_MIME_TYPES,function(c,u){if(n(u,l))return(c!=="image/tiff"||qq.supportedFeatures.tiffPreviews)&&(o=!0,a.success(c)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",s,o?"":"NOT")),o||a.failure()},function(){t("Error reading file w/ name '"+s+"'.  Not able to be rendered in this browser."),a.failure()})):a.failure(),a},isPreviewableSync:function(){var r=e.type,a=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),r)>=0,o=!1,s=e.name===void 0?"blob":e.name;return a&&(r==="image/tiff"?o=qq.supportedFeatures.tiffPreviews:o=!0),!o&&t(s+" is not previewable in this browser per the blob's type attr"),o}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){function n(o){var s=!1;return qq.each(o,function(l,c){if(c>0)return s=!0,!1}),s}function r(){var o=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var s=new Image,l=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;l?(s.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),o.failure()},s.onload=function(){o.success({width:this.width,height:this.height})},s.src=l.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),o.failure())},o.failure),o}function a(o,s){var l;return qq.each(o,function(c,u){if(u>0){var f=/(max|min)(Width|Height)/.exec(c),m=f[2].charAt(0).toLowerCase()+f[2].slice(1),h=s[m];switch(f[1]){case"min":if(h<u)return l=c,!1;break;case"max":if(h>u)return l=c,!1;break}}}),l}this.validate=function(o){var s=new qq.Promise;return t("Attempting to validate image."),n(o)?r().then(function(l){var c=a(o,l);c?s.failure(c):s.success()},s.success):s.success(),s}},qq.Session=function(e){var t={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(a){},log:function(a,o){}};qq.extend(t,e,!0);function n(a){if(qq.isArray(a))return!0;t.log("Session response is not an array.","error")}function r(a,o,s,l){var c=!1;o=o&&n(a),o&&qq.each(a,function(u,f){if(f.uuid==null)c=!0,t.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",u),"error");else if(f.name==null)c=!0,t.log(qq.format("Session response item {} did not include a valid name - ignoring.",u),"error");else try{return t.addFileRecord(f),!0}catch(m){c=!0,t.log(m.message,"error")}return!1}),l[o&&!c?"success":"failure"](a,s)}this.refresh=function(){var a=new qq.Promise,o=function(c,u,f){r(c,u,f,a)},s=qq.extend({},t),l=new qq.SessionAjaxRequester(qq.extend(s,{onComplete:o}));return l.queryServer(),a}},qq.SessionAjaxRequester=function(e){var t,n={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(a,o,s){},log:function(a,o){}};qq.extend(n,e);function r(a,o,s){var l=null;if(o.responseText!=null)try{l=qq.parseJson(o.responseText)}catch(c){n.log("Problem parsing session response: "+c.message,"error"),s=!0}n.onComplete(l,!s,o)}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return n.endpoint}},customHeaders:n.customHeaders,log:n.log,onComplete:r,cors:n.cors})),qq.extend(this,{queryServer:function(){var a=qq.extend({},n.params);n.log("Session query request."),t.initTransport("sessionRefresh").withParams(a).withCacheBuster().send()}})},qq.Scaler=function(e,t){var n=e.customResizer,r=e.sendOriginal,a=e.orient,o=e.defaultType,s=e.defaultQuality/100,l=e.failureText,c=e.includeExif,u=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&u.length>0,getFileRecords:function(f,m,h){var d=this,g=[],v=h.blob?h.blob:h,_=new qq.Identify(v,t);return _.isPreviewableSync()?(qq.each(u,function(y,q){var b=d._determineOutputType({defaultType:o,requestedType:q.type,refType:v.type});g.push({uuid:qq.getUniqueId(),name:d._getName(m,{name:q.name,type:b,refType:v.type}),blob:new qq.BlobProxy(v,qq.bind(d._generateScaledImage,d,{customResizeFunction:n,maxSize:q.maxSize,orient:a,type:b,quality:s,failedText:l,includeExif:c,log:t}))})}),g.push({uuid:f,name:m,size:v.size,blob:r?v:null})):g.push({uuid:f,name:m,size:v.size,blob:v}),g},handleNewFile:function(f,m,h,d,g,v,_,y){var q=this;f.qqButtonId||f.blob&&f.blob.qqButtonId;var b=[],x=null,E=y.addFileToHandler,T=y.uploadData,k=y.paramsStore,A=qq.getUniqueId();qq.each(q.getFileRecords(h,m,f),function(M,S){var C=S.size,I;S.blob instanceof qq.BlobProxy&&(C=-1),I=T.addFile({uuid:S.uuid,name:S.name,size:C,batchId:v,proxyGroupId:A}),S.blob instanceof qq.BlobProxy?b.push(I):x=I,S.blob?(E(I,S.blob),g.push({id:I,file:S.blob})):T.setStatus(I,qq.status.REJECTED)}),x!==null&&(qq.each(b,function(M,S){var C={qqparentuuid:T.retrieve({id:x}).uuid,qqparentsize:T.retrieve({id:x}).size};C[_]=T.retrieve({id:S}).uuid,T.setParentId(S,x),k.addReadOnly(S,C)}),b.length&&function(){var M={};M[_]=T.retrieve({id:x}).uuid,k.addReadOnly(x,M)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var r=new qq.Promise,a=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),l=s&&s.name,c=s&&s.uuid,u={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},f=new qq.Scaler(u,a);return!qq.Scaler||!qq.supportedFeatures.imagePreviews||!o?(r.failure(),a("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")):qq.bind(function(){var m=f.getFileRecords(c,l,o)[0];m&&m.blob instanceof qq.BlobProxy?m.blob.create().then(r.success,r.failure):(a(e+" is not a scalable image!","error"),r.failure())},this)(),r},_determineOutputType:function(e){var t=e.requestedType,n=e.defaultType,r=e.refType;return!n&&!t?r!=="image/jpeg"?"image/png":r:t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?t==="image/tiff"?qq.supportedFeatures.tiffPreviews?t:n:t:n},_getName:function(e,t){var n=e.lastIndexOf("."),r=t.type||"image/png",a=t.refType,o="",s=qq.getExtension(e),l="";return t.name&&t.name.trim().length&&(l=" ("+t.name+")"),n>=0?(o=e.substr(0,n),a!==r&&(s=r.split("/")[1]),o+=l+"."+s):o=e+l,o},_getSortedSizes:function(e){return e=qq.extend([],e),e.sort(function(t,n){return t.maxSize>n.maxSize?1:t.maxSize<n.maxSize?-1:0})},_generateScaledImage:function(e,t){var n=this,r=e.customResizeFunction,a=e.log,o=e.maxSize,s=e.orient,l=e.type,c=e.quality,u=e.failedText,f=e.includeExif&&t.type==="image/jpeg"&&l==="image/jpeg",m=new qq.Promise,h=new qq.ImageGenerator(a),d=document.createElement("canvas");return a("Attempting to generate scaled version for "+t.name),h.generate(t,d,{maxSize:o,orient:s,customResizeFunction:r}).then(function(){var g=d.toDataURL(l,c),v=function(){a("Success generating scaled version for "+t.name);var _=qq.dataUriToBlob(g);m.success(_)};f?n._insertExifHeader(t,g,a).then(function(_){g=_,v()},function(){a("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),v()}):v()},function(){a("Failed attempt to generate scaled version for "+t.name,"error"),m.failure(u)}),m},_insertExifHeader:function(e,t,n){var r=new FileReader,a=new qq.Promise,o="";return r.onload=function(){o=r.result,a.success(qq.ExifRestorer.restore(o,t))},r.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),a.failure()},r.readAsDataURL(e),a},_dataUriToBlob:function(e){var t,n,r,a;return e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r),qq.each(t,function(o,s){a[o]=s.charCodeAt(0)}),this._createBlob(r,n)},_createBlob:function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(t){var n="",r,a,o="",s,l,c,u="",f=0;do r=t[f++],a=t[f++],o=t[f++],s=r>>2,l=(r&3)<<4|a>>4,c=(a&15)<<2|o>>6,u=o&63,isNaN(a)?c=u=64:isNaN(o)&&(u=64),n=n+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(u),r=a=o="",s=l=c=u="";while(f<t.length);return n},e.restore=function(t,n){var r="data:image/jpeg;base64,";if(!t.match(r))return n;var a=this.decode64(t.replace(r,"")),o=this.slice2Segments(a),s=this.exifManipulation(n,o);return r+this.encode64(s)},e.exifManipulation=function(t,n){var r=this.getExifArray(n),a=this.insertExif(t,r),o=new Uint8Array(a);return o},e.getExifArray=function(t){for(var n,r=0;r<t.length;r++)if(n=t[r],n[0]==255&n[1]==225)return n;return[]},e.insertExif=function(t,n){var r=t.replace("data:image/jpeg;base64,",""),a=this.decode64(r),o=a.indexOf(255,3),s=a.slice(0,o),l=a.slice(o),c=s;return c=c.concat(n),c=c.concat(l),c},e.slice2Segments=function(t){for(var n=0,r=[];!(t[n]==255&t[n+1]==218);){if(t[n]==255&t[n+1]==216)n+=2;else{var a=t[n+2]*256+t[n+3],o=n+a+2,s=t.slice(n,o);r.push(s),n=o}if(n>t.length)break}return r},e.decode64=function(t){var n,r,a="",o,s,l,c="",u=0,f=[],m=/[^A-Za-z0-9\+\/\=]/g;if(m.exec(t))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=this.KEY_STR.indexOf(t.charAt(u++)),s=this.KEY_STR.indexOf(t.charAt(u++)),l=this.KEY_STR.indexOf(t.charAt(u++)),c=this.KEY_STR.indexOf(t.charAt(u++)),n=o<<2|s>>4,r=(s&15)<<4|l>>2,a=(l&3)<<6|c,f.push(n),l!=64&&f.push(r),c!=64&&f.push(a),n=r=a="",o=s=l=c="";while(u<t.length);return f},e}(),qq.TotalProgress=function(e,t){var n={},r=0,a=0,o=-1,s=-1,l=function(d,g){(d!==o||g!==s)&&e(d,g),o=d,s=g},c=function(d,g){var v=!0;return qq.each(d,function(_,y){if(qq.indexOf(g,y)>=0)return v=!1,!1}),v},u=function(d){h(d,-1,-1),delete n[d]},f=function(d,g,v){(g.length===0||c(g,v))&&(l(a,a),this.reset())},m=function(d){var g=t(d);g>0&&(h(d,0,g),n[d]={loaded:0,total:g})},h=function(d,g,v){var _=n[d]?n[d].loaded:0,y=n[d]?n[d].total:0;g===-1&&v===-1?(r-=_,a-=y):(g&&(r+=g-_),v&&(a+=v-y)),l(r,a)};qq.extend(this,{onAllComplete:f,onStatusChange:function(d,g,v){v===qq.status.CANCELED||v===qq.status.REJECTED?u(d):v===qq.status.SUBMITTING&&m(d)},onIndividualProgress:function(d,g,v){h(d,g,v),n[d]={loaded:g,total:v}},onNewSize:function(d){m(d)},reset:function(){n={},r=0,a=0}})},qq.PasteSupport=function(e){var t,n;t={targetElement:null,callbacks:{log:function(s,l){},pasteReceived:function(s){}}};function r(s){return s.type&&s.type.indexOf("image/")===0}function a(){n=qq(t.targetElement).attach("paste",function(s){var l=s.clipboardData;l&&qq.each(l.items,function(c,u){if(r(u)){var f=u.getAsFile();t.callbacks.pasteReceived(f)}})})}function o(){n&&n()}qq.extend(t,e),a(),qq.extend(this,{reset:function(){o()}})},qq.FormSupport=function(e,t,n){var r=this,a=e.interceptSubmit,o=e.element,s=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:s,attachedToForm:!1,getFormInputsAsObject:function(){return o==null?null:r._form2Obj(o)}});function l(m){m.getAttribute("action")&&(r.newEndpoint=m.getAttribute("action"))}function c(m,h){if(m.checkValidity&&!m.checkValidity())n("Form did not pass validation checks - will not upload.","error"),h();else return!0}function u(m){var h=m.submit;qq(m).attach("submit",function(d){d=d||window.event,d.preventDefault?d.preventDefault():d.returnValue=!1,c(m,h)&&t()}),m.submit=function(){c(m,h)&&t()}}function f(m){return m&&(qq.isString(m)&&(m=document.getElementById(m)),m&&(n("Attaching to form element."),l(m),a&&u(m))),m}o=f(o),this.attachedToForm=!!o},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){var t={},n=function(s){var l=["button","image","reset","submit"];return qq.indexOf(l,s.toLowerCase())<0},r=function(s){return qq.indexOf(["checkbox","radio"],s.toLowerCase())>=0},a=function(s){return r(s.type)&&!s.checked?!0:s.disabled&&s.type.toLowerCase()!=="hidden"},o=function(s){var l=null;return qq.each(qq(s).children(),function(c,u){if(u.tagName.toLowerCase()==="option"&&u.selected)return l=u.value,!1}),l};return qq.each(e.elements,function(s,l){if((qq.isInput(l,!0)||l.tagName.toLowerCase()==="textarea")&&n(l.type)&&!a(l))t[l.name]=l.value;else if(l.tagName.toLowerCase()==="select"&&!a(l)){var c=o(l);c!==null&&(t[l.name]=c)}}),t}}),qq.azure=qq.azure||{},qq.azure.util=qq.azure.util||function(){return{AZURE_PARAM_PREFIX:"x-ms-meta-",_paramNameMatchesAzureParameter:function(e){switch(e){case"Cache-Control":case"Content-Disposition":case"Content-Encoding":case"Content-MD5":case"x-ms-blob-content-encoding":case"x-ms-blob-content-disposition":case"x-ms-blob-content-md5":case"x-ms-blob-cache-control":return!0;default:return!1}},_getPrefixedParamName:function(e){return qq.azure.util._paramNameMatchesAzureParameter(e)?e:qq.azure.util.AZURE_PARAM_PREFIX+e},getParamsAsHeaders:function(e){var t={};return qq.each(e,function(n,r){var a=qq.azure.util._getPrefixedParamName(n),o=null;qq.isFunction(r)?o=String(r()):qq.isObject(r)?qq.extend(t,qq.azure.util.getParamsAsHeaders(r)):o=String(r),o!==null&&(qq.azure.util._paramNameMatchesAzureParameter(n)?t[a]=o:t[a]=encodeURIComponent(o))}),t},parseAzureError:function(e,t){var n=new DOMParser,r=n.parseFromString(e,"application/xml"),a=r.getElementsByTagName("Error")[0],o={},s,l;if(t("Received error response: "+e,"error"),a)return l=a.getElementsByTagName("Message")[0],l&&(o.message=l.textContent),s=a.getElementsByTagName("Code")[0],s&&(o.code=s.textContent),t("Parsed Azure error: "+JSON.stringify(o),"error"),o}}}(),function(){qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(e,t,n,r){var a=!!n.success,o=this,s=arguments,l=this._uploadSuccessEndpointStore.get(e),c=this._options.uploadSuccess.customHeaders,u=this._options.uploadSuccess.method,f=this._options.cors,m=new qq.Promise,h=this._uploadSuccessParamsStore.get(e),d=this._paramsStore.get(e),g=function(q){delete o._failedSuccessRequestCallbacks[e],qq.extend(n,q),qq.FineUploaderBasic.prototype._onComplete.apply(o,s),m.success(q)},v=function(q){var b=_;qq.extend(n,q),n&&n.reset&&(b=null),b?o._failedSuccessRequestCallbacks[e]=b:delete o._failedSuccessRequestCallbacks[e],o._onAutoRetry(e,t,n,r,b)||(qq.FineUploaderBasic.prototype._onComplete.apply(o,s),m.failure(q))},_,y;return a&&l?(y=new qq.UploadSuccessAjaxRequester({endpoint:l,method:u,customHeaders:c,cors:f,log:qq.bind(this.log,this)}),qq.extend(h,o._getEndpointSpecificParams(e,n,r),!0),d&&qq.extend(h,d,!0),_=qq.bind(function(){y.sendSuccessRequest(e,h).then(g,v)},o),_(),m):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){qq.azure.FineUploaderBasic=function(e){if(!qq.supportedFeatures.ajaxUploading)throw new qq.Error("Uploading directly to Azure is not possible in this browser.");var t={signature:{endpoint:null,customHeaders:{}},blobProperties:{name:"uuid"},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},chunking:{partSize:4e6,minFileSize:4000001}};qq.extend(t,e,!0),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedBlobNames={}},qq.extend(qq.azure.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.azure.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.azure.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.azure.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.azure.FineUploaderBasic.prototype,{getBlobName:function(e){return this._cannedBlobNames[e]==null?this._handler.getThirdPartyFileId(e):this._cannedBlobNames[e]},_getEndpointSpecificParams:function(e){return{blob:this.getBlobName(e),uuid:this.getUuid(e),name:this.getName(e),container:this._endpointStore.get(e)}},_createUploadHandler:function(){return qq.FineUploaderBasic.prototype._createUploadHandler.call(this,{signature:this._options.signature,onGetBlobName:qq.bind(this._determineBlobName,this),deleteBlob:qq.bind(this._deleteBlob,this,!0)},"azure")},_determineBlobName:function(e){var t=this._options.blobProperties.name,n=this.getUuid(e),r=this.getName(e),a=qq.getExtension(r),o=n;if(qq.isString(t))switch(t){case"uuid":return a!==void 0&&(o+="."+a),new qq.Promise().success(o);case"filename":return new qq.Promise().success(r);default:return new qq.Promise.failure("Invalid blobName option value - "+t)}else return t.call(this,e)},_addCannedFile:function(e){var t;if(e.blobName==null)throw new qq.Error("Did not find blob name property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedBlobNames[t]=e.blobName,t},_deleteBlob:function(e,t){var n=this,r={},a={get:function(f){return n._endpointStore.get(f)+"/"+n.getBlobName(f)}},o={get:function(f){return r[f]}},s=function(f,m){r[f]=m,c.send(f)},l=function(f,m,h){e?(n.log("Will cancel upload, but cannot remove uncommitted parts from Azure due to issue retrieving SAS","error"),qq.FineUploaderBasic.prototype._onCancel.call(n,f,n.getName(f))):(n._onDeleteComplete(f,h,!0),n._options.callbacks.onDeleteComplete(f,h,!0))},c=new qq.azure.DeleteBlob({endpointStore:o,log:qq.bind(n.log,n),onDelete:function(f){n._onDelete(f),n._options.callbacks.onDelete(f)},onDeleteComplete:function(f,m,h){delete r[f],h&&(e?n.log("Will cancel upload, but failed to remove uncommitted parts from Azure.","error"):qq.azure.util.parseAzureError(m.responseText,qq.bind(n.log,n))),e?(qq.FineUploaderBasic.prototype._onCancel.call(n,f,n.getName(f)),n.log("Deleted uncommitted blob chunks for "+f)):(n._onDeleteComplete(f,m,h),n._options.callbacks.onDeleteComplete(f,m,h))}}),u=new qq.azure.GetSas({cors:this._options.cors,customHeaders:this._options.signature.customHeaders,endpointStore:{get:function(){return n._options.signature.endpoint}},restRequestVerb:c.method,log:qq.bind(n.log,n)});u.request(t,a.get(t)).then(qq.bind(s,n,t),qq.bind(l,n,t))},_createDeleteHandler:function(){var e=this;return{sendDelete:function(t,n){e._deleteBlob(!1,t)}}}})}(),qq.azure.XhrUploadHandler=function(e,t){var n=this,r=t.log,a=e.cors,o=e.endpointStore,s=e.paramsStore,l=e.signature,c=e.filenameParam,u=e.chunking.minFileSize,f=e.deleteBlob,m=e.onGetBlobName,h=t.getName,d=t.getSize,g=function(x){var E=s.get(x);return E[c]=h(x),E},v={putBlob:new qq.azure.PutBlob({getBlobMetadata:g,log:r}),putBlock:new qq.azure.PutBlock({log:r}),putBlockList:new qq.azure.PutBlockList({getBlobMetadata:g,log:r}),getSasForPutBlobOrBlock:new qq.azure.GetSas({cors:a,customHeaders:l.customHeaders,endpointStore:{get:function(){return l.endpoint}},log:r,restRequestVerb:"PUT"})};function _(x){var E=new qq.Promise;return q(x).then(function(T){var k=n._getMimeType(x),A=n._getPersistableData(x).blockIdEntries;v.putBlockList.send(x,T,A,k,function(M){n._registerXhr(x,null,M,v.putBlockList)}).then(function(M){r("Success combining chunks for id "+x),E.success({},M)},function(M){r("Attempt to combine chunks failed for id "+x,"error"),b(M,E)})},E.failure),E}function y(x){var E=o.get(x),T=new qq.Promise,k=function(M){n._setThirdPartyFileId(x,M),T.success(E+"/"+M)},A=function(M){T.failure(M)};return m(x).then(k,A),T}function q(x,E){var T=E==null?x:x+"."+E,k=new qq.Promise,A=function(I){r("GET SAS request succeeded."),k.success(I)},M=function(I,O){r("GET SAS request failed: "+I,"error"),k.failure({error:"Problem communicating with local server"},O)},S=function(I){v.getSasForPutBlobOrBlock.request(T,I).then(A,M)},C=function(I){r(qq.format("Failed to determine blob name for ID {} - {}",x,I),"error"),k.failure({error:I})};return y(x).then(S,C),k}function b(x,E){var T=qq.azure.util.parseAzureError(x.responseText,r),k="Problem sending file to Azure";E.failure({error:k,azureError:T&&T.message,reset:x.status===403})}qq.extend(this,{uploadChunk:function(x){var E=x.chunkIdx,T=x.id,k=new qq.Promise;return q(T,E).then(function(A){var M=n._createXhr(T,E),S=n._getChunkData(T,E);n._registerProgressHandler(T,E,S.size),n._registerXhr(T,E,M,v.putBlock),v.putBlock.upload(T+"."+E,M,A,E,S.blob).then(function(C){n._getPersistableData(T).blockIdEntries||(n._getPersistableData(T).blockIdEntries=[]),n._getPersistableData(T).blockIdEntries.push(C),r("Put Block call succeeded for "+T),k.success({},M)},function(){r(qq.format("Put Block call failed for ID {} on part {}",T,E),"error"),b(M,k)})},k.failure),k},uploadFile:function(x){var E=new qq.Promise,T=n.getFile(x);return q(x).then(function(k){var A=n._createXhr(x);n._registerProgressHandler(x),v.putBlob.upload(x,A,k,T).then(function(){r("Put Blob call succeeded for "+x),E.success({},A)},function(){r("Put Blob call failed for "+x,"error"),b(A,E)})},E.failure),E}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"azure"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(x){return{expunge:function(E){var T=n._wasCanceled(E),k=n._getPersistableData(E),A=k&&k.blockIdEntries||[];T&&A.length>0&&f(E),x.expunge(E)},finalizeChunks:function(E){return _(E)},_shouldChunkThisFile:function(E){var T=x._shouldChunkThisFile(E);return T&&d(E)>=u}}})},qq.azure.GetSas=function(e){var t,n={cors:{expected:!1,sendCredentials:!1},customHeaders:{},restRequestVerb:"PUT",endpointStore:null,log:function(o,s){}},r={};qq.extend(n,e);function a(o,s,l){var c=r[o];l?c.failure("Received response code "+s.status,s):s.responseText.length?c.success(s.responseText):c.failure("Empty response.",s),delete r[o]}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",successfulResponseCodes:{GET:[200]},contentType:null,customHeaders:n.customHeaders,endpointStore:n.endpointStore,cors:n.cors,log:n.log,onComplete:a})),qq.extend(this,{request:function(o,s){var l=new qq.Promise,c=n.restRequestVerb;return n.log(qq.format("Submitting GET SAS request for a {} REST request related to file ID {}.",c,o)),r[o]=l,t.initTransport(o).withParams({bloburi:s,_method:c}).withCacheBuster().send(),l}})},qq.UploadSuccessAjaxRequester=function(e){var t,n=[],r={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(o,s){}};qq.extend(r,e);function a(o,s,l){var c=n[o],u=s.responseText,f={success:!0},m={success:!1},h;delete n[o],r.log(qq.format("Received the following response body to an upload success request for id {}: {}",o,u));try{h=qq.parseJson(u),l||h&&(h.error||h.success===!1)?(r.log("Upload success request was rejected by the server.","error"),c.failure(qq.extend(h,m))):(r.log("Upload success was acknowledged by the server."),c.success(qq.extend(h,f)))}catch{l?(r.log(qq.format("Your server indicated failure in its upload success request response for id {}!",o),"error"),c.failure(m)):(r.log("Upload success was acknowledged by the server."),c.success(f))}}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:r.method,endpointStore:{get:function(){return r.endpoint}},paramsStore:r.paramsStore,maxConnections:r.maxConnections,customHeaders:r.customHeaders,log:r.log,onComplete:a,cors:r.cors})),qq.extend(this,{sendSuccessRequest:function(o,s){var l=new qq.Promise;return r.log("Submitting upload success request/notification for "+o),t.initTransport(o).withParams(s).send(),n[o]=l,l}})},qq.azure.DeleteBlob=function(e){var t,n="DELETE",r={endpointStore:{},onDelete:function(a){},onDeleteComplete:function(a,o,s){},log:function(a,o){}};qq.extend(r,e),t=qq.extend(this,new qq.AjaxRequester({validMethods:[n],method:n,successfulResponseCodes:function(){var a={};return a[n]=[202],a}(),contentType:null,endpointStore:r.endpointStore,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:r.log,onSend:r.onDelete,onComplete:r.onDeleteComplete})),qq.extend(this,{method:n,send:function(a){return r.log("Submitting Delete Blob request for "+a),t.initTransport(a).send()}})},qq.azure.PutBlob=function(e){var t,n="PUT",r={getBlobMetadata:function(l){},log:function(l,c){}},a={},o={},s={get:function(l){return a[l]}};qq.extend(r,e),t=qq.extend(this,new qq.AjaxRequester({validMethods:[n],method:n,successfulResponseCodes:function(){var l={};return l[n]=[201],l}(),contentType:null,customHeaders:function(l){var c=r.getBlobMetadata(l),u=qq.azure.util.getParamsAsHeaders(c);return u["x-ms-blob-type"]="BlockBlob",u},endpointStore:s,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:r.log,onComplete:function(l,c,u){var f=o[l];delete a[l],delete o[l],u?f.failure():f.success()}})),qq.extend(this,{method:n,upload:function(l,c,u,f){var m=new qq.Promise;return r.log("Submitting Put Blob request for "+l),o[l]=m,a[l]=u,t.initTransport(l).withPayload(f).withHeaders({"Content-Type":f.type}).send(c),m}})},qq.azure.PutBlock=function(e){var t,n="PUT",r={},a={},o={log:function(u,f){}},s={},l={get:function(u){return s[u]}};qq.extend(o,e),t=qq.extend(this,new qq.AjaxRequester({validMethods:[n],method:n,successfulResponseCodes:function(){var u={};return u[n]=[201],u}(),contentType:null,endpointStore:l,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:o.log,onComplete:function(u,f,m){var h=a[u],d=r[u];delete s[u],delete a[u],delete r[u],m?h.failure():h.success(d)}}));function c(u){var f=5,m=new Array(f+1).join("0"),h=(m+u).slice(-f);return btoa(h)}qq.extend(this,{method:n,upload:function(u,f,m,h,d){var g=new qq.Promise,v=c(h);return a[u]=g,o.log(qq.format("Submitting Put Block request for {} = part {}",u,h)),s[u]=qq.format("{}&comp=block&blockid={}",m,encodeURIComponent(v)),r[u]={part:h,id:v},t.initTransport(u).withPayload(d).send(f),g}})},qq.azure.PutBlockList=function(e){var t,n="PUT",r={},a={getBlobMetadata:function(c){},log:function(c,u){}},o={},s={get:function(c){return o[c]}};qq.extend(a,e),t=qq.extend(this,new qq.AjaxRequester({validMethods:[n],method:n,successfulResponseCodes:function(){var c={};return c[n]=[201],c}(),customHeaders:function(c){var u=a.getBlobMetadata(c);return qq.azure.util.getParamsAsHeaders(u)},contentType:"text/plain",endpointStore:s,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:a.log,onSend:function(){},onComplete:function(c,u,f){var m=r[c];delete o[c],delete r[c],f?m.failure(u):m.success(u)}}));function l(c){var u=document.implementation.createDocument(null,"BlockList",null);return c.sort(function(f,m){return f.part-m.part}),qq.each(c,function(f,m){var h=u.createElement("Latest"),d=u.createTextNode(m.id);h.appendChild(d),qq(u).children()[0].appendChild(h)}),new XMLSerializer().serializeToString(u)}qq.extend(this,{method:n,send:function(c,u,f,m,h){var d=new qq.Promise,g=l(f),v;return r[c]=d,a.log(qq.format("Submitting Put Block List request for {}",c)),o[c]=qq.format("{}&comp=blocklist",u),v=t.initTransport(c).withPayload(g).withHeaders({"x-ms-blob-content-type":m}).send(),h(v),d}})}})(window)})(azure_fineUploader_core);var azure=azure_fineUploader_core.exports;Object.defineProperty(azure$1,"__esModule",{value:!0});azure$1.qq=void 0;var _baseWrapper$1=baseWrapper,_baseWrapper2$1=_interopRequireDefault$1(_baseWrapper$1),_azure=azure,_azure2=_interopRequireDefault$1(_azure),_callbackNames$1=callbackNames;function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits$1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FineUploaderAzure=function(e){_inherits$1(t,e);function t(n){var r=n.options;return _classCallCheck$1(this,t),_possibleConstructorReturn$1(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{callbackNames:_callbackNames$1.traditional,options:r,qq:_azure2.default,type:"azure"}))}return t}(_baseWrapper2$1.default),_default$1=azure$1.default=FineUploaderAzure;azure$1.qq=_azure2.default;var traditional={},fineUploader_core={exports:{}};(function(module){(function(global){var qq=function(e){return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return t?e===t?!0:e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&8):!1},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(e.style==null)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return t.opacity!=null&&typeof e.style.opacity!="string"&&typeof e.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!!(n&&r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,a=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,function(o,s){qq(s).hasClass(t)&&a.push(s)}),n?a[0]:a)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)n.nodeType===1&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?e.hasAttribute(t)?/^false$/i.exec(e.getAttribute(t))==null:!1:(n=e[t],n===void 0?!1:/^false$/i.exec(n)==null)}}};(function(){qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r=function(s,l){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,u=c&&new c;return u?(u.append(s),u.getBlob(l)):new Blob([s],{type:l})},a,o;return e.split(",")[0].indexOf("base64")>=0?n=atob(e.split(",")[1]):n=decodeURI(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),a=new Uint8Array(t),qq.each(n,function(s,l){a[s]=l.charCodeAt(0)}),r(t,o)},qq.log=function(e,t){window.console&&(!t||t==="info"?window.console.log(e):window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e))},qq.isObject=function(e){return e&&!e.nodeType&&Object.prototype.toString.call(e)==="[object Object]"},qq.isFunction=function(e){return typeof e=="function"},qq.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return Object.prototype.toString.call(e)==="[object DataTransferItemList]"},qq.isNodeList=function(e){return Object.prototype.toString.call(e)==="[object NodeList]"||e.item&&e.namedItem},qq.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,function(a,o){var s=n.substring(0,r),l=n.substring(r+2);if(n=s+o+l,r=n.indexOf("{}",r+o.length),r<0)return!1}),n},qq.isFile=function(e){return window.File&&Object.prototype.toString.call(e)==="[object File]"},qq.isFileList=function(e){return window.FileList&&Object.prototype.toString.call(e)==="[object FileList]"},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(r){var a=r.toLowerCase();return t?a!=="file":a==="file"};return!!(window.HTMLInputElement&&Object.prototype.toString.call(e)==="[object HTMLInputElement]"&&e.type&&n(e.type)||e.tagName&&e.tagName.toLowerCase()==="input"&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&Object.prototype.toString.call(e)==="[object Blob]")return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",e.multiple!==void 0&&typeof File!="undefined"&&typeof FormData!="undefined"&&typeof qq.createXhrInstance().upload!="undefined"},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch{return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(File.prototype.slice!==void 0||File.prototype.webkitSlice!==void 0||File.prototype.mozSlice!==void 0)},qq.sliceBlob=function(e,t,n){var r=e.slice||e.mozSlice||e.webkitSlice;return r.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(r,a){var o=a.toString(16);o.length<2&&(o="0"+o),t+=o}),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),a=new FileReader,o=new qq.Promise;return a.onload=function(){o.success(qq.arrayBufferToHex(a.result))},a.onerror=o.failure,a.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,function(r,a){n&&qq.isObject(a)?(e[r]===void 0&&(e[r]={}),qq.extend(e[r],a,!0)):e[r]=a}),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,function(a,o){e[a]!==void 0&&(n[a]=e[a]),e[a]=o}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},qq.ie=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1},qq.ie7=function(){return navigator.userAgent.indexOf("MSIE 7")!==-1},qq.ie8=function(){return navigator.userAgent.indexOf("MSIE 8")!==-1},qq.ie10=function(){return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.ie11=function(){return qq.ie()&&navigator.userAgent.indexOf("rv:11")!==-1},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Google")!==-1},qq.opera=function(){return navigator.vendor!==void 0&&navigator.vendor.indexOf("Opera")!==-1},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&navigator.userAgent.indexOf("Mozilla")!==-1&&navigator.vendor!==void 0&&navigator.vendor===""},qq.windows=function(){return navigator.platform==="Win32"},qq.android=function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 6_")!==-1},qq.ios7=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 7_")!==-1},qq.ios8=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_")!==-1},qq.ios800=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_0 ")!==-1},qq.ios=function(){return navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPod")!==-1||navigator.userAgent.indexOf("iPhone")!==-1},qq.iosChrome=function(){return qq.ios()&&navigator.userAgent.indexOf("CriOS")!==-1},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&navigator.userAgent.indexOf("Safari")!==-1},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,r;if(e){if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(r=t(e.key(n),e.getItem(e.key(n))),r!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(r=t(n,e[n]),r!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(r=t(n,e.charAt(n)),r!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(r=t(n,e[n]),r===!1))break}},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],a="&",o=function(s,l){var c=t?/\[\]$/.test(t)?t:t+"["+l+"]":l;c!=="undefined"&&l!=="undefined"&&r.push(typeof s=="object"?qq.obj2url(s,c,!0):Object.prototype.toString.call(s)==="[object Function]"?encodeURIComponent(c)+"="+encodeURIComponent(s()):encodeURIComponent(c)+"="+encodeURIComponent(s))};return!n&&t?(a=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined"?qq.each(e,function(s,l){o(l,s)}):typeof e!="undefined"&&e!==null&&typeof e=="object"?qq.each(e,function(s,l){o(l,s)}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(a):r.join(a).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(r,a){r=n?n+"["+r+"]":r,qq.isObject(a)?qq.obj2FormData(a,t,r):qq.isFunction(a)?t.append(r,a()):t.append(r,a)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(r,a){n=document.createElement("input"),n.setAttribute("name",r),n.setAttribute("value",a),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&e.fileName!==null&&e.fileName!==void 0?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var t=arguments;this.addDisposer(qq(t[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}})(),function(){module.exports?module.exports=qq:global.qq=qq}(),function(){qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){var e,t,n,r,a,o,s,l,c,u,f,m,h,d,g;function v(){var k=!0,A;try{A=document.createElement("input"),A.type="file",qq(A).hide(),A.disabled&&(k=!1)}catch{k=!1}return k}function _(){return(qq.chrome()||qq.opera())&&navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)!==void 0}function y(){if(window.XMLHttpRequest){var k=qq.createXhrInstance();return k.withCredentials!==void 0}return!1}function q(){return window.XDomainRequest!==void 0}function b(){return y()?!0:q()}function x(){return document.createElement("input").webkitdirectory!==void 0}function E(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch{return!1}}function T(){var k=document.createElement("span");return("draggable"in k||"ondragstart"in k&&"ondrop"in k)&&!qq.android()&&!qq.ios()}return e=v(),r=e&&qq.isXhrUploadSupported(),t=r&&!qq.androidStock(),n=r&&T(),a=n&&function(){var k=document.createElement("input");return k.type="file","webkitdirectory"in(k||document.querySelectorAll("input[type=file]")[0])}(),o=r&&qq.isFileChunkingSupported(),s=r&&o&&E(),l=r&&_(),c=e&&(window.postMessage!==void 0||r),f=y(),u=q(),m=b(),h=x(),d=r&&window.FileReader!==void 0,g=function(){return r?!qq.androidStock()&&!qq.iosChrome():!1}(),{ajaxUploading:r,blobUploading:t,canDetermineSize:r,chunking:o,deleteFileCors:m,deleteFileCorsXdr:u,deleteFileCorsXhr:f,dialogElement:!!window.HTMLDialogElement,fileDrop:n,folderDrop:a,folderSelection:h,imagePreviews:d,imageValidation:d,itemSizeValidation:r,pause:o,progressBar:g,resume:s,scaling:d&&t,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:e,uploadCors:c,uploadCustomHeaders:r,uploadNonMultipart:r,uploadViaPaste:l}}(),qq.isGenericPromise=function(e){return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){var e,t,n=[],r=[],a=[],o=0;qq.extend(this,{then:function(s,l){return o===0?(s&&n.push(s),l&&r.push(l)):o===-1?l&&l.apply(null,t):s&&s.apply(null,e),this},done:function(s){return o===0?a.push(s):s.apply(null,t===void 0?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(s,l){l.apply(null,e)}),a.length&&qq.each(a,function(s,l){l.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,function(s,l){l.apply(null,t)}),a.length&&qq.each(a,function(s,l){l.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){var t=this,n=new qq.DisposeSupport,r={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(l){},title:null},a,o;qq.extend(r,e),o=qq.getUniqueId();function s(){var l=document.createElement("input");return l.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,o),l.setAttribute("title",r.title),t.setMultiple(r.multiple,l),r.folders&&qq.supportedFeatures.folderSelection&&l.setAttribute("webkitdirectory",""),r.acceptFiles&&l.setAttribute("accept",r.acceptFiles),l.setAttribute("type","file"),l.setAttribute("name",r.name),qq(l).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(l).css({height:"100%"}),r.element.appendChild(l),n.attach(l,"change",function(){r.onChange(l)}),n.attach(l,"mouseover",function(){qq(r.element).addClass(r.hoverClass)}),n.attach(l,"mouseout",function(){qq(r.element).removeClass(r.hoverClass)}),n.attach(l,"focus",function(){qq(r.element).addClass(r.focusClass)}),n.attach(l,"blur",function(){qq(r.element).removeClass(r.focusClass)}),l}qq(r.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return a},getButtonId:function(){return o},setMultiple:function(l,c){var u=c||this.getInput();r.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())||l?u.setAttribute("multiple",""):u.removeAttribute("multiple")},setAcceptFiles:function(l){l!==r.acceptFiles&&a.setAttribute("accept",l)},reset:function(){a.parentNode&&qq(a).remove(),qq(r.element).removeClass(r.focusClass),a=null,a=s()}}),a=s()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){var t=[],n={},r={},a={},o={};function s(u){if(qq.isArray(u)){var f=[];return qq.each(u,function(m,h){f.push(t[h])}),f}return t[u]}function l(u){if(qq.isArray(u)){var f=[];return qq.each(u,function(m,h){f.push(t[n[h]])}),f}return t[n[u]]}function c(u){var f=[],m=[].concat(u);return qq.each(m,function(h,d){var g=r[d];g!==void 0&&qq.each(g,function(v,_){f.push(t[_])})}),f}qq.extend(this,{addFile:function(u){var f=u.status||qq.status.SUBMITTING,m=t.push({name:u.name,originalName:u.name,uuid:u.uuid,size:u.size==null?-1:u.size,status:f,file:u.file})-1;return u.batchId&&(t[m].batchId=u.batchId,o[u.batchId]===void 0&&(o[u.batchId]=[]),o[u.batchId].push(m)),u.proxyGroupId&&(t[m].proxyGroupId=u.proxyGroupId,a[u.proxyGroupId]===void 0&&(a[u.proxyGroupId]=[]),a[u.proxyGroupId].push(m)),t[m].id=m,n[u.uuid]=m,r[f]===void 0&&(r[f]=[]),r[f].push(m),u.onBeforeStatusChange&&u.onBeforeStatusChange(m),e.onStatusChange(m,null,f),m},retrieve:function(u){if(qq.isObject(u)&&t.length){if(u.id!==void 0)return s(u.id);if(u.uuid!==void 0)return l(u.uuid);if(u.status)return c(u.status)}else return qq.extend([],t,!0)},removeFileRef:function(u){var f=s(u);f&&delete f.file},reset:function(){t=[],n={},r={},o={}},setStatus:function(u,f){var m=t[u].status,h=qq.indexOf(r[m],u);r[m].splice(h,1),t[u].status=f,r[f]===void 0&&(r[f]=[]),r[f].push(u),e.onStatusChange(u,m,f)},uuidChanged:function(u,f){var m=t[u].uuid;t[u].uuid=f,n[f]=u,delete n[m]},updateName:function(u,f){t[u].name=f},updateSize:function(u,f){t[u].size=f},setParentId:function(u,f){t[u].parentId=f},getIdsInProxyGroup:function(u){var f=t[u].proxyGroupId;return f?a[f]:[]},getIdsInBatch:function(u){var f=t[u].batchId;return o[f]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(n,r){t._addCannedFile(r)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var r=this._storedIds.length===0?qq.getUniqueId():this._currentBatchId,a=qq.bind(function(h){this._handleNewFile({blob:h,name:this._options.blobs.defaultName},r,m)},this),o=qq.bind(function(h){this._handleNewFile(h,r,m)},this),s=qq.bind(function(h){var d=qq.canvasToBlob(h);this._handleNewFile({blob:d,name:this._options.blobs.defaultName+".png"},r,m)},this),l=qq.bind(function(h){var d=h.quality&&h.quality/100,g=qq.canvasToBlob(h.canvas,h.type,d);this._handleNewFile({blob:g,name:h.name},r,m)},this),c=qq.bind(function(h){if(qq.isInput(h)&&qq.supportedFeatures.ajaxUploading){var d=Array.prototype.slice.call(h.files),g=this;qq.each(d,function(v,_){g._handleNewFile(_,r,m)})}else this._handleNewFile(h,r,m)},this),u=function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)},f=this,m=[];this._currentBatchId=r,e&&(u(),qq.each(e,function(h,d){qq.isFileOrInput(d)?c(d):qq.isBlob(d)?a(d):qq.isObject(d)?d.blob&&d.name?o(d):d.canvas&&d.name&&l(d):d.tagName&&d.tagName.toLowerCase()==="canvas"?s(d):f.log(d+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+m.length+" files."),this._prepareItemsForUpload(m,t,n))},cancel:function(e){var t=this._uploadData.retrieve({id:e});t&&t.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",e,this.getName(e)),"error"):this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(n,r){t.cancel(r)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!qq.supportedFeatures.pause||!this._options.chunking.enabled?!1:t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1)},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,r,a){var o=new qq.Promise,s,l;return this._imageGenerator?(s=this._thumbnailUrls[e],l={customResizeFunction:a,maxSize:n>0?n:null,scale:n>0},!r&&qq.supportedFeatures.imagePreviews&&(s=this.getFile(e)),s==null?o.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(s,t,l).then(function(u){o.success(u)},function(u,f){o.failure({container:u,error:f||"Problem generating thumbnail"})})):o.failure({container:t,error:"Missing image generator module"}),o},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){var t=this._handler.getFile(e),n;return t||(n=this._uploadData.retrieve({id:e}),n&&(t=n.file)),t||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&t.parentId!==void 0&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},isResumable:function(e){return this._handler.hasResumeRecord(e)},log:function(e,t){this._options.debug&&(!t||t==="info")?qq.log("[Fine Uploader "+qq.version+"] "+e):t&&t!=="info"&&qq.log("[Fine Uploader "+qq.version+"] "+e,t)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e),this._uploadData.removeFileRef(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setCustomResumeData:function(e,t){this._customResumeDataStore.set(t,e)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){var n=this.getUploads({id:e});if(!n)throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var r="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(r),new qq.Error(r)}},uploadStoredFiles:function(){this._storedIds.length===0?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,r){e._onDeleteComplete(t,n,r),e._options.callbacks.onDeleteComplete(t,n,r)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},r=e,a={},o=t,s=function(u){return qq.isObject(u)?qq.extend({},u):u},l=function(){return qq.isFunction(o)?o():o},c=function(u,f){o&&qq.isObject(f)&&qq.extend(f,l()),a[u]&&qq.extend(f,a[u])};return{set:function(u,f){f==null?(n={},r=s(u)):n[f]=s(u)},get:function(u){var f;return u!=null&&n[u]?f=n[u]:f=s(r),c(u,f),s(f)},addReadOnly:function(u,f){qq.isObject(n)&&(u===null?qq.isFunction(f)?o=f:(o=o||{},qq.extend(o,f)):(a[u]=a[u]||{},qq.extend(a[u],f)))},remove:function(u){return delete n[u]},reset:function(){n={},a={},r=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,r){e._onUploadStatusChange(t,n,r),e._options.callbacks.onStatusChange(t,n,r),e._maybeAllComplete(t,r),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,r)},0)}})},_createUploadButton:function(e){var t=this,n=e.accept||this._options.validation.acceptFiles,r=e.allowedExtensions||this._options.validation.allowedExtensions,a;function o(){return qq.supportedFeatures.ajaxUploading?t._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&t._isAllowedExtension(r,".mov")?!1:e.multiple===void 0?t._options.multiple:e.multiple:!1}return a=new qq.UploadButton({acceptFiles:n,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:o(),name:this._options.request.inputName,onChange:function(s){t._onInputChange(s)},title:e.title==null?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){a.dispose()}),t._buttons.push(a),a},_createUploadHandler:function(e,t){var n=this,r={},a={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(o,s,l,c){l<0||c<0||(r[o]?(r[o].loaded!==l||r[o].total!==c)&&(n._onProgress(o,s,l,c),n._options.callbacks.onProgress(o,s,l,c)):(n._onProgress(o,s,l,c),n._options.callbacks.onProgress(o,s,l,c)),r[o]={loaded:l,total:c})},onComplete:function(o,s,l,c){delete r[o];var u=n.getUploads({id:o}).status,f;u===qq.status.UPLOAD_SUCCESSFUL||u===qq.status.UPLOAD_FAILED||(f=n._onComplete(o,s,l,c),f instanceof qq.Promise?f.done(function(){n._options.callbacks.onComplete(o,s,l,c)}):n._options.callbacks.onComplete(o,s,l,c))},onCancel:function(o,s,l){var c=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,o,s),onFailure:c.failure,onSuccess:function(){l.then(function(){n._onCancel(o,s)}),c.success()},identifier:o}),c},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(o,s){n._onUpload(o,s);var l=n._options.callbacks.onUpload(o,s);return qq.isGenericPromise(l)?(n.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",o)),l):new qq.Promise().success()},onUploadChunk:function(o,s,l){n._onUploadChunk(o,l);var c=n._options.callbacks.onUploadChunk(o,s,l);return qq.isGenericPromise(c)?(n.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",o,l.partIndex)),c):new qq.Promise().success()},onUploadChunkSuccess:function(o,s,l,c){n._onUploadChunkSuccess(o,s),n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(o,s,l,c){return n._options.callbacks.onResume(o,s,l,c)},onAutoRetry:function(o,s,l,c){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(o,s){n.log("Server requested UUID change from '"+n.getUuid(o)+"' to '"+s+"'"),n.setUuid(o,s)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(o){return n.getUploads({uuid:o})},isQueued:function(o){var s=n.getUploads({id:o}).status;return s===qq.status.QUEUED||s===qq.status.SUBMITTED||s===qq.status.UPLOAD_RETRYING||s===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch,isInProgress:function(o){return n.getUploads({id:o}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(n._getCustomResumeData,n),setStatus:function(o,s){n._uploadData.setStatus(o,s)}};return qq.each(this._options.request,function(o,s){a[o]=s}),a.customHeaders=this._customHeadersStore,e&&qq.each(e,function(o,s){a[o]=s}),new qq.UploadHandlerController(a,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(e===0)return e+this._options.text.sizeSymbols[0];var t=-1;do e=e/1e3,t++;while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var r=n.multiple,a=qq.extend({},e._options.validation,!0),o=qq.extend({},n);r===void 0&&(r=e._options.multiple),o.validation&&qq.extend(a,n.validation,!0),qq.extend(o,{multiple:r,validation:a},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];if(t)return t.element;if(e===this._defaultButtonId)return this._options.button},_getButtonId:function(e){var t,n,r=e;if(r instanceof qq.BlobProxy&&(r=r.referenceBlob),r&&!qq.isBlob(r)){if(qq.isFile(r))return r.qqButtonId;if(r.tagName.toLowerCase()==="input"&&r.type.toLowerCase()==="file")return r.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=r.getElementsByTagName("input"),qq.each(t,function(a,o){if(o.getAttribute("type")==="file")return n=o,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getCustomResumeData:function(e){return this._customResumeDataStore.get(e)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(r,a){n.push(t._getValidationDescriptor(a))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,r=this._options;n&&n!==this._defaultButtonId&&(r=this._extraButtonSpecs[n]),r.multiple=!1,r.validation.acceptFiles===null?r.validation.acceptFiles=e:r.validation.acceptFiles+=","+e,qq.each(this._buttons,function(a,o){if(o.getButtonId()===n)return o.setMultiple(r.multiple),o.setAcceptFiles(r.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(r){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(r)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(n!==!1?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var r=this,a=qq.getUniqueId(),o=-1,s=qq.getFilename(e),l=e.blob||e,c=this._customNewFileHandler?this._customNewFileHandler:qq.bind(r._handleNewFileGeneric,r);!qq.isInput(l)&&l.size>=0&&(o=l.size),c(l,s,a,o,n,t,this._options.request.uuidName,{uploadData:r._uploadData,paramsStore:r._paramsStore,addFileToHandler:function(u,f){r._handler.add(u,f),r._netUploadedOrQueued++,r._trackButton(u)}})},_handleNewFileGeneric:function(e,t,n,r,a,o){var s=this._uploadData.addFile({uuid:n,name:t,size:r,batchId:o,file:e});this._handler.add(s,e),this._trackButton(s),this._netUploadedOrQueued++,a.push({id:s,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],r=t;r==null&&(r=this._options.paste.defaultName),r+="."+n,this.addFiles({name:r,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),!t||t.withCredentials===void 0?this._options.callbacks.onError(e,n,"Delete request failed",t):this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled?!1:this._options.cors.expected?!!(qq.supportedFeatures.deleteFileCorsXhr||qq.supportedFeatures.deleteFileCorsXdr&&this._options.cors.allowXdr):!0},_isAllowedExtension:function(e,t){var n=!1;return e.length?(qq.each(e,function(r,a){if(qq.isString(a)){var o=new RegExp("\\."+a+"$","i");if(t.match(o)!=null)return n=!0,!1}}),n):!0},_itemError:function(e,t,n){var r=this._options.messages[e],a=[],o=[].concat(t),s=o[0],l=this._getButtonId(n),c=this._getValidationBase(l),u,f;function m(h,d){r=r.replace(h,d)}return qq.each(c.allowedExtensions,function(h,d){qq.isString(d)&&a.push(d)}),u=a.join(", ").toLowerCase(),m("{file}",this._options.formatFileName(s)),m("{extensions}",u),m("{sizeLimit}",this._formatSize(c.sizeLimit)),m("{minSizeLimit}",this._formatSize(c.minSizeLimit)),f=r.match(/(\{\w+\})/g),f!==null&&qq.each(f,function(h,d){m(d,o[h])}),this._options.callbacks.onError(null,s,r,void 0),r},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,r=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),r===0&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,r){if(!n.success)if(r&&r.status!==200&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+r.status,r);else{var a=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,a,r)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,r,a){var o=this;if(t.length>n){if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var s=o._getValidationDescriptor(t[n]),l=o._getButtonId(t[n].file),c=o._getButton(l);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,s,c),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,r,a),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,r,a),identifier:"Item '"+s.name+"', size: "+s.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)}},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,r,a){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e)){var s=o._options.retry.autoAttemptDelay*1e3;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),a?a(e):o._handler.retry(e)},s),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t=this._currentItemLimit,n;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(n=this.getName(e),this._options.callbacks.onManualRetry(e,n)===!1?!1:t>0&&this._netUploadedOrQueued+1>t?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+n+"' (id: "+e+")..."),!0)):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,r){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),n[this._options.retry.preventRetryResponseProperty]===!0&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,r),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e),n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(n,r){r.reset()})},_onProgress:function(e,t,n,r){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,r)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var r=this.getUuid(e),a;return t&&(a=qq.bind(t,this,e,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:a||qq.bind(this._deleteHandler.sendDelete,this,e,r,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadChunkSuccess:function(e,t){!this._preventRetries[e]&&this._options.retry.enableAuto&&(this._autoRetries[e]=0)},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(n,r){t._fileOrBlobRejected(r.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,r,a){var o,s=this._currentItemLimit,l=this._netUploadedOrQueued;s===0||l<=s?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],a),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,r),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,r),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,l).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,r){var a=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,a,n,r)},_onValidateCallbackSuccess:function(e,t,n,r){var a=this,o=t+1,s=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],s).then(function(){a._upload(e[t].id,n,r),a._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,r)},function(){a._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,r)})},_prepareItemsForUpload:function(e,t,n){if(e.length===0){this._itemError("noFilesError");return}var r=this._getValidationDescriptors(e),a=this._getButtonId(e[0].file),o=this._getButton(a);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,r,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,r,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&this._options.session.endpoint!=null&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(n,r){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(n,!0,r)},function(n,r){e._options.callbacks.onSessionRequestComplete(n,!1,r)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(this._autoRetries[e]===void 0&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)?(this._autoRetries[e]+=1,!0):!1},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;qq.supportedFeatures.ajaxUploading?t=this._handler.getFile(e).qqButtonId:t=this._getButtonId(this._handler.getInput(e)),t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var r=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,r),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,r),onFailure:qq.bind(this._fileOrBlobRejected,this,e,r),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);t=this.getUploads({status:qq.status.SUBMITTING}).length,t&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,r=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),a=t.name,o=t.size,s=this._getButtonId(e.file),l=this._getValidationBase(s),c=new qq.Promise;return c.then(function(){},function(){n._fileOrBlobRejected(e.id,a)}),qq.isFileOrInput(r)&&!this._isAllowedExtension(l.allowedExtensions,a)?(this._itemError("typeError",a,r),c.failure()):!this._options.validation.allowEmpty&&o===0?(this._itemError("emptyError",a,r),c.failure()):o>0&&l.sizeLimit&&o>l.sizeLimit?(this._itemError("sizeError",a,r),c.failure()):o>0&&o<l.minSizeLimit?(this._itemError("minSizeError",a,r),c.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(r)?new qq.ImageValidation(r,qq.bind(n.log,n)).validate(l.image).then(c.success,function(u){n._itemError(u+"ImageError",a,r),c.failure()}):c.success(),c)},_wrapCallbacks:function(){var e,t,n;e=this,t=function(r,a,o){var s;try{return a.apply(e,o)}catch(l){s=l.message||l.toString(),e.log("Caught exception in '"+r+"' callback - "+s,"error")}};for(n in this._options.callbacks)(function(){var r,a;r=n,a=e._options.callbacks[r],e._options.callbacks[r]=function(){return t(r,a,arguments)}})()}}}(),function(){qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(n,r){},onSubmitted:function(n,r){},onComplete:function(n,r,a,o){},onAllComplete:function(n,r){},onCancel:function(n,r){},onUpload:function(n,r){},onUploadChunk:function(n,r,a){},onUploadChunkSuccess:function(n,r,a,o){},onResume:function(n,r,a,o){},onProgress:function(n,r,a,o){},onTotalProgress:function(n,r){},onError:function(n,r,a,o){},onAutoRetry:function(n,r,a){},onManualRetry:function(n,r){},onValidateBatch:function(n){},onValidate:function(n){},onSubmitDelete:function(n){},onDelete:function(n){},onDeleteComplete:function(n,r,a){},onPasteReceived:function(n){},onStatusChange:function(n,r,a){},onSessionRequestComplete:function(n,r,a){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(n){return 2e6},success:{endpoint:null,headers:function(n){return null},jsonPayload:!1,method:"POST",params:function(n){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(n){return[]}},formatFileName:function(n){return n},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(n){var r=t._uploadData.retrieve({id:n});return r&&r.size||0})),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){var t,n,r=[],a={},o={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(k,A){},onSend:function(k){},onComplete:function(k,A,M){},onProgress:null};if(qq.extend(o,e),t=o.log,qq.indexOf(o.validMethods,o.method)<0)throw new Error("'"+o.method+"' is not a supported method for this type of request!");function s(){return qq.indexOf(["GET","POST","HEAD"],o.method)>=0}function l(k){var A=!1;return qq.each(A,function(M,S){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],S)<0)return A=!0,!1}),A}function c(k){return o.cors.expected&&k.withCredentials===void 0}function u(){var k;return(window.XMLHttpRequest||window.ActiveXObject)&&(k=qq.createXhrInstance(),k.withCredentials===void 0&&(k=new XDomainRequest,k.onload=function(){},k.onerror=function(){},k.ontimeout=function(){},k.onprogress=function(){})),k}function f(k,A){var M=a[k]&&a[k].xhr;return M||(A?M=A:o.cors.expected?M=u():M=qq.createXhrInstance(),a[k].xhr=M),M}function m(k){var A=qq.indexOf(r,k),M=o.maxConnections,S;delete a[k],r.splice(A,1),r.length>=M&&A<M&&(S=r[M-1],g(S))}function h(k,A){var M=f(k),S=o.method,C=A===!0;m(k),C?t(S+" request for "+k+" has failed","error"):!c(M)&&!E(M.status)&&(C=!0,t(S+" request for "+k+" has failed - response code "+M.status,"error")),o.onComplete(k,M,C)}function d(k){var A=a[k].additionalParams,M=o.mandatedParams,S;return o.paramsStore.get&&(S=o.paramsStore.get(k)),A&&qq.each(A,function(C,I){S=S||{},S[C]=I}),M&&qq.each(M,function(C,I){S=S||{},S[C]=I}),S}function g(k,A){var M=f(k,A),S=o.method,C=d(k),I=a[k].payload,O;return o.onSend(k),O=v(k,C,a[k].additionalQueryParams),c(M)?(M.onload=q(k),M.onerror=b(k)):M.onreadystatechange=_(k),y(k),M.open(S,O,!0),o.cors.expected&&o.cors.sendCredentials&&!c(M)&&(M.withCredentials=!0),x(k),t("Sending "+S+" request for "+k),I?M.send(I):n||!C?M.send():C&&o.contentType&&o.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?M.send(qq.obj2url(C,"")):C&&o.contentType&&o.contentType.toLowerCase().indexOf("application/json")>=0?M.send(JSON.stringify(C)):M.send(C),M}function v(k,A,M){var S=o.endpointStore.get(k),C=a[k].addToPath;return C!=null&&(S+="/"+C),n&&A&&(S=qq.obj2url(A,S)),M&&(S=qq.obj2url(M,S)),S}function _(k){return function(){f(k).readyState===4&&h(k)}}function y(k){var A=o.onProgress;A&&(f(k).upload.onprogress=function(M){M.lengthComputable&&A(k,M.loaded,M.total)})}function q(k){return function(){h(k)}}function b(k){return function(){h(k,!0)}}function x(k){var A=f(k),M=o.customHeaders,S=a[k].additionalHeaders||{},C=o.method,I={};c(A)||(o.acceptHeader&&A.setRequestHeader("Accept",o.acceptHeader),o.allowXRequestedWithAndCacheControl&&(!o.cors.expected||!s()||l())&&(A.setRequestHeader("X-Requested-With","XMLHttpRequest"),A.setRequestHeader("Cache-Control","no-cache")),o.contentType&&(C==="POST"||C==="PUT")&&A.setRequestHeader("Content-Type",o.contentType),qq.extend(I,qq.isFunction(M)?M(k):M),qq.extend(I,S),qq.each(I,function(O,D){A.setRequestHeader(O,D)}))}function E(k){return qq.indexOf(o.successfulResponseCodes[o.method],k)>=0}function T(k,A,M,S,C,I,O){a[k]={addToPath:M,additionalParams:S,additionalQueryParams:C,additionalHeaders:I,payload:O};var D=r.push(k);if(D<=o.maxConnections)return g(k,A)}n=o.method==="GET"||o.method==="DELETE",qq.extend(this,{initTransport:function(k){var A,M,S,C,I,O;return{withPath:function(D){return A=D,this},withParams:function(D){return M=D,this},withQueryParams:function(D){return O=D,this},withHeaders:function(D){return S=D,this},withPayload:function(D){return C=D,this},withCacheBuster:function(){return I=!0,this},send:function(D){return I&&qq.indexOf(["GET","DELETE"],o.method)>=0&&(M.qqtimestamp=new Date().getTime()),T(k,D,A,M,O,S,C)}}},canceled:function(k){m(k)}})},qq.UploadHandler=function(e){var t=e.proxy,n={},r=t.onCancel,a=t.getName;qq.extend(this,{add:function(o,s){n[o]=s,n[o].temp={}},cancel:function(o){var s=this,l=new qq.Promise,c=r(o,a(o),l);c.then(function(){s.isValid(o)&&(n[o].canceled=!0,s.expunge(o)),l.success()})},expunge:function(o){delete n[o]},getThirdPartyFileId:function(o){return n[o].key},isValid:function(o){return n[o]!==void 0},reset:function(){n={}},_getFileState:function(o){return n[o]},_setThirdPartyFileId:function(o,s){n[o].key=s},_wasCanceled:function(o){return!!n[o].canceled}})},qq.UploadHandlerController=function(e,t){var n=this,r=!1,a=!1,o,s,l,c={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(d,g){},onProgress:function(d,g,v,_){},onComplete:function(d,g,v,_){},onCancel:function(d,g){},onUploadPrep:function(d){},onUpload:function(d,g){},onUploadChunk:function(d,g,v){},onUploadChunkSuccess:function(d,g,v,_){},onAutoRetry:function(d,g,v,_){},onResume:function(d,g,v,_){},onUuidChanged:function(d,g){},getName:function(d){},setSize:function(d,g){},isQueued:function(d){},getIdsInProxyGroup:function(d){},getIdsInBatch:function(d){},isInProgress:function(d){}},u={done:function(d,g,v,_){var y=l._getChunkData(d,g);l._getFileState(d).attemptingResume=!1,delete l._getFileState(d).temp.chunkProgress[g],l._getFileState(d).loaded+=y.size,c.onUploadChunkSuccess(d,l._getChunkDataForCallback(y),v,_)},finalize:function(d){var g=c.getSize(d),v=c.getName(d);s("All chunks have been uploaded for "+d+" - finalizing...."),l.finalizeChunks(d).then(function(_,y){s("Finalize successful for "+d);var q=h.normalizeResponse(_,!0);c.onProgress(d,v,g,g),l._maybeDeletePersistedChunkData(d),h.cleanup(d,q,y)},function(_,y){var q=h.normalizeResponse(_,!1);s("Problem finalizing chunks for file ID "+d+" - "+q.error,"error"),(q.reset||y&&c.chunking.success.resetOnStatus.indexOf(y.status)>=0)&&u.reset(d),c.onAutoRetry(d,v,q,y)||h.cleanup(d,q,y)})},handleFailure:function(d,g,v,_){var y=c.getName(g);s("Chunked upload request failed for "+g+", chunk "+d),l.clearCachedChunk(g,d);var q=h.normalizeResponse(v,!1),b;if(q.reset)u.reset(g);else{var x=l._getFileState(g).chunking.inProgress;b=x?qq.indexOf(x,d):-1,b>=0&&(l._getFileState(g).chunking.inProgress.splice(b,1),l._getFileState(g).chunking.remaining.unshift(d))}l._getFileState(g).temp.ignoreFailure||(a&&(l._getFileState(g).temp.ignoreFailure=!0,s(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(l._getXhrs(g))),JSON.stringify(l._getFileState(g).chunking.inProgress))),qq.each(l._getXhrs(g),function(E,T){s(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",g,E,T.readyState)),T.abort(),T._cancelled=!0}),l.moveInProgressToRemaining(g),f.free(g,!0)),c.onAutoRetry(g,y,q,_)||h.cleanup(g,q,_))},hasMoreParts:function(d){return!!l._getFileState(d).chunking.remaining.length},nextPart:function(d){var g=l._getFileState(d).chunking.remaining.shift();return g>=l._getTotalChunks(d)&&(g=null),g},reset:function(d){s("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+d,"error"),l._maybeDeletePersistedChunkData(d),l.reevaluateChunking(d),l._getFileState(d).loaded=0,l._getFileState(d).attemptingResume=!1},sendNext:function(d){var g=c.getSize(d),v=c.getName(d),_=u.nextPart(d),y=l._getChunkData(d,_),q=l._getFileState(d),b=q.attemptingResume,x=q.chunking.inProgress||[];if(q.loaded==null&&(q.loaded=0),b&&c.onResume(d,v,y,q.customResumeData)===!1&&(u.reset(d),_=u.nextPart(d),y=l._getChunkData(d,_),b=!1),_==null&&x.length===0)u.finalize(d);else{x.push(_),l._getFileState(d).chunking.inProgress=x,a&&f.open(d,_),a&&f.available()&&l._getFileState(d).chunking.remaining.length&&u.sendNext(d),y.blob.size===0&&(s(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",_,d),"error"),u.handleFailure(_,d,"File is no longer available",null));var E=c.onUploadChunk(d,v,l._getChunkDataForCallback(y));E.then(function(T){if(!c.isInProgress(d))s(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",d,_));else{s(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",d,_,y.start+1,y.end,g));var k={chunkIdx:_,id:d,overrides:T,resuming:b};l.uploadChunk(k).then(function(M,S){s("Chunked upload request succeeded for "+d+", chunk "+_),l.clearCachedChunk(d,_);var C=l._getFileState(d).chunking.inProgress||[],I=h.normalizeResponse(M,!0),O=qq.indexOf(C,_);s(qq.format("Chunk {} for file {} uploaded successfully.",_,d)),u.done(d,_,I,S),O>=0&&C.splice(O,1),l._maybePersistChunkedState(d),!u.hasMoreParts(d)&&C.length===0?u.finalize(d):u.hasMoreParts(d)?u.sendNext(d):s(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",d,JSON.stringify(C)))},function(M,S){u.handleFailure(_,d,M,S)}).done(function(){l.clearXhr(d,_)})}},function(T){u.handleFailure(_,d,T,null)})}}},f={_open:[],_openChunks:{},_waiting:[],available:function(){var d=c.maxConnections,g=0,v=0;return qq.each(f._openChunks,function(_,y){g++,v+=y.length}),d-(f._open.length-g+v)},free:function(d,g){var v=!g,_=qq.indexOf(f._waiting,d),y=qq.indexOf(f._open,d),q;delete f._openChunks[d],h.getProxyOrBlob(d)instanceof qq.BlobProxy&&(s("Generated blob upload has ended for "+d+", disposing generated blob."),delete l._getFileState(d).file),_>=0?f._waiting.splice(_,1):v&&y>=0&&(f._open.splice(y,1),q=f._waiting.shift(),q>=0&&(f._open.push(q),h.start(q)))},getWaitingOrConnected:function(){var d=[];return qq.each(f._openChunks,function(g,v){v&&v.length&&d.push(parseInt(g))}),qq.each(f._open,function(g,v){f._openChunks[v]||d.push(parseInt(v))}),d=d.concat(f._waiting),d},isUsingConnection:function(d){return qq.indexOf(f._open,d)>=0},open:function(d,g){return g==null&&f._waiting.push(d),f.available()?(g==null?(f._waiting.pop(),f._open.push(d)):function(){var v=f._openChunks[d]||[];v.push(g),f._openChunks[d]=v}(),!0):!1},reset:function(){f._waiting=[],f._open=[]}},m={send:function(d,g){var v=l._getFileState(d);if(!v){s("Ignoring send request as this upload may have been cancelled, File ID "+d,"warn");return}v.loaded=0,s("Sending simple upload request for "+d),l.uploadFile(d).then(function(_,y){s("Simple upload request succeeded for "+d);var q=h.normalizeResponse(_,!0),b=c.getSize(d);c.onProgress(d,g,b,b),h.maybeNewUuid(d,q),h.cleanup(d,q,y)},function(_,y){s("Simple upload request failed for "+d);var q=h.normalizeResponse(_,!1);c.onAutoRetry(d,g,q,y)||h.cleanup(d,q,y)})}},h={cancel:function(d){s("Cancelling "+d),c.paramsStore.remove(d),f.free(d)},cleanup:function(d,g,v){var _=c.getName(d);c.onComplete(d,_,g,v),l._getFileState(d)&&l._clearXhrs&&l._clearXhrs(d),f.free(d)},getProxyOrBlob:function(d){return l.getProxy&&l.getProxy(d)||l.getFile&&l.getFile(d)},initHandler:function(){var d=t?qq[t]:qq.traditional,g=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";l=new d[g+"UploadHandler"](c,{getCustomResumeData:c.getCustomResumeData,getDataByUuid:c.getDataByUuid,getName:c.getName,getSize:c.getSize,getUuid:c.getUuid,log:s,onCancel:c.onCancel,onProgress:c.onProgress,onUuidChanged:c.onUuidChanged,onFinalizing:function(v){c.setStatus(v,qq.status.UPLOAD_FINALIZING)}}),l._removeExpiredChunkingRecords&&l._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(d){return c.isQueued(d)},maybeDefer:function(d,g){if(g&&!l.getFile(d)&&g instanceof qq.BlobProxy)c.onUploadPrep(d),s("Attempting to generate a blob on-demand for "+d),g.create().then(function(v){s("Generated an on-demand blob for "+d),l.updateBlob(d,v),c.setSize(d,v.size),l.reevaluateChunking(d),h.maybeSendDeferredFiles(d)},function(v){var _={};v&&(_.error=v),s(qq.format("Failed to generate blob for ID {}.  Error message: {}.",d,v),"error"),c.onComplete(d,c.getName(d),qq.extend(_,o),null),h.maybeSendDeferredFiles(d),f.free(d)});else return h.maybeSendDeferredFiles(d);return!1},maybeSendDeferredFiles:function(d){var g=c.getIdsInProxyGroup(d),v=!1;return g&&g.length?(s("Maybe ready to upload proxy group file "+d),qq.each(g,function(_,y){if(h.isDeferredEligibleForUpload(y)&&!!l.getFile(y))v=y===d,h.now(y);else if(h.isDeferredEligibleForUpload(y))return!1})):(v=!0,h.now(d)),v},maybeNewUuid:function(d,g){g.newUuid!==void 0&&c.onUuidChanged(d,g.newUuid)},normalizeResponse:function(d,g){var v=d;return qq.isObject(d)||(v={},qq.isString(d)&&!g&&(v.error=d)),v.success=g,v},now:function(d){var g=c.getName(d);if(!n.isValid(d))throw new qq.Error(d+" is not a valid file ID to upload!");c.onUpload(d,g).then(function(v){v&&v.pause?(c.setStatus(d,qq.status.PAUSED),l.pause(d),f.free(d)):r&&l._shouldChunkThisFile(d)?u.sendNext(d):m.send(d,g)},function(v){if(v=v||{},s(d+" upload start aborted due to rejected onUpload Promise - details: "+v,"error"),!c.onAutoRetry(d,g,v.responseJSON||{})){var _=h.normalizeResponse(v.responseJSON,!1);h.cleanup(d,_)}})},start:function(d){var g=h.getProxyOrBlob(d);return g?h.maybeDefer(d,g):(h.now(d),!0)}};qq.extend(this,{add:function(d,g){l.add.apply(this,arguments)},upload:function(d){return f.open(d)?h.start(d):!1},retry:function(d){return a&&(l._getFileState(d).temp.ignoreFailure=!1),f.isUsingConnection(d)?h.start(d):n.upload(d)},cancel:function(d){var g=l.cancel(d);qq.isGenericPromise(g)?g.then(function(){h.cancel(d)}):g!==!1&&h.cancel(d)},cancelAll:function(){var d=f.getWaitingOrConnected(),g;if(d.length)for(g=d.length-1;g>=0;g--)n.cancel(d[g]);f.reset()},getFile:function(d){return l.getProxy&&l.getProxy(d)?l.getProxy(d).referenceBlob:l.getFile&&l.getFile(d)},isProxied:function(d){return!!(l.getProxy&&l.getProxy(d))},getInput:function(d){if(l.getInput)return l.getInput(d)},reset:function(){s("Resetting upload handler"),n.cancelAll(),f.reset(),l.reset()},expunge:function(d){if(n.isValid(d))return l.expunge(d)},isValid:function(d){return l.isValid(d)},hasResumeRecord:function(d){var g=l.isValid(d)&&l._getLocalStorageId&&l._getLocalStorageId(d);return g?!!localStorage.getItem(g):!1},getResumableFilesData:function(){return l.getResumableFilesData?l.getResumableFilesData():[]},getThirdPartyFileId:function(d){if(n.isValid(d))return l.getThirdPartyFileId(d)},pause:function(d){return n.isResumable(d)&&l.pause&&n.isValid(d)&&l.pause(d)?(f.free(d),l.moveInProgressToRemaining(d),!0):!1},isAttemptingResume:function(d){return!!l.isAttemptingResume&&l.isAttemptingResume(d)},isResumable:function(d){return!!l.isResumable&&l.isResumable(d)}}),qq.extend(c,e),s=c.log,r=c.chunking.enabled&&qq.supportedFeatures.chunking,a=r&&c.chunking.concurrent.enabled,o=function(){var d={};return d[c.preventRetryParam]=!0,d}(),h.initHandler()},qq.WindowReceiveMessage=function(e){var t={log:function(r,a){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(r,a){var o=function(s){a(s.data)};window.postMessage?n[r]=qq(window).attach("message",o):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(r){if(window.postMessage){var a=n[r];a&&a()}}})},qq.FormUploadHandler=function(e){var t=e.options,n=this,r=e.proxy,a=qq.getUniqueId(),o={},s={},l={},c=t.isCors,u=t.inputName,f=r.getUuid,m=r.log,h=new qq.WindowReceiveMessage({log:m});function d(y){delete s[y],c&&(clearTimeout(l[y]),delete l[y],h.stopReceivingMessages(y));var q=document.getElementById(n._getIframeName(y));q&&(q.setAttribute("src","javascript:false;"),qq(q).remove())}function g(y){return y.split("_")[0]}function v(y){var q=qq.toElement("<iframe src='javascript:false;' name='"+y+"' />");return q.setAttribute("id",y),q.style.display="none",document.body.appendChild(q),q}function _(y,q){var b=y.id,x=g(b),E=f(x);o[E]=q,s[x]=qq(y).attach("load",function(){n.getInput(x)&&(m("Received iframe load event for CORS upload request (iframe name "+b+")"),l[b]=setTimeout(function(){var T="No valid message received from loaded iframe for iframe name "+b;m(T,"error"),q({error:T})},1e3))}),h.receiveMessage(b,function(T){m("Received the following window message: '"+T+"'"),g(b);var k=n._parseJsonResponse(T),A=k.uuid,M;A&&o[A]?(m("Handling response for iframe name "+b),clearTimeout(l[b]),delete l[b],n._detachLoadEvent(b),M=o[A],delete o[A],h.stopReceivingMessages(b),M(k)):A||m("'"+T+"' does not contain a UUID - ignoring.")})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(y){return{add:function(q,b){y.add(q,{input:b}),b.setAttribute("name",u),b.parentNode&&qq(b).remove()},expunge:function(q){d(q),y.expunge(q)},isValid:function(q){return y.isValid(q)&&n._getFileState(q).input!==void 0}}}),qq.extend(this,{getInput:function(y){return n._getFileState(y).input},_attachLoadEvent:function(y,q){var b;c?_(y,q):s[y.id]=qq(y).attach("load",function(){if(m("Received response for "+y.id),!!y.parentNode){try{if(y.contentDocument&&y.contentDocument.body&&y.contentDocument.body.innerHTML=="false")return}catch(x){m("Error when attempting to access iframe during handling of upload response ("+x.message+")","error"),b={success:!1}}q(b)}})},_createIframe:function(y){var q=n._getIframeName(y);return v(q)},_detachLoadEvent:function(y){s[y]!==void 0&&(s[y](),delete s[y])},_getIframeName:function(y){return y+"_"+a},_initFormForUpload:function(y){var q=y.method,b=y.endpoint,x=y.params,E=y.paramsInBody,T=y.targetName,k=qq.toElement("<form method='"+q+"' enctype='multipart/form-data'></form>"),A=b;return E?qq.obj2Inputs(x,k):A=qq.obj2url(x,b),k.setAttribute("action",A),k.setAttribute("target",T),k.style.display="none",document.body.appendChild(k),k},_parseJsonResponse:function(y){var q={};try{q=qq.parseJson(y)}catch(b){m("Error when attempting to parse iframe upload response ("+b.message+")","error")}return q}})},qq.XhrUploadHandler=function(e){var t=this,n=e.options.namespace,r=e.proxy,a=e.options.chunking,o=function(b){var x=t._getFileState(b);if(x.chunkSize)return x.chunkSize;var E=a.partSize;return qq.isFunction(E)&&(E=E(b,f(b))),x.chunkSize=E,E},s=e.options.resume,l=a&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,c=s&&e.options.resume.enabled&&l&&qq.supportedFeatures.resume,u=r.getName,f=r.getSize,m=r.getUuid,h=r.getEndpoint,d=r.getDataByUuid,g=r.onUuidChanged,v=r.onProgress,_=r.log,y=r.getCustomResumeData;function q(b){qq.each(t._getXhrs(b),function(x,E){var T=t._getAjaxRequester(b,x);E.onreadystatechange=null,E.upload.onprogress=null,E.abort(),T&&T.canceled&&T.canceled(b)})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(b){return{add:function(x,E){if(qq.isFile(E)||qq.isBlob(E))b.add(x,{file:E});else if(E instanceof qq.BlobProxy)b.add(x,{proxy:E});else throw new Error("Passed obj is not a File, Blob, or proxy");t._initTempState(x),c&&t._maybePrepareForResume(x)},expunge:function(x){q(x),t._maybeDeletePersistedChunkData(x),t._clearXhrs(x),b.expunge(x)}}}),qq.extend(this,{clearCachedChunk:function(b,x){var E=t._getFileState(b);E&&delete E.temp.cachedChunks[x]},clearXhr:function(b,x){var E=t._getFileState(b).temp;E.xhrs&&delete E.xhrs[x],E.ajaxRequesters&&delete E.ajaxRequesters[x]},finalizeChunks:function(b,x){var E=t._getTotalChunks(b)-1,T=t._getXhr(b,E);return x?new qq.Promise().success(x(T),T):new qq.Promise().success({},T)},getFile:function(b){return t.isValid(b)&&t._getFileState(b).file},getProxy:function(b){return t.isValid(b)&&t._getFileState(b).proxy},getResumableFilesData:function(){var b=[];return t._iterateResumeRecords(function(x,E){t.moveInProgressToRemaining(null,E.chunking.inProgress,E.chunking.remaining);var T={name:E.name,remaining:E.chunking.remaining,size:E.size,uuid:E.uuid};E.key&&(T.key=E.key),E.customResumeData&&(T.customResumeData=E.customResumeData),b.push(T)}),b},isAttemptingResume:function(b){return t._getFileState(b).attemptingResume},isResumable:function(b){return!!a&&t.isValid(b)&&!t._getFileState(b).notResumable},moveInProgressToRemaining:function(b,x,E){var T=t._getFileState(b)||{},k=T.chunking||{},A=x||k.inProgress,M=E||k.remaining;A&&(_(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(A))),A.reverse(),qq.each(A,function(S,C){M.unshift(C)}),A.length=0)},pause:function(b){if(t.isValid(b))return _(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",b,u(b))),t._getFileState(b).paused=!0,q(b),!0},reevaluateChunking:function(b){if(a&&t.isValid(b)){var x=t._getFileState(b),E,T;if(delete x.chunking,x.chunking={},E=t._getTotalChunks(b),E>1||a.mandatory){for(x.chunking.enabled=!0,x.chunking.parts=E,x.chunking.remaining=[],T=0;T<E;T++)x.chunking.remaining.push(T);t._initTempState(b)}else x.chunking.enabled=!1}},updateBlob:function(b,x){t.isValid(b)&&(t._getFileState(b).file=x)},_clearXhrs:function(b){var x=t._getFileState(b).temp;qq.each(x.ajaxRequesters,function(E){delete x.ajaxRequesters[E]}),qq.each(x.xhrs,function(E){delete x.xhrs[E]})},_createXhr:function(b,x){return t._registerXhr(b,x,qq.createXhrInstance())},_getAjaxRequester:function(b,x){var E=x==null?-1:x;return t._getFileState(b).temp.ajaxRequesters[E]},_getChunkData:function(b,x){var E=o(b),T=f(b),k=t.getFile(b),A=E*x,M=A+E>=T?T:A+E,S=t._getTotalChunks(b),C=this._getFileState(b).temp.cachedChunks,I=C[x]||qq.sliceBlob(k,A,M);return C[x]=I,{part:x,start:A,end:M,count:S,blob:I,size:M-A}},_getChunkDataForCallback:function(b){return{partIndex:b.part,startByte:b.start+1,endByte:b.end,totalParts:b.count}},_getLocalStorageId:function(b){var x="5.0",E=u(b),T=f(b),k=o(b),A=h(b),M=s.customKeys(b),S=qq.format("qq{}resume{}-{}-{}-{}-{}",n,x,E,T,k,A);return M.forEach(function(C){S+="-"+C}),S},_getMimeType:function(b){return t.getFile(b).type},_getPersistableData:function(b){return t._getFileState(b).chunking},_getTotalChunks:function(b){if(a){var x=f(b),E=o(b);return Math.ceil(x/E)}},_getXhr:function(b,x){var E=x==null?-1:x;return t._getFileState(b).temp.xhrs[E]},_getXhrs:function(b){return t._getFileState(b).temp.xhrs},_iterateResumeRecords:function(b){c&&qq.each(localStorage,function(x,E){if(x.indexOf(qq.format("qq{}resume",n))===0){var T=JSON.parse(E);b(x,T)}})},_initTempState:function(b){t._getFileState(b).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(b){t._getFileState(b).notResumable=!0},_maybeDeletePersistedChunkData:function(b){var x;return c&&t.isResumable(b)&&(x=t._getLocalStorageId(b),x&&localStorage.getItem(x))?(localStorage.removeItem(x),!0):!1},_maybePrepareForResume:function(b){var x=t._getFileState(b),E,T;c&&x.key===void 0&&(E=t._getLocalStorageId(b),T=localStorage.getItem(E),T&&(T=JSON.parse(T),d(T.uuid)?t._markNotResumable(b):(_(qq.format("Identified file with ID {} and name of {} as resumable.",b,u(b))),g(b,T.uuid),x.key=T.key,x.chunking=T.chunking,x.loaded=T.loaded,x.customResumeData=T.customResumeData,x.attemptingResume=!0,t.moveInProgressToRemaining(b))))},_maybePersistChunkedState:function(b){var x=t._getFileState(b),E,T;if(c&&t.isResumable(b)){var k=y(b);E=t._getLocalStorageId(b),T={name:u(b),size:f(b),uuid:m(b),key:x.key,chunking:x.chunking,loaded:x.loaded,lastUpdated:Date.now()},k&&(T.customResumeData=k);try{localStorage.setItem(E,JSON.stringify(T))}catch(A){_(qq.format("Unable to save resume data for '{}' due to error: '{}'.",b,A.toString()),"warn")}}},_registerProgressHandler:function(b,x,E){var T=t._getXhr(b,x),k=u(b),A={simple:function(M,S){var C=f(b);M===S?v(b,k,C,C):v(b,k,M>=C?C-1:M,C)},chunked:function(M,S){var C=t._getFileState(b).temp.chunkProgress,I=t._getFileState(b).loaded,O=M,D=S,R=f(b),w=O-(D-E),B=I;C[x]=w,qq.each(C,function(G,U){B+=U}),v(b,k,B,R)}};T.upload.onprogress=function(M){if(M.lengthComputable){var S=E==null?"simple":"chunked";A[S](M.loaded,M.total)}}},_registerXhr:function(b,x,E,T){var k=x==null?-1:x,A=t._getFileState(b).temp;return A.xhrs=A.xhrs||{},A.ajaxRequesters=A.ajaxRequesters||{},A.xhrs[k]=E,T&&(A.ajaxRequesters[k]=T),E},_removeExpiredChunkingRecords:function(){var b=s.recordsExpireIn;t._iterateResumeRecords(function(x,E){var T=new Date(E.lastUpdated);T.setDate(T.getDate()+b),T.getTime()<=Date.now()&&(_("Removing expired resume record with key "+x),localStorage.removeItem(x))})},_shouldChunkThisFile:function(b){var x=t._getFileState(b);if(x)return x.chunking||t.reevaluateChunking(b),x.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(a){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(a,o){},onDelete:function(a){},onDeleteComplete:function(a,o,s){}};qq.extend(n,e);function r(){return n.method.toUpperCase()==="POST"?{_method:"DELETE"}:{}}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:r(),maxConnections:n.maxConnections,customHeaders:function(a){return n.customHeaders.get(a)},log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors})),qq.extend(this,{sendDelete:function(a,o,s){var l=s||{};n.log("Submitting delete file request for "+a),n.method==="DELETE"?t.initTransport(a).withPath(o).withParams(l).send():(l[n.uuidParamName]=o,t.initTransport(a).withParams(l).send())}})},function(){function e(c){var u=c.naturalWidth,f=c.naturalHeight,m=document.createElement("canvas"),h;return u*f>1024*1024?(m.width=m.height=1,h=m.getContext("2d"),h.drawImage(c,-u+1,0),h.getImageData(0,0,1,1).data[3]===0):!1}function t(c,u,f){var m=document.createElement("canvas"),h=0,d=f,g=f,v,_,y,q;for(m.width=1,m.height=f,v=m.getContext("2d"),v.drawImage(c,0,0),_=v.getImageData(0,0,1,f).data;g>h;)y=_[(g-1)*4+3],y===0?d=g:h=g,g=d+h>>1;return q=g/f,q===0?1:q}function n(c,u,f,m){var h=document.createElement("canvas"),d=f.mime||"image/jpeg",g=new qq.Promise;return a(c,u,h,f,m).then(function(){g.success(h.toDataURL(d,f.quality||.8))}),g}function r(c){var u=5241e3;if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(c.origHeight*c.origWidth>u)return{newHeight:Math.round(Math.sqrt(u*(c.origHeight/c.origWidth))),newWidth:Math.round(Math.sqrt(u*(c.origWidth/c.origHeight)))}}function a(c,u,f,m,h){var d=c.naturalWidth,g=c.naturalHeight,v=m.width,_=m.height,y=f.getContext("2d"),q=new qq.Promise,b;return y.save(),m.resize?o({blob:u,canvas:f,image:c,imageHeight:g,imageWidth:d,orientation:m.orientation,resize:m.resize,targetHeight:_,targetWidth:v}):(qq.supportedFeatures.unlimitedScaledImageSize||(b=r({origWidth:v,origHeight:_}),b&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",v,_,b.newWidth,b.newHeight),"warn"),v=b.newWidth,_=b.newHeight)),s(f,v,_,m.orientation),qq.ios()?function(){e(c)&&(d/=2,g/=2);var x=1024,E=document.createElement("canvas"),T=h?t(c,d,g):1,k=Math.ceil(x*v/d),A=Math.ceil(x*_/g/T),M=0,S=0,C,I,O;for(E.width=E.height=x,C=E.getContext("2d");M<g;){for(I=0,O=0;I<d;)C.clearRect(0,0,x,x),C.drawImage(c,-I,-M),y.drawImage(E,0,0,x,x,O,S,k,A),I+=x,O+=k;M+=x,S+=A}y.restore(),E=C=null}():y.drawImage(c,0,0,v,_),f.qqImageRendered&&f.qqImageRendered(),q.success(),q)}function o(c){var u=c.blob,f=c.image,m=c.imageHeight,h=c.imageWidth,d=c.orientation,g=new qq.Promise,v=c.resize,_=document.createElement("canvas"),y=_.getContext("2d"),q=c.canvas,b=c.targetHeight,x=c.targetWidth;return s(_,h,m,d),q.height=b,q.width=x,y.drawImage(f,0,0),v({blob:u,height:b,image:f,sourceCanvas:_,targetCanvas:q,width:x}).then(function(){q.qqImageRendered&&q.qqImageRendered(),g.success()},g.failure),g}function s(c,u,f,m){switch(m){case 5:case 6:case 7:case 8:c.width=f,c.height=u;break;default:c.width=u,c.height=f}var h=c.getContext("2d");switch(m){case 2:h.translate(u,0),h.scale(-1,1);break;case 3:h.translate(u,f),h.rotate(Math.PI);break;case 4:h.translate(0,f),h.scale(1,-1);break;case 5:h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI),h.translate(0,-f);break;case 7:h.rotate(.5*Math.PI),h.translate(u,-f),h.scale(-1,1);break;case 8:h.rotate(-.5*Math.PI),h.translate(-u,0);break}}function l(c,u){var f=this;window.Blob&&c instanceof Blob&&function(){var m=new Image,h=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!h)throw Error("No createObjectURL function found to create blob url");m.src=h.createObjectURL(c),f.blob=c,c=m}(),!c.naturalWidth&&!c.naturalHeight&&(c.onload=function(){var m=f.imageLoadListeners;m&&(f.imageLoadListeners=null,setTimeout(function(){for(var h=0,d=m.length;h<d;h++)m[h]()},0))},c.onerror=u,this.imageLoadListeners=[]),this.srcImage=c}l.prototype.render=function(c,u){u=u||{};var f=this,m=this.srcImage.naturalWidth,h=this.srcImage.naturalHeight,d=u.width,g=u.height,v=u.maxWidth,_=u.maxHeight,y=!this.blob||this.blob.type==="image/jpeg",q=c.tagName.toLowerCase(),b;if(this.imageLoadListeners){this.imageLoadListeners.push(function(){f.render(c,u)});return}d&&!g?g=h*d/m<<0:g&&!d?d=m*g/h<<0:(d=m,g=h),v&&d>v&&(d=v,g=h*d/m<<0),_&&g>_&&(g=_,d=m*g/h<<0),b={width:d,height:g},qq.each(u,function(x,E){b[x]=E}),q==="img"?function(){var x=c.src;n(f.srcImage,f.blob,b,y).then(function(E){c.src=E,x===c.src&&c.onload()})}():q==="canvas"&&a(this.srcImage,this.blob,c,b,y),typeof this.onrender=="function"&&this.onrender(c)},qq.MegaPixImage=l}(),qq.ImageGenerator=function(e){function t(g){return g.tagName.toLowerCase()==="img"}function n(g){return g.tagName.toLowerCase()==="canvas"}function r(){return new Image().crossOrigin!==void 0}function a(){var g=document.createElement("canvas");return g.getContext&&g.getContext("2d")}function o(g){var v=g.split("/"),_=v[v.length-1].split("?")[0],y=qq.getExtension(_);switch(y=y&&y.toLowerCase(),y){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function s(g){var v=document.createElement("a"),_,y,q;return v.href=g,_=v.protocol,q=v.port,y=v.hostname,_.toLowerCase()!==window.location.protocol.toLowerCase()||y.toLowerCase()!==window.location.hostname.toLowerCase()||q!==window.location.port&&!qq.ie()}function l(g,v){g.onload=function(){g.onload=null,g.onerror=null,v.success(g)},g.onerror=function(){g.onload=null,g.onerror=null,e("Problem drawing thumbnail!","error"),v.failure(g,"Problem drawing thumbnail!")}}function c(g,v){g.qqImageRendered=function(){v.success(g)}}function u(g,v){var _=t(g)||n(g);return t(g)?l(g,v):n(g)?c(g,v):(v.failure(g),e(qq.format("Element container of type {} is not supported!",g.tagName),"error")),_}function f(g,v,_){var y=new qq.Promise,q=new qq.Identify(g,e),b=_.maxSize,x=_.orient==null?!0:_.orient,E=function(){v.onerror=null,v.onload=null,e("Could not render preview, file may be too large!","error"),y.failure(v,"Browser cannot render image!")};return q.isPreviewable().then(function(T){var k={parse:function(){return new qq.Promise().success()}},A=x?new qq.Exif(g,e):k,M=new qq.MegaPixImage(g,E);u(v,y)&&A.parse().then(function(S){var C=S&&S.Orientation;M.render(v,{maxWidth:b,maxHeight:b,orientation:C,mime:T,resize:_.customResizeFunction})},function(S){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",S)),M.render(v,{maxWidth:b,maxHeight:b,mime:T,resize:_.customResizeFunction})})},function(){e("Not previewable"),y.failure(v,"Not previewable")}),y}function m(g,v,_,y,q){var b=new Image,x=new qq.Promise;u(b,x),s(g)&&(b.crossOrigin="anonymous"),b.src=g,x.then(function(){u(v,_);var T=new qq.MegaPixImage(b);T.render(v,{maxWidth:y,maxHeight:y,mime:o(g),resize:q})},_.failure)}function h(g,v,_,y){u(v,_),qq(v).css({maxWidth:y+"px",maxHeight:y+"px"}),v.src=g}function d(g,v,_){var y=new qq.Promise,q=_.scale,b=q?_.maxSize:null;return q&&t(v)?a()?s(g)&&!r()?h(g,v,y,b):m(g,v,y,b):h(g,v,y,b):n(v)?m(g,v,y,b):u(v,y)&&(v.src=g),y}qq.extend(this,{generate:function(g,v,_){return qq.isString(g)?(e("Attempting to update thumbnail based on server response."),d(g,v,_||{})):(e("Attempting to draw client-side image preview."),f(g,v,_||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=s,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){var n=[274],r={274:{name:"Orientation",bytes:2}};function a(h){for(var d=0,g=0;h.length>0;)d+=parseInt(h.substring(0,2),16)*Math.pow(2,g),h=h.substring(2,h.length),g+=8;return d}function o(h,d){var g=h,v=d;return g===void 0&&(g=2,v=new qq.Promise),qq.readBlobToHex(e,g,4).then(function(_){var y=/^ffe([0-9])/.exec(_),q;y?y[1]!=="1"?(q=parseInt(_.slice(4,8),16),o(g+q+2,v)):v.success(g):v.failure("No EXIF header to be found!")}),v}function s(){var h=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(d){d.indexOf("ffd8")!==0?h.failure("Not a valid JPEG!"):o().then(function(g){h.success(g)},function(g){h.failure(g)})}),h}function l(h){var d=new qq.Promise;return qq.readBlobToHex(e,h+10,2).then(function(g){d.success(g==="4949")}),d}function c(h,d){var g=new qq.Promise;return qq.readBlobToHex(e,h+18,2).then(function(v){if(d)return g.success(a(v));g.success(parseInt(v,16))}),g}function u(h,d){var g=h+20,v=d*12;return qq.readBlobToHex(e,g,v)}function f(h){for(var d=[],g=0;g+24<=h.length;)d.push(h.slice(g,g+24)),g+=24;return d}function m(h,d){var g=16,v=qq.extend([],n),_={};return qq.each(d,function(y,q){var b=q.slice(0,4),x=h?a(b):parseInt(b,16),E=v.indexOf(x),T,k,A;if(E>=0&&(k=r[x].name,A=r[x].bytes,T=q.slice(g,g+A*2),_[k]=h?a(T):parseInt(T,16),v.splice(E,1)),v.length===0)return!1}),_}qq.extend(this,{parse:function(){var h=new qq.Promise,d=function(g){t(qq.format("EXIF header parse failed: '{}' ",g)),h.failure(g)};return s().then(function(g){t(qq.format("Moving forward with EXIF header parsing for '{}'",e.name===void 0?"blob":e.name)),l(g).then(function(v){t(qq.format("EXIF Byte order is {} endian",v?"little":"big")),c(g,v).then(function(_){t(qq.format("Found {} APP1 directory entries",_)),u(g,_).then(function(y){var q=f(y),b=m(v,q);t("Successfully parsed some EXIF tags"),h.success(b)},d)},d)},d)},d),h}}),this._testing={},this._testing.parseLittleEndian=a},qq.Identify=function(e,t){function n(r,a){var o=!1,s=[].concat(r);return qq.each(s,function(l,c){if(a.indexOf(c)===0)return o=!0,!1}),o}qq.extend(this,{isPreviewable:function(){var r=this,a=new qq.Promise,o=!1,s=e.name===void 0?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",s)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(l){qq.each(r.PREVIEWABLE_MIME_TYPES,function(c,u){if(n(u,l))return(c!=="image/tiff"||qq.supportedFeatures.tiffPreviews)&&(o=!0,a.success(c)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",s,o?"":"NOT")),o||a.failure()},function(){t("Error reading file w/ name '"+s+"'.  Not able to be rendered in this browser."),a.failure()})):a.failure(),a},isPreviewableSync:function(){var r=e.type,a=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),r)>=0,o=!1,s=e.name===void 0?"blob":e.name;return a&&(r==="image/tiff"?o=qq.supportedFeatures.tiffPreviews:o=!0),!o&&t(s+" is not previewable in this browser per the blob's type attr"),o}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){function n(o){var s=!1;return qq.each(o,function(l,c){if(c>0)return s=!0,!1}),s}function r(){var o=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var s=new Image,l=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;l?(s.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),o.failure()},s.onload=function(){o.success({width:this.width,height:this.height})},s.src=l.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),o.failure())},o.failure),o}function a(o,s){var l;return qq.each(o,function(c,u){if(u>0){var f=/(max|min)(Width|Height)/.exec(c),m=f[2].charAt(0).toLowerCase()+f[2].slice(1),h=s[m];switch(f[1]){case"min":if(h<u)return l=c,!1;break;case"max":if(h>u)return l=c,!1;break}}}),l}this.validate=function(o){var s=new qq.Promise;return t("Attempting to validate image."),n(o)?r().then(function(l){var c=a(o,l);c?s.failure(c):s.success()},s.success):s.success(),s}},qq.Session=function(e){var t={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(a){},log:function(a,o){}};qq.extend(t,e,!0);function n(a){if(qq.isArray(a))return!0;t.log("Session response is not an array.","error")}function r(a,o,s,l){var c=!1;o=o&&n(a),o&&qq.each(a,function(u,f){if(f.uuid==null)c=!0,t.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",u),"error");else if(f.name==null)c=!0,t.log(qq.format("Session response item {} did not include a valid name - ignoring.",u),"error");else try{return t.addFileRecord(f),!0}catch(m){c=!0,t.log(m.message,"error")}return!1}),l[o&&!c?"success":"failure"](a,s)}this.refresh=function(){var a=new qq.Promise,o=function(c,u,f){r(c,u,f,a)},s=qq.extend({},t),l=new qq.SessionAjaxRequester(qq.extend(s,{onComplete:o}));return l.queryServer(),a}},qq.SessionAjaxRequester=function(e){var t,n={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(a,o,s){},log:function(a,o){}};qq.extend(n,e);function r(a,o,s){var l=null;if(o.responseText!=null)try{l=qq.parseJson(o.responseText)}catch(c){n.log("Problem parsing session response: "+c.message,"error"),s=!0}n.onComplete(l,!s,o)}t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return n.endpoint}},customHeaders:n.customHeaders,log:n.log,onComplete:r,cors:n.cors})),qq.extend(this,{queryServer:function(){var a=qq.extend({},n.params);n.log("Session query request."),t.initTransport("sessionRefresh").withParams(a).withCacheBuster().send()}})},qq.Scaler=function(e,t){var n=e.customResizer,r=e.sendOriginal,a=e.orient,o=e.defaultType,s=e.defaultQuality/100,l=e.failureText,c=e.includeExif,u=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&u.length>0,getFileRecords:function(f,m,h){var d=this,g=[],v=h.blob?h.blob:h,_=new qq.Identify(v,t);return _.isPreviewableSync()?(qq.each(u,function(y,q){var b=d._determineOutputType({defaultType:o,requestedType:q.type,refType:v.type});g.push({uuid:qq.getUniqueId(),name:d._getName(m,{name:q.name,type:b,refType:v.type}),blob:new qq.BlobProxy(v,qq.bind(d._generateScaledImage,d,{customResizeFunction:n,maxSize:q.maxSize,orient:a,type:b,quality:s,failedText:l,includeExif:c,log:t}))})}),g.push({uuid:f,name:m,size:v.size,blob:r?v:null})):g.push({uuid:f,name:m,size:v.size,blob:v}),g},handleNewFile:function(f,m,h,d,g,v,_,y){var q=this;f.qqButtonId||f.blob&&f.blob.qqButtonId;var b=[],x=null,E=y.addFileToHandler,T=y.uploadData,k=y.paramsStore,A=qq.getUniqueId();qq.each(q.getFileRecords(h,m,f),function(M,S){var C=S.size,I;S.blob instanceof qq.BlobProxy&&(C=-1),I=T.addFile({uuid:S.uuid,name:S.name,size:C,batchId:v,proxyGroupId:A}),S.blob instanceof qq.BlobProxy?b.push(I):x=I,S.blob?(E(I,S.blob),g.push({id:I,file:S.blob})):T.setStatus(I,qq.status.REJECTED)}),x!==null&&(qq.each(b,function(M,S){var C={qqparentuuid:T.retrieve({id:x}).uuid,qqparentsize:T.retrieve({id:x}).size};C[_]=T.retrieve({id:S}).uuid,T.setParentId(S,x),k.addReadOnly(S,C)}),b.length&&function(){var M={};M[_]=T.retrieve({id:x}).uuid,k.addReadOnly(x,M)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var r=new qq.Promise,a=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),l=s&&s.name,c=s&&s.uuid,u={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},f=new qq.Scaler(u,a);return!qq.Scaler||!qq.supportedFeatures.imagePreviews||!o?(r.failure(),a("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")):qq.bind(function(){var m=f.getFileRecords(c,l,o)[0];m&&m.blob instanceof qq.BlobProxy?m.blob.create().then(r.success,r.failure):(a(e+" is not a scalable image!","error"),r.failure())},this)(),r},_determineOutputType:function(e){var t=e.requestedType,n=e.defaultType,r=e.refType;return!n&&!t?r!=="image/jpeg"?"image/png":r:t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?t==="image/tiff"?qq.supportedFeatures.tiffPreviews?t:n:t:n},_getName:function(e,t){var n=e.lastIndexOf("."),r=t.type||"image/png",a=t.refType,o="",s=qq.getExtension(e),l="";return t.name&&t.name.trim().length&&(l=" ("+t.name+")"),n>=0?(o=e.substr(0,n),a!==r&&(s=r.split("/")[1]),o+=l+"."+s):o=e+l,o},_getSortedSizes:function(e){return e=qq.extend([],e),e.sort(function(t,n){return t.maxSize>n.maxSize?1:t.maxSize<n.maxSize?-1:0})},_generateScaledImage:function(e,t){var n=this,r=e.customResizeFunction,a=e.log,o=e.maxSize,s=e.orient,l=e.type,c=e.quality,u=e.failedText,f=e.includeExif&&t.type==="image/jpeg"&&l==="image/jpeg",m=new qq.Promise,h=new qq.ImageGenerator(a),d=document.createElement("canvas");return a("Attempting to generate scaled version for "+t.name),h.generate(t,d,{maxSize:o,orient:s,customResizeFunction:r}).then(function(){var g=d.toDataURL(l,c),v=function(){a("Success generating scaled version for "+t.name);var _=qq.dataUriToBlob(g);m.success(_)};f?n._insertExifHeader(t,g,a).then(function(_){g=_,v()},function(){a("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),v()}):v()},function(){a("Failed attempt to generate scaled version for "+t.name,"error"),m.failure(u)}),m},_insertExifHeader:function(e,t,n){var r=new FileReader,a=new qq.Promise,o="";return r.onload=function(){o=r.result,a.success(qq.ExifRestorer.restore(o,t))},r.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),a.failure()},r.readAsDataURL(e),a},_dataUriToBlob:function(e){var t,n,r,a;return e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r),qq.each(t,function(o,s){a[o]=s.charCodeAt(0)}),this._createBlob(r,n)},_createBlob:function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(t){var n="",r,a,o="",s,l,c,u="",f=0;do r=t[f++],a=t[f++],o=t[f++],s=r>>2,l=(r&3)<<4|a>>4,c=(a&15)<<2|o>>6,u=o&63,isNaN(a)?c=u=64:isNaN(o)&&(u=64),n=n+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(u),r=a=o="",s=l=c=u="";while(f<t.length);return n},e.restore=function(t,n){var r="data:image/jpeg;base64,";if(!t.match(r))return n;var a=this.decode64(t.replace(r,"")),o=this.slice2Segments(a),s=this.exifManipulation(n,o);return r+this.encode64(s)},e.exifManipulation=function(t,n){var r=this.getExifArray(n),a=this.insertExif(t,r),o=new Uint8Array(a);return o},e.getExifArray=function(t){for(var n,r=0;r<t.length;r++)if(n=t[r],n[0]==255&n[1]==225)return n;return[]},e.insertExif=function(t,n){var r=t.replace("data:image/jpeg;base64,",""),a=this.decode64(r),o=a.indexOf(255,3),s=a.slice(0,o),l=a.slice(o),c=s;return c=c.concat(n),c=c.concat(l),c},e.slice2Segments=function(t){for(var n=0,r=[];!(t[n]==255&t[n+1]==218);){if(t[n]==255&t[n+1]==216)n+=2;else{var a=t[n+2]*256+t[n+3],o=n+a+2,s=t.slice(n,o);r.push(s),n=o}if(n>t.length)break}return r},e.decode64=function(t){var n,r,a="",o,s,l,c="",u=0,f=[],m=/[^A-Za-z0-9\+\/\=]/g;if(m.exec(t))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=this.KEY_STR.indexOf(t.charAt(u++)),s=this.KEY_STR.indexOf(t.charAt(u++)),l=this.KEY_STR.indexOf(t.charAt(u++)),c=this.KEY_STR.indexOf(t.charAt(u++)),n=o<<2|s>>4,r=(s&15)<<4|l>>2,a=(l&3)<<6|c,f.push(n),l!=64&&f.push(r),c!=64&&f.push(a),n=r=a="",o=s=l=c="";while(u<t.length);return f},e}(),qq.TotalProgress=function(e,t){var n={},r=0,a=0,o=-1,s=-1,l=function(d,g){(d!==o||g!==s)&&e(d,g),o=d,s=g},c=function(d,g){var v=!0;return qq.each(d,function(_,y){if(qq.indexOf(g,y)>=0)return v=!1,!1}),v},u=function(d){h(d,-1,-1),delete n[d]},f=function(d,g,v){(g.length===0||c(g,v))&&(l(a,a),this.reset())},m=function(d){var g=t(d);g>0&&(h(d,0,g),n[d]={loaded:0,total:g})},h=function(d,g,v){var _=n[d]?n[d].loaded:0,y=n[d]?n[d].total:0;g===-1&&v===-1?(r-=_,a-=y):(g&&(r+=g-_),v&&(a+=v-y)),l(r,a)};qq.extend(this,{onAllComplete:f,onStatusChange:function(d,g,v){v===qq.status.CANCELED||v===qq.status.REJECTED?u(d):v===qq.status.SUBMITTING&&m(d)},onIndividualProgress:function(d,g,v){h(d,g,v),n[d]={loaded:g,total:v}},onNewSize:function(d){m(d)},reset:function(){n={},r=0,a=0}})},qq.PasteSupport=function(e){var t,n;t={targetElement:null,callbacks:{log:function(s,l){},pasteReceived:function(s){}}};function r(s){return s.type&&s.type.indexOf("image/")===0}function a(){n=qq(t.targetElement).attach("paste",function(s){var l=s.clipboardData;l&&qq.each(l.items,function(c,u){if(r(u)){var f=u.getAsFile();t.callbacks.pasteReceived(f)}})})}function o(){n&&n()}qq.extend(t,e),a(),qq.extend(this,{reset:function(){o()}})},qq.FormSupport=function(e,t,n){var r=this,a=e.interceptSubmit,o=e.element,s=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:s,attachedToForm:!1,getFormInputsAsObject:function(){return o==null?null:r._form2Obj(o)}});function l(m){m.getAttribute("action")&&(r.newEndpoint=m.getAttribute("action"))}function c(m,h){if(m.checkValidity&&!m.checkValidity())n("Form did not pass validation checks - will not upload.","error"),h();else return!0}function u(m){var h=m.submit;qq(m).attach("submit",function(d){d=d||window.event,d.preventDefault?d.preventDefault():d.returnValue=!1,c(m,h)&&t()}),m.submit=function(){c(m,h)&&t()}}function f(m){return m&&(qq.isString(m)&&(m=document.getElementById(m)),m&&(n("Attaching to form element."),l(m),a&&u(m))),m}o=f(o),this.attachedToForm=!!o},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){var t={},n=function(s){var l=["button","image","reset","submit"];return qq.indexOf(l,s.toLowerCase())<0},r=function(s){return qq.indexOf(["checkbox","radio"],s.toLowerCase())>=0},a=function(s){return r(s.type)&&!s.checked?!0:s.disabled&&s.type.toLowerCase()!=="hidden"},o=function(s){var l=null;return qq.each(qq(s).children(),function(c,u){if(u.tagName.toLowerCase()==="option"&&u.selected)return l=u.value,!1}),l};return qq.each(e.elements,function(s,l){if((qq.isInput(l,!0)||l.tagName.toLowerCase()==="textarea")&&n(l.type)&&!a(l))t[l.name]=l.value;else if(l.tagName.toLowerCase()==="select"&&!a(l)){var c=o(l);c!==null&&(t[l.name]=c)}}),t}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(e,t){var n=this,r=t.getName,a=t.getUuid,o=t.log;function s(c,u){var f,m,h;try{m=u.contentDocument||u.contentWindow.document,h=m.body.innerHTML,o("converting iframe's innerHTML to JSON"),o("innerHTML = "+h),h&&h.match(/^<pre/i)&&(h=m.body.firstChild.firstChild.nodeValue),f=n._parseJsonResponse(h)}catch(d){o("Error when attempting to parse form upload response ("+d.message+")","error"),f={success:!1}}return f}function l(c,u){var f=e.paramsStore.get(c),m=e.method.toLowerCase()==="get"?"GET":"POST",h=e.endpointStore.get(c),d=r(c);return f[e.uuidName]=a(c),f[e.filenameParam]=d,n._initFormForUpload({method:m,endpoint:h,params:f,paramsInBody:e.paramsInBody,targetName:u.name})}this.uploadFile=function(c){var u=n.getInput(c),f=n._createIframe(c),m=new qq.Promise,h;return h=l(c,f),h.appendChild(u),n._attachLoadEvent(f,function(d){o("iframe loaded");var g=d||s(c,f);n._detachLoadEvent(c),e.cors.expected||qq(f).remove(),g.success?m.success(g):m.failure(g)}),o("Sending upload request for "+c),h.submit(),qq(h).remove(),m},qq.extend(this,new qq.FormUploadHandler({options:{isCors:e.cors.expected,inputName:e.inputName},proxy:{onCancel:e.onCancel,getName:r,getUuid:a,log:o}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(e,t){var n=this,r=t.getName,a=t.getSize,o=t.getUuid,s=t.log,l=e.forceMultipart||e.paramsInBody,c=function(q,b,x){var E=a(q),T=r(q);e.omitDefaultParams||(b[e.chunking.paramNames.partIndex]=x.part,b[e.chunking.paramNames.partByteOffset]=x.start,b[e.chunking.paramNames.chunkSize]=x.size,b[e.chunking.paramNames.totalParts]=x.count,b[e.totalFileSizeName]=E),l&&!e.omitDefaultParams&&(b[e.filenameParam]=T)},u=new qq.traditional.AllChunksDoneAjaxRequester({cors:e.cors,endpoint:e.chunking.success.endpoint,headers:e.chunking.success.headers,jsonPayload:e.chunking.success.jsonPayload,log:s,method:e.chunking.success.method,params:e.chunking.success.params}),f=function(q,b){var x=new qq.Promise;return b.onreadystatechange=function(){if(b.readyState===4){var E=d(q,b);E.success?x.success(E.response,b):x.failure(E.response,b)}},x},m=function(q){var b=e.paramsStore.get(q),x=r(q),E=a(q);return b[e.uuidName]=o(q),b[e.filenameParam]=x,b[e.totalFileSizeName]=E,b[e.chunking.paramNames.totalParts]=n._getTotalChunks(q),b},h=function(q,b){return qq.indexOf([200,201,202,203,204],q.status)<0||e.requireSuccessJson&&!b.success||b.reset},d=function(q,b){var x;return s("xhr - server response received for "+q),s("responseText = "+b.responseText),x=g(!0,b),{success:!h(b,x),response:x}},g=function(q,b){var x={};try{s(qq.format("Received response status {} with body: {}",b.status,b.responseText)),x=qq.parseJson(b.responseText)}catch(E){q&&e.requireSuccessJson&&s("Error when attempting to parse xhr response text ("+E.message+")","error")}return x},v=function(q){var b=new qq.Promise;return u.complete(q,n._createXhr(q),m(q),e.customHeaders.get(q)).then(function(x){b.success(g(!1,x),x)},function(x){b.failure(g(!1,x),x)}),b},_=function(q){var b=q.fileOrBlob,x=q.id,E=q.xhr,T=q.xhrOverrides||{},k=q.customParams||{},A=q.params||{},M=T.params||{},S,C=l?new FormData:null,I=T.method||e.method,O=T.endpoint||e.endpointStore.get(x),D=r(x),R=a(x);return e.omitDefaultParams?(S=qq.extend({},k),qq.extend(S,M)):(S=qq.extend({},k),qq.extend(S,M),qq.extend(S,A),S[e.uuidName]=o(x),S[e.filenameParam]=D,l?S[e.totalFileSizeName]=R:e.paramsInBody||(S[e.inputName]=D)),e.paramsInBody||(O=qq.obj2url(S,O)),E.open(I,O,!0),e.cors.expected&&e.cors.sendCredentials&&(E.withCredentials=!0),l?(e.paramsInBody&&qq.obj2FormData(S,C),C.append(e.inputName,b),C):b},y=function(q){var b=q.headerOverrides,x=q.id,E=q.xhr;if(b)qq.each(b,function(A,M){E.setRequestHeader(A,M)});else{var T=e.customHeaders.get(x),k=n.getFile(x);E.setRequestHeader("Accept","application/json"),E.setRequestHeader("X-Requested-With","XMLHttpRequest"),E.setRequestHeader("Cache-Control","no-cache"),l||(E.setRequestHeader("Content-Type","application/octet-stream"),E.setRequestHeader("X-Mime-Type",k.type)),qq.each(T,function(A,M){E.setRequestHeader(A,M)})}};qq.extend(this,{uploadChunk:function(q){var b=q.id,x=q.chunkIdx,E=q.overrides||{},T=q.resuming,k=n._getChunkData(b,x),A=n._createXhr(b,x),M,S,C,I={};return M=f(b,A),n._registerProgressHandler(b,x,k.size),C=e.paramsStore.get(b),c(b,I,k),T&&(I[e.resume.paramNames.resuming]=!0),S=_({fileOrBlob:k.blob,id:b,customParams:C,params:I,xhr:A,xhrOverrides:E}),y({headerOverrides:E.headers,id:b,xhr:A}),A.send(S),M},uploadFile:function(q){var b=n.getFile(q),x,E,T,k;return E=n._createXhr(q),n._registerProgressHandler(q),x=f(q,E),T=e.paramsStore.get(q),k=_({fileOrBlob:b,id:q,customParams:T,xhr:E}),y({id:q,xhr:E}),E.send(k),x}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(q){return{finalizeChunks:function(b){return t.onFinalizing(b),e.chunking.success.endpoint?v(b):q.finalizeChunks(b,qq.bind(g,this,!0))}}})},qq.traditional.AllChunksDoneAjaxRequester=function(e){var t,n={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(o,s){},method:"POST"},r={},a={get:function(o){return qq.isFunction(n.endpoint)?n.endpoint(o):n.endpoint}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",contentType:n.jsonPayload?"application/json":"application/x-www-form-urlencoded",validMethods:[n.method],method:n.method,endpointStore:a,allowXRequestedWithAndCacheControl:!1,cors:n.cors,log:n.log,onComplete:function(o,s,l){var c=r[o];delete r[o],l?c.failure(s):c.success(s)}})),qq.extend(this,{complete:function(o,s,l,c){var u=new qq.Promise;return n.log("Submitting All Chunks Done request for "+o),r[o]=u,t.initTransport(o).withParams(n.params(o)||l).withHeaders(n.headers(o)||c).send(s),u}})}})(window)})(fineUploader_core);var core=fineUploader_core.exports;Object.defineProperty(traditional,"__esModule",{value:!0});traditional.qq=void 0;var _baseWrapper=baseWrapper,_baseWrapper2=_interopRequireDefault(_baseWrapper),_core=core,_core2=_interopRequireDefault(_core),_callbackNames=callbackNames;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FineUploaderTraditional=function(e){_inherits(t,e);function t(n){var r=n.options;return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{callbackNames:_callbackNames.traditional,options:r,qq:_core2.default,type:"traditional"}))}return t}(_baseWrapper2.default),_default=traditional.default=FineUploaderTraditional;traditional.qq=_core2.default;const truncate=require("truncate-utf8-bytes"),illegalRe=/[\/\?<>\\:\*\|":]/g,controlRe=/[\x00-\x1f\x80-\x9f]/g,reservedRe=/^\.+$/,windowsReservedRe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,windowsTrailingRe=/[\. ]+$/,defaultDiacriticsRemovalap=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8C\u0152"},{base:"oe",letters:"\x9C\u0153"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],diacriticsMap={};for(let e=0;e<defaultDiacriticsRemovalap.length;e++){const t=defaultDiacriticsRemovalap[e].letters.split("");for(let n=0;n<t.length;n++)diacriticsMap[t[n]]=defaultDiacriticsRemovalap[e].base}function noAccents(e,t,n){let r=e.replace(/[^\u0000-\u007E]/g,function(a){return diacriticsMap[a]||a});return n=n||"",t&&(r=r.replace(/[^\u0000-\u007E]/g,n)),r}function sanitize(e,t){let n=noAccents(e,!0).replace(illegalRe,t).replace(controlRe,t).replace(reservedRe,t).replace(windowsReservedRe,t).replace(windowsTrailingRe,t);const r=/[^0-9a-zA-Z-.,;_]/g;return n=n.replace(r,""),truncate(n,255)}function sanitizeFilename(e,t){const n=t&&t.replacement||"",r=sanitize(e,n);return n===""?r:sanitize(r,"")}var render$6=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uploader"},[n("div",{ref:"uploaderDropzone",staticClass:"uploader__dropzone"},[n("div",{ref:"uploaderBrowseButton",staticClass:"button"},[e._v(e._s(e.$trans("uploader.upload-btn-label","Add new")))]),n("div",{staticClass:"uploader__dropzone--desktop"},[e._v(e._s(e.$trans("uploader.dropzone-text","or drop new files here")))])])])},staticRenderFns$6=[],Uploader_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-429ea237]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-429ea237]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-429ea237]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-429ea237]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-429ea237]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-429ea237]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-429ea237]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-429ea237]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-429ea237]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-429ea237]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-429ea237]{width:auto}}.uploader[data-v-429ea237]{margin:10px}.uploader__dropzone[data-v-429ea237]{border:1px dashed #d9d9d9;text-align:center;padding:26px 0;color:#8c8c8c}.uploader__dropzone .button[data-v-429ea237]{-webkit-appearance:none;cursor:pointer;font-size:1em;outline:none;margin:0 10px 0 0;border:0 none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:inherit;display:inline-block;height:35px;line-height:33px;border-radius:17.5px;background-color:transparent;border:1px solid #d9d9d9;color:#8c8c8c;padding:0 20px;text-align:center;transition:color .2s linear,border-color .2s linear,background-color .2s linear}.uploader__dropzone .button.qq-upload-button-hover[data-v-429ea237],.uploader__dropzone .button[data-v-429ea237]:hover{border-color:#262626;color:#262626}.uploader__dropzone .button.qq-upload-button-focus[data-v-429ea237],.uploader__dropzone .button[data-v-429ea237]:focus{border-color:#262626;color:#262626}.uploader__dropzone .button[data-v-429ea237]:disabled{opacity:.5;pointer-events:none}.uploader__dropzone--desktop[data-v-429ea237]{display:inline-block;vertical-align:top;margin-top:8px}@media screen and (max-width: 849px){.uploader__dropzone--desktop[data-v-429ea237]{display:none}}
`)();const __vue2_script$6={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;let t="*/*";return e.length>0&&(t="."+e.join(", .")),{allowedExtensions:e,acceptFiles:t,stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const e=this.$refs.uploaderBrowseButton,t={debug:!0,maxConnections:5,button:e,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new _default$2({options:{...t,validation:{...this.uploaderValidation},objectProperties:{key:n=>this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(n)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new _default$1({options:{...t,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:n=>new Promise(r=>{r(this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(n)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new _default({options:{...t,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const t=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');t[Array.from(t).length-1].click()},loadingProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,t){this.$emit("loaded",t),this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,t,n,r){const a=this.loadingMedias.findIndex(o=>o.id===this._uploader.methods.getUuid(e));n.success?this.loadingFinished(this.loadingMedias[a],n.media):this.loadingError(this.loadingMedias[a])},_onAllCompleteCallback(e,t){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,t){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+dnd.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const n=URL.createObjectURL(this._uploader.methods.getFile(e)),r=new Image;r.onload=()=>{this._uploader.methods.setParams({width:r.width,height:r.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},r.src=n;const a={id:this._uploader.methods.getUuid(e),name:sanitizeFilename(t),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(a),this.loadingProgress(a)},_onProgressCallback(e,t,n,r){const a=this.loadingMedias.findIndex(o=>o.id===this._uploader.methods.getUuid(e));if(a>=0){const o=this.loadingMedias[a];o.progress=n/r*100||0,o.error=!1,this.loadingProgress(o)}},_onErrorCallback(e,t,n,r){const a=e?this.loadingMedias.findIndex(o=>o.id===this._uploader.methods.getUuid(e)):-1;if(a>=0)this.loadingMedias[a].errorMessage=n,this.loadingError(this.loadingMedias[a]);else{const o={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sanitizeFilename(t),progress:0,error:!0,errorMessage:n};this.loadingMedias.push(o),this.loadingProgress(o),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,t,n){if(n==="retrying upload"){const r=this.loadingMedias.findIndex(function(a){return a.id===e});if(r>=0){const a=this.loadingMedias[r];a.progress=0,a.error=!1,this.loadingProgress(a)}}},_onTotalProgressCallback(e,t){const n=Math.floor(e/t*100);this.uploadProgress(n)},_onDropError(e,t){console.error(e,t)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new dnd.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeDestroy(){this._qqDropzone&&this._qqDropzone.dispose()}},__cssModules$6={};var __component__$6=normalizeComponent(__vue2_script$6,render$6,staticRenderFns$6,!1,__vue2_injectStyles$6,"429ea237",null,null);function __vue2_injectStyles$6(e){for(let t in __cssModules$6)this[t]=__cssModules$6[t]}var a17Uploader=function(){return __component__$6.exports}(),mediaItemsMixin={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...mapState({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,t)=>(t.isReplacement&&(e[t.replacementId]=t.id),e),{})}},methods:{isSelected:function(e,t=["id"]){return Boolean(this.selectedItems.find(n=>t.every(r=>n[r]===e[r])))},isUsed:function(e,t=["id"]){return Boolean(this.usedItems.find(n=>t.every(r=>n[r]===e[r])))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},render$5=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mediagrid"},[e._l(e.itemsLoading,function(r,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:!r.isReplacement,expression:"!item.isReplacement"}],key:"mediaLoading_"+r.id,staticClass:"mediagrid__item"},[n("span",{staticClass:"mediagrid__button s--loading"},[r.error?n("span",{staticClass:"mediagrid__progressError"},[e._v("Upload Error")]):n("span",{staticClass:"mediagrid__progress"},[n("span",{staticClass:"mediagrid__progressBar",style:e.loadingProgress(a)})])])])}),e._l(e.items,function(r){return n("div",{key:r.id,staticClass:"mediagrid__item",class:{"s--hasFilename":e.showFileName}},[n("span",{staticClass:"mediagrid__button",class:{"s--picked":e.isSelected(r),"s--used":e.isUsed(r)||!!e.replacingMediaIds[r.id],"s--disabled":r.disabled},on:{click:[function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey?null:e.toggleSelection(r)},function(a){return!a.shiftKey||a.ctrlKey||a.altKey||a.metaKey?null:e.shiftToggleSelection(r)}]}},[n("img",{staticClass:"mediagrid__img",attrs:{src:r.thumbnail}})]),e.showFileName?n("p",{staticClass:"mediagrid__name",attrs:{title:r.name}},[e._v(e._s(r.name))]):e._e()])})],2)},staticRenderFns$5=[],MediaGrid_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-28c36e90]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-28c36e90]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-28c36e90]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-28c36e90]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-28c36e90]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-28c36e90]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-28c36e90]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-28c36e90]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-28c36e90]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-28c36e90]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-28c36e90]{width:auto}}.mediagrid[data-v-28c36e90]{display:block;width:100%;height:100%;font-size:0;line-height:1em}.mediagrid__item[data-v-28c36e90]{position:relative;display:inline-block;width:16.66666665%;padding-bottom:16.66666665%;overflow:hidden;background:white}@media (max-width: 300px){.mediagrid__item[data-v-28c36e90]{width:100%;padding-bottom:100%}}@media (min-width: 300px){.mediagrid__item[data-v-28c36e90]{width:50%;padding-bottom:50%}}@media (min-width: 600px){.mediagrid__item[data-v-28c36e90]{width:50%;padding-bottom:50%}}@media (min-width: 800px){.mediagrid__item[data-v-28c36e90]{width:33.3333333333%;padding-bottom:33.3333333333%}}@media (min-width: 1000px){.mediagrid__item[data-v-28c36e90]{width:25%;padding-bottom:25%}}@media (min-width: 1200px){.mediagrid__item[data-v-28c36e90]{width:20%;padding-bottom:20%}}@media (min-width: 1400px){.mediagrid__item[data-v-28c36e90]{width:16.6666666667%;padding-bottom:16.6666666667%}}@media (min-width: 1600px){.mediagrid__item[data-v-28c36e90]{width:14.2857142857%;padding-bottom:14.2857142857%}}@media (min-width: 1800px){.mediagrid__item[data-v-28c36e90]{width:12.5%;padding-bottom:12.5%}}@media (min-width: 2000px){.mediagrid__item[data-v-28c36e90]{width:11.1111111111%;padding-bottom:11.1111111111%}}@media (min-width: 2200px){.mediagrid__item[data-v-28c36e90]{width:10%;padding-bottom:10%}}@media (max-width: 300px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{width:100%;padding-bottom:calc(100% + 17px)}}@media (min-width: 300px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc(50% + 17px)}}@media (min-width: 600px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc(50% + 17px)}}@media (min-width: 800px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc((100% / 3) + 17px)}}@media (min-width: 1000px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc(25% + 17px)}}@media (min-width: 1200px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc(20% + 17px)}}@media (min-width: 1400px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc((100% / 6) + 17px)}}@media (min-width: 1600px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc((100% / 7) + 17px)}}@media (min-width: 1800px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc(12.5% + 17px)}}@media (min-width: 2000px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc((100% / 9) + 17px)}}@media (min-width: 2200px){.mediagrid__item.s--hasFilename[data-v-28c36e90]{padding-bottom:calc(10% + 17px)}}.mediagrid__button[data-v-28c36e90]{position:absolute;cursor:pointer;display:flex;justify-content:center;flex-direction:column;align-items:center;font-size:15px;user-select:none;top:10px;left:10px;right:10px;bottom:10px}.s--hasFilename .mediagrid__button[data-v-28c36e90]{bottom:27px}.mediagrid__button[data-v-28c36e90]:before{content:"";position:absolute;display:block;top:0;left:0;right:0;bottom:0;border:1px solid rgba(0,0,0,.05)}.mediagrid__button.s--picked[data-v-28c36e90]:after{content:"";position:absolute;display:block;top:0;left:0;right:0;bottom:0;border:4px solid #3278B8;z-index:1}.mediagrid__button.s--used[data-v-28c36e90]:before{content:"";position:absolute;display:block;top:0;left:0;right:0;bottom:0;background-color:#f4f9fd;opacity:.85}.mediagrid__button.s--disabled[data-v-28c36e90]{pointer-events:none;opacity:.2}.mediagrid__name[data-v-28c36e90]{position:absolute;bottom:0;right:0;left:0;padding:3px 20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:13px;color:#8c8c8c;width:100%;text-align:center;cursor:default}.s--loading[data-v-28c36e90]{background:#fbfbfb;cursor:default}.mediagrid__img[data-v-28c36e90]{display:block;max-width:100%;height:auto;max-height:100%}.mediagrid__progress[data-v-28c36e90]{height:4px;width:80%;background:#ccc;border-radius:2px;position:relative}.mediagrid__progressBar[data-v-28c36e90]{position:absolute;top:0;left:0;width:100%;border-radius:2px;height:4px;background:#3278B8}.mediagrid__progressError[data-v-28c36e90]{color:#e61414}
`)();const __vue2_script$5={name:"A17Mediagrid",mixins:[mediaItemsMixin],computed:{...mapState({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},__cssModules$5={};var __component__$5=normalizeComponent(__vue2_script$5,render$5,staticRenderFns$5,!1,__vue2_injectStyles$5,"28c36e90",null,null);function __vue2_injectStyles$5(e){for(let t in __cssModules$5)this[t]=__cssModules$5[t]}var a17MediaGrid=function(){return __component__$5.exports}(),render$4=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"itemlist"},[n("table",{staticClass:"itemlist__table"},[n("tbody",[e._l(e.itemsLoading,function(r,a){return n("tr",{directives:[{name:"show",rawName:"v-show",value:!r.isReplacement,expression:"!item.isReplacement"}],key:r.id,staticClass:"itemlist__row"},[n("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":r.error},attrs:{colspan:e.columnsNumber}},[r.error?n("span",{staticClass:"itemlist__progressError"},[e._v("Upload Error")]):n("span",{staticClass:"itemlist__progress"},[n("span",{staticClass:"itemlist__progressBar",style:e.loadingProgress(a)})])])])}),e._l(e.allItems,function(r,a){return n("tr",{key:r.endpointType+"_"+r.id,staticClass:"itemlist__row",class:{"s--picked":e.isSelected(r,e.keysToCheck),"s--disabled":r.disabled||!!e.replacingMediaIds[r.id]},on:{click:[function(o){return o.ctrlKey||o.shiftKey||o.altKey||o.metaKey?null:(o.preventDefault(),e.toggleSelection(r))},function(o){return!o.shiftKey||o.ctrlKey||o.altKey||o.metaKey?null:(o.preventDefault(),e.shiftToggleSelection(r))}]}},[r.isReplacement?r.isReplacement?[n("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":r.error},attrs:{colspan:e.columnsNumber}},[r.error?n("span",{staticClass:"itemlist__progressError"},[e._v("Upload Error")]):n("span",{staticClass:"itemlist__progress"},[n("span",{staticClass:"itemlist__progressBar",style:e.loadingProgress(a,"allItems")})])])]:e._e():[r.hasOwnProperty("id")?n("td",{staticClass:"itemlist__cell itemlist__cell--btn"},[n("a17-checkbox",{attrs:{name:"item_list",value:r.endpointType+"_"+r.id,initialValue:e.checkedItems,theme:"bold",disabled:r.disabled}})],1):e._e(),r.hasOwnProperty("thumbnail")?n("td",{class:"itemlist__cell itemlist__cell--thumb "+(r.endpointType==="users"?"itemlist__cell--thumb-rounded":"")},[r.endpointType==="users"?[n("a17-avatar",{attrs:{name:r.name,thumbnail:r.thumbnail}})]:[n("img",{attrs:{src:r.thumbnail}})]],2):e._e(),r.hasOwnProperty("name")?n("td",{staticClass:"itemlist__cell itemlist__cell--name"},[r.hasOwnProperty("renderHtml")?n("div",{domProps:{innerHTML:e._s(r.name)}}):n("div",[e._v(e._s(r.name))])]):e._e(),e._l(e.extraColumns,function(o,s){return n("td",{key:s,staticClass:"itemlist__cell",class:e.rowClass(o)},[o==="size"?[e._v(e._s(e._f("uppercase")(r[o])))]:[e._v(e._s(r[o]))]],2)})]],2)})],2)])])},staticRenderFns$4=[],ItemList_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-62b94e59]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-62b94e59]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-62b94e59]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-62b94e59]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-62b94e59]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-62b94e59]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-62b94e59]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-62b94e59]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-62b94e59]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-62b94e59]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-62b94e59]{width:auto}}.itemlist[data-v-62b94e59]{padding:10px;overflow:hidden}.itemlist__table[data-v-62b94e59]{width:100%;border-collapse:collapse;border-spacing:0;white-space:nowrap}.itemlist__table th[data-v-62b94e59],.itemlist__table td[data-v-62b94e59]{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;vertical-align:top;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.itemlist__table td[data-v-62b94e59]:first-child{border-left:1px solid #f2f2f2}.itemlist__table td[data-v-62b94e59]:last-child{border-right:1px solid #f2f2f2}.itemlist__row[data-v-62b94e59]{overflow:hidden;background:white;position:relative;cursor:pointer}.itemlist__row[data-v-62b94e59]:hover{background-color:#fbfbfb}.itemlist__row.s--disabled[data-v-62b94e59]{color:#ccc;pointer-events:none}.itemlist__row[data-v-62b94e59]:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.itemlist__cell[data-v-62b94e59]{padding:20px 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.itemlist__cell[data-v-62b94e59]:first-child{padding-left:20px}.itemlist__cell[data-v-62b94e59]:last-child{padding-left:20px}.itemlist__cell>*[data-v-62b94e59]:first-child{display:block}.itemlist__letter[data-v-62b94e59]{position:absolute;top:1px;left:1px;display:flex;flex-flow:row wrap;align-items:center;justify-content:center;width:calc(100% - 2px);height:calc(100% - 2px);color:#fff;border-radius:50%;visibility:hidden}.itemlist__cell--btn[data-v-62b94e59]{width:1px}.itemlist__cell--type[data-v-62b94e59]{width:150px}.itemlist__cell--thumb[data-v-62b94e59]{position:relative;width:50px}.itemlist__cell--thumb img[data-v-62b94e59]{display:block;width:50px;height:auto;background:#f2f2f2}.itemlist__cell--thumb-rounded[data-v-62b94e59]{width:36px;padding:13px 0}.itemlist__cell--loading[data-v-62b94e59]{height:4px}.itemlist__cell--error[data-v-62b94e59]{height:auto}.itemlist__progress[data-v-62b94e59]{height:4px;width:15%;min-width:120px;background:#ccc;border-radius:2px;position:relative}.itemlist__progressBar[data-v-62b94e59]{position:absolute;top:0;left:0;width:100%;border-radius:2px;height:4px;background:#3278B8}.itemlist__progressError[data-v-62b94e59]{color:#e61414}
`)();const __vue2_script$4={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},components:{"a17-avatar":A17Avatar},mixins:[mediaItemsMixin],filters,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const t=this.itemsLoading.find(n=>n.replacementId===e.id);return t||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const t=this.items[0];return t.hasOwnProperty("id")&&e++,t.hasOwnProperty("name")&&e++,t.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(t=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(t)&&typeof e[t]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(t){e.push(t.endpointType+"_"+t.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,t){const n=t?this[t]:this.itemsLoading;return{width:n[e].progress?n[e].progress+"%":"0%"}},getFirstLetter(e){return e.name.charAt(0)}}},__cssModules$4={};var __component__$4=normalizeComponent(__vue2_script$4,render$4,staticRenderFns$4,!1,__vue2_injectStyles$4,"62b94e59",null,null);function __vue2_injectStyles$4(e){for(let t in __cssModules$4)this[t]=__cssModules$4[t]}var a17ItemList=function(){return __component__$4.exports}(),render$3=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade_spinner"},on:{"before-enter":e.beforeEnter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave}},[n("div",{staticClass:"a17spinner"},[n("div",{staticClass:"a17spinner__anim",class:{"a17spinner__anim--visible":e.isVisible}},[n("span",{staticClass:"loader"},[n("span")])])])])},staticRenderFns$3=[],Spinner_vue_vue_type_style_index_0_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.a17spinner{display:flex;width:100%;padding:10vh 0;background-color:#ffffffbf;position:absolute;top:0;bottom:0;left:0;right:0;z-index:4}.a17spinner__anim{margin:100px auto;width:20px;height:20px;position:relative;text-align:center;color:#8c8c8c;opacity:0;transition:opacity .25s linear;transition-delay:.5s}.a17spinner__anim.a17spinner__anim--visible{opacity:1}.app--form .a17spinner{background-color:#f2f2f2bf}.s--in-editor .overlay .a17spinner{background-color:#fff}.s--in-editor .overlay .a17spinner .a17spinner__anim{transition-delay:0s}
`)();const __vue2_script$3={name:"A17Spinner",props:{visible:{type:Boolean,default:!1}},data:function(){return{isVisible:this.visible}},methods:{beforeEnter:function(e){this.isVisible=this.visible},afterEnter:function(e){this.isVisible=!0},beforeLeave:function(e){this.isVisible=!1}}},__cssModules$3={};var __component__$3=normalizeComponent(__vue2_script$3,render$3,staticRenderFns$3,!1,__vue2_injectStyles$3,null,null,null);function __vue2_injectStyles$3(e){for(let t in __cssModules$3)this[t]=__cssModules$3[t]}var a17Spinner=function(){return __component__$3.exports}();const scrollToY=function(e){const t={el:document,offset:0,duration:250,easing:"linear"},n=Date.now();let r=0,a=!1;const o={linear:function(h){return h},easeIn:function(h){return h*h*h},easeOut:function(h){return--h*h*h+1},easeInOut:function(h){return h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1}},s=window.requestAnimationFrame;let l;for(const h in e)typeof e[h]!="undefined"&&(t[h]=e[h]);if(t.el===document&&(a=!0,t.el=document.documentElement.scrollTop?document.documentElement:document.body),r=t.el.scrollTop,r===t.offset)return;function c(h,d){return h<d?h:d}function u(){if(s)try{cancelAnimationFrame(l)}catch{}else clearTimeout(l)}function f(){if(a&&r===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,r=1,t.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(f);else{const h=Date.now(),d=c(1,(h-n)/t.duration),g=o[t.easing](d);t.el.scrollTop=g*(t.offset-r)+r,d<1?m():(u(),(typeof t.onComplete).toLowerCase()==="function"&&t.onComplete.call(this))}}function m(){s?l=requestAnimationFrame(f):l=setTimeout(function(){f()},1e3/60)}m()};var render$2=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-modal",{ref:"modal",attrs:{title:e.modalTitle,mode:"wide"},on:{open:e.opened}},[n("div",{staticClass:"medialibrary"},[n("div",{staticClass:"medialibrary__frame"},[n("div",{ref:"form",staticClass:"medialibrary__header"},[n("a17-filter",{attrs:{clearOption:!0},on:{submit:e.submitFilter,clear:e.clearFilters}},[e.types.length?n("ul",{staticClass:"secondarynav secondarynav--desktop",attrs:{slot:"navigation"},slot:"navigation"},e._l(e.types,function(r){return n("li",{key:r.value,staticClass:"secondarynav__item",class:{"s--on":e.type===r.value,"s--disabled":e.type!==r.value&&e.strict}},[n("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.updateType(r.value)}}},[n("span",{staticClass:"secondarynav__link"},[e._v(e._s(r.text))]),r.total>0?n("span",{staticClass:"secondarynav__number"},[e._v("("+e._s(r.total)+")")]):e._e()])])}),0):e._e(),n("div",{staticClass:"secondarynav secondarynav--mobile secondarynav--dropdown",attrs:{slot:"navigation"},slot:"navigation"},[n("a17-dropdown",{ref:"secondaryNavDropdown",attrs:{position:"bottom-left",width:"full",offset:0}},[e.selectedType?n("a17-button",{staticClass:"secondarynav__button",attrs:{variant:"dropdown-transparent",size:"small"},on:{click:function(r){return e.$refs.secondaryNavDropdown.toggle()}}},[n("span",{staticClass:"secondarynav__link"},[e._v(e._s(e.selectedType.text))]),n("span",{staticClass:"secondarynav__number"},[e._v(e._s(e.selectedType.total))])]):e._e(),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[n("ul",e._l(e.types,function(r){return n("li",{key:r.value,staticClass:"secondarynav__item"},[n("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.updateType(r.value)}}},[n("span",{staticClass:"secondarynav__link"},[e._v(e._s(r.text))]),n("span",{staticClass:"secondarynav__number"},[e._v(e._s(r.total))])])])}),0)])],1)],1),n("div",{attrs:{slot:"hidden-filters"},slot:"hidden-filters"},[n("a17-vselect",{ref:"filter",staticClass:"medialibrary__filter-item",attrs:{name:"tag",options:e.tags,placeholder:e.$trans("media-library.filter-select-label","Filter by tag"),searchable:!0,maxHeight:"175px"}}),n("a17-checkbox",{ref:"unused",staticClass:"medialibrary__filter-item",attrs:{name:"unused","initial-value":0,value:1,label:e.$trans("media-library.unused-filter-label","Show unused only")}})],1)])],1),n("div",{staticClass:"medialibrary__inner"},[n("div",{staticClass:"medialibrary__grid"},[n("aside",{staticClass:"medialibrary__sidebar"},[n("a17-mediasidebar",{attrs:{medias:e.selectedMedias,authorized:e.authorized,extraMetadatas:e.extraMetadatas,type:e.currentTypeObject,translatableMetadatas:e.translatableMetadatas},on:{clear:e.clearSelectedMedias,delete:e.deleteSelectedMedias,tagUpdated:e.reloadTags,triggerMediaReplace:e.replaceMedia}})],1),e.selectedMedias.length&&e.showInsert&&e.connector?n("footer",{staticClass:"medialibrary__footer"},[e.canInsert?n("a17-button",{attrs:{variant:"action"},on:{click:e.saveAndClose}},[e._v(e._s(e.btnLabel))]):n("a17-button",{attrs:{variant:"action",disabled:!0}},[e._v(e._s(e.btnLabel))])],1):e._e(),n("div",{ref:"list",staticClass:"medialibrary__list"},[e.authorized?n("a17-uploader",{ref:"uploader",attrs:{type:e.currentTypeObject},on:{loaded:e.addMedia,clear:e.clearSelectedMedias}}):e._e(),n("div",{staticClass:"medialibrary__list-items"},[e.type==="file"?n("a17-itemlist",{attrs:{items:e.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":e.usedMedias},on:{change:e.updateSelectedMedias,shiftChange:e.updateSelectedMedias}}):n("a17-mediagrid",{attrs:{items:e.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":e.usedMedias},on:{change:e.updateSelectedMedias,shiftChange:e.updateSelectedMedias}}),e.loading?n("a17-spinner",{staticClass:"medialibrary__spinner"},[e._v("Loading\u2026")]):e._e()],1)],1)])])])])])},staticRenderFns$2=[],MediaLibrary_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-1c1f98a7]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-1c1f98a7]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-1c1f98a7]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-1c1f98a7]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-1c1f98a7]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-1c1f98a7]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-1c1f98a7]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-1c1f98a7]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-1c1f98a7]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-1c1f98a7]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-1c1f98a7]{width:auto}}.medialibrary[data-v-1c1f98a7]{display:block;width:100%;min-height:100%;padding:0;position:relative}.medialibrary__header[data-v-1c1f98a7]{background:#f2f2f2;border-bottom:1px solid #e5e5e5;padding:0 20px}@media screen and (max-width: 849px){.medialibrary__header .secondarynav[data-v-1c1f98a7]{padding-bottom:10px}}.medialibrary__frame[data-v-1c1f98a7]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-flow:column nowrap}.medialibrary__inner[data-v-1c1f98a7]{position:relative;width:100%;overflow:hidden;flex-grow:1}.medialibrary__footer[data-v-1c1f98a7]{position:absolute;right:0;z-index:76;bottom:0;width:290px;color:#8c8c8c;padding:10px;overflow:hidden;background:#f2f2f2;border-top:1px solid #e5e5e5}.medialibrary__footer>button[data-v-1c1f98a7]{display:block;width:100%}@media screen and (min-width: 600px) and (max-width: 849px){.medialibrary__footer[data-v-1c1f98a7]{width:250px}}@media screen and (max-width: 599px){.medialibrary__footer[data-v-1c1f98a7]{width:200px}}@media screen and (max-width: 550px){.medialibrary__footer[data-v-1c1f98a7]{width:100%}}.medialibrary__sidebar[data-v-1c1f98a7]{position:absolute;top:0;right:0;bottom:0;width:290px;padding:0 0 80px;z-index:75;background:#f2f2f2;overflow:auto}@media screen and (min-width: 600px) and (max-width: 849px){.medialibrary__sidebar[data-v-1c1f98a7]{width:250px}}@media screen and (max-width: 599px){.medialibrary__sidebar[data-v-1c1f98a7]{width:200px}}@media screen and (max-width: 550px){.medialibrary__sidebar[data-v-1c1f98a7]{display:none}}.medialibrary__list[data-v-1c1f98a7]{margin:0;position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto;padding:10px}.medialibrary__list-items[data-v-1c1f98a7]{position:relative;display:block;width:100%;min-height:100%}.medialibrary__list[data-v-1c1f98a7]{right:290px}@media screen and (min-width: 600px) and (max-width: 849px){.medialibrary__list[data-v-1c1f98a7]{right:250px}}@media screen and (max-width: 599px){.medialibrary__list[data-v-1c1f98a7]{right:200px}}@media screen and (max-width: 550px){.medialibrary__list[data-v-1c1f98a7]{right:0}}
`)(),MediaLibrary_vue_vue_type_style_index_1_lang=(()=>`@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full{width:auto}}@media screen and (min-width: 1540px){.container--full{width:auto}}.medialibrary__filter-item .vselect{min-width:200px}.medialibrary__filter-item.checkbox{margin-top:8px;margin-right:45px!important}@media screen and (max-width: 849px){.medialibrary__header .filter__inner{flex-direction:column}.medialibrary__header .filter__search{padding-top:10px;display:flex}.medialibrary__header .filter__search input{flex-grow:1}}
`)();const __vue2_script$2={name:"A17Medialibrary",components:{"a17-filter":a17Filter,"a17-mediasidebar":a17MediaSidebar,"a17-uploader":a17Uploader,"a17-mediagrid":a17MediaGrid,"a17-itemlist":a17ItemList,"a17-spinner":a17Spinner,"a17-checkbox":a17Checkbox},props:{modalTitlePrefix:{type:String,default:function(){return this.$trans("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return this.$trans("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!1},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" \u2013 "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" \u2013 "+this.btnLabelMulti:this.modalTitlePrefix+" \u2013 "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=this.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=this.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(n){return n.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(t=>t.id===e.id))},...mapState({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace})},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1}},methods:{replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},open:function(){this.$refs.modal.open()},close:function(){this.$refs.modal.hide()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.listenScrollPosition(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,e),this.submitFilter())},addMedia:function(e){const t=this.mediaItems.findIndex(function(n){return n.id===e.id});if(t>-1){for(const n in this.selected)this.selected[n].forEach((r,a)=>{if(e.id===r.id){const o=[];for(const s in r.crops)o[s]={height:e.height===r.height?r.crops[s].height:e.height,name:s,width:e.width===r.width?r.crops[s].width:e.width,x:e.width===r.width?r.crops[s].x:0,y:e.height===r.height?r.crops[s].y:0};this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS,{index:a,media:{...e,width:e.width===r.width?r.width:e.width,height:e.height===r.height?r.height:e.height,crops:o},mediaRole:n})}});this.$set(this.mediaItems,t,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},updateSelectedMedias:function(e,t=!1){const n=e.id;if(this.selectedMedias.filter(function(a){return a.id===n}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(t&&this.selectedMedias.length>0){const a=this.selectedMedias[this.selectedMedias.length-1],o=this.mediaItems.findIndex(f=>f.id===a.id),s=this.mediaItems.findIndex(f=>f.id===n);if(s===-1&&o===-1)return;let l=null,c=null;o<s?(l=o+1,c=s+1):(l=s,c=o),this.mediaItems.slice(l,c).forEach(f=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(h=>h.id===f.id)===-1&&this.selectedMedias.push(f)})}else{const a=this.mediaItems.filter(function(o){return o.id===n});a.length&&this.selectedMedias.push(a[0])}}else this.selectedMedias=this.selectedMedias.filter(function(a){return a.id!==n})},getFormData:function(e){let t=FormDataAsObj(e);return t?t.page=this.page:t={page:this.page},t.type=this.type,Array.isArray(t.unused)&&t.unused.length&&(t.unused=t.unused[0]),t},clearFilters:function(){const e=this;if(this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const t=this.$refs.unused.$el.querySelector("input");t&&t.checked&&t.click()}this.$nextTick(function(){e.submitFilter()})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},deleteSelectedMedias:function(e){let t=[];e&&e.length!==this.selectedMedias.length&&(t=this.selectedMedias.filter(n=>!n.deleteUrl)),e.forEach(()=>{this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(n=>!this.selectedMedias.includes(n)||t.includes(n)),this.selectedMedias=t,this.mediaItems.length<=40&&this.reloadGrid()},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){this.loading=!0;const e=this.$refs.form,t=this.getFormData(e);api$1.get(this.endpoint,t,n=>{n.data.items.forEach(r=>{this.mediaItems.find(a=>a.id===r.id)||this.mediaItems.push(r)}),this.maxPage=n.data.maxPage||1,this.tags=n.data.tags||[],this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:n.data.total}),this.loading=!1,this.listenScrollPosition(),this.gridLoaded=!0},n=>{this.$store.commit(NOTIFICATION.SET_NOTIF,{message:n.data.message,variant:"error"})})},reloadTags:function(e=[]){this.tags=e},submitFilter:function(e){const t=this,n=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),n.scrollTop===0){t.reloadGrid();return}scrollToY({el:n,offset:0,easing:"easeOut",onComplete:function(){t.reloadGrid()}})},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list,t=10;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-t&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS,this.selectedMedias),this.close()}}},__cssModules$2={};var __component__$2=normalizeComponent(__vue2_script$2,render$2,staticRenderFns$2,!1,__vue2_injectStyles$2,"1c1f98a7",null,null);function __vue2_injectStyles$2(e){for(let t in __cssModules$2)this[t]=__cssModules$2[t]}var a17MediaLibrary=function(){return __component__$2.exports}(),parse$5=parse_1;function compareDesc$1(e,t){var n=parse$5(e),r=n.getTime(),a=parse$5(t),o=a.getTime();return r>o?-1:r<o?1:0}var compare_desc=compareDesc$1,parse$4=parse_1;function differenceInMilliseconds$1(e,t){var n=parse$4(e),r=parse$4(t);return n.getTime()-r.getTime()}var difference_in_milliseconds=differenceInMilliseconds$1,differenceInMilliseconds=difference_in_milliseconds;function differenceInSeconds$1(e,t){var n=differenceInMilliseconds(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var difference_in_seconds=differenceInSeconds$1,parse$3=parse_1;function differenceInCalendarMonths$1(e,t){var n=parse$3(e),r=parse$3(t),a=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return a*12+o}var difference_in_calendar_months=differenceInCalendarMonths$1,parse$2=parse_1;function compareAsc$1(e,t){var n=parse$2(e),r=n.getTime(),a=parse$2(t),o=a.getTime();return r<o?-1:r>o?1:0}var compare_asc=compareAsc$1,parse$1=parse_1,differenceInCalendarMonths=difference_in_calendar_months,compareAsc=compare_asc;function differenceInMonths$1(e,t){var n=parse$1(e),r=parse$1(t),a=compareAsc(n,r),o=Math.abs(differenceInCalendarMonths(n,r));n.setMonth(n.getMonth()-a*o);var s=compareAsc(n,r)===-a;return a*(o-s)}var difference_in_months=differenceInMonths$1,compareDesc=compare_desc,parse=parse_1,differenceInSeconds=difference_in_seconds,differenceInMonths=difference_in_months,enLocale=en,MINUTES_IN_DAY=1440,MINUTES_IN_ALMOST_TWO_DAYS=2520,MINUTES_IN_MONTH=43200,MINUTES_IN_TWO_MONTHS=86400;function distanceInWords$1(e,t,n){var r=n||{},a=compareDesc(e,t),o=r.locale,s=enLocale.distanceInWords.localize;o&&o.distanceInWords&&o.distanceInWords.localize&&(s=o.distanceInWords.localize);var l={addSuffix:Boolean(r.addSuffix),comparison:a},c,u;a>0?(c=parse(e),u=parse(t)):(c=parse(t),u=parse(e));var f=differenceInSeconds(u,c),m=u.getTimezoneOffset()-c.getTimezoneOffset(),h=Math.round(f/60)-m,d;if(h<2)return r.includeSeconds?f<5?s("lessThanXSeconds",5,l):f<10?s("lessThanXSeconds",10,l):f<20?s("lessThanXSeconds",20,l):f<40?s("halfAMinute",null,l):f<60?s("lessThanXMinutes",1,l):s("xMinutes",1,l):h===0?s("lessThanXMinutes",1,l):s("xMinutes",h,l);if(h<45)return s("xMinutes",h,l);if(h<90)return s("aboutXHours",1,l);if(h<MINUTES_IN_DAY){var g=Math.round(h/60);return s("aboutXHours",g,l)}else{if(h<MINUTES_IN_ALMOST_TWO_DAYS)return s("xDays",1,l);if(h<MINUTES_IN_MONTH){var v=Math.round(h/MINUTES_IN_DAY);return s("xDays",v,l)}else if(h<MINUTES_IN_TWO_MONTHS)return d=Math.round(h/MINUTES_IN_MONTH),s("aboutXMonths",d,l)}if(d=differenceInMonths(u,c),d<12){var _=Math.round(h/MINUTES_IN_MONTH);return s("xMonths",_,l)}else{var y=d%12,q=Math.floor(d/12);return y<3?s("aboutXYears",q,l):y<9?s("overXYears",q,l):s("almostXYears",q+1,l)}}var distance_in_words=distanceInWords$1,distanceInWords=distance_in_words;function distanceInWordsToNow(e,t){return distanceInWords(Date.now(),e,t)}var distance_in_words_to_now=distanceInWordsToNow,defaultConverter=function(e,t,n){var r=n.includeSeconds,a=n.addSuffix;return a===void 0&&(a=!0),distance_in_words_to_now(e,{locale:t,includeSeconds:r,addSuffix:a})},createTimeago=function(e){e===void 0&&(e={});var t=e.locales||{},n=e.name||"Timeago";return{name:n,props:{datetime:{required:!0},title:{type:[String,Boolean]},locale:{type:String},autoUpdate:{type:[Number,Boolean]},converter:{type:Function},converterOptions:{type:Object}},data:function(){return{timeago:this.getTimeago()}},computed:{localeName:function(){return this.locale||this.$timeago.locale}},mounted:function(){this.startUpdater()},beforeDestroy:function(){this.stopUpdater()},render:function(a){return a("time",{attrs:{datetime:new Date(this.datetime),title:typeof this.title=="string"?this.title:this.title===!1?null:this.timeago}},[this.timeago])},methods:{getTimeago:function(a){var o=this.converter||e.converter||defaultConverter;return o(a||this.datetime,t[this.locale||this.$timeago.locale],this.converterOptions||{})},convert:function(a){this.timeago=this.getTimeago(a)},startUpdater:function(){var a=this;if(this.autoUpdate){var o=this.autoUpdate===!0?60:this.autoUpdate;this.updater=setInterval(function(){a.convert()},o*1e3)}},stopUpdater:function(){this.updater&&(clearInterval(this.updater),this.updater=null)}},watch:{autoUpdate:function(a){this.stopUpdater(),a&&this.startUpdater()},datetime:function(){this.convert()},localeName:function(){this.convert()},converter:function(){this.convert()},converterOptions:{handler:function(){this.convert()},deep:!0}}}},install=function(e,t){if(!e.prototype.$timeago){var n={locale:t.locale};e.prototype.$timeago=e.observable?e.observable(n):new e({data:n});var r=createTimeago(t);e.component(r.name,r)}},isArray$7=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(e,t){if(isArray$7(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||isSymbol$3(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||t!=null&&e in Object(t)}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(memoize$1.Cache||MapCache),n}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(e){var t=memoize(e,function(r){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),r}),n=t.cache;return t}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rePropName,function(n,r,a,o){t.push(a?o.replace(reEscapeChar,"$1"):r||n)}),t}),_stringToPath=stringToPath$1;function arrayMap$1(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var _arrayMap=arrayMap$1,Symbol$1=_Symbol,arrayMap=_arrayMap,isArray$6=isArray_1,isSymbol$2=isSymbol_1,INFINITY$1=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(e){if(typeof e=="string")return e;if(isArray$6(e))return arrayMap(e,baseToString$1)+"";if(isSymbol$2(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-INFINITY$1?"-0":t}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(e){return e==null?"":baseToString(e)}var toString_1=toString$2,isArray$5=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$2(e,t){return isArray$5(e)?e:isKey$2(e,t)?[e]:stringToPath(toString$1(e))}var _castPath=castPath$2,isSymbol$1=isSymbol_1,INFINITY=1/0;function toKey$4(e){if(typeof e=="string"||isSymbol$1(e))return e;var t=e+"";return t=="0"&&1/e==-INFINITY?"-0":t}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$2(e,t){t=castPath$1(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[toKey$3(t[n++])];return n&&n==r?e:void 0}var _baseGet=baseGet$2,baseGet$1=_baseGet;function get$3(e,t,n){var r=e==null?void 0:baseGet$1(e,t);return r===void 0?n:r}var get_1=get$3;function createBaseFor$1(e){return function(t,n,r){for(var a=-1,o=Object(t),s=r(t),l=s.length;l--;){var c=s[e?l:++a];if(n(o[c],c,o)===!1)break}return t}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$2=createBaseFor(),_baseFor=baseFor$2,baseFor$1=_baseFor,keys$1=keys_1;function baseForOwn$1(e,t){return e&&baseFor$1(e,t,keys$1)}var _baseForOwn=baseForOwn$1,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(e,t,n,r){var a=n.length,o=a,s=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=n[a];var c=l[0],u=e[c],f=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var m=new Stack$1;if(r)var h=r(u,f,c,e,t,m);if(!(h===void 0?baseIsEqual$1(f,u,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,r,m):h))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(e){return e===e&&!isObject$4(e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys=keys_1;function getMatchData$1(e){for(var t=keys(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,isStrictComparable$1(a)]}return t}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(e){var t=getMatchData(e);return t.length==1&&t[0][2]?matchesStrictComparable$1(t[0][0],t[0][1]):function(n){return n===e||baseIsMatch(n,e,t)}}var _baseMatches=baseMatches$1;function baseHasIn$1(e,t){return e!=null&&t in Object(e)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$2=isArguments_1,isArray$4=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(e,t,n){t=castPath(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=toKey$2(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&isLength(a)&&isIndex$1(s,a)&&(isArray$4(e)||isArguments$2(e)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(e,t){return e!=null&&hasPath(e,t,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get$2=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(e,t){return isKey$1(e)&&isStrictComparable(t)?matchesStrictComparable(toKey$1(e),t):function(n){var r=get$2(n,e);return r===void 0&&r===t?hasIn(n,e):baseIsEqual(t,r,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$3(e){return e}var identity_1=identity$3;function baseProperty$1(e){return function(t){return t==null?void 0:t[e]}}var _baseProperty=baseProperty$1,baseGet=_baseGet;function basePropertyDeep$1(e){return function(t){return baseGet(t,e)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$2=identity_1,isArray$3=isArray_1,property=property_1;function baseIteratee$1(e){return typeof e=="function"?e:e==null?identity$2:typeof e=="object"?isArray$3(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}var _baseIteratee=baseIteratee$1,baseAssignValue$1=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee=_baseIteratee;function mapValues(e,t){var n={};return t=baseIteratee(t),baseForOwn(e,function(r,a,o){baseAssignValue$1(n,a,t(r,a,o))}),n}var mapValues_1=mapValues;function addSvg(e,t,n){const r=["icon"],a=t.expression||n.data.attrs.symbol;let o=e;n.tag==="span"&&(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(o)),r.push(`icon--${a}`),r.forEach(function(u){e.classList.add(u)});const s=document.createElementNS("http://www.w3.org/2000/svg","title");s.textContent=a,o.appendChild(s);const l=`#icon--${a}`,c=document.createElementNS("http://www.w3.org/2000/svg","use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l),o.appendChild(c)}function removeSvg(e){const t=e.querySelector("svg");t&&t.parentNode.removeChild(t),e.className.split(" ").filter(function(r){return r.indexOf("icon")===0}).forEach(function(r){e.classList.remove(r)})}var SvgSprite={install(e,t={}){const n={bind(r,a,o){addSvg(r,a,o)},componentUpdated:function(r,a,o,s){removeSvg(r),addSvg(r,a,o)},inserted:function(r,a,o){},unbind:function(r,a,o){}};e.directive("svg",n)}};const DEFAULT_OPTIONS$1={container:!1,delay:0,html:!1,budge:15,placement:"top",theme:"default",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip__arrow"></div><div class="tooltip__inner"></div></div>',trigger:"hover focus",offset:0};class Tooltip$1{constructor(t,n){Te(this,"show",()=>this._show(this.reference,this.options));Te(this,"hide",()=>this._hide());Te(this,"dispose",()=>this._dispose());Te(this,"toggle",()=>this._isOpen?this.hide():this.show());Te(this,"innerSelector",".tooltip__inner");Te(this,"_events",[]);Te(this,"_setTooltipNodeEvent",(t,n,r,a)=>{const o=t.relatedreference||t.toElement,s=l=>{const c=l.relatedreference||l.toElement;this._tooltipNode.removeEventListener(t.type,s),n.contains(c)||this._scheduleHide(n,a.delay,a,l)};return this._tooltipNode.contains(o)?(this._tooltipNode.addEventListener(t.type,s),!0):!1});n={...DEFAULT_OPTIONS$1,...n},this.reference=t,this.options=n;const r=typeof n.trigger=="string"?n.trigger.split(" ").filter(a=>["click","hover","focus"].indexOf(a)!==-1):[];this._isOpen=!1,this._setEventListeners(t,r,n)}_create(t,n,r,a,o){if(this._tooltipNode)return this;const s=window.document.createElement("div");s.innerHTML=n.trim();const l=s.childNodes[0];l.id=`tooltip--${Math.random().toString(36).substr(2,10)}`,l.setAttribute("aria-hidden","false"),l.classList.add("tooltip--"+r);const c=s.querySelector(this.innerSelector);return a.nodeType===1?o&&c.appendChild(a):o?c.innerHTML=a:c.innerText=a,l}_position(t,n,r){let a=0,o=0,s=n;const l=t.getBoundingClientRect();this._tooltipNode.classList.remove("tooltip--"+s);const c=Math.round(l.top-this._tooltipNode.offsetHeight-r),u=Math.round(l.top+l.height/2-this._tooltipNode.offsetHeight/2),f=Math.round(l.left+l.width+r),m=Math.round(l.top+l.height+r),h=Math.round(l.left-this._tooltipNode.offsetWidth-r),d=Math.round(l.left+l.width/2-this._tooltipNode.offsetWidth/2);n==="top"&&(a=d,o=c,s="top",a<10&&(a=10),o<0&&(o=m,s="bottom")),n==="top-right"&&(a=f,o=c,s="top",o<0&&(o=m,s="bottom")),n==="bottom"&&(a=d,o=m,s="bottom",a<10&&(a=10),o>0&&(o=c,s="top")),n==="right"&&(a=f,o=u,s="right"),n==="left"&&(a=h,o=u,s="left",a<0&&(a=f,s="right")),this._tooltipNode.style.left=a+"px",this._tooltipNode.style.top=o+"px",this._tooltipNode.classList.add("tooltip--"+s)}_show(t,n){if(this._isOpen&&!this._isOpening)return this;this._isOpen=!0;const r=t.getAttribute("data-tooltip-budge")||n.budge,a=t.getAttribute("data-tooltip-theme")||n.theme,o=t.getAttribute("data-tooltip-placement")||n.placement;if(this._tooltipNode)return this._tooltipNode.style.opacity="",this._tooltipNode.style.visibility="",this._tooltipNode.style.transition="opacity 0.3s",this._tooltipNode.setAttribute("aria-hidden","false"),this._position(t,o,r),this;const s=t.getAttribute("data-tooltip-title")||n.title,l=this._create(t,n.template,a,s,n.html);t.setAttribute("aria-describedby",l.id);const c=this._findContainer(n.container,t);return this._append(l,c),this._tooltipNode=l,this._position(t,o,r),this}_hide(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.opacity="0",this._tooltipNode.style.visibility="hidden",this._tooltipNode.style.transition="",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}_dispose(){return this._events.length&&(this._events.forEach(({func:t,event:n})=>{this.reference.removeEventListener(n,t)}),this._events=[]),this._tooltipNode&&(this._hide(),this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}_findContainer(t,n){return typeof t=="string"?t=window.document.querySelector(t):t===!1&&(t=n.parentNode),t}_append(t,n){n.appendChild(t)}_setEventListeners(t,n,r){const a=[],o=[];n.forEach(s=>{switch(s){case"hover":a.push("mouseenter"),o.push("mouseleave");break;case"focus":a.push("focus"),o.push("blur");break;case"click":a.push("click"),o.push("click");break}}),a.forEach(s=>{const l=c=>{this._isOpening!==!0&&(c.usedByTooltip=!0,this._scheduleShow(t,r.delay,r,c))};this._events.push({event:s,func:l}),t.addEventListener(s,l)}),o.forEach(s=>{const l=c=>{c.usedByTooltip!==!0&&this._scheduleHide(t,r.delay,r,c)};this._events.push({event:s,func:l}),t.addEventListener(s,l)})}_scheduleShow(t,n,r){this._isOpening=!0;const a=n&&n.show||n||0;a>0?window.setTimeout(()=>this._show(t,r),a):this._show(t,r)}_scheduleHide(t,n,r,a){this._isOpening=!1;const o=n&&n.hide||n||0;window.setTimeout(()=>{this._isOpen!==!1&&(!document.body.contains(this._tooltipNode)||a.type==="mouseleave"&&this._setTooltipNodeEvent(a,t,n,r)||this._hide())},o)}}const defaultOptions$1={};var Tooltip={install(e,t={}){const n={options:defaultOptions$1,bind:function(r,a,o){if(!r._tooltip){const s=r._tooltip=new Tooltip$1(r,n.options);s._vueEl=r}},componentUpdated:function(r,a,o,s){if(r._tooltip){r._tooltip.dispose();const l=r._tooltip=new Tooltip$1(r,n.options);l._vueEl=r}},inserted:function(r,a,o){},unbind:function(r,a,o){r._tooltip&&r._tooltip.dispose()}};e.directive("tooltip",n)}};const DEFAULT_OPTIONS={target:"data-sticky-target",toptarget:"data-sticky-top",classContainer:"sticky",classFixed:"sticky__fixed",classAbs:"sticky__abs",classEnd:"sticky__scrolled",topOffset:0,offset:20};class Sticky$1{constructor(t,n){Te(this,"refresh",()=>this._refresh());Te(this,"dispose",()=>this._dispose());Te(this,"status","top");Te(this,"ticking",!1);Te(this,"anchors",["Top","Bottom"]);Te(this,"lastScrollPos",0);Te(this,"prevScrollPos",-1);n={...DEFAULT_OPTIONS,...n},this.target=null,this.toptarget=null,this.container=t,this.containerID=this.container.getAttribute("data-sticky-id"),this.options=n,this.options.target&&(this.target=this.container.querySelector("["+this.options.target+'="'+this.containerID+'"]')),this.options.toptarget&&(this.toptarget=this.container.querySelector("["+this.options.toptarget+'="'+this.containerID+'"]')),this.topMargin=this.container.hasAttribute("data-sticky-offset")?parseInt(this.container.getAttribute("data-sticky-offset")):this.options.offset,this.topOffset=this.container.hasAttribute("data-sticky-topoffset")?parseInt(this.container.getAttribute("data-sticky-topoffset")):this.options.topOffset,t.classList.add(this.options.classContainer),this._setEventListeners(),this._refresh()}_refresh(){if(!this.target)return!1;const t=this.lastScrollPos,n=this.target.offsetHeight,r=this.container.offsetHeight,a=n+this.topMargin<window.innerHeight?0:1;let o=this.toptarget?this.toptarget.getBoundingClientRect().top+this.topOffset:this.container.getBoundingClientRect().top+this.topOffset,s=o+r-n;return o=o-this.topMargin+Math.max(0,n+this.topMargin-window.innerHeight)+t,this.toptarget&&(s=o+r-n-Math.max(0,this.toptarget.getBoundingClientRect().top-this.container.getBoundingClientRect().top)),this.target.offsetHeight<r&&(this.status!=="top"&&t<o&&(this._removePositionClass(),this.status="top"),this.status!=="scrolling"&&t>=o&&t<s&&(this._removePositionClass(),this.target.classList.add(this.options.classFixed+this.anchors[a]),this.status="scrolling"),this.status!=="bottom"&&t>=s&&(this._removePositionClass(),this.target.classList.add(this.options.classAbs),this.status="bottom"),t+window.innerHeight>=this.container.getBoundingClientRect().top+t+r?this.target.classList.add(this.options.classEnd):this.target.classList.remove(this.options.classEnd)),this}_removePositionClass(){for(let t=0;t<this.anchors.length;t++)this.target.classList.remove(this.options.classFixed+this.anchors[t]);this.target.classList.remove(this.options.classAbs)}_scroll(){const t=this;return t.lastScrollPos=window.pageYOffset,t.ticking||window.requestAnimationFrame(function(){t._refresh(),t.prevScrollPos=t.lastScrollPos,t.ticking=!1}),t.ticking=!0,this}_resize(){return this.lastScrollPos=window.pageYOffset,this.status="",this._refresh(),this}_dispose(){return window.removeEventListener("scroll",()=>this._scroll()),window.removeEventListener("resize",()=>this._resize()),this}_setEventListeners(){window.addEventListener("scroll",()=>this._scroll()),window.addEventListener("resize",()=>this._resize()),this._resize()}}const defaultOptions={};var Sticky={install(e,t={}){const n={options:defaultOptions,bind:function(r,a,o){const s=r._sticky=new Sticky$1(r,n.options);s._vueEl=r},componentUpdated:function(r,a,o){r._sticky.refresh()},inserted:function(r,a,o){},unbind:function(r,a,o){r._sticky.dispose()}};e.directive("sticky",n)}};const isProd=!0,A17Config={install(e,t){e.component("a17-button",a17Button),e.component("a17-infotip",a17Infotip),e.component("a17-slideshow",a17Slideshow),e.component("a17-browserfield",a17BrowserField),e.component("a17-textfield",A17Textfield),e.component("a17-hiddenfield",a17HiddenField),e.component("a17-wysiwyg",a17Wysiwyg),e.component("a17-wysiwyg-tiptap",a17WysiwygTipTap),e.component("a17-inputframe",a17Inputframe),e.component("a17-mediafield",a17MediaField),e.component("a17-mediafield-translated",a17MediaFieldTranslated),e.component("a17-radio",a17Radio),e.component("a17-radiogroup",a17RadioGroup),e.component("a17-checkbox",a17Checkbox),e.component("a17-singlecheckbox",a17SingleCheckbox),e.component("a17-checkboxgroup",a17CheckboxGroup),e.component("a17-singleselect-permissions",A17SingleSelectPermissions),e.component("a17-multiselect",a17Multiselect),e.component("a17-singleselect",a17Singleselect),e.component("a17-select",a17Select),e.component("a17-vselect",VSelect),e.component("a17-locale",a17Locale),e.component("a17-dropdown",A17Dropdown),e.component("a17-buttonbar",a17Buttonbar),e.component("a17-modal",a17Modal),e.component("a17-dialog",a17Dialog),e.component("a17-datepicker",a17DatePicker),e.component("a17-filefield",a17FileField),e.component("a17-colorfield",a17ColorField),e.component("a17-avatar",A17Avatar),e.component("a17-medialibrary",a17MediaLibrary),e.mixin({methods:{openFreeMediaLibrary:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,-1),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!1),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}),e.config.productionTip=isProd,e.config.devtools=!0,e.prototype.$http=axios,window.$trans=e.prototype.$trans=function(n,r){return get_1(window[{}.VUE_APP_NAME].twillLocalization.lang,n,r)},axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",axios.interceptors.response.use(n=>n,n=>(globalError("CONTENT",n),Promise.reject(n))),e.use(install,{name:"timeago",locale:window[{}.VUE_APP_NAME].twillLocalization.locale,locales:mapValues_1(locales,"date-fns")}),e.use(SvgSprite),e.use(Tooltip),e.use(Sticky)}};var render$1=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container search",class:{"search--dashboard":e.type==="dashboard"}},[e.type==="dashboard"?n("transition",{attrs:{name:"fade_search-overlay"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__overlay",on:{click:e.toggleSearch}})]):e._e(),n("div",{staticClass:"search__input"},[n("input",{ref:"search",staticClass:"form__input",attrs:{type:"search",name:"search",autocomplete:"off",placeholder:e.placeholder},on:{input:e.onSearchInput}}),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"search"}})]),n("transition",{attrs:{name:"fade_search-overlay"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__results"},[n("ul",[e._l(e.searchResults,function(r){return n("li",{key:r.id},[n("a",{staticClass:"search__result",attrs:{href:r.href}},[n("div",{staticClass:"search__cell search__cell--thumb hide--xsmall"},[n("figure",{staticClass:"search__thumb"},[n("img",{attrs:{src:r.thumbnail}})])]),n("div",{staticClass:"search__cell search__cell--pubstate hide--xsmall"},[n("span",{staticClass:"search__pubstate",class:{"search__pubstate--live":r.published}})]),n("div",{staticClass:"search__cell"},[n("span",{staticClass:"search__title"},[e._v(e._s(r.title))]),r.date?n("p",{staticClass:"f--note"},[e._v(" "+e._s(r.activity)+" "),n("timeago",{attrs:{"auto-update":1,datetime:new Date(r.date)}}),e._v(" by "+e._s(r.author)+" "),n("span",{staticClass:"search__type"},[e._v(e._s(r.type))])],1):e._e()])])])}),n("li",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"search__no-result"},[e._v(" "+e._s(e.$trans("dashboard.search.loading","Loading\u2026"))+" ")]),n("li",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult&&!e.searchResults.length&&!e.loading,expression:"readyToShowResult && !searchResults.length && !loading"}],staticClass:"search__no-result"},[e._v(" "+e._s(e.$trans("dashboard.search.no-result","No results found."))+" ")])],2)])])],1)},staticRenderFns$1=[],Search_vue_vue_type_style_index_0_scoped_true_lang=(()=>`@charset "UTF-8";@font-face{font-family:Inter;font-style:normal;font-weight:400;src:url(~fonts/Inter-Regular.woff2) format("woff2"),url(~fonts/Inter-Regular.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:400;src:url(~fonts/Inter-Italic.woff2) format("woff2"),url(~fonts/Inter-Italic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:600;src:url(~fonts/Inter-Medium.woff2) format("woff2"),url(~fonts/Inter-Medium.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:600;src:url(~fonts/Inter-MediumItalic.woff2) format("woff2"),url(~fonts/Inter-MediumItalic.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:normal;font-weight:700;src:url(~fonts/Inter-Bold.woff2) format("woff2"),url(~fonts/Inter-Bold.woff) format("woff");font-display:swap}@font-face{font-family:Inter;font-style:italic;font-weight:700;src:url(~fonts/Inter-BoldItalic.woff2) format("woff2"),url(~fonts/Inter-BoldItalic.woff) format("woff");font-display:swap}.container[data-v-079004b2]{margin-right:auto;margin-left:auto}@media screen and (max-width: 599px){.container[data-v-079004b2]{width:auto;padding-right:20px;padding-left:20px}}@media screen and (min-width: 600px) and (max-width: 849px){.container[data-v-079004b2]{width:auto;padding-right:30px;padding-left:30px}}@media screen and (min-width: 850px) and (max-width: 1039px){.container[data-v-079004b2]{width:auto;padding-right:40px;padding-left:40px}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container[data-v-079004b2]{width:auto;padding-right:50px;padding-left:50px}}@media screen and (min-width: 1540px){.container[data-v-079004b2]{width:1540px;padding-right:50px;padding-left:50px}}@media screen and (max-width: 599px){.container--full[data-v-079004b2]{width:auto}}@media screen and (min-width: 600px) and (max-width: 849px){.container--full[data-v-079004b2]{width:auto}}@media screen and (min-width: 850px) and (max-width: 1039px){.container--full[data-v-079004b2]{width:auto}}@media screen and (min-width: 1040px) and (max-width: 1539px){.container--full[data-v-079004b2]{width:auto}}@media screen and (min-width: 1540px){.container--full[data-v-079004b2]{width:auto}}.search[data-v-079004b2]{display:block;position:relative;padding-top:40px}.search--dashboard[data-v-079004b2]{padding-top:0;padding-bottom:25px;background:#000}.search__overlay[data-v-079004b2]{position:fixed;top:60px;left:0;right:0;width:100%;bottom:0;background:rgba(0,0,0,.9);z-index:299}.search__input[data-v-079004b2]{position:relative;z-index:300}.search__input .form__input[data-v-079004b2]{display:block;padding-left:45px;border:0;box-shadow:none;font-size:17px;line-height:46px}.search--dashboard .icon--search[data-v-079004b2]{color:gray}.search--dashboard .search__input .form__input[data-v-079004b2]{background-color:#333;color:#999}.search--dashboard .search__input .form__input[data-v-079004b2]::-webkit-input-placeholder{color:#999}.search--dashboard .search__input .form__input[data-v-079004b2]:-moz-placeholder{color:#999}.search--dashboard .search__input .form__input[data-v-079004b2]::-moz-placeholder{color:#999}.search--dashboard .search__input .form__input[data-v-079004b2]:-ms-input-placeholder{color:#999}.search--dashboard .search__input .form__input[data-v-079004b2]:focus{background-color:#fbfbfb;color:#666}.search--dashboard .search__input .form__input:focus+.icon--search[data-v-079004b2]{color:#a6a6a6}.icon--search[data-v-079004b2]{position:absolute;top:13px;left:15px;width:24px;height:24px;color:#a6a6a6;pointer-events:none;transition:color .12s ease-in-out}.icon--search svg[data-v-079004b2]{width:24px;height:24px}.form__input:focus+.icon--search[data-v-079004b2]{color:#262626}.search__results[data-v-079004b2]{position:relative;margin-top:10px;max-height:273px;background:#fff;border-radius:2px;box-shadow:0 0 2px #0000004d;overflow:auto;z-index:300}.search--dashboard .search__results[data-v-079004b2]{position:absolute}@media screen and (max-width: 599px){.search--dashboard .search__results[data-v-079004b2]{width:calc(100% - 40px)}}@media screen and (min-width: 600px) and (max-width: 849px){.search--dashboard .search__results[data-v-079004b2]{width:calc(100% - 60px)}}@media screen and (min-width: 850px) and (max-width: 1039px){.search--dashboard .search__results[data-v-079004b2]{width:calc(100% - 80px)}}@media screen and (min-width: 1040px) and (max-width: 1539px){.search--dashboard .search__results[data-v-079004b2]{width:calc(100% - 100px)}}@media screen and (min-width: 1540px){.search--dashboard .search__results[data-v-079004b2]{width:calc(100% - 100px)}}.search__no-result[data-v-079004b2]{padding:0 30px;height:70px;background:#e5e5e5;border-radius:2px;line-height:70px}.search__result[data-v-079004b2]{display:flex;min-height:91px;padding:20px;border-bottom:1px solid #f2f2f2;cursor:pointer;flex-direction:row;justify-content:flex-start;outline:none;text-decoration:none}li:last-child .search__result[data-v-079004b2]{border-bottom:0}.search__result[data-v-079004b2]:hover,.search__result[data-v-079004b2]:focus{background:#fafafa}.search__cell[data-v-079004b2]{vertical-align:top;padding-top:4px}.search__cell--thumb[data-v-079004b2]{width:50px;padding-top:0}.search__cell--pubstate[data-v-079004b2]{width:38px;padding:10px 15px}.search__title[data-v-079004b2]{display:inline-block;margin-bottom:5px;color:#3278b8}.search__type[data-v-079004b2]:before{content:"\\2022";display:inline;padding:0 8px 0 5px;font-size:11px;position:relative;top:-2px}.search__thumb img[data-v-079004b2]{display:block;width:50px;min-height:50px;background:#f2f2f2}.search__pubstate[data-v-079004b2]{border-radius:50%;height:9px;width:9px;display:block;background:#d9d9d9}.search__pubstate--live[data-v-079004b2]{background:#1d9f3c}
`)();const html=document.documentElement,htmlSearchClasses=[htmlClasses.search,htmlClasses.overlay],CancelToken=axios.CancelToken;let source=CancelToken.source();const firstFocusableEl=document.querySelector(".header .header__title > a");let lastFocusableEl;const __vue2_script$1={name:"A17Search",props:{open:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},placeholder:{type:String,default(){return this.$trans("dashboard.search-placeholder","Search everything\u2026")}},endpoint:{type:String,default:null},type:{type:String,default:"header"}},data:function(){return{searchValue:"",loading:!1,readyToShowResult:!1,searchResults:[]}},watch:{open:function(){this.toggleSearch()},opened:function(){this.opened&&(lastFocusableEl=this.$refs.search,lastFocusableEl.focus())}},methods:{toggleSearch:function(){htmlSearchClasses.forEach(e=>{html.classList.toggle(e)}),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.$refs.search.blur(),this.searchResults=[],this.searchValue="",this.readyToShowResult=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(e){e.keyCode&&e.keyCode===9&&(e.shiftKey?document.activeElement.isEqualNode(firstFocusableEl)&&(lastFocusableEl.focus(),e.preventDefault()):document.activeElement.isEqualNode(lastFocusableEl)&&(firstFocusableEl.focus(),e.preventDefault()))},setLastFocusElement:function(){const e=this.searchResults.length;e?setTimeout(function(){lastFocusableEl=document.querySelectorAll(".search__result")[e-1]},1):lastFocusableEl=this.$refs.search},fetchSearchResults:function(){const e=this,t={search:this.searchValue};this.loading?(source.cancel(),source=CancelToken.source()):this.loading=!0,this.readyToShowResult=!0,this.$http.get(this.endpoint,{params:t,cancelToken:source.token}).then(function(n){e.searchResults=n.data,e.loading=!1,e.setLastFocusElement()},function(n){axios.isCancel(n)||(e.loading=!1)})},onSearchInput:debounce_1(function(e){this.searchValue=e.target.value,this.searchValue&&this.searchValue.length>0?(this.type==="dashboard"&&htmlSearchClasses.forEach(t=>{html.classList.add(t)}),this.fetchSearchResults()):(this.type==="dashboard"&&htmlSearchClasses.forEach(t=>{html.classList.remove(t)}),this.readyToShowResult=!1,this.searchResults=[],this.setLastFocusElement())},300)}},__cssModules$1={};var __component__$1=normalizeComponent(__vue2_script$1,render$1,staticRenderFns$1,!1,__vue2_injectStyles$1,"079004b2",null,null);function __vue2_injectStyles$1(e){for(let t in __cssModules$1)this[t]=__cssModules$1[t]}var a17Search=function(){return __component__$1.exports}();Vue$1.use(A17Config);const idSearch="searchApp",vueSearchApp={el:"#searchApp",components:{"a17-search":a17Search},props:{topSpacing:{type:Number,default:60}},data:function(){return{open:!1,opened:!1,top:this.topSpacing}},computed:{positionStyle:function(){return{top:this.top+"px"}}},methods:{afterAnimate:function(){this.opened=!0},toggleSearch:function(){this.open=!this.open,this.top=this.topSpacing-(window.pageYOffset||document.documentElement.scrollTop),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.opened=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(e){e.keyCode&&e.keyCode===27&&this.toggleSearch()}}},A17SearchApp=document.getElementById(idSearch)?new Vue$1(vueSearchApp):!1;var baseAssignValue=_baseAssignValue,eq$1=eq_1;function assignMergeValue$2(e,t,n){(n!==void 0&&!eq$1(e[t],n)||n===void 0&&!(t in e))&&baseAssignValue(e,t,n)}var _assignMergeValue=assignMergeValue$2,isArrayLike$2=isArrayLike_1,isObjectLike$1=isObjectLike_1;function isArrayLikeObject$1(e){return isObjectLike$1(e)&&isArrayLike$2(e)}var isArrayLikeObject_1=isArrayLikeObject$1,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto$1=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$1.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag)return!1;var t=getPrototype(e);if(t===null)return!0;var n=hasOwnProperty$2.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&funcToString.call(n)==objectCtorString}var isPlainObject_1=isPlainObject$1;function safeGet$2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _safeGet=safeGet$2,copyObject=_copyObject,keysIn$1=keysIn_1;function toPlainObject$1(e){return copyObject(e,keysIn$1(e))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer=_cloneBuffer.exports,cloneTypedArray=_cloneTypedArray,copyArray=_copyArray,initCloneObject=_initCloneObject,isArguments$1=isArguments_1,isArray$2=isArray_1,isArrayLikeObject=isArrayLikeObject_1,isBuffer$1=isBuffer$6.exports,isFunction=isFunction_1,isObject$3=isObject_1,isPlainObject=isPlainObject_1,isTypedArray$1=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(e,t,n,r,a,o,s){var l=safeGet$1(e,n),c=safeGet$1(t,n),u=s.get(c);if(u){assignMergeValue$1(e,n,u);return}var f=o?o(l,c,n+"",e,t,s):void 0,m=f===void 0;if(m){var h=isArray$2(c),d=!h&&isBuffer$1(c),g=!h&&!d&&isTypedArray$1(c);f=c,h||d||g?isArray$2(l)?f=l:isArrayLikeObject(l)?f=copyArray(l):d?(m=!1,f=cloneBuffer(c,!0)):g?(m=!1,f=cloneTypedArray(c,!0)):f=[]:isPlainObject(c)||isArguments$1(c)?(f=l,isArguments$1(l)?f=toPlainObject(l):(!isObject$3(l)||isFunction(l))&&(f=initCloneObject(c))):m=!1}m&&(s.set(c,f),a(f,c,r,o,s),s.delete(c)),assignMergeValue$1(e,n,f)}var _baseMergeDeep=baseMergeDeep$1,Stack=_Stack,assignMergeValue=_assignMergeValue,baseFor=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$2=isObject_1,keysIn=keysIn_1,safeGet=_safeGet;function baseMerge$1(e,t,n,r,a){e!==t&&baseFor(t,function(o,s){if(a||(a=new Stack),isObject$2(o))baseMergeDeep(e,t,s,n,baseMerge$1,r,a);else{var l=r?r(safeGet(e,s),o,s+"",e,t,a):void 0;l===void 0&&(l=o),assignMergeValue(e,s,l)}},keysIn)}var _baseMerge=baseMerge$1;function apply$1(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$1(e,t,n){return t=nativeMax(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=nativeMax(r.length-t,0),s=Array(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(s),apply(e,this,l)}}var _overRest=overRest$1;function constant$1(e){return function(){return e}}var constant_1=constant$1,constant=constant_1,defineProperty=_defineProperty$2,identity$1=identity_1,baseSetToString$1=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(e){var t=0,n=0;return function(){var r=nativeNow(),a=HOT_SPAN-(r-n);if(n=r,a>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(e,t){return setToString(overRest(e,t,identity),e+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$1=isObject_1;function isIterateeCall$1(e,t,n){if(!isObject$1(n))return!1;var r=typeof t;return(r=="number"?isArrayLike$1(n)&&isIndex(t,n.length):r=="string"&&t in n)?eq(n[t],e):!1}var _isIterateeCall=isIterateeCall$1,baseRest=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(e){return baseRest(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,s&&isIterateeCall(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,merge=createAssigner(function(e,t,n){baseMerge(e,t,n)}),merge_1=merge,flushPending=!1,flushing=!1,queue=[];function scheduler(e){queueJob(e)}function queueJob(e){queue.includes(e)||queue.push(e),queueFlush()}function dequeueJob(e){let t=queue.indexOf(e);t!==-1&&queue.splice(t,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let e=0;e<queue.length;e++)queue[e]();queue.length=0,flushing=!1}var reactive,effect,release,raw,shouldSchedule=!0;function disableEffectScheduling(e){shouldSchedule=!1,e(),shouldSchedule=!0}function setReactivityEngine(e){reactive=e.reactive,release=e.release,effect=t=>e.effect(t,{scheduler:n=>{shouldSchedule?scheduler(n):n()}}),raw=e.raw}function overrideEffect(e){effect=e}function elementBoundEffect(e){let t=()=>{};return[r=>{let a=effect(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(o=>o())}),e._x_effects.add(a),t=()=>{a!==void 0&&(e._x_effects.delete(a),release(a))},a},()=>{t()}]}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(e){onElAddeds.push(e)}function onElRemoved(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,onElRemoveds.push(t))}function onAttributesAdded(e){onAttributeAddeds.push(e)}function onAttributeRemoved(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function cleanupAttributes(e,t){!e._x_attributeCleanups||Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(a=>a()),delete e._x_attributeCleanups[n])})}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){recordQueue=recordQueue.concat(observer.takeRecords()),recordQueue.length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask(()=>{processRecordQueue(),willProcessRecordQueue=!1}))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(e){if(!currentlyObserving)return e();stopObservingMutations();let t=e();return startObservingMutations(),t}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(e){if(isCollecting){deferredMutations=deferredMutations.concat(e);return}let t=[],n=[],r=new Map,a=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&(e[o].type==="childList"&&(e[o].addedNodes.forEach(s=>s.nodeType===1&&t.push(s)),e[o].removedNodes.forEach(s=>s.nodeType===1&&n.push(s))),e[o].type==="attributes")){let s=e[o].target,l=e[o].attributeName,c=e[o].oldValue,u=()=>{r.has(s)||r.set(s,[]),r.get(s).push({name:l,value:s.getAttribute(l)})},f=()=>{a.has(s)||a.set(s,[]),a.get(s).push(l)};s.hasAttribute(l)&&c===null?u():s.hasAttribute(l)?(f(),u()):f()}a.forEach((o,s)=>{cleanupAttributes(s,o)}),r.forEach((o,s)=>{onAttributeAddeds.forEach(l=>l(s,o))});for(let o of n)if(!t.includes(o)&&(onElRemoveds.forEach(s=>s(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();t.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of t)n.includes(o)||!o.isConnected||(delete o._x_ignoreSelf,delete o._x_ignore,onElAddeds.forEach(s=>s(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),t=null,n=null,r=null,a=null}function scope(e){return mergeProxies(closestDataStack(e))}function addScopeToNode(e,t,n){return e._x_dataStack=[t,...closestDataStack(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function refreshScope(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach(([r,a])=>{n[r]=a})}function closestDataStack(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?closestDataStack(e.host):e.parentNode?closestDataStack(e.parentNode):[]}function mergeProxies(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(n=>Object.keys(n)))),has:(n,r)=>e.some(a=>a.hasOwnProperty(r)),get:(n,r)=>(e.find(a=>{if(a.hasOwnProperty(r)){let o=Object.getOwnPropertyDescriptor(a,r);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let s=o.get,l=o.set,c=o;s=s&&s.bind(t),l=l&&l.bind(t),s&&(s._x_alreadyBound=!0),l&&(l._x_alreadyBound=!0),Object.defineProperty(a,r,{...c,get:s,set:l})}return!0}return!1})||{})[r],set:(n,r,a)=>{let o=e.find(s=>s.hasOwnProperty(r));return o?o[r]=a:e[e.length-1][r]=a,!0}});return t}function initInterceptors(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,a="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([o,{value:s,enumerable:l}])=>{if(l===!1||s===void 0)return;let c=a===""?o:`${a}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?r[o]=s.initialize(e,c,o):t(s)&&s!==r&&!(s instanceof Element)&&n(s,c)})};return n(e)}function interceptor(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,a,o){return e(this.initialValue,()=>get(r,a),s=>set(r,a,s),a,o)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let a=n.initialize.bind(n);n.initialize=(o,s,l)=>{let c=r.initialize(o,s,l);return n.initialValue=c,a(o,s,l)}}else n.initialValue=r;return n}}function get(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function set(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),set(e[t[0]],t.slice(1),n)}}var magics={};function magic(e,t){magics[e]=t}function injectMagics(e,t){return Object.entries(magics).forEach(([n,r])=>{Object.defineProperty(e,`$${n}`,{get(){let[a,o]=getElementBoundUtilities(t);return a={interceptor,...a},onElRemoved(t,o),r(t,a)},enumerable:!1})}),e}function tryCatch(e,t,n,...r){try{return n(...r)}catch(a){handleError(a,e,t)}}function handleError(e,t,n=void 0){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(e){let t=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1,e(),shouldAutoEvaluateFunctions=t}function evaluate(e,t,n={}){let r;return evaluateLater(e,t)(a=>r=a,n),r}function evaluateLater(...e){return theEvaluatorFunction(...e)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(e){theEvaluatorFunction=e}function normalEvaluator(e,t){let n={};injectMagics(n,e);let r=[n,...closestDataStack(e)];if(typeof t=="function")return generateEvaluatorFromFunction(r,t);let a=generateEvaluatorFromString(r,t,e);return tryCatch.bind(null,e,t,a)}function generateEvaluatorFromFunction(e,t){return(n=()=>{},{scope:r={},params:a=[]}={})=>{let o=t.apply(mergeProxies([r,...e]),a);runIfTypeOfFunction(n,o)}}var evaluatorMemo={};function generateFunctionFromString(e,t){if(evaluatorMemo[e])return evaluatorMemo[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,o=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(s){return handleError(s,t,e),Promise.resolve()}})();return evaluatorMemo[e]=o,o}function generateEvaluatorFromString(e,t,n){let r=generateFunctionFromString(t,n);return(a=()=>{},{scope:o={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let l=mergeProxies([o,...e]);if(typeof r=="function"){let c=r(r,l).catch(u=>handleError(u,n,t));r.finished?(runIfTypeOfFunction(a,r.result,l,s,n),r.result=void 0):c.then(u=>{runIfTypeOfFunction(a,u,l,s,n)}).catch(u=>handleError(u,n,t)).finally(()=>r.result=void 0)}}}function runIfTypeOfFunction(e,t,n,r,a){if(shouldAutoEvaluateFunctions&&typeof t=="function"){let o=t.apply(n,r);o instanceof Promise?o.then(s=>runIfTypeOfFunction(e,s,n,r)).catch(s=>handleError(s,a,t)):e(o)}else e(t)}var prefixAsString="x-";function prefix(e=""){return prefixAsString+e}function setPrefix(e){prefixAsString=e}var directiveHandlers={};function directive(e,t){directiveHandlers[e]=t}function directives(e,t,n){let r={};return Array.from(t).map(toTransformedAttributes((o,s)=>r[o]=s)).filter(outNonAlpineAttributes).map(toParsedDirectives(r,n)).sort(byPriority).map(o=>getDirectiveHandler(e,o))}function attributesOnly(e){return Array.from(e).map(toTransformedAttributes()).filter(t=>!outNonAlpineAttributes(t))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(e){isDeferringHandlers=!0;let t=Symbol();currentHandlerStackKey=t,directiveHandlerStacks.set(t,[]);let n=()=>{for(;directiveHandlerStacks.get(t).length;)directiveHandlerStacks.get(t).shift()();directiveHandlerStacks.delete(t)},r=()=>{isDeferringHandlers=!1,n()};e(n),r()}function getElementBoundUtilities(e){let t=[],n=l=>t.push(l),[r,a]=elementBoundEffect(e);return t.push(a),[{Alpine:alpine_default,effect:r,cleanup:n,evaluateLater:evaluateLater.bind(evaluateLater,e),evaluate:evaluate.bind(evaluate,e)},()=>t.forEach(l=>l())]}function getDirectiveHandler(e,t){let n=()=>{},r=directiveHandlers[t.type]||n,[a,o]=getElementBoundUtilities(e);onAttributeRemoved(e,t.original,o);let s=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,a),r=r.bind(r,e,t,a),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(r):r())};return s.runCleanups=o,s}var startingWith=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),into=e=>e;function toTransformedAttributes(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:a}=attributeTransformers.reduce((o,s)=>s(o),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:a}}}var attributeTransformers=[];function mapAttributes(e){attributeTransformers.push(e)}function outNonAlpineAttributes({name:e}){return alpineAttributeRegex().test(e)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(e,t){return({name:n,value:r})=>{let a=n.match(alpineAttributeRegex()),o=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],l=t||e[n]||n;return{type:a?a[1]:null,value:o?o[1]:null,modifiers:s.map(c=>c.replace(".","")),expression:r,original:l}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","bind","init","for","mask","model","modelable","transition","show","if",DEFAULT,"teleport","element"];function byPriority(e,t){let n=directiveOrder.indexOf(e.type)===-1?DEFAULT:e.type,r=directiveOrder.indexOf(t.type)===-1?DEFAULT:t.type;return directiveOrder.indexOf(n)-directiveOrder.indexOf(r)}function dispatch(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var tickStack=[],isHolding=!1;function nextTick(e=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(t=>{tickStack.push(()=>{e(),t()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function walk(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(a=>walk(a,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)walk(r,t),r=r.nextElementSibling}function warn(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}function start(){document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(t=>initTree(t,walk)),onElRemoved(t=>destroyTree(t)),onAttributesAdded((t,n)=>{directives(t,n).forEach(r=>r())});let e=t=>!closestRoot(t.parentElement,!0);Array.from(document.querySelectorAll(allSelectors())).filter(e).forEach(t=>{initTree(t)}),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(e=>e())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(e=>e())}function addRootSelector(e){rootSelectorCallbacks.push(e)}function addInitSelector(e){initSelectorCallbacks.push(e)}function closestRoot(e,t=!1){return findClosest(e,n=>{if((t?allSelectors():rootSelectors()).some(a=>n.matches(a)))return!0})}function findClosest(e,t){if(!!e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return findClosest(e.parentElement,t)}}function isRoot(e){return rootSelectors().some(t=>e.matches(t))}function initTree(e,t=walk){deferHandlingDirectives(()=>{t(e,(n,r)=>{directives(n,n.attributes).forEach(a=>a()),n._x_ignore&&r()})})}function destroyTree(e){walk(e,t=>cleanupAttributes(t))}function setClasses(e,t){return Array.isArray(t)?setClassesFromString(e,t.join(" ")):typeof t=="object"&&t!==null?setClassesFromObject(e,t):typeof t=="function"?setClasses(e,t()):setClassesFromString(e,t)}function setClassesFromString(e,t){let n=a=>a.split(" ").filter(o=>!e.classList.contains(o)).filter(Boolean),r=a=>(e.classList.add(...a),()=>{e.classList.remove(...a)});return t=t===!0?t="":t||"",r(n(t))}function setClassesFromObject(e,t){let n=l=>l.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([l,c])=>c?n(l):!1).filter(Boolean),a=Object.entries(t).flatMap(([l,c])=>c?!1:n(l)).filter(Boolean),o=[],s=[];return a.forEach(l=>{e.classList.contains(l)&&(e.classList.remove(l),s.push(l))}),r.forEach(l=>{e.classList.contains(l)||(e.classList.add(l),o.push(l))}),()=>{s.forEach(l=>e.classList.add(l)),o.forEach(l=>e.classList.remove(l))}}function setStyles(e,t){return typeof t=="object"&&t!==null?setStylesFromObject(e,t):setStylesFromString(e,t)}function setStylesFromObject(e,t){let n={};return Object.entries(t).forEach(([r,a])=>{n[r]=e.style[r],r.startsWith("--")||(r=kebabCase(r)),e.style.setProperty(r,a)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{setStyles(e,n)}}function setStylesFromString(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function kebabCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}directive("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:a})=>{typeof r=="function"&&(r=a(r)),r?registerTransitionsFromClassString(e,r,t):registerTransitionsFromHelper(e,n,t)});function registerTransitionsFromClassString(e,t,n){registerTransitionObject(e,setClasses,""),{enter:a=>{e._x_transition.enter.during=a},"enter-start":a=>{e._x_transition.enter.start=a},"enter-end":a=>{e._x_transition.enter.end=a},leave:a=>{e._x_transition.leave.during=a},"leave-start":a=>{e._x_transition.leave.start=a},"leave-end":a=>{e._x_transition.leave.end=a}}[n](t)}function registerTransitionsFromHelper(e,t,n){registerTransitionObject(e,setStyles);let r=!t.includes("in")&&!t.includes("out")&&!n,a=r||t.includes("in")||["enter"].includes(n),o=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((y,q)=>q<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((y,q)=>q>t.indexOf("out")));let s=!t.includes("opacity")&&!t.includes("scale"),l=s||t.includes("opacity"),c=s||t.includes("scale"),u=l?0:1,f=c?modifierValue(t,"scale",95)/100:1,m=modifierValue(t,"delay",0),h=modifierValue(t,"origin","center"),d="opacity, transform",g=modifierValue(t,"duration",150)/1e3,v=modifierValue(t,"duration",75)/1e3,_="cubic-bezier(0.4, 0.0, 0.2, 1)";a&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:m,transitionProperty:d,transitionDuration:`${g}s`,transitionTimingFunction:_},e._x_transition.enter.start={opacity:u,transform:`scale(${f})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:m,transitionProperty:d,transitionDuration:`${v}s`,transitionTimingFunction:_},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${f})`})}function registerTransitionObject(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},a=()=>{}){transition(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,a)},out(r=()=>{},a=()=>{}){transition(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,a)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){let a=()=>{document.visibilityState==="visible"?requestAnimationFrame(n):setTimeout(n)};if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):a():e._x_transition?e._x_transition.in(n):a();return}e._x_hidePromise=e._x_transition?new Promise((o,s)=>{e._x_transition.out(()=>{},()=>o(r)),e._x_transitioning.beforeCancel(()=>s({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=closestHide(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):queueMicrotask(()=>{let s=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(s)]).then(([u])=>u());return delete l._x_hidePromise,delete l._x_hideChildren,c};s(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function closestHide(e){let t=e.parentNode;if(!!t)return t._x_hidePromise?t:closestHide(t)}function transition(e,t,{during:n,start:r,end:a}={},o=()=>{},s=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(a).length===0){o(),s();return}let l,c,u;performTransition(e,{start(){l=t(e,r)},during(){c=t(e,n)},before:o,end(){l(),u=t(e,a)},after:s,cleanup(){c(),u()}})}function performTransition(e,t){let n,r,a,o=once(()=>{mutateDom(()=>{n=!0,r||t.before(),a||(t.end(),releaseNextTicks()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},mutateDom(()=>{t.start(),t.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(n)return;let s=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,l=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),mutateDom(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(mutateDom(()=>{t.end()}),releaseNextTicks(),setTimeout(e._x_transitioning.finish,s+l),a=!0)})})}function modifierValue(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"){let a=r.match(/([0-9]+)ms/);if(a)return a[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var isCloning=!1;function skipDuringClone(e,t=()=>{}){return(...n)=>isCloning?t(...n):e(...n)}function clone(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),isCloning=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(t)}),isCloning=!1}function cloneTree(e){let t=!1;initTree(e,(r,a)=>{walk(r,(o,s)=>{if(t&&isRoot(o))return s();t=!0,a(o,s)})})}function dontRegisterReactiveSideEffects(e){let t=effect;overrideEffect((n,r)=>{let a=t(n);return release(a),()=>{}}),e(),overrideEffect(t)}function bind(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=reactive({})),e._x_bindings[t]=n,t=r.includes("camel")?camelCase(t):t,t){case"value":bindInputValue(e,n);break;case"style":bindStyles(e,n);break;case"class":bindClasses(e,n);break;default:bindAttribute(e,t,n);break}}function bindInputValue(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(e.checked=checkedAttrLooseCompare(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>checkedAttrLooseCompare(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")updateSelect(e,t);else{if(e.value===t)return;e.value=t}}function bindClasses(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=setClasses(e,t)}function bindStyles(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=setStyles(e,t)}function bindAttribute(e,t,n){[null,void 0,!1].includes(n)&&attributeShouldntBePreservedIfFalsy(t)?e.removeAttribute(t):(isBooleanAttr(t)&&(n=t),setIfChanged(e,t,n))}function setIfChanged(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function updateSelect(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function camelCase(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function checkedAttrLooseCompare(e,t){return e==t}function isBooleanAttr(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function attributeShouldntBePreservedIfFalsy(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function getBinding(e,t,n){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:isBooleanAttr(t)?!![t,"true"].includes(r):r===""?!0:r}function debounce(e,t){var n;return function(){var r=this,a=arguments,o=function(){n=null,e.apply(r,a)};clearTimeout(n),n=setTimeout(o,t)}}function throttle(e,t){let n;return function(){let r=this,a=arguments;n||(e.apply(r,a),n=!0,setTimeout(()=>n=!1,t))}}function plugin(e){e(alpine_default)}var stores={},isReactive=!1;function store(e,t){if(isReactive||(stores=reactive(stores),isReactive=!0),t===void 0)return stores[e];stores[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&stores[e].init(),initInterceptors(stores[e])}function getStores(){return stores}var binds={};function bind2(e,t){binds[e]=typeof t!="function"?()=>t:t}function injectBindingProviders(e){return Object.entries(binds).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}var datas={};function data(e,t){datas[e]=t}function injectDataProviders(e,t){return Object.entries(datas).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...a)=>r.bind(t)(...a)},enumerable:!1})}),e}var Alpine={get reactive(){return reactive},get release(){return release},get effect(){return effect},get raw(){return raw},version:"3.10.0",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,setReactivityEngine,closestDataStack,skipDuringClone,addRootSelector,addInitSelector,addScopeToNode,deferMutations,mapAttributes,evaluateLater,setEvaluator,mergeProxies,findClosest,closestRoot,interceptor,transition,setStyles,mutateDom,directive,throttle,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start,clone,bound:getBinding,$data:scope,data,bind:bind2},alpine_default=Alpine;function makeMap(e,t){const n=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}var EMPTY_OBJ={},extend=Object.assign,hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hasChanged=(e,t)=>e!==t&&(e===e||t===t),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function isEffect(e){return e&&e._isEffect===!0}function effect2(e,t=EMPTY_OBJ){isEffect(e)&&(e=e.raw);const n=createReactiveEffect(e,t);return t.lazy||n(),n}function stop(e){e.active&&(cleanup(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var uid=0;function createReactiveEffect(e,t){const n=function(){if(!n.active)return e();if(!effectStack.includes(n)){cleanup(n);try{return enableTracking(),effectStack.push(n),activeEffect=n,e()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return n.id=uid++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function cleanup(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(!shouldTrack||activeEffect===void 0)return;let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=new Set),a.has(activeEffect)||(a.add(activeEffect),activeEffect.deps.push(a))}function trigger(e,t,n,r,a,o){const s=targetMap.get(e);if(!s)return;const l=new Set,c=f=>{f&&f.forEach(m=>{(m!==activeEffect||m.allowRecurse)&&l.add(m)})};if(t==="clear")s.forEach(c);else if(n==="length"&&isArray$1(e))s.forEach((f,m)=>{(m==="length"||m>=r)&&c(f)});else switch(n!==void 0&&c(s.get(n)),t){case"add":isArray$1(e)?isIntegerKey(n)&&c(s.get("length")):(c(s.get(ITERATE_KEY)),isMap(e)&&c(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(c(s.get(ITERATE_KEY)),isMap(e)&&c(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&c(s.get(ITERATE_KEY));break}const u=f=>{f.options.scheduler?f.options.scheduler(f):f()};l.forEach(u)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(isSymbol)),get2=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations={};["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];arrayInstrumentations[e]=function(...n){const r=toRaw(this);for(let o=0,s=this.length;o<s;o++)track(r,"get",o+"");const a=t.apply(r,n);return a===-1||a===!1?t.apply(r,n.map(toRaw)):a}});["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];arrayInstrumentations[e]=function(...n){pauseTracking();const r=t.apply(this,n);return resetTracking(),r}});function createGetter(e=!1,t=!1){return function(r,a,o){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_raw"&&o===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const s=isArray$1(r);if(!e&&s&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,o);const l=Reflect.get(r,a,o);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(e||track(r,"get",a),t)?l:isRef(l)?!s||!isIntegerKey(a)?l.value:l:isObject(l)?e?readonly(l):reactive2(l):l}}var set2=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,r,a,o){let s=n[r];if(!e&&(a=toRaw(a),s=toRaw(s),!isArray$1(n)&&isRef(s)&&!isRef(a)))return s.value=a,!0;const l=isArray$1(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),c=Reflect.set(n,r,a,o);return n===toRaw(o)&&(l?hasChanged(a,s)&&trigger(n,"set",r,a):trigger(n,"add",r,a)),c}}function deleteProperty(e,t){const n=hasOwn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}var mutableHandlers={get:get2,set:set2,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}};extend({},mutableHandlers,{get:shallowGet,set:shallowSet});extend({},readonlyHandlers,{get:shallowReadonlyGet});var toReactive=e=>isObject(e)?reactive2(e):e,toReadonly=e=>isObject(e)?readonly(e):e,toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1(e,t,n=!1,r=!1){e=e.__v_raw;const a=toRaw(e),o=toRaw(t);t!==o&&!n&&track(a,"get",t),!n&&track(a,"get",o);const{has:s}=getProto(a),l=r?toShallow:n?toReadonly:toReactive;if(s.call(a,t))return l(e.get(t));if(s.call(a,o))return l(e.get(o));e!==a&&e.get(t)}function has$1(e,t=!1){const n=this.__v_raw,r=toRaw(n),a=toRaw(e);return e!==a&&!t&&track(r,"has",e),!t&&track(r,"has",a),e===a?n.has(e):n.has(e)||n.has(a)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:a}=getProto(n);let o=r.call(n,e);o||(e=toRaw(e),o=r.call(n,e));const s=a.call(n,e);return n.set(e,t),o?hasChanged(t,s)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let a=n.call(t,e);a||(e=toRaw(e),a=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return a&&trigger(t,"delete",e,void 0),o}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(r,a){const o=this,s=o.__v_raw,l=toRaw(s),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),s.forEach((u,f)=>r.call(a,c(u),c(f),o))}}function createIterableMethod(e,t,n){return function(...r){const a=this.__v_raw,o=toRaw(a),s=isMap(o),l=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,u=a[e](...r),f=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:h}=u.next();return h?{value:m,done:h}:{value:l?[f(m[0]),f(m[1])]:f(m),done:h}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}var mutableInstrumentations={get(e){return get$1(this,e)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},shallowInstrumentations={get(e){return get$1(this,e,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},readonlyInstrumentations={get(e){return get$1(this,e,!0)},get size(){return size(this,!0)},has(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},shallowReadonlyInstrumentations={get(e){return get$1(this,e,!0,!0)},get size(){return size(this,!0)},has(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)},iteratorMethods=["keys","values","entries",Symbol.iterator];iteratorMethods.forEach(e=>{mutableInstrumentations[e]=createIterableMethod(e,!1,!1),readonlyInstrumentations[e]=createIterableMethod(e,!0,!1),shallowInstrumentations[e]=createIterableMethod(e,!1,!0),shallowReadonlyInstrumentations[e]=createIterableMethod(e,!0,!0)});function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(hasOwn(n,a)&&a in r?n:r,a,o)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive2(e){return e&&e.__v_isReadonly?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,r,a){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const s=getTargetType(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return a.set(e,l),l}function toRaw(e){return e&&toRaw(e.__v_raw)||e}function isRef(e){return Boolean(e&&e.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",e=>dispatch.bind(dispatch,e));magic("watch",(e,{evaluateLater:t,effect:n})=>(r,a)=>{let o=t(r),s=!0,l,c=n(()=>o(u=>{JSON.stringify(u),s?l=u:queueMicrotask(()=>{a(u,l),l=u}),s=!1}));e._x_effects.delete(c)});magic("store",getStores);magic("data",e=>scope(e));magic("root",e=>closestRoot(e));magic("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=mergeProxies(getArrayOfRefObject(e))),e._x_refs_proxy));function getArrayOfRefObject(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}var globalIdMemo={};function findAndIncrementId(e){return globalIdMemo[e]||(globalIdMemo[e]=0),++globalIdMemo[e]}function closestIdRoot(e,t){return findClosest(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function setIdRoot(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=findAndIncrementId(t))}magic("id",e=>(t,n=null)=>{let r=closestIdRoot(e,t),a=r?r._x_ids[t]:findAndIncrementId(t);return n?`${t}-${a}-${n}`:`${t}-${a}`});magic("el",e=>e);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(e,t,n){magic(t,r=>warn(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}directive("modelable",(e,{expression:t},{effect:n,evaluateLater:r})=>{let a=r(t),o=()=>{let u;return a(f=>u=f),u},s=r(`${t} = __placeholder`),l=u=>s(()=>{},{scope:{__placeholder:u}}),c=o();l(c),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let u=e._x_model.get,f=e._x_model.set;n(()=>l(u())),n(()=>f(o()))})});directive("teleport",(e,{expression:t},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&warn("x-teleport can only be used on a <template> tag",e);let r=document.querySelector(t);r||warn(`Cannot find x-teleport element for selector: "${t}"`);let a=e.content.cloneNode(!0).firstElementChild;e._x_teleport=a,a._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(o=>{a.addEventListener(o,s=>{s.stopPropagation(),e.dispatchEvent(new s.constructor(s.type,s))})}),addScopeToNode(a,{},e),mutateDom(()=>{r.appendChild(a),initTree(a),a._x_ignore=!0}),n(()=>a.remove())});var handler=()=>{};handler.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};directive("ignore",handler);directive("effect",(e,{expression:t},{effect:n})=>n(evaluateLater(e,t)));function on(e,t,n,r){let a=e,o=c=>r(c),s={},l=(c,u)=>f=>u(c,f);if(n.includes("dot")&&(t=dotSyntax(t)),n.includes("camel")&&(t=camelCase2(t)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(a=window),n.includes("document")&&(a=document),n.includes("prevent")&&(o=l(o,(c,u)=>{u.preventDefault(),c(u)})),n.includes("stop")&&(o=l(o,(c,u)=>{u.stopPropagation(),c(u)})),n.includes("self")&&(o=l(o,(c,u)=>{u.target===e&&c(u)})),(n.includes("away")||n.includes("outside"))&&(a=document,o=l(o,(c,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&c(u))})),n.includes("once")&&(o=l(o,(c,u)=>{c(u),a.removeEventListener(t,o,s)})),o=l(o,(c,u)=>{isKeyEvent(t)&&isListeningForASpecificKeyThatHasntBeenPressed(u,n)||c(u)}),n.includes("debounce")){let c=n[n.indexOf("debounce")+1]||"invalid-wait",u=isNumeric(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=debounce(o,u)}if(n.includes("throttle")){let c=n[n.indexOf("throttle")+1]||"invalid-wait",u=isNumeric(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=throttle(o,u)}return a.addEventListener(t,o,s),()=>{a.removeEventListener(t,o,s)}}function dotSyntax(e){return e.replace(/-/g,".")}function camelCase2(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function isNumeric(e){return!Array.isArray(e)&&!isNaN(e)}function kebabCase2(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(e){return["keydown","keyup"].includes(e)}function isListeningForASpecificKeyThatHasntBeenPressed(e,t){let n=t.filter(o=>!["window","document","prevent","stop","once"].includes(o));if(n.includes("debounce")){let o=n.indexOf("debounce");n.splice(o,isNumeric((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&keyToModifiers(e.key).includes(n[0]))return!1;const a=["ctrl","shift","alt","meta","cmd","super"].filter(o=>n.includes(o));return n=n.filter(o=>!a.includes(o)),!(a.length>0&&a.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),e[`${s}Key`])).length===a.length&&keyToModifiers(e.key).includes(n[0]))}function keyToModifiers(e){if(!e)return[];e=kebabCase2(e);let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}directive("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:a})=>{let o=evaluateLater(e,n),s=`${n} = rightSideOfExpression($event, ${n})`,l=evaluateLater(e,s);var c=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let u=generateAssignmentFunction(e,t,n),f=on(e,c,t,h=>{l(()=>{},{scope:{$event:h,rightSideOfExpression:u}})});e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=f,a(()=>e._x_removeModelListeners.default());let m=evaluateLater(e,`${n} = __placeholder`);e._x_model={get(){let h;return o(d=>h=d),h},set(h){m(()=>{},{scope:{__placeholder:h}})}},e._x_forceModelUpdate=()=>{o(h=>{h===void 0&&n.match(/\./)&&(h=""),window.fromModel=!0,mutateDom(()=>bind(e,"value",h)),delete window.fromModel})},r(()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()})});function generateAssignmentFunction(e,t,n){return e.type==="radio"&&mutateDom(()=>{e.hasAttribute("name")||e.setAttribute("name",n)}),(r,a)=>mutateDom(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail||r.target.value;if(e.type==="checkbox")if(Array.isArray(a)){let o=t.includes("number")?safeParseNumber(r.target.value):r.target.value;return r.target.checked?a.concat([o]):a.filter(s=>!checkedAttrLooseCompare2(s,o))}else return r.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map(o=>{let s=o.value||o.text;return safeParseNumber(s)}):Array.from(r.target.selectedOptions).map(o=>o.value||o.text);{let o=r.target.value;return t.includes("number")?safeParseNumber(o):t.includes("trim")?o.trim():o}}})}function safeParseNumber(e){let t=e?parseFloat(e):null;return isNumeric2(t)?t:e}function checkedAttrLooseCompare2(e,t){return e==t}function isNumeric2(e){return!Array.isArray(e)&&!isNaN(e)}directive("cloak",e=>queueMicrotask(()=>mutateDom(()=>e.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));directive("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let a=r(t);n(()=>{a(o=>{mutateDom(()=>{e.textContent=o})})})});directive("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let a=r(t);n(()=>{a(o=>{mutateDom(()=>{e.innerHTML=o,e._x_ignoreSelf=!0,initTree(e),delete e._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));directive("bind",(e,{value:t,modifiers:n,expression:r,original:a},{effect:o})=>{if(!t)return applyBindingsObject(e,r,a);if(t==="key")return storeKeyForXFor(e,r);let s=evaluateLater(e,r);o(()=>s(l=>{l===void 0&&r.match(/\./)&&(l=""),mutateDom(()=>bind(e,t,l,n))}))});function applyBindingsObject(e,t,n,r){let a={};injectBindingProviders(a);let o=evaluateLater(e,t),s=[];for(;s.length;)s.pop()();o(l=>{let c=Object.entries(l).map(([f,m])=>({name:f,value:m})),u=attributesOnly(c);c=c.map(f=>u.find(m=>m.name===f.name)?{name:`x-bind:${f.name}`,value:`"${f.value}"`}:f),directives(e,c,n).map(f=>{s.push(f.runCleanups),f()})},{scope:a})}function storeKeyForXFor(e,t){e._x_keyExpression=t}addRootSelector(()=>`[${prefix("data")}]`);directive("data",skipDuringClone((e,{expression:t},{cleanup:n})=>{t=t===""?"{}":t;let r={};injectMagics(r,e);let a={};injectDataProviders(a,r);let o=evaluate(e,t,{scope:a});o===void 0&&(o={}),injectMagics(o,e);let s=reactive(o);initInterceptors(s);let l=addScopeToNode(e,s);s.init&&evaluate(e,s.init),n(()=>{s.destroy&&evaluate(e,s.destroy),l()})}));directive("show",(e,{modifiers:t,expression:n},{effect:r})=>{let a=evaluateLater(e,n);e._x_doHide||(e._x_doHide=()=>{mutateDom(()=>e.style.display="none")}),e._x_doShow||(e._x_doShow=()=>{mutateDom(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let o=()=>{e._x_doHide(),e._x_isShown=!1},s=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(s),c=once(m=>m?s():o(),m=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,m,s,o):m?l():o()}),u,f=!0;r(()=>a(m=>{!f&&m===u||(t.includes("immediate")&&(m?l():o()),c(m),u=m,f=!1)}))});directive("for",(e,{expression:t},{effect:n,cleanup:r})=>{let a=parseForExpression(t),o=evaluateLater(e,a.items),s=evaluateLater(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>loop(e,a,o,s)),r(()=>{Object.values(e._x_lookup).forEach(l=>l.remove()),delete e._x_prevKeys,delete e._x_lookup})});function loop(e,t,n,r){let a=s=>typeof s=="object"&&!Array.isArray(s),o=e;n(s=>{isNumeric3(s)&&s>=0&&(s=Array.from(Array(s).keys(),_=>_+1)),s===void 0&&(s=[]);let l=e._x_lookup,c=e._x_prevKeys,u=[],f=[];if(a(s))s=Object.entries(s).map(([_,y])=>{let q=getIterationScopeVariables(t,y,_,s);r(b=>f.push(b),{scope:{index:_,...q}}),u.push(q)});else for(let _=0;_<s.length;_++){let y=getIterationScopeVariables(t,s[_],_,s);r(q=>f.push(q),{scope:{index:_,...y}}),u.push(y)}let m=[],h=[],d=[],g=[];for(let _=0;_<c.length;_++){let y=c[_];f.indexOf(y)===-1&&d.push(y)}c=c.filter(_=>!d.includes(_));let v="template";for(let _=0;_<f.length;_++){let y=f[_],q=c.indexOf(y);if(q===-1)c.splice(_,0,y),m.push([v,_]);else if(q!==_){let b=c.splice(_,1)[0],x=c.splice(q-1,1)[0];c.splice(_,0,x),c.splice(q,0,b),h.push([b,x])}else g.push(y);v=y}for(let _=0;_<d.length;_++){let y=d[_];l[y]._x_effects&&l[y]._x_effects.forEach(dequeueJob),l[y].remove(),l[y]=null,delete l[y]}for(let _=0;_<h.length;_++){let[y,q]=h[_],b=l[y],x=l[q],E=document.createElement("div");mutateDom(()=>{x.after(E),b.after(x),x._x_currentIfEl&&x.after(x._x_currentIfEl),E.before(b),b._x_currentIfEl&&b.after(b._x_currentIfEl),E.remove()}),refreshScope(x,u[f.indexOf(q)])}for(let _=0;_<m.length;_++){let[y,q]=m[_],b=y==="template"?o:l[y];b._x_currentIfEl&&(b=b._x_currentIfEl);let x=u[q],E=f[q],T=document.importNode(o.content,!0).firstElementChild;addScopeToNode(T,reactive(x),o),mutateDom(()=>{b.after(T),initTree(T)}),typeof E=="object"&&warn("x-for key cannot be an object, it must be a string or an integer",o),l[E]=T}for(let _=0;_<g.length;_++)refreshScope(l[g[_]],u[f.indexOf(g[_])]);o._x_prevKeys=f})}function parseForExpression(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,a=e.match(r);if(!a)return;let o={};o.items=a[2].trim();let s=a[1].replace(n,"").trim(),l=s.match(t);return l?(o.item=s.replace(t,"").trim(),o.index=l[1].trim(),l[2]&&(o.collection=l[2].trim())):o.item=s,o}function getIterationScopeVariables(e,t,n,r){let a={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,l)=>{a[s]=t[l]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{a[s]=t[s]}):a[e.item]=t,e.index&&(a[e.index]=n),e.collection&&(a[e.collection]=r),a}function isNumeric3(e){return!Array.isArray(e)&&!isNaN(e)}function handler2(){}handler2.inline=(e,{expression:t},{cleanup:n})=>{let r=closestRoot(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};directive("ref",handler2);directive("if",(e,{expression:t},{effect:n,cleanup:r})=>{let a=evaluateLater(e,t),o=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let l=e.content.cloneNode(!0).firstElementChild;return addScopeToNode(l,{},e),mutateDom(()=>{e.after(l),initTree(l)}),e._x_currentIfEl=l,e._x_undoIf=()=>{walk(l,c=>{c._x_effects&&c._x_effects.forEach(dequeueJob)}),l.remove(),delete e._x_currentIfEl},l},s=()=>{!e._x_undoIf||(e._x_undoIf(),delete e._x_undoIf)};n(()=>a(l=>{l?o():s()})),r(()=>e._x_undoIf&&e._x_undoIf())});directive("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(a=>setIdRoot(e,a))});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((e,{value:t,modifiers:n,expression:r},{cleanup:a})=>{let o=r?evaluateLater(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=on(e,t,n,l=>{o(()=>{},{scope:{$event:l},params:[l]})});a(()=>s())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(e,t,n){directive(t,r=>warn(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop,raw:toRaw});var src_default$1=alpine_default,module_default$1=src_default$1;function src_default(e){e.directive("mask",(t,{value:n,expression:r},{effect:a,evaluateLater:o})=>{let s=()=>r,l="";if(["function","dynamic"].includes(n)){let f=o(r);a(()=>{s=m=>{let h;return e.dontAutoEvaluateFunctions(()=>{f(d=>{h=typeof d=="function"?d(m):d},{scope:{$input:m,$money:formatMoney.bind({el:t})}})}),h},c(t)})}else c(t);t.addEventListener("input",()=>c(t)),t.addEventListener("blur",()=>c(t,!1));function c(f,m=!0){let h=f.value,d=s(h);if(l.length-f.value.length===1)return l=f.value;let g=()=>{l=f.value=u(h,d)};m?restoreCursorPosition(f,d,()=>{g()}):g()}function u(f,m){if(f==="")return"";let h=stripDown(m,f);return buildUp(m,h)}})}function restoreCursorPosition(e,t,n){let r=e.selectionStart,a=e.value;n();let o=a.slice(0,r),s=buildUp(t,stripDown(t,o)).length;e.setSelectionRange(s,s)}function stripDown(e,t){let n=t,r="",a={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},o="";for(let s=0;s<e.length;s++){if(["9","a","*"].includes(e[s])){o+=e[s];continue}for(let l=0;l<n.length;l++)if(n[l]===e[s]){n=n.slice(0,l)+n.slice(l+1);break}}for(let s=0;s<o.length;s++){let l=!1;for(let c=0;c<n.length;c++)if(a[o[s]].test(n[c])){r+=n[c],n=n.slice(0,c)+n.slice(c+1),l=!0;break}if(!l)break}return r}function buildUp(e,t){let n=Array.from(t),r="";for(let a=0;a<e.length;a++){if(!["9","a","*"].includes(e[a])){r+=e[a];continue}if(n.length===0)break;r+=n.shift()}return r}function formatMoney(e,t=".",n){n=t===","&&n===void 0?".":",";let r=(s,l)=>{let c="",u=0;for(let f=s.length-1;f>=0;f--)s[f]!==l&&(u===3?(c=s[f]+l+c,u=0):c=s[f]+c,u++);return c},a=e.replaceAll(n,""),o=Array.from({length:a.split(t)[0].length}).fill("9").join("");return o=r(o,n),e.includes(t)&&(o+=`${t}99`),queueMicrotask(()=>{this.el.value.endsWith(t)||this.el.value[this.el.selectionStart-1]===t&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),o}var module_default=src_default;const A17Init=function(){navToggle(),showEnvLine(),logoutButton()};module_default$1.plugin(module_default);window.Alpine=module_default$1;module_default$1.start();window[{}.VUE_APP_NAME]||(window[{}.VUE_APP_NAME]={});window[{}.VUE_APP_NAME].vheader=new Vue$1({el:"#headerUser"});window[{}.VUE_APP_NAME].vsearch=A17SearchApp;console.log("\x1B[32m",`Made with ${{}.VUE_APP_NAME} - v${window[{}.VUE_APP_NAME].version}`);merge_1(window[{}.VUE_APP_NAME].STORE,window.STORE);const openMediaLibrary=function(){const e=document.querySelectorAll("[data-medialib-btn]");function t(){window[{}.VUE_APP_NAME].vm&&window[{}.VUE_APP_NAME].vm.openFreeMediaLibrary()}e.length&&forEachNodelist(e,function(n){n.addEventListener("click",function(r){r.preventDefault(),t(),n.blur()})})};var render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"move_down_notif"}},[e.show?n("div",{class:e.notifClasses,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"}},[n("div",{staticClass:"notif__inner"},[e.important?e._e():n("button",{staticClass:"notif__close",attrs:{type:"button","data-dismiss":"alert","aria-label":"alertClose"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.closeNotif(r)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})]),n("span",{domProps:{innerHTML:e._s(e.message)}})])]):e._e()])},staticRenderFns=[];const __vue2_script={name:"A17Notification",props:{variant:{type:String,default:"success"},duration:{type:Number,default:3e3},important:{type:Boolean,default:!0},autoHide:{type:Boolean,default:!0}},data:function(){return{closed:!1,timer:null,css:"notif"}},computed:{message:function(){return this.$store.getters.notifByVariant(this.variant)},variantClass:function(){return`notif--${this.variant}`},notifClasses:function(){return this.css&&Array.isArray(this.css)?[...this.css,this.variantClass]:["notif",this.variantClass]},show:function(){return!this.closed&&!!this.message}},methods:{closeNotif:function(){this.closed=!0,this.clearNotification(),this.timer&&(clearTimeout(this.timer),this.timer=null)},clearNotification:function(){this.$store.commit(NOTIFICATION.CLEAR_NOTIF,this.variant)},autoClose:function(){this.timer===null&&(this.timer=setTimeout(()=>{this.closeNotif()},this.duration))}},watch:{message:function(){this.message&&(this.closed=!1,this.autoHide&&this.autoClose())}}},__cssModules={};var __component__=normalizeComponent(__vue2_script,render,staticRenderFns,!1,__vue2_injectStyles,null,null,null);function __vue2_injectStyles(e){for(let t in __cssModules)this[t]=__cssModules[t]}var a17Notification=function(){return __component__.exports}();const A17Notif={install(e,t){e.mixin({methods:{notif:function(n){this.$store.commit(NOTIFICATION.SET_NOTIF,n)}}}),e.component("a17-notif",a17Notification)}},component="FORM";var api={get(e,t,n){axios.get(e).then(function(r){t&&typeof t=="function"&&t(r)},function(r){globalError(component,{message:"Get request error.",value:r}),n&&typeof n=="function"&&n(r)})},post(e,t,n,r){axios.post(e,t).then(function(a){n&&typeof n=="function"&&n(a)},function(a){globalError(component,{message:"Post request error.",value:a}),r&&typeof r=="function"&&r(a)})},put(e,t,n,r){axios.put(e,t).then(function(a){n&&typeof n=="function"&&n(a)},function(a){globalError(component,{message:"Save request error.",value:a}),r&&typeof r=="function"&&r(a)})}},baseKeys=_baseKeys,getTag=_getTag,isArguments=isArguments_1,isArray=isArray_1,isArrayLike=isArrayLike_1,isBuffer=isBuffer$6.exports,isPrototype=_isPrototype,isTypedArray=isTypedArray_1,mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(e){if(e==null)return!0;if(isArrayLike(e)&&(isArray(e)||typeof e=="string"||typeof e.splice=="function"||isBuffer(e)||isTypedArray(e)||isArguments(e)))return!e.length;var t=getTag(e);if(t==mapTag||t==setTag)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var n in e)if(hasOwnProperty.call(e,n))return!1;return!0}var isEmpty_1=isEmpty;const gatherSelected=(e,t=null)=>Object.assign({},...Object.keys(e).map(n=>{if(t){if(isBlockField(n,t.id))return{[stripOutBlockNamespace(n,t.id)]:e[n]}}else if(!n.startsWith("blocks["))return{[n]:e[n]};return null}).filter(n=>n)),isBlockField=(e,t)=>e.startsWith("blocks["+t+"]"),stripOutBlockNamespace=(e,t)=>{const n=e.replace("blocks["+t+"][","");return n.match(/]/gi).length>1?n.replace("]",""):n.slice(0,-1)},buildBlock=(e,t,n=!1)=>{const r=Object.assign({},...Object.keys(t.repeaters.repeaters).filter(o=>o.startsWith("blocks-"+e.id)).map(o=>({[o.replace("blocks-"+e.id+"|","")]:t.repeaters.repeaters[o].map(s=>buildBlock(s,t,!0))}))),a=Object.assign({},...Object.keys(t.blocks.blocks).filter(o=>o.startsWith("blocks-"+e.id)).map(o=>({[o.replace("blocks-"+e.id+"|","")]:t.blocks.blocks[o].map(s=>buildBlock(s,t))})));return{id:e.id,type:e.type,is_repeater:n,editor_name:e.name,content:t.form.fields.filter(o=>isBlockField(o.name,e.id)).map(o=>({name:stripOutBlockNamespace(o.name,e.id),value:o.value})).reduce((o,s)=>(o[s.name]=s.value,o),{}),medias:gatherSelected(t.mediaLibrary.selected,e),browsers:gatherSelected(t.browser.selected,e),blocks:{...r,...a}}},isBlockEmpty=e=>isEmpty_1(e.content)&&isEmpty_1(e.browsers)&&isEmpty_1(e.medias)&&isEmpty_1(e.blocks),gatherRepeaters=e=>Object.assign({},...Object.keys(e.repeaters.repeaters).filter(t=>!t.startsWith("blocks-")).map(t=>({[t]:e.repeaters.repeaters[t].map(n=>{var o;const r=buildBlock(n,e),a=r.content;return delete r.content,delete r.type,a.id=n.id,a.repeater_target_id=(o=n.repeater_target_id)!=null?o:null,Object.assign(r,a)})}))),gatherBlocks=e=>{const t={...e.blocks.blocks};return Object.keys(t).filter(n=>!n.startsWith("blocks-")).map(n=>t[n].map(r=>(r.name=n,buildBlock(r,e)))).flat()},getFormFields=e=>e.form.fields.filter(n=>!n.name.startsWith("blocks[")&&!n.name.startsWith("mediaMeta[")).reduce((n,r)=>(n[r.name]=r.value,n),{}),getModalFormFields=e=>e.form.modalFields.filter(n=>!n.name.startsWith("blocks[")&&!n.name.startsWith("mediaMeta[")).reduce((n,r)=>(n[r.name]=r.value,n),{}),getFormData=e=>{const t=getFormFields(e);return Object.assign(t,{cmsSaveType:e.form.type,published:e.publication.published,public:e.publication.visibility==="public",publish_start_date:e.publication.startDate,publish_end_date:e.publication.endDate,languages:e.language.all,parent_id:e.parents.active,medias:gatherSelected(e.mediaLibrary.selected),browsers:gatherSelected(e.browser.selected),blocks:gatherBlocks(e),repeaters:gatherRepeaters(e)})},getFieldIndex=(e,t)=>e.findIndex(n=>n.name===t.name),state={loading:!1,type:"save",baseUrl:window[{}.VUE_APP_NAME].STORE.form.baseUrl||"",fields:window[{}.VUE_APP_NAME].STORE.form.fields||[],modalFields:[],saveUrl:window[{}.VUE_APP_NAME].STORE.form.saveUrl||"",previewUrl:window[{}.VUE_APP_NAME].STORE.form.previewUrl||"",restoreUrl:window[{}.VUE_APP_NAME].STORE.form.restoreUrl||"",blockPreviewUrl:window[{}.VUE_APP_NAME].STORE.form.blockPreviewUrl||"",errors:{},isCustom:window[{}.VUE_APP_NAME].STORE.form.isCustom||!1,reloadOnSuccess:window[{}.VUE_APP_NAME].STORE.form.reloadOnSuccess||!1,isSubmitPrevented:!1},getters={fieldsByName(e){return t=>e.fields.filter(function(n){return n.name===t})},fieldValueByName:(e,t)=>n=>t.fieldsByName(n).length?t.fieldsByName(n)[0].value:"",modalFieldsByName(e){return t=>e.modalFields.filter(function(n){return n.name===t})},modalFieldValueByName:(e,t)=>n=>t.modalFieldsByName(n).length?t.modalFieldsByName(n)[0].value:"",fieldsByBlockId:e=>t=>e.fields.filter(n=>n.name.startsWith(`blocks[${t}]`))},mutations={[FORM.UPDATE_FORM_PERMALINK](e,t){t&&t!==""&&(e.permalink=t)},[FORM.PREVENT_SUBMIT](e){e.isSubmitPrevented=!0},[FORM.ALLOW_SUBMIT](e){e.isSubmitPrevented=!1},[FORM.EMPTY_FORM_FIELDS](e,t){e.fields=[]},[FORM.ADD_FORM_FIELDS](e,t){e.fields=[...e.fields,...t]},[FORM.REPLACE_FORM_FIELDS](e,t){e.fields=t},[FORM.UPDATE_FORM_FIELD](e,t){let n=t.locale?{}:null;const r=getFieldIndex(e.fields,t);r!==-1&&(t.locale&&(n=e.fields[r].value||{}),e.fields.splice(r,1)),t.locale?n[t.locale]=t.value:n=t.value,e.fields.push({name:t.name,value:n})},[FORM.REMOVE_FORM_FIELD](e,t){e.fields.forEach(function(n,r){n.name===t&&e.fields.splice(r,1)})},[FORM.DUPLICATE_BLOCK_FORM_FIELDS](e,{fields:t,oldId:n,newId:r}){const a=[];t.forEach(o=>{a.push({name:o.name.replace(n,r),value:cloneDeep_1(o.value)})}),e.fields=[...e.fields,...a]},[FORM.EMPTY_MODAL_FIELDS](e,t){e.modalFields=[]},[FORM.REPLACE_MODAL_FIELDS](e,t){e.modalFields=t},[FORM.UPDATE_MODAL_FIELD](e,t){let n=t.locale?{}:null;const r=getFieldIndex(e.modalFields,t);r!==-1&&(t.locale&&(n=e.modalFields[r].value),e.modalFields.splice(r,1)),t.locale?n[t.locale]=t.value:n=t.value,e.modalFields.push({name:t.name,value:n})},[FORM.REMOVE_MODAL_FIELD](e,t){e.modalFields.forEach(function(n,r){n.name===t&&e.modalFields.splice(r,1)})},[FORM.UPDATE_FORM_LOADING](e,t){e.loading=t||!e.loading},[FORM.SET_FORM_ERRORS](e,t){e.errors=t},[FORM.CLEAR_FORM_ERRORS](e){e.errors=[]},[FORM.UPDATE_FORM_SAVE_TYPE](e,t){e.type=t}},actions={[ACTIONS.HANDLE_ERRORS]({commit:e,state:t,getters:n,rootState:r},a){const o=r.repeaters.repeaters;Object.keys(a).forEach(s=>{const l=s.split(".");if(l.length>=4){const c=l[0],u=l[1],f=l[2],m=l[3];if(c==="repeaters"){const d=`blocks[${o[u][f].id}][${m}]`;a[d]=a[s]}}}),e(FORM.SET_FORM_ERRORS,a)},[ACTIONS.REPLACE_FORM]({commit:e,state:t,getters:n,rootState:r,dispatch:a},o){return new Promise((s,l)=>{e(FORM.CLEAR_FORM_ERRORS),e(NOTIFICATION.CLEAR_NOTIF,"error"),api.get(o,function(c){e(FORM.UPDATE_FORM_LOADING,!1);const u=c.data;u.hasOwnProperty("languages")&&(e(LANGUAGE.REPLACE_LANGUAGES,u.languages),delete u.languages),u.hasOwnProperty("revisions")&&(e(REVISION.UPDATE_REV_ALL,u.revisions),delete u.revisions),e(FORM.REPLACE_FORM_FIELDS,u.fields),s()},function(c){e(FORM.UPDATE_FORM_LOADING,!1),a(ACTIONS.HANDLE_ERRORS,c.response.data),l(c)})})},[ACTIONS.UPDATE_FORM_IN_LISTING]({commit:e,state:t,getters:n,rootState:r},a){return new Promise((o,s)=>{e(FORM.CLEAR_FORM_ERRORS),e(NOTIFICATION.CLEAR_NOTIF,"error");const l=Object.assign(getFormFields(r),{languages:r.language.all});api[a.method](a.endpoint,l,function(c){e(FORM.UPDATE_FORM_LOADING,!1),c.data.hasOwnProperty("redirect")&&a.redirect&&window.location.replace(c.data.redirect),e(NOTIFICATION.SET_NOTIF,{message:c.data.message,variant:c.data.variant}),o()},function(c){e(FORM.UPDATE_FORM_LOADING,!1),e(FORM.SET_FORM_ERRORS,c.response.data),e(NOTIFICATION.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),s(c)})})},[ACTIONS.CREATE_FORM_IN_MODAL]({commit:e,state:t,getters:n,rootState:r},a){return new Promise((o,s)=>{e(FORM.CLEAR_FORM_ERRORS),e(NOTIFICATION.CLEAR_NOTIF,"error");const l=Object.assign(getModalFormFields(r),{languages:r.language.all});api[a.method](a.endpoint,l,function(c){e(FORM.UPDATE_FORM_LOADING,!1),e(ATTRIBUTES.UPDATE_OPTIONS,{name:a.name,options:c.data}),o()},function(c){e(FORM.UPDATE_FORM_LOADING,!1),e(FORM.SET_FORM_ERRORS,c.response.data),e(NOTIFICATION.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),s(c)})})},[ACTIONS.SAVE_FORM]({commit:e,state:t,getters:n,rootState:r,dispatch:a},o){e(FORM.CLEAR_FORM_ERRORS),e(NOTIFICATION.CLEAR_NOTIF,"error"),e(FORM.UPDATE_FORM_SAVE_TYPE,o);const s=getFormData(r),l=r.publication.createWithoutModal?"post":"put";api[l](t.saveUrl,s,function(c){e(FORM.UPDATE_FORM_LOADING,!1),c.data.hasOwnProperty("redirect")&&window.location.replace(c.data.redirect),t.reloadOnSuccess&&window.location.reload(),e(NOTIFICATION.SET_NOTIF,{message:c.data.message,variant:c.data.variant}),e(PUBLICATION.UPDATE_PUBLISH_SUBMIT),c.data.hasOwnProperty("revisions")&&e(REVISION.UPDATE_REV_ALL,c.data.revisions)},function(c){e(FORM.UPDATE_FORM_LOADING,!1),c.response.data.hasOwnProperty("exception")?e(NOTIFICATION.SET_NOTIF,{message:"Your submission could not be processed.",variant:"error"}):(a(ACTIONS.HANDLE_ERRORS,c.response.data),e(NOTIFICATION.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}))})},async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:t},{block:n,id:r}){const a=t.fieldsByBlockId(n.id);e(FORM.DUPLICATE_BLOCK_FORM_FIELDS,{fields:a,oldId:n.id,newId:r})}};var form={state,getters,mutations,actions};export{a17Modal as $,A17Dropdown as A,DESTROY_SPECIFIC_MEDIA as B,REORDER_MEDIAS as C,DraggableMixin as D,SAVE_ITEMS as E,FORM as F,DESTROY_ITEMS as G,DESTROY_ITEM as H,REORDER_ITEMS as I,UPDATE_FORM_PERMALINK as J,UPDATE_MODAL_FIELD as K,LANGUAGE as L,cloneDeep_1 as M,NOTIFICATION as N,debounce_1 as O,scrollToY as P,InputframeMixin as Q,REMOVE_FORM_FIELD as R,SWITCH_LANG as S,LocaleMixin as T,UPDATE_FORM_FIELD as U,VSelect as V,PUBLICATION as W,getTimeFormatForCurrentLocale as X,isCurrentLocale24HrFormatted as Y,A17Textfield as Z,a17ItemList as _,a17Filter as a,FormDataAsObj as a0,InputMixin as a1,FormStoreMixin as a2,isEqual_1 as a3,loadScript as a4,_baseClone as a5,htmlClasses as a6,REVISION as a7,a17Spinner as a8,tinyColor as a9,buildBlock as aa,isBlockEmpty as ab,getFormData as ac,commonjsGlobal as ad,a17Langswitcher as ae,BROWSER as af,ATTRIBUTES as ag,mapGetters as b,ACTIONS as c,draggable as d,axios as e,Vue$1 as f,globalError as g,A17Config as h,A17Notif as i,form as j,A17Init as k,filters as l,mapState as m,normalizeComponent as n,openMediaLibrary as o,compare_asc as p,A17Avatar as q,ADD_FORM_BLOCK as r,store$1 as s,DELETE_FORM_BLOCK as t,DUPLICATE_FORM_BLOCK as u,REORDER_FORM_BLOCKS as v,SET_MEDIA_CROP as w,SET_MEDIA_METADATAS as x,SAVE_MEDIAS as y,DESTROY_MEDIAS as z};
